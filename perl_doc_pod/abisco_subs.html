<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Pod::HtmlEasy/0.07 Perl/5.016003 [MSWin32]">
<title>out.pod</title>
<style type="text/css">
<!--

BODY {
  background: white;
  color: black;
  font-family: arial,sans-serif;
  margin: 0;
  padding: 1ex;
}
TABLE {
  border-collapse: collapse;
  border-spacing: 0;
  border-width: 0;
  color: inherit;
}
IMG { border: 0; }
FORM { margin: 0; }
input { margin: 2px; }
A.fred {
  text-decoration: none;
}
A:link, A:visited {
  background: transparent;
  color: #006699;
}
TD {
  margin: 0;
  padding: 0;
}
DIV {
  border-width: 0;
}
DT {
  margin-top: 1em;
}
TH {
  background: #bbbbbb;
  color: inherit;
  padding: 0.4ex 1ex;
  text-align: left;
}
TH A:link, TH A:visited {
  background: transparent;
  color: black;
}
A.m:link, A.m:visited {
  background: #006699;
  color: white;
  font: bold 10pt Arial,Helvetica,sans-serif;
  text-decoration: none;
}
A.o:link, A.o:visited {
  background: #006699;
  color: #ccffcc;
  font: bold 10pt Arial,Helvetica,sans-serif;
  text-decoration: none;
}
A.o:hover {
  background: transparent;
  color: #ff6600;
  text-decoration: underline;
}
A.m:hover {
  background: transparent;
  color: #ff6600;
  text-decoration: underline;
}
table.dlsip     {
  background: #dddddd;
  border: 0.4ex solid #dddddd;
}
.pod PRE     {
  background: #eeeeee;
  border: 1px solid #888888;
  color: black;
  padding-top: 1em;
  white-space: pre;
}
.pod H1      {
  background: transparent;
  color: #006699;
  font-size: large;
}
.pod H2      {
  background: transparent;
  color: #006699;
  font-size: medium;
}
.pod IMG     {
  vertical-align: top;
}
.pod .toc A  {
  text-decoration: none;
}
.pod .toc LI {
  line-height: 1.2em;
  list-style-type: none;
}

--></style>
</head>
<body alink="#FF0000" bgcolor="#FFFFFF" link="#000000" text="#000000" vlink="#000066"><a name='_top'></a>

<div class="toc">
<ul>
<li><a href='#NAME'>NAME Abisco_Connection</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#new'>new</a>
<li><a href='#Assert'>Assert</a>
<li><a href='#Assert_Exactly'>Assert_Exactly</a>
<li><a href='#Assert_Keys'>Assert_Keys</a>
<li><a href='#Assert_True'>Assert_True</a>
<li><a href='#Await'>Await</a>
<li><a href='#Cleanup'>Cleanup</a>
<li><a href='#Configure'>Configure</a>
<li><a href='#Do'>Do</a>
<li><a href='#Drop'>Drop</a>
<li><a href='#Get'>Get</a>
<li><a href='#GetActiveTG'>GetActiveTG</a>
<li><a href='#GetSocket'>GetSocket</a>
<li><a href='#GetSoftTGConfig'>GetSoftTGConfig</a>
<li><a href='#GetTSConfig'>GetTSConfig</a>
<li><a href='#Get_Me'>Get_Me</a>
<li><a href='#Get_One'>Get_One</a>
<li><a href='#Get_Tag_Block'>Get_Tag_Block</a>
<li><a href='#Interrupt_FD'>Interrupt_FD</a>
<li><a href='#Is_Log_Message'>Is_Log_Message</a>
<li><a href='#Manual'>Manual</a>
<li><a href='#Merge'>Merge</a>
<li><a href='#PendingMsg'>PendingMsg</a>
<li><a href='#Put'>Put</a>
<li><a href='#Put_Tag_Block'>Put_Tag_Block</a>
<li><a href='#ResetTG'>ResetTG</a>
<li><a href='#Sleep'>Sleep</a>
<li><a href='#StoreTG'>StoreTG</a>
<li><a href='#Trig'>Trig</a>
<li><a href='#Trig_Maybe'>Trig_Maybe</a>
<li><a href='#UnTrig'>UnTrig</a>
</ul><li><a href='#NAME'>NAME Abisco_Statistics</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#IMPLEMENTS'>IMPLEMENTS</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#EstablishmentCause'>EstablishmentCause</a>
<li><a href='#GetChannelStatistics---'>GetChannelStatistics(%)</a>
<li><a href='#GetTrafficStatistics---'>GetTrafficStatistics(%)</a>
<li><a href='#MeasurementResults'>MeasurementResults</a>
<li><a href='#MeasurementResultsMs'>MeasurementResultsMs</a>
<li><a href='#MessagesAndTimeouts'>MessagesAndTimeouts</a>
<li><a href='#ResponseTimes'>ResponseTimes</a>
<li><a href='#ReturnCodes'>ReturnCodes</a>
<li><a href='#TimeMeasurements'>TimeMeasurements</a>
<li><a href='#UnpackChannelStatistics'>UnpackChannelStatistics</a>
<li><a href='#UnpackTrafficStatistics'>UnpackTrafficStatistics</a>
<li><a href='#initEstCause'>initEstCause</a>
<li><a href='#initMsgAndTimeouts'>initMsgAndTimeouts</a>
<li><a href='#initReturnCodes'>initReturnCodes</a>
<li><a href='#initTimeMeas'>initTimeMeas</a>
</ul><li><a href='#NAME'>NAME AbiscoFunc1</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#GetTGData'>GetTGData</a>
</ul><li><a href='#NAME'>NAME AbiscoFunc2.pm</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#GetPARList'>GetPARList</a>
<li><a href='#GetSeveral'>GetSeveral</a>
<li><a href='#GreaterOrEqual'>GreaterOrEqual</a>
</ul><li><a href='#NAME'>NAME AbiscoFunc3</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#CheckDoubleSignals'>CheckDoubleSignals</a>
<li><a href='#GreaterOrEqual'>GreaterOrEqual</a>
<li><a href='#MGetSeveral'>MGetSeveral</a>
<li><a href='#PrepareArguments'>PrepareArguments</a>
<li><a href='#Receive'>Receive</a>
<li><a href='#TempStoreSignal'>TempStoreSignal</a>
<li><a href='#UpdateStatistics'>UpdateStatistics</a>
</ul><li><a href='#NAME'>NAME BTSCapabilities</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#AnalyzeAlarmInfo'>AnalyzeAlarmInfo</a>
<li><a href='#AnalyzeFNOffsetARFCNInfo'>AnalyzeFNOffsetARFCNInfo</a>
<li><a href='#AnalyzeICPAttr1'>AnalyzeICPAttr1</a>
<li><a href='#AnalyzeICPGroupCapacity'>AnalyzeICPGroupCapacity</a>
<li><a href='#AnalyzeInfo'>AnalyzeInfo</a>
<li><a href='#AnalyzeOMLRSLFunctions'>AnalyzeOMLRSLFunctions</a>
<li><a href='#AnalyzeTCHCapabilitiesInfo'>AnalyzeTCHCapabilitiesInfo</a>
<li><a href='#AnalyzeTFMCTRRDivInfo'>AnalyzeTFMCTRRDivInfo</a>
<li><a href='#AnalyzeTXChainDelay'>AnalyzeTXChainDelay</a>
<li><a href='#AnalyzeTxRxSupport'>AnalyzeTxRxSupport</a>
<li><a href='#CheckCapabilityAttributes'>CheckCapabilityAttributes</a>
<li><a href='#DecodeAttribute'>DecodeAttribute</a>
<li><a href='#DecodeMCTRRecord'>DecodeMCTRRecord</a>
<li><a href='#FetchAttribute'>FetchAttribute</a>
<li><a href='#GetAndSaveCapabilities'>GetAndSaveCapabilities</a>
<li><a href='#GetCapabilities'>GetCapabilities</a>
<li><a href='#GetDateTimeForFileName'>GetDateTimeForFileName</a>
<li><a href='#GetMCTRRecords'>GetMCTRRecords</a>
<li><a href='#MakeBin'>MakeBin</a>
<li><a href='#SaveCapabilitiesInFile'>SaveCapabilitiesInFile</a>
</ul><li><a href='#NAME'>NAME BTSFunc</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#AllocateICPifTDMmode'>AllocateICPifTDMmode</a>
<li><a href='#BTSCompleteStart'>BTSCompleteStart</a>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChRelBTS'>ChRelBTS</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#CheckChCombType'>CheckChCombType</a>
<li><a href='#CheckIfMeasReportInMeasResult'>CheckIfMeasReportInMeasResult</a>
<li><a href='#CheckIfMeasResultMessages'>CheckIfMeasResultMessages</a>
<li><a href='#CheckIfMeasResultOnABIS'>CheckIfMeasResultOnABIS</a>
<li><a href='#CheckLinkStatus'>CheckLinkStatus</a>
<li><a href='#Check_2308'>Check_2308</a>
<li><a href='#CompleteStart'>CompleteStart</a>
<li><a href='#ConfigureFAS'>ConfigureFAS</a>
<li><a href='#ConnectToMSSIM'>ConnectToMSSIM</a>
<li><a href='#CreateParamHash'>CreateParamHash</a>
<li><a href='#DeallocateICPifTDMmode'>DeallocateICPifTDMmode</a>
<li><a href='#GetAbisModeAndConfig'>GetAbisModeAndConfig</a>
<li><a href='#LoadBTS_SW'>LoadBTS_SW</a>
<li><a href='#LoadOneBTSFile'>LoadOneBTSFile</a>
<li><a href='#LoadTG'>LoadTG</a>
<li><a href='#MeasurementReports'>MeasurementReports</a>
<li><a href='#ModifyTG'>ModifyTG</a>
<li><a href='#SendStatusRequest'>SendStatusRequest</a>
<li><a href='#SetCFSharing'>SetCFSharing</a>
<li><a href='#SetTF_FSOffset'>SetTF_FSOffset</a>
<li><a href='#TRXReportingControl'>TRXReportingControl</a>
<li><a href='#TSReconfigure'>TSReconfigure</a>
<li><a href='#UpdateCell'>UpdateCell</a>
<li><a href='#UpdateCellCombType'>UpdateCellCombType</a>
</ul><li><a href='#NAME'>NAME BTSUtilities</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#new'>new</a>
<li><a href='#ChannelAct'>ChannelAct</a>
<li><a href='#ChannelRelease'>ChannelRelease</a>
<li><a href='#ChannelReleaseAll'>ChannelReleaseAll</a>
<li><a href='#CheckChCombType'>CheckChCombType</a>
<li><a href='#CompleteStart'>CompleteStart</a>
<li><a href='#UpdateCell'>UpdateCell</a>
<li><a href='#UpdateCellCombType'>UpdateCellCombType</a>
</ul><li><a href='#NAME'>NAME Complex</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ARFCN_Freq'>ARFCN_Freq</a>
<li><a href='#ARFCN_List'>ARFCN_List</a>
<li><a href='#ARFCN_Octets'>ARFCN_Octets</a>
<li><a href='#BCCHChComb'>BCCHChComb</a>
<li><a href='#CALC_IS_CON'>CALC_IS_CON</a>
<li><a href='#CON_CG'>CON_CG</a>
<li><a href='#Calc_TB'>Calc_TB</a>
<li><a href='#Check_SI_TB'>Check_SI_TB</a>
<li><a href='#CombChoice_Default'>CombChoice_Default</a>
<li><a href='#Config_Sequence'>Config_Sequence</a>
<li><a href='#Config_Sequence200'>Config_Sequence200</a>
<li><a href='#ConnectResetStart'>ConnectResetStart</a>
<li><a href='#ConnectResetStartConfigEnable'>ConnectResetStartConfigEnable</a>
<li><a href='#Delete_Non_DL'>Delete_Non_DL</a>
<li><a href='#Delete_S_False'>Delete_S_False</a>
<li><a href='#DisableConfigEnable'>DisableConfigEnable</a>
<li><a href='#DisableConfigEnable200'>DisableConfigEnable200</a>
<li><a href='#Extract'>Extract</a>
<li><a href='#Get_And_Count'>Get_And_Count</a>
<li><a href='#Get_Cell'>Get_Cell</a>
<li><a href='#Get_Cyclic'>Get_Cyclic</a>
<li><a href='#Get_Not'>Get_Not</a>
<li><a href='#Get_TG_List'>Get_TG_List</a>
<li><a href='#Get_TRXC_List'>Get_TRXC_List</a>
<li><a href='#Get_TRXC_List_From_IS'>Get_TRXC_List_From_IS</a>
<li><a href='#Get_TRX_ARFCN'>Get_TRX_ARFCN</a>
<li><a href='#Get_TRX_ARFCNs'>Get_TRX_ARFCNs</a>
<li><a href='#Get_TRX_ARFCNs200'>Get_TRX_ARFCNs200</a>
<li><a href='#Get_TRX_Freq'>Get_TRX_Freq</a>
<li><a href='#Greater_Or_Equal'>Greater_Or_Equal</a>
<li><a href='#ICP_To_TEI'>ICP_To_TEI</a>
<li><a href='#IS_CG'>IS_CG</a>
<li><a href='#IS_Connection_Group'>IS_Connection_Group</a>
<li><a href='#Index'>Index</a>
<li><a href='#OM2000_Defaults'>OM2000_Defaults</a>
<li><a href='#Optional'>Optional</a>
<li><a href='#PCM_IS_CON'>PCM_IS_CON</a>
<li><a href='#ResetStartConfigEnable'>ResetStartConfigEnable</a>
<li><a href='#ResetStartConfigEnable200'>ResetStartConfigEnable200</a>
<li><a href='#RestoreConfig'>RestoreConfig</a>
<li><a href='#SaveConfig'>SaveConfig</a>
<li><a href='#Set_Default'>Set_Default</a>
<li><a href='#Signalling_Channel'>Signalling_Channel</a>
<li><a href='#Split_List'>Split_List</a>
</ul><li><a href='#NAME'>NAME csdatafunc</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ActivateCSData'>ActivateCSData</a>
<li><a href='#ActivateChannel'>ActivateChannel</a>
<li><a href='#AllocateICP'>AllocateICP</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#CreateStatistics'>CreateStatistics</a>
<li><a href='#DeactivateCSData'>DeactivateCSData</a>
<li><a href='#DeallocateICP'>DeallocateICP</a>
<li><a href='#DefinePattern'>DefinePattern</a>
<li><a href='#Encr'>Encr</a>
<li><a href='#GetCellInfo'>GetCellInfo</a>
<li><a href='#GetStatistics'>GetStatistics</a>
<li><a href='#ReadAbiscoConfig'>ReadAbiscoConfig</a>
<li><a href='#ReleaseChannel'>ReleaseChannel</a>
<li><a href='#SLEEP'>SLEEP</a>
<li><a href='#SendCSData'>SendCSData</a>
<li><a href='#StartLoopMSSIM'>StartLoopMSSIM</a>
<li><a href='#StartPRBS'>StartPRBS</a>
<li><a href='#StopLoopMSSIM'>StopLoopMSSIM</a>
<li><a href='#StopPRBS'>StopPRBS</a>
<li><a href='#UnpackCnt'>UnpackCnt</a>
<li><a href='#numerically'>numerically</a>
</ul><li><a href='#NAME'>NAME dbLog</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#IMPLEMENTS'>IMPLEMENTS</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#Assert'>Assert</a>
<li><a href='#DbCheckTable'>DbCheckTable</a>
<li><a href='#DbReport'>DbReport</a>
<li><a href='#DefaultFilename'>DefaultFilename</a>
<li><a href='#EmptyLogBuffer'>EmptyLogBuffer</a>
<li><a href='#GetDateTime'>GetDateTime</a>
<li><a href='#GetResult'>GetResult</a>
<li><a href='#HandleError'>HandleError</a>
<li><a href='#HandleLogg'>HandleLogg</a>
<li><a href='#SetLogContextAsAction'>SetLogContextAsAction</a>
<li><a href='#SetLogContextAsCleanup'>SetLogContextAsCleanup</a>
<li><a href='#SetLogContextAsPrecondition'>SetLogContextAsPrecondition</a>
<li><a href='#StoreResultToDb'>StoreResultToDb</a>
<li><a href='#UpdateLogSection'>UpdateLogSection</a>
<li><a href='#WriteFileToDB'>WriteFileToDB</a>
<li><a href='#WriteLogDB'>WriteLogDB</a>
</ul><li><a href='#NAME'>NAME DVT_Support</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#Abbreviate'>Abbreviate</a>
<li><a href='#Alt_Path'>Alt_Path</a>
<li><a href='#Check'>Check</a>
<li><a href='#DVT_Command'>DVT_Command</a>
<li><a href='#DVT_Log_Read'>DVT_Log_Read</a>
<li><a href='#DVT_MRU_Type'>DVT_MRU_Type</a>
<li><a href='#First_Path'>First_Path</a>
<li><a href='#Init'>Init</a>
<li><a href='#LongMRU_2_Path'>LongMRU_2_Path</a>
<li><a href='#Old_MRU'>Old_MRU</a>
<li><a href='#Path_2_LongMRU'>Path_2_LongMRU</a>
<li><a href='#Send_Command'>Send_Command</a>
<li><a href='#Update_Type'>Update_Type</a>
</ul><li><a href='#NAME'>NAME DVTFunc</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#CheckAMD'>CheckAMD</a>
<li><a href='#CheckDXUPlatform'>CheckDXUPlatform</a>
<li><a href='#CheckImprovedSWLog'>CheckImprovedSWLog</a>
<li><a href='#ClearDVTLog'>ClearDVTLog</a>
<li><a href='#DVTClearAndDestWindow'>DVTClearAndDestWindow</a>
<li><a href='#DVTCloseSocket'>DVTCloseSocket</a>
<li><a href='#DVTCommand'>DVTCommand</a>
<li><a href='#DVTEstablishSocket'>DVTEstablishSocket</a>
<li><a href='#DVTInfoTool'>DVTInfoTool</a>
<li><a href='#DVTReadFromSocket'>DVTReadFromSocket</a>
<li><a href='#DVTReadFromSocketCallback'>DVTReadFromSocketCallback</a>
<li><a href='#DVTRestart'>DVTRestart</a>
<li><a href='#DVTSendToSocket'>DVTSendToSocket</a>
<li><a href='#DVTSocketRequest'>DVTSocketRequest</a>
<li><a href='#GetBTS_SWRev'>GetBTS_SWRev</a>
<li><a href='#GetIdleLoad'>GetIdleLoad</a>
<li><a href='#GetRPALoad'>GetRPALoad</a>
<li><a href='#HandleDVTPrompt'>HandleDVTPrompt</a>
<li><a href='#HandleDVTResponse'>HandleDVTResponse</a>
<li><a href='#LogRead'>LogRead</a>
<li><a href='#Measure'>Measure</a>
<li><a href='#ProfilerLogRead'>ProfilerLogRead</a>
<li><a href='#ReadDVTLog'>ReadDVTLog</a>
<li><a href='#ReadDVTProfilerLog'>ReadDVTProfilerLog</a>
<li><a href='#RecursiveClearDVTLogForeachDevice'>RecursiveClearDVTLogForeachDevice</a>
<li><a href='#RecursiveDVTClearAndDestWindowForeachDevice'>RecursiveDVTClearAndDestWindowForeachDevice</a>
<li><a href='#RecursiveDVTSocketRequests'>RecursiveDVTSocketRequests</a>
<li><a href='#RecursiveGetBTS_SWRevForeachDevice'>RecursiveGetBTS_SWRevForeachDevice</a>
<li><a href='#RecursiveGetBTS_SWRevForeachLocation'>RecursiveGetBTS_SWRevForeachLocation</a>
<li><a href='#RecursiveMeasureForeachLog'>RecursiveMeasureForeachLog</a>
<li><a href='#RecursiveMeasureForeachMonitor'>RecursiveMeasureForeachMonitor</a>
<li><a href='#RecursiveRPAOneForeachMonitor'>RecursiveRPAOneForeachMonitor</a>
<li><a href='#RecursiveReadDVTLogForeachDevice'>RecursiveReadDVTLogForeachDevice</a>
<li><a href='#RecursiveReadProfilerLogForeachDevice'>RecursiveReadProfilerLogForeachDevice</a>
<li><a href='#SalvageTTRAndDVT'>SalvageTTRAndDVT</a>
</ul><li><a href='#NAME'>NAME Globals</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>
<li><a href='#NAME'>NAME glt</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#AcceptListener'>AcceptListener</a>
<li><a href='#ConnectTalker'>ConnectTalker</a>
<li><a href='#ConvertArfcn'>ConvertArfcn</a>
<li><a href='#CreateXMLAlign'>CreateXMLAlign</a>
<li><a href='#CreateXMLBoot'>CreateXMLBoot</a>
<li><a href='#CreateXMLHeader'>CreateXMLHeader</a>
<li><a href='#CreateXMLPrepareOrArm'>CreateXMLPrepareOrArm</a>
<li><a href='#CreateXMLSetAlignment'>CreateXMLSetAlignment</a>
<li><a href='#CreateXMLStop'>CreateXMLStop</a>
<li><a href='#CreateXMLTrailer'>CreateXMLTrailer</a>
<li><a href='#InitIP'>InitIP</a>
<li><a href='#OpenListener'>OpenListener</a>
<li><a href='#OpenTalker'>OpenTalker</a>
<li><a href='#PrepareResponse'>PrepareResponse</a>
<li><a href='#ReceiveFromSocket'>ReceiveFromSocket</a>
<li><a href='#SaveAlign'>SaveAlign</a>
<li><a href='#SavePrepareOrArm'>SavePrepareOrArm</a>
<li><a href='#SendToSocket'>SendToSocket</a>
<li><a href='#gltGet'>gltGet</a>
<li><a href='#gltLogDL'>gltLogDL</a>
<li><a href='#gltLogUL'>gltLogUL</a>
<li><a href='#gltPut'>gltPut</a>
<li><a href='#numerically'>numerically</a>
<li><a href='#saveXMLFile'>saveXMLFile</a>
</ul><li><a href='#NAME'>NAME HelpFunc</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#AbisLogging'>AbisLogging</a>
<li><a href='#AbiscoRequest'>AbiscoRequest</a>
<li><a href='#CloseLogFile'>CloseLogFile</a>
<li><a href='#ConvertLoadLevel'>ConvertLoadLevel</a>
<li><a href='#ConvertToFrequency'>ConvertToFrequency</a>
<li><a href='#ConvertTrueFalse'>ConvertTrueFalse</a>
<li><a href='#CopyDVTLogFiles'>CopyDVTLogFiles</a>
<li><a href='#CreateProjectPath'>CreateProjectPath</a>
<li><a href='#DeleteAbiscoConfig'>DeleteAbiscoConfig</a>
<li><a href='#GenerateFrequencyList'>GenerateFrequencyList</a>
<li><a href='#GetCurrentTime'>GetCurrentTime</a>
<li><a href='#GetLoadApplication'>GetLoadApplication</a>
<li><a href='#GetProjectName'>GetProjectName</a>
<li><a href='#LoadAbiscoConfig'>LoadAbiscoConfig</a>
<li><a href='#LogString'>LogString</a>
<li><a href='#Member_Of_Array'>Member_Of_Array</a>
<li><a href='#OpenLogFile'>OpenLogFile</a>
<li><a href='#PadString'>PadString</a>
<li><a href='#ParseRejectMsg'>ParseRejectMsg</a>
<li><a href='#PrepareFaultMap'>PrepareFaultMap</a>
<li><a href='#PrintFaultMap'>PrintFaultMap</a>
<li><a href='#ReadLoadDelaySetting'>ReadLoadDelaySetting</a>
<li><a href='#SaveRejectIntoArray'>SaveRejectIntoArray</a>
<li><a href='#ScanFaultReports'>ScanFaultReports</a>
<li><a href='#ScanFaultReportsAllFiles'>ScanFaultReportsAllFiles</a>
<li><a href='#ScanForRejectMessages'>ScanForRejectMessages</a>
<li><a href='#ScanPeriodicReports'>ScanPeriodicReports</a>
<li><a href='#ScanSystemLoad'>ScanSystemLoad</a>
<li><a href='#StartABISLog'>StartABISLog</a>
<li><a href='#StartAbiscoLog'>StartAbiscoLog</a>
<li><a href='#StopABISLog'>StopABISLog</a>
<li><a href='#TrafficMode'>TrafficMode</a>
<li><a href='#TraverseFile'>TraverseFile</a>
<li><a href='#WriteLog'>WriteLog</a>
<li><a href='#WriteTCResultInLogFile'>WriteTCResultInLogFile</a>
</ul><li><a href='#NAME'>NAME InstrFunc</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#CRTCCfgConfigureCH'>CRTCCfgConfigureCH</a>
<li><a href='#CRTCCfgConfigureCH1'>CRTCCfgConfigureCH1</a>
<li><a href='#CRTCCfgConfigureCH2'>CRTCCfgConfigureCH2</a>
<li><a href='#CRTCCommand'>CRTCCommand</a>
<li><a href='#CRTCConfigurationStart'>CRTCConfigurationStart</a>
<li><a href='#CRTCCreateLogFile'>CRTCCreateLogFile</a>
<li><a href='#CRTCDefineSite'>CRTCDefineSite</a>
<li><a href='#CRTCInitRootAirlog'>CRTCInitRootAirlog</a>
<li><a href='#CRTCLoopStart'>CRTCLoopStart</a>
<li><a href='#CRTCReadyForInit'>CRTCReadyForInit</a>
<li><a href='#CRTCReadyForTP'>CRTCReadyForTP</a>
<li><a href='#CRTCValidateSI5_6'>CRTCValidateSI5_6</a>
<li><a href='#DIAmuXCommand'>DIAmuXCommand</a>
<li><a href='#DIAmuXConTrafResource'>DIAmuXConTrafResource</a>
<li><a href='#DIAmuXDiscTrafResource'>DIAmuXDiscTrafResource</a>
<li><a href='#DIAmuXTRAChangeBoard'>DIAmuXTRAChangeBoard</a>
<li><a href='#DVTAttach'>DVTAttach</a>
<li><a href='#DeltaSetAmplitude'>DeltaSetAmplitude</a>
<li><a href='#RUTAttach'>RUTAttach</a>
<li><a href='#RUTConfig'>RUTConfig</a>
<li><a href='#RUTFreeRunningAirData'>RUTFreeRunningAirData</a>
<li><a href='#RUTModulatorConfig'>RUTModulatorConfig</a>
<li><a href='#RUTRejectStatus'>RUTRejectStatus</a>
<li><a href='#RUTReset'>RUTReset</a>
<li><a href='#RUTSelectTRU'>RUTSelectTRU</a>
<li><a href='#RUTStart'>RUTStart</a>
<li><a href='#RUTStop'>RUTStop</a>
<li><a href='#RUTWaitForSync'>RUTWaitForSync</a>
<li><a href='#SGAttach'>SGAttach</a>
<li><a href='#SGRejectStatus'>SGRejectStatus</a>
<li><a href='#SGSetAmplitude'>SGSetAmplitude</a>
<li><a href='#SGSetChannel'>SGSetChannel</a>
<li><a href='#SGSetGSMDataPattern'>SGSetGSMDataPattern</a>
<li><a href='#SGSetOutput'>SGSetOutput</a>
<li><a href='#SPECGetNoiseLevel'>SPECGetNoiseLevel</a>
<li><a href='#SPECGetSignalLevel'>SPECGetSignalLevel</a>
<li><a href='#SPECSetWindow'>SPECSetWindow</a>
<li><a href='#TSTM_ActivateRACH'>TSTM_ActivateRACH</a>
<li><a href='#TSTM_DeactivateRACH'>TSTM_DeactivateRACH</a>
</ul><li><a href='#NAME'>NAME IS_ICP_ConvList</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ISStaticList'>ISStaticList</a>
<li><a href='#PCM_ICP1'>PCM_ICP1</a>
<li><a href='#TRU_ICP2'>TRU_ICP2</a>
</ul><li><a href='#NAME'>NAME LocalDB</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#new'>new</a>
<li><a href='#ClearSystemUnderTestIdArray'>ClearSystemUnderTestIdArray</a>
<li><a href='#ClearTestResourceIdArray'>ClearTestResourceIdArray</a>
<li><a href='#CommandResultShow'>CommandResultShow</a>
<li><a href='#GetDate'>GetDate</a>
<li><a href='#GetIdAutoIncrement'>GetIdAutoIncrement</a>
<li><a href='#GetTestResourceTypeList'>GetTestResourceTypeList</a>
<li><a href='#GetTime'>GetTime</a>
<li><a href='#InsertRowToTable'>InsertRowToTable</a>
<li><a href='#IsValueTextExist'>IsValueTextExist</a>
<li><a href='#LocalDBDisConnect'>LocalDBDisConnect</a>
<li><a href='#LogFileUpdate'>LogFileUpdate</a>
<li><a href='#LogOutputUpdate'>LogOutputUpdate</a>
<li><a href='#MakeAndConditionString'>MakeAndConditionString</a>
<li><a href='#MakeQuestionMarkString'>MakeQuestionMarkString</a>
<li><a href='#PACInfoUpdate'>PACInfoUpdate</a>
<li><a href='#PACResultUpdate'>PACResultUpdate</a>
<li><a href='#ReadDataFromFile'>ReadDataFromFile</a>
<li><a href='#SubTCHasSystemUnderTestUpdate'>SubTCHasSystemUnderTestUpdate</a>
<li><a href='#SubTCHasTestResourceUpdate'>SubTCHasTestResourceUpdate</a>
<li><a href='#SubTCResultShow'>SubTCResultShow</a>
<li><a href='#SubTCResultUpdate'>SubTCResultUpdate</a>
<li><a href='#SubTCResultUpdateLevel'>SubTCResultUpdateLevel</a>
<li><a href='#SubTCResultUpdateResult'>SubTCResultUpdateResult</a>
<li><a href='#SubTCResultUpdateStartTime'>SubTCResultUpdateStartTime</a>
<li><a href='#SubTCResultUpdateStopTime'>SubTCResultUpdateStopTime</a>
<li><a href='#SystemUnderTestUpdate'>SystemUnderTestUpdate</a>
<li><a href='#TestCaseUpdate'>TestCaseUpdate</a>
<li><a href='#TestProgramUpdate'>TestProgramUpdate</a>
<li><a href='#TestResourceUpdate'>TestResourceUpdate</a>
</ul><li><a href='#NAME'>NAME LogABIStss</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#new'>new</a>
<li><a href='#DESTROY'>DESTROY</a>
<li><a href='#TSSCloseWLog'>TSSCloseWLog</a>
<li><a href='#TSSOpenWLog'>TSSOpenWLog</a>
<li><a href='#TSSReadWLog'>TSSReadWLog</a>
<li><a href='#TSSStartWLog'>TSSStartWLog</a>
<li><a href='#TSSWaitWLog'>TSSWaitWLog</a>
<li><a href='#createMessageLogFromWLog'>createMessageLogFromWLog</a>
</ul><li><a href='#NAME'>NAME LogFunction</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#Assert'>Assert</a>
<li><a href='#BeginPACLogging'>BeginPACLogging</a>
<li><a href='#CloseStdoutLog'>CloseStdoutLog</a>
<li><a href='#DatabaseUpdateforLogging'>DatabaseUpdateforLogging</a>
<li><a href='#DatabaseUpdateforUpload'>DatabaseUpdateforUpload</a>
<li><a href='#EndPACLogging'>EndPACLogging</a>
<li><a href='#GetResult'>GetResult</a>
<li><a href='#GetSubTCStartInfo'>GetSubTCStartInfo</a>
<li><a href='#GetSubTCStopInfo'>GetSubTCStopInfo</a>
<li><a href='#GetSystemUnderTestInfo'>GetSystemUnderTestInfo</a>
<li><a href='#GetTestResourceInfo'>GetTestResourceInfo</a>
<li><a href='#Logging'>Logging</a>
<li><a href='#MoveFileToLogDir'>MoveFileToLogDir</a>
<li><a href='#MoveToDirLogStdoutLog'>MoveToDirLogStdoutLog</a>
<li><a href='#OpenStdoutLog'>OpenStdoutLog</a>
<li><a href='#PackDectoAscii'>PackDectoAscii</a>
<li><a href='#PrintCommandResult'>PrintCommandResult</a>
<li><a href='#PrintSubTCResult'>PrintSubTCResult</a>
<li><a href='#UnExpectedError'>UnExpectedError</a>
<li><a href='#WriteStdoutLog'>WriteStdoutLog</a>
</ul><li><a href='#NAME'>NAME lsuConfig</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ConnectLSU'>ConnectLSU</a>
<li><a href='#CreateMSSIMWiresharkCfg'>CreateMSSIMWiresharkCfg</a>
<li><a href='#CreateSCC'>CreateSCC</a>
<li><a href='#CreateWiresharkCfg'>CreateWiresharkCfg</a>
<li><a href='#GetLSUSettings'>GetLSUSettings</a>
<li><a href='#GetPCMTimeslot'>GetPCMTimeslot</a>
<li><a href='#GetSCCBase'>GetSCCBase</a>
<li><a href='#GetSCType'>GetSCType</a>
<li><a href='#GetVirtualSCC'>GetVirtualSCC</a>
<li><a href='#PrintToFile'>PrintToFile</a>
<li><a href='#ReadSwitchMatrix'>ReadSwitchMatrix</a>
<li><a href='#SCCExists'>SCCExists</a>
<li><a href='#SetLSUSettings'>SetLSUSettings</a>
<li><a href='#SetSwitchMatrix'>SetSwitchMatrix</a>
<li><a href='#SetTG'>SetTG</a>
<li><a href='#SetupLSU'>SetupLSU</a>
</ul><li><a href='#NAME'>NAME LTSFunc</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#IMPLEMENTS'>IMPLEMENTS</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ConfigureLTSLoad'>ConfigureLTSLoad</a>
<li><a href='#ConfigureLoad'>ConfigureLoad</a>
<li><a href='#ConfigureLoad2'>ConfigureLoad2</a>
<li><a href='#ConfigureSiteR11'>ConfigureSiteR11</a>
<li><a href='#ConfigureSiteR12'>ConfigureSiteR12</a>
<li><a href='#ConfigureSiteStaticLoad'>ConfigureSiteStaticLoad</a>
<li><a href='#ConfigureTS'>ConfigureTS</a>
<li><a href='#FMReportRequest'>FMReportRequest</a>
<li><a href='#GetLtsReport'>GetLtsReport</a>
<li><a href='#GetLtsReportStop'>GetLtsReportStop</a>
<li><a href='#GetNoofTCH'>GetNoofTCH</a>
<li><a href='#LTSReportCalculations'>LTSReportCalculations</a>
<li><a href='#RecursiveConfigureLoad'>RecursiveConfigureLoad</a>
<li><a href='#ResetLTSCounters'>ResetLTSCounters</a>
</ul><li><a href='#NAME'>NAME LTSSetup</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#IMPLEMENTS'>IMPLEMENTS</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ARFCNsListSet'>ARFCNsListSet</a>
<li><a href='#Build_TRXC_And_TS_Hashes'>Build_TRXC_And_TS_Hashes</a>
<li><a href='#CheckConfigLoad'>CheckConfigLoad</a>
<li><a href='#CheckConfigLoads'>CheckConfigLoads</a>
<li><a href='#CheckFix_Param'>CheckFix_Param</a>
<li><a href='#CheckPCM_Param'>CheckPCM_Param</a>
<li><a href='#CheckSaved_Param'>CheckSaved_Param</a>
<li><a href='#CheckTFMode'>CheckTFMode</a>
<li><a href='#CheckTG'>CheckTG</a>
<li><a href='#Check_Array'>Check_Array</a>
<li><a href='#Check_BSPower'>Check_BSPower</a>
<li><a href='#Check_Dedication'>Check_Dedication</a>
<li><a href='#Check_FLAB'>Check_FLAB</a>
<li><a href='#Check_HoppingARFCN'>Check_HoppingARFCN</a>
<li><a href='#Check_IRC'>Check_IRC</a>
<li><a href='#Check_Neighbour'>Check_Neighbour</a>
<li><a href='#Check_SDCCHConfig'>Check_SDCCHConfig</a>
<li><a href='#CloseLog'>CloseLog</a>
<li><a href='#ConfigureFAS'>ConfigureFAS</a>
<li><a href='#ConnectTG'>ConnectTG</a>
<li><a href='#ConvertToFrequency'>ConvertToFrequency</a>
<li><a href='#DisconnectTG'>DisconnectTG</a>
<li><a href='#ExcludeTRXs'>ExcludeTRXs</a>
<li><a href='#FAS_Reconfig'>FAS_Reconfig</a>
<li><a href='#FixConfig'>FixConfig</a>
<li><a href='#GenerateFrequencyList'>GenerateFrequencyList</a>
<li><a href='#GetAbiscoRevision'>GetAbiscoRevision</a>
<li><a href='#Get_Cell'>Get_Cell</a>
<li><a href='#Get_FAS_Reconfig_Param'>Get_FAS_Reconfig_Param</a>
<li><a href='#Get_TG_List'>Get_TG_List</a>
<li><a href='#Get_TRXC_List'>Get_TRXC_List</a>
<li><a href='#Get_TRX_ARFCNs'>Get_TRX_ARFCNs</a>
<li><a href='#Get_TRX_ARFCNs200'>Get_TRX_ARFCNs200</a>
<li><a href='#Get_TS_Config'>Get_TS_Config</a>
<li><a href='#MemberOfArray'>MemberOfArray</a>
<li><a href='#OM2000_Defaults'>OM2000_Defaults</a>
<li><a href='#OpenConfigLoad'>OpenConfigLoad</a>
<li><a href='#OpenLog'>OpenLog</a>
<li><a href='#Prompt'>Prompt</a>
<li><a href='#ReadAndLoadConfig'>ReadAndLoadConfig</a>
<li><a href='#RecursiveCheckEachTG'>RecursiveCheckEachTG</a>
<li><a href='#RecursiveCheckEachTGCell'>RecursiveCheckEachTGCell</a>
<li><a href='#RecursiveConnectTG'>RecursiveConnectTG</a>
<li><a href='#RecursiveDisconnectTG'>RecursiveDisconnectTG</a>
<li><a href='#RecursiveFindEachTG'>RecursiveFindEachTG</a>
<li><a href='#RecursiveFindEachTRXC'>RecursiveFindEachTRXC</a>
<li><a href='#RecursiveLoadConfig'>RecursiveLoadConfig</a>
<li><a href='#Recursive_Get_Cell'>Recursive_Get_Cell</a>
<li><a href='#Recursive_Get_TRXC_List'>Recursive_Get_TRXC_List</a>
<li><a href='#Recursive_TS_Reconfig_Each_TG'>Recursive_TS_Reconfig_Each_TG</a>
<li><a href='#Recursive_TS_Reconfig_Each_TRXC'>Recursive_TS_Reconfig_Each_TRXC</a>
<li><a href='#Recursive_TS_Reconfig_Each_TS'>Recursive_TS_Reconfig_Each_TS</a>
<li><a href='#RemoveFromArray'>RemoveFromArray</a>
<li><a href='#ReturnNumeric'>ReturnNumeric</a>
<li><a href='#SendSysInfo'>SendSysInfo</a>
<li><a href='#SendSysInfo2'>SendSysInfo2</a>
<li><a href='#SendSysInfoForeachTGNumber'>SendSysInfoForeachTGNumber</a>
<li><a href='#SendSysInfoForeachTRXCNumber'>SendSysInfoForeachTRXCNumber</a>
<li><a href='#SetDefault'>SetDefault</a>
<li><a href='#Set_BG_Reporting'>Set_BG_Reporting</a>
<li><a href='#TS_Reconfig'>TS_Reconfig</a>
<li><a href='#TS_Reconfig_ChComb'>TS_Reconfig_ChComb</a>
<li><a href='#TS_Reconfig_EnableRequest'>TS_Reconfig_EnableRequest</a>
<li><a href='#numerically'>numerically</a>
</ul><li><a href='#NAME'>NAME Msg</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#Assert'>Assert</a>
<li><a href='#Choice'>Choice</a>
<li><a href='#Is_Str'>Is_Str</a>
<li><a href='#Normalize'>Normalize</a>
<li><a href='#Pack'>Pack</a>
<li><a href='#Pack_Args'>Pack_Args</a>
<li><a href='#Pack_Value'>Pack_Value</a>
<li><a href='#Str'>Str</a>
<li><a href='#Strip'>Strip</a>
<li><a href='#Strip_All'>Strip_All</a>
<li><a href='#To_Hash'>To_Hash</a>
<li><a href='#Unpack'>Unpack</a>
<li><a href='#Unpack_Value'>Unpack_Value</a>
</ul><li><a href='#NAME'>NAME mssim</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#InitRESP'>InitRESP</a>
<li><a href='#ReceiveTCP_IP'>ReceiveTCP_IP</a>
<li><a href='#mssimAssert'>mssimAssert</a>
<li><a href='#mssimClearSpont'>mssimClearSpont</a>
<li><a href='#mssimConnect'>mssimConnect</a>
<li><a href='#mssimConvString'>mssimConvString</a>
<li><a href='#mssimDisconnect'>mssimDisconnect</a>
<li><a href='#mssimDo'>mssimDo</a>
<li><a href='#mssimGet'>mssimGet</a>
<li><a href='#mssimGetErrTxt'>mssimGetErrTxt</a>
<li><a href='#mssimGetErrTxtLAPDm'>mssimGetErrTxtLAPDm</a>
<li><a href='#mssimGetLog'>mssimGetLog</a>
<li><a href='#mssimGetSeveral'>mssimGetSeveral</a>
<li><a href='#mssimGetSpont'>mssimGetSpont</a>
<li><a href='#mssimGetTemplateLength'>mssimGetTemplateLength</a>
<li><a href='#mssimLog'>mssimLog</a>
<li><a href='#mssimLogMsg'>mssimLogMsg</a>
<li><a href='#mssimLogOnOff'>mssimLogOnOff</a>
<li><a href='#mssimLogPref'>mssimLogPref</a>
<li><a href='#mssimPack'>mssimPack</a>
<li><a href='#mssimPrepareUnpack'>mssimPrepareUnpack</a>
<li><a href='#mssimPut'>mssimPut</a>
<li><a href='#mssimUnpack'>mssimUnpack</a>
<li><a href='#mssimUnpackHeader'>mssimUnpackHeader</a>
</ul><li><a href='#NAME'>NAME mssim_def</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>
<li><a href='#NAME'>NAME mssim_sub</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#mssimChangeMSAttr'>mssimChangeMSAttr</a>
<li><a href='#mssimCheckConnection'>mssimCheckConnection</a>
<li><a href='#mssimConfig'>mssimConfig</a>
<li><a href='#mssimDefineCell'>mssimDefineCell</a>
<li><a href='#mssimGetARFCN'>mssimGetARFCN</a>
<li><a href='#mssimGetCHNParam'>mssimGetCHNParam</a>
<li><a href='#mssimGetDefaults'>mssimGetDefaults</a>
<li><a href='#mssimGetTrx'>mssimGetTrx</a>
<li><a href='#mssimInit'>mssimInit</a>
<li><a href='#mssimMakeAscii'>mssimMakeAscii</a>
<li><a href='#mssimPrintSWVersions'>mssimPrintSWVersions</a>
<li><a href='#mssimReconfCCCH'>mssimReconfCCCH</a>
<li><a href='#setFrequencyOffset'>setFrequencyOffset</a>
<li><a href='#waitForCellSync'>waitForCellSync</a>
</ul><li><a href='#NAME'>NAME packetfunc</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ActivateGSL'>ActivateGSL</a>
<li><a href='#ActivatePDCH'>ActivatePDCH</a>
<li><a href='#AppendToFile'>AppendToFile</a>
<li><a href='#CPSManipulation'>CPSManipulation</a>
<li><a href='#ChActMSSIM_P'>ChActMSSIM_P</a>
<li><a href='#ChRelMSSIM_P'>ChRelMSSIM_P</a>
<li><a href='#CheckCPS'>CheckCPS</a>
<li><a href='#CheckEncoding'>CheckEncoding</a>
<li><a href='#CloseCCCH'>CloseCCCH</a>
<li><a href='#ConfigMSSIM_P'>ConfigMSSIM_P</a>
<li><a href='#CreateMACHeader'>CreateMACHeader</a>
<li><a href='#DeactivateGSL'>DeactivateGSL</a>
<li><a href='#DifferentEncoding'>DifferentEncoding</a>
<li><a href='#GetCPSValue'>GetCPSValue</a>
<li><a href='#GetLoopParamMSSIM'>GetLoopParamMSSIM</a>
<li><a href='#GetStatisticsTSS'>GetStatisticsTSS</a>
<li><a href='#PrepareData'>PrepareData</a>
<li><a href='#ReleasePDCH'>ReleasePDCH</a>
<li><a href='#SaveFreeText'>SaveFreeText</a>
<li><a href='#SaveStatistics'>SaveStatistics</a>
<li><a href='#SaveStatisticsToFile'>SaveStatisticsToFile</a>
<li><a href='#SendAccessBurstsMSSIM'>SendAccessBurstsMSSIM</a>
<li><a href='#StartLoopMSSIM'>StartLoopMSSIM</a>
<li><a href='#StartPRBS_MSSIM'>StartPRBS_MSSIM</a>
<li><a href='#StopLoopMSSIM'>StopLoopMSSIM</a>
<li><a href='#StopPRBS_MSSIM'>StopPRBS_MSSIM</a>
<li><a href='#UnpackCnt'>UnpackCnt</a>
</ul><li><a href='#NAME'>NAME PerlFunc</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ARFCN_to_Frequency'>ARFCN_to_Frequency</a>
<li><a href='#Arfcn2TrxMap'>Arfcn2TrxMap</a>
<li><a href='#Ceil'>Ceil</a>
<li><a href='#CheckKeyExistence'>CheckKeyExistence</a>
<li><a href='#CopyArray'>CopyArray</a>
<li><a href='#DHM_to_Minutes'>DHM_to_Minutes</a>
<li><a href='#DelaySec'>DelaySec</a>
<li><a href='#DeleteNonUnderscoredKeys'>DeleteNonUnderscoredKeys</a>
<li><a href='#DeleteUnderscoredKeys'>DeleteUnderscoredKeys</a>
<li><a href='#ExistsInArray'>ExistsInArray</a>
<li><a href='#Floor'>Floor</a>
<li><a href='#FormatNumber'>FormatNumber</a>
<li><a href='#Frac'>Frac</a>
<li><a href='#GetARFCNHighLow'>GetARFCNHighLow</a>
<li><a href='#GetARFCNOffset'>GetARFCNOffset</a>
<li><a href='#GetLeaves'>GetLeaves</a>
<li><a href='#GetLocalTime'>GetLocalTime</a>
<li><a href='#GetSecondsSinceEpoch'>GetSecondsSinceEpoch</a>
<li><a href='#MakeIndex'>MakeIndex</a>
<li><a href='#MaxValue'>MaxValue</a>
<li><a href='#MergeHashes'>MergeHashes</a>
<li><a href='#MinValue'>MinValue</a>
<li><a href='#Minutes_to_DHM'>Minutes_to_DHM</a>
<li><a href='#MyPack_Array'>MyPack_Array</a>
<li><a href='#MyPack_Hash'>MyPack_Hash</a>
<li><a href='#MyPack_X'>MyPack_X</a>
<li><a href='#PackArrayOrHash'>PackArrayOrHash</a>
<li><a href='#PositionInArray'>PositionInArray</a>
<li><a href='#PrettyPrint'>PrettyPrint</a>
<li><a href='#PrettyPrint_Array'>PrettyPrint_Array</a>
<li><a href='#PrettyPrint_Hash'>PrettyPrint_Hash</a>
<li><a href='#PrettyPrint_X'>PrettyPrint_X</a>
<li><a href='#Print'>Print</a>
<li><a href='#PrintVec'>PrintVec</a>
<li><a href='#RandomizedArrayElements'>RandomizedArrayElements</a>
<li><a href='#RemoveFromArray'>RemoveFromArray</a>
<li><a href='#Round'>Round</a>
<li><a href='#SD'>SD</a>
<li><a href='#Seconds_to_HMS'>Seconds_to_HMS</a>
<li><a href='#Trunc'>Trunc</a>
<li><a href='#UnpackArrayOrHash'>UnpackArrayOrHash</a>
<li><a href='#ValidARFCN'>ValidARFCN</a>
</ul><li><a href='#NAME'>NAME prismaversions</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#PrismaVersions'>PrismaVersions</a>
</ul><li><a href='#NAME'>NAME psdatafunc</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#AllocateICP'>AllocateICP</a>
<li><a href='#CheckCHConfig'>CheckCHConfig</a>
<li><a href='#CheckTCHConfig'>CheckTCHConfig</a>
<li><a href='#DeallocateICP'>DeallocateICP</a>
<li><a href='#ProcessLanforge'>ProcessLanforge</a>
<li><a href='#ReadAbiscoConfig'>ReadAbiscoConfig</a>
<li><a href='#ReadLanforgeInput'>ReadLanforgeInput</a>
<li><a href='#SLEEP'>SLEEP</a>
<li><a href='#SendAB'>SendAB</a>
<li><a href='#SendPSData'>SendPSData</a>
<li><a href='#SplitEnc'>SplitEnc</a>
<li><a href='#numerically'>numerically</a>
</ul><li><a href='#NAME'>NAME roundtripdelay</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#BitAlignFrame'>BitAlignFrame</a>
<li><a href='#CalcLength'>CalcLength</a>
<li><a href='#CalcStartPosUmPsdata'>CalcStartPosUmPsdata</a>
<li><a href='#ConvertWiresharkTimeStamp'>ConvertWiresharkTimeStamp</a>
<li><a href='#FindMatch'>FindMatch</a>
<li><a href='#HandleSC'>HandleSC</a>
<li><a href='#InvalidFileType'>InvalidFileType</a>
<li><a href='#ProcessOutput'>ProcessOutput</a>
<li><a href='#ReadWiresharkAbis'>ReadWiresharkAbis</a>
<li><a href='#ReadWiresharkUm'>ReadWiresharkUm</a>
<li><a href='#RoundTripDelay'>RoundTripDelay</a>
</ul><li><a href='#NAME'>NAME Sercom</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#PortInit'>PortInit</a>
<li><a href='#ReadFromPort'>ReadFromPort</a>
<li><a href='#WriteToPort'>WriteToPort</a>
</ul><li><a href='#NAME'>NAME Settings</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#new'>new</a>
<li><a href='#CreateDefaultConfFile'>CreateDefaultConfFile</a>
<li><a href='#Get'>Get</a>
<li><a href='#Keys'>Keys</a>
<li><a href='#Print'>Print</a>
<li><a href='#ReadConfFile'>ReadConfFile</a>
<li><a href='#ReadConfFiles'>ReadConfFiles</a>
</ul><li><a href='#NAME'>NAME SF2</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#CheckDoubleSignals'>CheckDoubleSignals</a>
<li><a href='#GreaterOrEqual'>GreaterOrEqual</a>
<li><a href='#MGetSeveral'>MGetSeveral</a>
<li><a href='#PrepareArguments'>PrepareArguments</a>
<li><a href='#Receive'>Receive</a>
<li><a href='#TempStoreSignal'>TempStoreSignal</a>
<li><a href='#UpdateStatistics'>UpdateStatistics</a>
</ul><li><a href='#NAME'>NAME speechfunc</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ActivateChannel'>ActivateChannel</a>
<li><a href='#ActivateSpeech'>ActivateSpeech</a>
<li><a href='#AllocateICP'>AllocateICP</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#CreateAcs'>CreateAcs</a>
<li><a href='#DeactivateSpeech'>DeactivateSpeech</a>
<li><a href='#DeallocateICP'>DeallocateICP</a>
<li><a href='#DefinePattern'>DefinePattern</a>
<li><a href='#Encr'>Encr</a>
<li><a href='#GetStatistics'>GetStatistics</a>
<li><a href='#ReadAbiscoConfig'>ReadAbiscoConfig</a>
<li><a href='#ReleaseChannel'>ReleaseChannel</a>
<li><a href='#SLEEP'>SLEEP</a>
<li><a href='#SendSpeech'>SendSpeech</a>
<li><a href='#StartLoopMSSIM'>StartLoopMSSIM</a>
<li><a href='#StartPLAY'>StartPLAY</a>
<li><a href='#StartPRBS'>StartPRBS</a>
<li><a href='#StopLoopMSSIM'>StopLoopMSSIM</a>
<li><a href='#StopPLAY'>StopPLAY</a>
<li><a href='#StopPRBS'>StopPRBS</a>
<li><a href='#UnpackCnt'>UnpackCnt</a>
<li><a href='#numerically'>numerically</a>
</ul><li><a href='#NAME'>NAME StabFunc</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ConnectToServer'>ConnectToServer</a>
<li><a href='#DisconnectFromServer'>DisconnectFromServer</a>
<li><a href='#GenerateMeasurements'>GenerateMeasurements</a>
<li><a href='#GetLogIndicator'>GetLogIndicator</a>
<li><a href='#InitAcc'>InitAcc</a>
<li><a href='#InitMeas'>InitMeas</a>
<li><a href='#PrepareData'>PrepareData</a>
<li><a href='#PrintAcc'>PrintAcc</a>
<li><a href='#PrintData'>PrintData</a>
<li><a href='#ReadMessage'>ReadMessage</a>
<li><a href='#SaveResults'>SaveResults</a>
<li><a href='#SearchForErrors'>SearchForErrors</a>
<li><a href='#SendMessage'>SendMessage</a>
<li><a href='#SendToServer'>SendToServer</a>
<li><a href='#UpdateAcc'>UpdateAcc</a>
<li><a href='#UpdateData'>UpdateData</a>
<li><a href='#UpdateMeas'>UpdateMeas</a>
</ul><li><a href='#NAME'>NAME SupportFunc</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#GetSeveral'>GetSeveral</a>
<li><a href='#GetTGData'>GetTGData</a>
<li><a href='#GreaterOrEqual'>GreaterOrEqual</a>
</ul><li><a href='#NAME'>NAME SwitchBox</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#new'>new</a>
<li><a href='#CancelReset'>CancelReset</a>
<li><a href='#IsSwitchedOn'>IsSwitchedOn</a>
<li><a href='#Off'>Off</a>
<li><a href='#On'>On</a>
<li><a href='#Print'>Print</a>
<li><a href='#Read'>Read</a>
<li><a href='#Reset'>Reset</a>
<li><a href='#Write'>Write</a>
</ul><li><a href='#NAME'>NAME Trig</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#Error'>Error</a>
<li><a href='#Fail'>Fail</a>
<li><a href='#Not_Applicable'>Not_Applicable</a>
<li><a href='#Pass'>Pass</a>
<li><a href='#Trig_Clear'>Trig_Clear</a>
<li><a href='#Trig_Set'>Trig_Set</a>
</ul><li><a href='#NAME'>NAME tstm</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#RACHActivate'>RACHActivate</a>
<li><a href='#RACHActivateTTR'>RACHActivateTTR</a>
<li><a href='#RACHClose'>RACHClose</a>
<li><a href='#RACHCloseTTR'>RACHCloseTTR</a>
<li><a href='#RACHDeactivate'>RACHDeactivate</a>
<li><a href='#RACHDeactivateTTR'>RACHDeactivateTTR</a>
<li><a href='#RACHOpen'>RACHOpen</a>
<li><a href='#RACHOpenTTR'>RACHOpenTTR</a>
<li><a href='#RACHStart'>RACHStart</a>
<li><a href='#RACHStartTTR'>RACHStartTTR</a>
<li><a href='#numerically'>numerically</a>
<li><a href='#tstmConfig'>tstmConfig</a>
<li><a href='#tstmGet'>tstmGet</a>
<li><a href='#tstmPut'>tstmPut</a>
</ul><li><a href='#NAME'>NAME ttr</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ConnectTTR'>ConnectTTR</a>
<li><a href='#ConnectTool'>ConnectTool</a>
<li><a href='#DisconnectTTR'>DisconnectTTR</a>
<li><a href='#DisconnectTool'>DisconnectTool</a>
<li><a href='#StartTTR'>StartTTR</a>
</ul><li><a href='#NAME'>NAME User</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#Adjust_Case'>Adjust_Case</a>
<li><a href='#Alert'>Alert</a>
<li><a href='#Break_Handler'>Break_Handler</a>
<li><a href='#Call_With_Parameters'>Call_With_Parameters</a>
<li><a href='#Clean'>Clean</a>
<li><a href='#Cleanup_Error_Message'>Cleanup_Error_Message</a>
<li><a href='#Command_Loop'>Command_Loop</a>
<li><a href='#Config'>Config</a>
<li><a href='#Crack_Test'>Crack_Test</a>
<li><a href='#CreateGUI'>CreateGUI</a>
<li><a href='#Exception'>Exception</a>
<li><a href='#Exclude'>Exclude</a>
<li><a href='#Find_Leaf'>Find_Leaf</a>
<li><a href='#General_TP_Info'>General_TP_Info</a>
<li><a href='#GetLastResult'>GetLastResult</a>
<li><a href='#GetRunResult'>GetRunResult</a>
<li><a href='#Get_CPY_SPEC'>Get_CPY_SPEC</a>
<li><a href='#Get_Exists'>Get_Exists</a>
<li><a href='#Get_Logs'>Get_Logs</a>
<li><a href='#Get_No_Of_SUBA'>Get_No_Of_SUBA</a>
<li><a href='#Get_PAR'>Get_PAR</a>
<li><a href='#Get_SPEC'>Get_SPEC</a>
<li><a href='#Get_SUBTC_Index'>Get_SUBTC_Index</a>
<li><a href='#Get_SUBTC_List'>Get_SUBTC_List</a>
<li><a href='#Get_Search_List'>Get_Search_List</a>
<li><a href='#Get_Specs'>Get_Specs</a>
<li><a href='#Get_TC'>Get_TC</a>
<li><a href='#Get_TC_List'>Get_TC_List</a>
<li><a href='#Get_Test_String'>Get_Test_String</a>
<li><a href='#Get_Timeout'>Get_Timeout</a>
<li><a href='#Get_Tools'>Get_Tools</a>
<li><a href='#Get_Tries'>Get_Tries</a>
<li><a href='#Help'>Help</a>
<li><a href='#Help_Context'>Help_Context</a>
<li><a href='#Help_Doc'>Help_Doc</a>
<li><a href='#Help_Test'>Help_Test</a>
<li><a href='#Help_Test_Get_PAC'>Help_Test_Get_PAC</a>
<li><a href='#Init'>Init</a>
<li><a href='#Init_ABISCO'>Init_ABISCO</a>
<li><a href='#Init_Client_Socket'>Init_Client_Socket</a>
<li><a href='#Init_Command_Loop'>Init_Command_Loop</a>
<li><a href='#Init_Globals'>Init_Globals</a>
<li><a href='#Init_Spec'>Init_Spec</a>
<li><a href='#Int_Handler'>Int_Handler</a>
<li><a href='#Log'>Log</a>
<li><a href='#Log_Test'>Log_Test</a>
<li><a href='#Loop_Exclude'>Loop_Exclude</a>
<li><a href='#Loop_Init'>Loop_Init</a>
<li><a href='#Loop_Step'>Loop_Step</a>
<li><a href='#Manual_Prompt'>Manual_Prompt</a>
<li><a href='#Manual_UL'>Manual_UL</a>
<li><a href='#Opt_Step'>Opt_Step</a>
<li><a href='#Override'>Override</a>
<li><a href='#Pad'>Pad</a>
<li><a href='#Parse_Parameters'>Parse_Parameters</a>
<li><a href='#Print'>Print</a>
<li><a href='#Print_Array'>Print_Array</a>
<li><a href='#Print_Hash'>Print_Hash</a>
<li><a href='#Prompt'>Prompt</a>
<li><a href='#Purify'>Purify</a>
<li><a href='#Quit'>Quit</a>
<li><a href='#Quit_Handler'>Quit_Handler</a>
<li><a href='#Read'>Read</a>
<li><a href='#Replace'>Replace</a>
<li><a href='#Respond'>Respond</a>
<li><a href='#Restore_Parameters'>Restore_Parameters</a>
<li><a href='#Run'>Run</a>
<li><a href='#Run_Leaf'>Run_Leaf</a>
<li><a href='#Run_PAC'>Run_PAC</a>
<li><a href='#Run_SUBA'>Run_SUBA</a>
<li><a href='#Run_SUBTC'>Run_SUBTC</a>
<li><a href='#Run_Spec'>Run_Spec</a>
<li><a href='#Run_TC'>Run_TC</a>
<li><a href='#Run_Test'>Run_Test</a>
<li><a href='#Save_Par'>Save_Par</a>
<li><a href='#Set_Effective_Parameters'>Set_Effective_Parameters</a>
<li><a href='#Set_Options'>Set_Options</a>
<li><a href='#Split_TC'>Split_TC</a>
<li><a href='#Step'>Step</a>
<li><a href='#Try'>Try</a>
</ul><li><a href='#NAME'>NAME Util</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#Complete'>Complete</a>
<li><a href='#Date_String'>Date_String</a>
<li><a href='#Date_Time'>Date_Time</a>
<li><a href='#Join'>Join</a>
<li><a href='#Time_String'>Time_String</a>
</ul><li><a href='#NAME'>NAME wireshark</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#checkIfParameterInLog'>checkIfParameterInLog</a>
<li><a href='#convLittleEndianToBigEndian'>convLittleEndianToBigEndian</a>
<li><a href='#createLoggingThr'>createLoggingThr</a>
<li><a href='#createMSSIMMessageLogFromWLog'>createMSSIMMessageLogFromWLog</a>
<li><a href='#createMessageLogFromWLog'>createMessageLogFromWLog</a>
<li><a href='#lsuCloseWLog'>lsuCloseWLog</a>
<li><a href='#lsuOpenAbisWLog'>lsuOpenAbisWLog</a>
<li><a href='#lsuOpenWLog'>lsuOpenWLog</a>
<li><a href='#lsuReadAbisWLog'>lsuReadAbisWLog</a>
<li><a href='#lsuReadWLog'>lsuReadWLog</a>
<li><a href='#lsuStartWLog'>lsuStartWLog</a>
<li><a href='#lsuWaitWLog'>lsuWaitWLog</a>
</ul>
</ul>
</div>

<div class='pod'><div>
<a name='NAME'></a><h1>NAME</h1>

<pre>Abisco_Connection</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 1/190 55-CAH 161 1290/1 Uen
MODULE      : Abisco_Connection.pm
DESCRIPTION : ABISCO interface layer. Takes care of socket
handling and parsing in/out.</pre>
<pre>The package takes some options off @ARGV (see
'new'). It sets and uses the following corresponding
globals in the main package:</pre>
<pre> $main::Opt_Host    - Default CH socket host
 $main::Opt_Port    - Default CH socket port
 $main::Opt_Server  - Add server name to ABISCO command
                      if none set explicitly
 $main::Opt_Debug   - Print trace info if set
 $main::Opt_Alone   - Run without ABISCO
 $main::Opt_Timeout - Default read timeout

</pre>
<pre>@main::Replacements is a list of pairs that go into
an s/// operation.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME                    REVIEW    COMMENT
PA1 980806    QRAJRHD                           Development started
PA2 981127    QRAJRHD                           Ready for test
PA3 981214    QRAJRHD                           Ready for Octopus (R8)
PA4 981216    QRAJRHD                           Allow spaces in arrays, improved overrides
A   990308    QRAJRHD                           Improved parsing, new args to 'new'
P1B 990510    QRAJRHD                           Alternative response tag: ERR
P1C 990526    QRAJRHD                           Perfected pretty-printing
P1D 990817    QRAJRHD                           More parsable tags, started on Trig
P1E 990819    QRAJRHD                           Trigs working, many minor changes
P1F 990831    QRAJRHD                           Re-export everything in Msg
P1G 990913    QRAJRHD                           First_Abisco_Connection removed
P1H 990921    QRAJRHD                           Timeouts working, Cleanup added
P1I 991108    QRAJRHD                           Re-export Traffic
P1J 991114    QRAJRHD                           -Ignore
P1K 991114    QRAJRHD                            New parsable tag 'INTM'
P1L 991122    QRAJRHD                            Keyboard interrupt handler
P1M 991126    QRAJRHD                            '_' accepted in tags (for 'ABIS_UL')
P1N 000110    QRAJRHD                            Looping Get, more croaking
P1S 000330    QRAJRHD                            Tool would not go back from Manual to Auto sometimes
P1T 000501    QRAJRHD                            Improved error reporting slightly
P1U 000517    QRAJRHD                            Improved error message in Do
P1V 000519    QRAJRHD                            Prompt when 'Get'-ing from manual tools
P1X 000817    QRAJRHD                            Assert_Keys made case insensitive
P1Y 000920    QRAJRHD                            Input buffer lost at timeout
P1Z 001002    QRAJRHD                            Manual mode for specific tool instances
P2A 001020    QRAJRHD                            CH can't handle NL in strings
P2B 001101    QRAJRHD                            New interruptable hi-res 'Sleep'
P2C 001205    QRAJRHD                            Raw data mapped on 'Message' instead of 'Buf'
P2D 001213    ERAABAY                            Timeout =&gt; 0 means poll
P2E 001218    QRAJRHD                            Barf on arg overflow in Assert
P2F 001221    QRAJRHD                            Fix printouts in alone mode
P2G 010106    ERAABAY                            Croak on no connection
P2H 010223    QRAJRHD                            Manual tool intercept corrected in 'Get'
P2J 010810    QRAJRHD                            Get_Me, Do takes message pointer (like Put)
P2K 010815    QRAFRYS                            Assert should check Message key first
P2L 011009    QRAJRHD                            Get_Me must not set $_
P2M 011102    QRAFRYS                            Changed $Line substitution in Put routine
P2N 090325    XYNSTAN                            Added subs PendingMsg and GetSocket
B   20111008  ETORWIL                 XLEIMAR    Converted script to use strict, warnings and diagnostics
                                                 Moved code into template
                                                 Updated to pass thru perl::Critic with policy
                                                 Fixed subroutine new and subsequently called functions
                                                 Replaced @Complex::EXPORT_OK and $Msg::EXPORT_OK
                                                 with the actual function names.
                                                 Removed typo at import of comlex
C   20111024  XTOBSEM                 ETORWIL    Added GetActiveTG Exported @List</pre>
<pre>D   20111024  XTOBSEM                 ETORWIL    Fixed Bug in GetActiveTG</pre>
<pre>E   20111104  XTOBSEM                 XPRRANA    Fixed minor bug and changed the printout in GetActiveTG (HO97582).
F   20120223  XTEHKIN                 XSOFFRO    Fixed regular expression bug, TR HP52167.
G   20120323  XNAVNAS                 EDAMELI    Added option to enable/disable printout in GetActiveTG (HP64494).
H   20120412  XANSBEM                 XNAVNAS    Added more outputs from GetActiveTG (HP72473).
J   20121107  XSOFFRO                 EERICSV    Added output TRXTypeList and Cabinet in GetActiveTG (TR HQ45737).
                                                  General cleanup
K   20131206  Syntronic AB/     Syntronic AB/    HR96005: Skipped Unpack() for unknown message Abis(-)
              Adibah            Catherine
L   20140113  XPATHIL                 EDAMELI    Added StoreTG, ResetTG, GetTSConfig and GetSoftTGConfig (TR HP41622).
                                                  Applied PerlCritic</pre>
<pre>Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Complex'>Complex</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Msg'>Msg</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?IO::Handle'>IO::Handle</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?IO::Socket'>IO::Socket</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Getopt::Long'>Getopt::Long</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?charnames'>charnames</a></i> Lib with eg \N{SPACE} eq space char</pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i> Lib with readable names</pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='new'></a><h2>new</h2>

<pre> $self-&gt;new();

</pre>
<pre>HEAD        : new
DESCRIPTION : Constructor, set up socket for use.
              Host/Port defaults can also be set on the command line</pre>
<pre>              $TG = new Abisco_Connection(Defaults =&gt; {Server =&gt; Traffic});

</pre>
<pre>IN  : %1 - Hash of arguments, recognized tags (all optional):
            Host     =&gt; IP name/number of CH machine, default local_host
            Port     =&gt; Port number that C serves, default is 4051
            Defaults =&gt; Standard call-hash to be added as defaults
                        if the name is missing in a Do/Put,
OUT : Class reference</pre>
<a name='Assert'></a><h2>Assert</h2>

<pre> $self-&gt;Assert();

</pre>
<pre>HEAD        : Assert
DESCRIPTION : This class method is just a front end to Msg::Assert, see
              this sub-routine. In addition, the checking is supressed and the
              Required value is assigned to the Actual value if:
              - '-Ignore' is set
              - The required list contains a server/tool that is set to manual.</pre>
<pre>IN  : $1 - Values to check (scalar or ref to hash or array)
      $2 - Required Values (ditto). If $2 is absent $1 must be true.
      $3 - Force the check regardless of -Alone, -Ignore etc (internal use)
OUT : None (dies on mismatches)</pre>
<a name='Assert_Exactly'></a><h2>Assert_Exactly</h2>

<pre> $self-&gt;Assert_Exactly();

</pre>
<pre>HEAD        : Assert_Exactly
DESCRIPTION : The same as 'Assert' except that no superfluos parameters
              are allowed. A third argument can be used to specify optionals (items
              that may be left out).</pre>
<pre>IN  : $1 - Values to check (scalar or ref to hash or array)
      $2 - Required contents of $1 (ditto)
      $2 - Optional contents (ditto, may be left out)
      $4 - Force (internal use, see 'Assert')
OUT : None (dies on mismatches)</pre>
<a name='Assert_Keys'></a><h2>Assert_Keys</h2>

<pre> $self-&gt;Assert_Keys();

</pre>
<pre>HEAD        : Assert_Keys
DESCRIPTION : Verify that all required keys are present, and that no
              unlisted keys are present. Does not handle sub-hashes.</pre>
<pre>IN  : $1 - Pointer to standard call-hash
      $2 - Pointer to list of required keys
      $3 - Pointer to list of optional keys
OUT : None (dies on error)</pre>
<a name='Assert_True'></a><h2>Assert_True</h2>

<pre> $self-&gt;Assert_True();

</pre>
<pre>HEAD        : Assert_True
DESCRIPTION : Same as Assert, but return true/false insead of raising
              and exception. If the result is false then the reason is in
              $EVAL_ERROR</pre>
<pre>IN  : $1 - Values to check (scalar or ref to hash or array)
      $2 - Expected Values (ditto)
      $3 - Force the check regardless of -Alone, -Ignore etc (internal use)
OUT : True if the patterns matched</pre>
<a name='Await'></a><h2>Await</h2>

<pre> $self-&gt;Await();

</pre>
<pre>HEAD        : Await
DESCRIPTION : Obsolete - use Get.
              Wait for message matching specified pattern.
              Die if message not received within specified time.
              If there are multiple messages every second the loop
              may never finish since the time is low-resolution.
              Try turning off measurement reports then.</pre>
<pre>IN  : $1  - Timeout in seconds
      \%2 - Reference to command hash to look for, format
            as in Do/Put but without elements to be dis-
            carded (see 'Assert').
OUT : %1  - Matching input (hash or hash reference)</pre>
<a name='Cleanup'></a><h2>Cleanup</h2>

<pre> $self-&gt;Cleanup();

</pre>
<pre>HEAD        : Cleanup
DESCRIPTION : Consume all pending input for one instance if called
              as an instance method, or all if called as a class-method.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Configure'></a><h2>Configure</h2>

<pre> $self-&gt;Configure();

</pre>
<pre>HEAD        : Configure
DESCRIPTION : Set configuration property. The property applies #
              globally, not just for the current instance.</pre>
<pre>IN  : $1 - Property, currently supports:
         - Server: Default server to use if none is given
               explicitly. $2 is name of server, eg OM2000RO.
      $2 - Value to set property to
OUT : Current value if $2 not set</pre>
<a name='Do'></a><h2>Do</h2>

<pre> $self-&gt;Do();

</pre>
<pre>HEAD        : Do
DESCRIPTION : Send command, scan for PROMPT and return RESP. Use oldest
              connection if not called via an instance handle.</pre>
<pre>IN  : %1 - Message-hash to send. The following extra pseudo-arguments are
            handled:
            Server   - The name of the ABISCO server
            Message  - The name of the ABISCO command/response
            Timeout  - Max time to wait for a response
                       or \%1 - Reference to the above
OUT : %1 - The response hash (or a reference in scalar context) to the
            command, or undef if transmission was skipped (due to a Trig).</pre>
<a name='Drop'></a><h2>Drop</h2>

<pre> $self-&gt;Drop();

</pre>
<pre>HEAD        : Drop
DESCRIPTION : Release the connection. The garabage collector starts when
              the caller undef's his handle. If the socket goes to the CH you should
              send CHEXTRAS.Output State=Off to prevent data from coming in after the
              cleanup.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Get'></a><h2>Get</h2>

<pre> $self-&gt;Get();

</pre>
<pre>HEAD        : Get
DESCRIPTION : Return one incoming message. Die if it isn't received
              within the 'Timeout', or if the 'Expect'ed pattern doesn't appear
              before the 'Until' pattern.</pre>
<pre>              %Resp=$BTS-&gt;Get;  # Get next message
              %Resp=$BTS-&gt;Get(Timeout =&gt; 5.5, Expect =&gt; {AIP =&gt; 0}, Until =&gt; PROMPT);
              %Resp=$BTS-&gt;Get(Expect =&gt; {Message =&gt; Accept, Status =&gt; [OK, Brill]});

</pre>
<pre>IN  : %1 - Hash with the following optional keys:
            Timeout =&gt; Max time to wait in $seconds (and fractions), default is
                       10 minutes or as specified on the command line.
            Expect  =&gt; Return last message matching this \%pattern or $tag.
                       Defaults is the same as 'Until'.
            Until   =&gt; Finish when this \%pattern or $tag matches. Default is
                      any message.</pre>
<pre>OUT : %1  - Message matching 'Expect' or
      \%1 - reference to it in scalar context</pre>
<a name='GetActiveTG'></a><h2>GetActiveTG</h2>

<pre> $self-&gt;GetActiveTG();

</pre>
<pre>HEAD        : GetActiveTG
DESCRIPTION : Return data for the connected TG from Abisco</pre>
<pre>OUT :
        AbisMode     - Abis Mode
        NumberOfTRX  - The number of TRXs defined in TG
        TG           - The number of the Active TG
        PCMList      - Active PCM lines
        TRXC         - Lowest number of started TRXs
        TRXList      - Array of started TRXs</pre>
<a name='GetSocket'></a><h2>GetSocket</h2>

<pre> $self-&gt;GetSocket();

</pre>
<pre>HEAD        : GetSocket
DESCRIPTION : Return the Abisco IO::Socket::INET socket object</pre>
<pre>IN  : &lt;Template example row, please remove if not applicable&gt;
OUT : a reference to the socket object</pre>
<a name='GetSoftTGConfig'></a><h2>GetSoftTGConfig</h2>

<pre> $self-&gt;GetSoftTGConfig();

</pre>
<pre>HEAD        : GetSoftTGConfig
DESCRIPTION : Return data for the connected TGs soft configs, (not always
              needed for doing NewTG). The following is stored:
                IS, CON, DP, TX, RX and FM configuration param.
              * Refer to a TG conf file saved directly from Abisco.</pre>
<pre>IN  :   TGId
        TRXList (if you only have one TRX, put within brackets: TRXList =&gt; [$TRXC])
OUT :
        A hash with all DP, IS, CON, TX, RX and FM configuration parameters.</pre>
<a name='GetTSConfig'></a><h2>GetTSConfig</h2>

<pre> $self-&gt;GetTSConfig();

</pre>
<pre>HEAD        : GetTSConfig
DESCRIPTION : Return TS Configs for specified TRX on connected TG</pre>
<pre>IN :
        TGId           - The number of the Active TG
        TRXC           - The TRXNo of the TG
        TRXList        - A list of TRXs (for future implementations)
        AbisMode     - Abis Mode
        TS             - If only one TS Config is wanted
OUT:    A response hash with structure 'TS' =&gt; { InstanceNo =&gt; {
                                                    %TSConfig
                                                    } }</pre>
<a name='Get_Me'></a><h2>Get_Me</h2>

<pre> $self-&gt;Get_Me();

</pre>
<pre>HEAD        : Get_Me
DESCRIPTION : Load default Abisco_Connection object pointer from
              argument list if applicable.</pre>
<pre>IN  : \%1 - Abisco_Connection instance, or nothing.
      @2 - Anything you like
OUT : \%1 - Abisco_Connection instance</pre>
<a name='Get_One'></a><h2>Get_One</h2>

<pre> $self-&gt;Get_One();

</pre>
<pre>HEAD        : Get_One
DESCRIPTION : Receive and parse response back to hash.
              ABISCO tags are assumed to be on.</pre>
<pre>IN  : $1  - Timeout in seconds (default 10 min. - enough for complete start)
OUT : \%1 - Input message hash</pre>
<a name='Get_Tag_Block'></a><h2>Get_Tag_Block</h2>

<pre> $self-&gt;Get_Tag_Block();

</pre>
<pre>HEAD        : Get_Tag_Block
DESCRIPTION : Read one line with timeout. Select must be used to
              to get a timeout on Win-NT.</pre>
<pre>IN  : $1 - Timeout in seconds
OUT : $1 - Tag
     $2 - String upto end tag</pre>
<a name='Interrupt_FD'></a><h2>Interrupt_FD</h2>

<pre> $self-&gt;Interrupt_FD();

</pre>
<pre>HEAD        : Interrupt_FD
DESCRIPTION : Add another file descriptor to select list. If any
              input appears on this file the user interrupt signal handler is
              invoked.</pre>
<pre>IN  : $1 - File descriptor or reference to one (must be for input)
OUT : None</pre>
<a name='Is_Log_Message'></a><h2>Is_Log_Message</h2>

<pre> $self-&gt;Is_Log_Message();

</pre>
<pre>HEAD        : Is_Log_Message
DESCRIPTION : Tell whether this is a log message or not (without auto-
              vivification).</pre>
<pre>IN  : \%1 - Message hash
OUT : $1 - True if and only if this is a log message</pre>
<a name='Manual'></a><h2>Manual</h2>

<pre> $self-&gt;Manual();

</pre>
<pre>HEAD        : Manual
DESCRIPTION : Class method, set server/tool instance to manual mode,
              or return current Auto/Manual setting. If one InstanceNo is set to
              manual then queries without instance return true (one for all - like
              three musketeers). This means that Asserts without InstanceNo
              will be supressed even if only one instance is manual.  Can handle
              all sorts of weird patterns (to make life easier for 'Assert').
              Get must be fast, Set can be as slow as it likes.</pre>
<pre>IN  : \%1 - Hash with the following keys (extraneous keys ignored)
        Server     =&gt; Name of a tool (letter case as emitted by ABISCO
        InstanceNo =&gt; Tool instance number (optional)
      $2 - True means set tool mode to manual, false means auto. Return
        current setting if parameter omitted.
OUT : Current value if $2 not used</pre>
<a name='Merge'></a><h2>Merge</h2>

<pre> $self-&gt;Merge();

</pre>
<pre>HEAD        : Merge
DESCRIPTION : Take two message hashes and create a superset. Values in
              the first argument override the second.</pre>
<pre>IN  : \%1 - Message hash
      \%2 - Message hash
OUT : \%1 - Hashes merged</pre>
<a name='PendingMsg'></a><h2>PendingMsg</h2>

<pre> $self-&gt;PendingMsg();

</pre>
<pre>HEAD        : PendingMsg
DESCRIPTION : Check if there is at least one pending message buffered.
              If this fuction returns 1 it means that a Get() call will return an
              Abisco message without blocking.</pre>
<pre>IN  : &lt;Template example row, please remove if not applicable&gt;
OUT : 0 - no complete message in buffered data ([END] tag not found)
      1 - there is a complete message in buffered data ([END] tag found)</pre>
<a name='Put'></a><h2>Put</h2>

<pre> $self-&gt;Put();

</pre>
<pre>HEAD        : Put
DESCRIPTION : Make specified substitutions and send command.
              Pretty print in alone mode.</pre>
<pre>IN  : %1 - Command hash or reference to it
OUT : $1 - False if transmission was skipped</pre>
<a name='Put_Tag_Block'></a><h2>Put_Tag_Block</h2>

<pre> $self-&gt;Put_Tag_Block();

</pre>
<pre>HEAD        : Put_Tag_Block
DESCRIPTION : Send one line to socket</pre>
<pre>IN  : $1 - Socket
      $2 - Message line
OUT : None</pre>
<a name='ResetTG'></a><h2>ResetTG</h2>

<pre> $self-&gt;ResetTG();

</pre>
<pre>SUBROUTINE  : ResetTG
DESCRIPTION : Reset the TG if the TG has been modified</pre>
<pre>IN  :     Cells, TG, MCTR, TGId, TRXList, TF
          TS, DP, IS, CON, TX, RX and FM
OUT :     0 if TG has not been modified
          1 If TG is restored
          -1 Failed to Restore TG
Sample:   $BTS-&gt;ResetTG(%StoredTG);</pre>
<a name='Sleep'></a><h2>Sleep</h2>

<pre> $self-&gt;Sleep();

</pre>
<pre>HEAD        : Sleep
DESCRIPTION : The standard perl sleep resolution is one second, and
              it only sleeps to the 'top of the second', at least on some
              platforms. You can import 'Time::HiRes' but that's a non-standard
              package. Normal sleeps cannot be interrupted - this subroutine
              solves both problems. No sleep if alone mode. Resolution/minimum time
              is around 10 ms on NT4.</pre>
<pre>IN  : $1 - Timeout value in seconds (and fractions, e.g. 0.5)
OUT : None</pre>
<a name='StoreTG'></a><h2>StoreTG</h2>

<pre> $self-&gt;StoreTG();

</pre>
<pre>SUBROUTINE  : StoreTG
DESCRIPTION : Store TG parameters. This subroutin shall be followed by ResetTG</pre>
<pre>IN  :     TGId, TRXC, TRXList and AbisMode
          optionally: StoreAll =&gt; 'FALSE' for no TS, DP, IS, CON, TX, RX and FM data.
OUT :     {Cells}, {TG}, {MCTR},
          {TSConfig}, {DPConfig}, {ISConfig}, {CONConfig}, {TXConfig}, {RXConfig} and {FMConfig}
Sample:
Put in beginning of Precondition:
  %StoredTG = $BTS-&gt;StoreTG();
Put in Clean Up:
  $BTS-&gt;ResetTG(%StoredTG);
Dont forget to declare %StoredTG in scope for all script TCs!</pre>
<a name='Trig'></a><h2>Trig</h2>

<pre> $self-&gt;Trig();

</pre>
<pre>HEAD        : Trig
DESCRIPTION : Register a trig condition. The message hash is compared
              to input or output hashes with assert. Can be called as an
              ordinary sub, a class method or an instance method.</pre>
<pre>IN  : \%1 - Message pattern (do not change or supply a copy)
      \&amp;2 - Adress of a call-back routine with the following specification:
            IN   : $1 - Abisco_Connection (or derived) instance
                   \%2 - matching msg-hash (which may be modified)
            OUT  : 'Next' means do not mask other triggers, keep searching.
                   'Skip' means:
            - DL : Do not send
            - UL : Ditch message and read again
      $3 - Monitor downlink if set (to anything), default is uplink
OUT : $1 - Unique Id for this trig</pre>
<a name='Trig_Maybe'></a><h2>Trig_Maybe</h2>

<pre> $self-&gt;Trig_Maybe();

</pre>
<pre>HEAD        : Trig_Maybe
DESCRIPTION : Execute matching callbacks if any.</pre>
<pre>IN  : \%1 - Actual message (may be modified by the call-back routine
      $2  - 'DL' means this message is downlink
            'UL' means uplink
OUT : 'Skip' (see 'Trig') or false (but defined) otherwise</pre>
<a name='UnTrig'></a><h2>UnTrig</h2>

<pre> $self-&gt;UnTrig();

</pre>
<pre>HEAD        : UnTrig
DESCRIPTION : Remove trigger, see previous routine.</pre>
<pre>IN  : $1 - Unique Id for this trig
OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Abisco_Statistics</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Defines block contents for Messages and Timeouts</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i></pre>
<a name='IMPLEMENTS'></a><h1>IMPLEMENTS</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='EstablishmentCause'></a><h2>EstablishmentCause</h2>

<pre> $self-&gt;EstablishmentCause();

</pre>
<pre>Subroutine: EstablishmentCause
Purpose:
Input:      %Param hash
Output:</pre>
<a name='GetChannelStatistics---'></a><h2>GetChannelStatistics(%)</h2>

<pre> $self-&gt;GetChannelStatistics(%)();

</pre>
<pre>Subroutine: GetChannelStatistics
Input:      %Param hash consisting of:
            AbiscoCon =&gt; Abisco connection
Output:	  	Hash containing the statistics</pre>
<a name='GetTrafficStatistics---'></a><h2>GetTrafficStatistics(%)</h2>

<pre> $self-&gt;GetTrafficStatistics(%)();

</pre>
<pre>Subroutine: GetTrafficStatistics
Purpose:
Input:      %Param hash consisting of:
            AbiscoCon =&gt; Abisco connection
            TypeOfStatistics =&gt; The type of statistics to request. Optional
                                and defaults to All if not specified.
Output:	  	Hash containing the statistics with first level as the statistics
            type.</pre>
<a name='MeasurementResults'></a><h2>MeasurementResults</h2>

<pre> $self-&gt;MeasurementResults();

</pre>
<pre>Subroutine: MeasurementResults
Purpose:
Input:      %Param hash
Output:</pre>
<a name='MeasurementResultsMs'></a><h2>MeasurementResultsMs</h2>

<pre> $self-&gt;MeasurementResultsMs();

</pre>
<pre>Subroutine: MeasurementResultsMs
Purpose:
Input:      %Param hash
Output:</pre>
<a name='MessagesAndTimeouts'></a><h2>MessagesAndTimeouts</h2>

<pre> $self-&gt;MessagesAndTimeouts();

</pre>
<pre>Subroutine: MessagesAndTimeouts
Purpose:
Input:      %Param hash
Output:</pre>
<a name='ResponseTimes'></a><h2>ResponseTimes</h2>

<pre> $self-&gt;ResponseTimes();

</pre>
<pre>Subroutine: ResponseTimes
Purpose:
Input:      %Param hash
Output:</pre>
<a name='ReturnCodes'></a><h2>ReturnCodes</h2>

<pre> $self-&gt;ReturnCodes();

</pre>
<pre>Subroutine: ReturnCodes
Purpose:
Input:      %Param hash
Output:</pre>
<a name='TimeMeasurements'></a><h2>TimeMeasurements</h2>

<pre> $self-&gt;TimeMeasurements();

</pre>
<pre>Subroutine: TimeMeasurement
Purpose:
Input:      %Param hash
Output:</pre>
<a name='UnpackChannelStatistics'></a><h2>UnpackChannelStatistics</h2>

<pre> $self-&gt;UnpackChannelStatistics();

</pre>
<a name='UnpackTrafficStatistics'></a><h2>UnpackTrafficStatistics</h2>

<pre> $self-&gt;UnpackTrafficStatistics();

</pre>
<pre>Subroutine: UnpackTrafficStatistics
Purpose:
Input:      %Param hash
Output:</pre>
<a name='initEstCause'></a><h2>initEstCause</h2>

<pre> $self-&gt;initEstCause();

</pre>
<pre>Subroutine: initEstCause
Purpose:
Input:      %Param hash
Output:</pre>
<a name='initMsgAndTimeouts'></a><h2>initMsgAndTimeouts</h2>

<pre> $self-&gt;initMsgAndTimeouts();

</pre>
<pre>Subroutine: initMsgAndTimeouts
Purpose:
Input:      %Param hash
Output:</pre>
<a name='initReturnCodes'></a><h2>initReturnCodes</h2>

<pre> $self-&gt;initReturnCodes();

</pre>
<pre>Subroutine: initReturnCodes
Purpose:
Input:      %Param hash
Output:</pre>
<a name='initTimeMeas'></a><h2>initTimeMeas</h2>

<pre> $self-&gt;initTimeMeas();

</pre>
<pre>Subroutine: initTimeMeas
Purpose:
Input:      %Param hash
Output:</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>AbiscoFunc1</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 8/190 55-CAH 161 1290/1 Uen
MODULE      : AbiscoFunc1.pm
DESCRIPTION : This module contains functions that in use should resemble those in Abisco.
              Function in this module may have dependencies on other modules.</pre>
<pre>              GetTGData should be run at the beginning of each test case. It populates hash %TG
              which is used throughout all test programs to obtain data by simply looking at the
              appropriate hash entry whithout calling functions each and every time, as was
              practiced previously.

</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
PA1 20051128  ERADIPE             First revision
P1A 20080319  ERABAHG             Merged from branch \dev_08a
P1B 20090428  ERATZIS             Removed Prompt
A   20110817  XLOHFOO   ETORWIL   Updated to new script template
                                   Quality control with PerlCritic
                                   Added document number.
                                   Added TG as Typeglob</pre>
<pre>Note that on 2011-06-20 the revision style was changed back to A, B and so on.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DVTFunc'>DVTFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='GetTGData'></a><h2>GetTGData</h2>

<pre> GetTGData();

</pre>
<pre>SUBROUTINE  : GetTGData
DESCRIPTION : Fills %TG with TG and cell data used throughout this program.
              Data is read from the TG itself, from the DVT and from the OMT.</pre>
<pre>              Example: GetTGData();
                       GetTGData('DVT', 'OMT');

</pre>
<pre>IN  : Any combination of 'DVT', 'OMT' and 'Site'.
OUT :</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>AbiscoFunc2</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 9/190 55-CAH 161 1290/1 Uen
MODULE      : AbiscoFunc2.pm
DESCRIPTION : This module contains functions that in use should resemble
              those in Abisco. Functions in this module shall have no
              dependencies on other modules except for Globals and PerlFunc.</pre>
<pre>              - GetSeveral is a variation of Get_And_Count. It returns lists
                containing signals, arrival times e.t.c. which can be
                searched. It returns also a status which is quite useful.

              - GetPARList makes PAR parameters visible to other modules
                without having to specify them in the other modules.

</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE       NAME      REVIEW    COMMENT
PA1   20051128   ERADIPE             First revision
P1A   20080319   ERABAHG             New revision
A     20111018   XTOBSEM   ETORWIL   Updated to new script template
                                      Quality control with PerlCritic
                                      Added document number.
                                      Changed order of timeout check in GetSeveral
B     20120229   XMAROHM   ETORWIL   Updated GetSeveral due to TR: HP54734</pre>
<pre>Note that on 2011-06-20 the revision style was changed back to A, B and so on.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='GetPARList'></a><h2>GetPARList</h2>

<pre> GetPARList();

</pre>
<pre>SUBROUTINE  : GetPARList
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='GetSeveral'></a><h2>GetSeveral</h2>

<pre> GetSeveral();

</pre>
<pre>SUBROUTINE  : GetSeveral
DESCRIPTION : Example calls:</pre>
<pre>           $SignalList = GetSeveral(BTSConn =&gt; $BTS1,
                                    Timeout =&gt; 30,
                                    Until   =&gt; {Message =&gt; 'PROMPT'});

           $SignalList = GetSeveral(BTSConn =&gt; $BTS1,
                                    Expect  =&gt; [{Message =&gt; 'Accept'},
                                                {Message =&gt; 'RFResourceIndication'}],
                                    Upto    =&gt; [1, 3],
                                    Timeout =&gt; 10);

           $SignalList = GetSeveral(BTSConn =&gt; $BTS1,
                                    Expect  =&gt; [{Message =&gt; 'Accept'},
                                                {Message =&gt; 'RFResourceIndication'}]);

           -  {BTSConn} is mandatory.
           -  {Expect} shall contain a list of hashes ready for Assert_True.
           -  {Upto} may exist if {Expect} exists in which case GetSeveral tries to catch all the
               expected signals, or may not exist in which case GetSeveral returns when the first
               signal in the expected list arrives.
           -  {Until} is a hash ready for Assert_True.
           -  {Expect} and {Until} can coexist.
           -  {Timeout} defaults to 10 minutes. Upon exiry of the timeout the function returns.

           Returned from GetSeveral is a reference to a hash with entries the
           signal names that were received. Five additional entries are supplied:

             {Status}   : 'TIMED OUT' || 'UNTIL SIGNAL RECEIVED' || 'EXPECTED SIGNALS RECEIVED' || 'ONE SIGNAL RECEIVED'
             {Signals}  : e.g. {Accept =&gt; 1, RFResourceIndication =&gt; 3, FaultReport =&gt; 2}
                          indicating the number of signals of each sort that were received.
             {Sequence} : [[RFResourceIndication, 1],
                           [FaultReport, 1],
                           [Accept, 1],
                           [FaultReport, 2],
                           [RFResourceIndication, 2],
                           [RFResourceIndication, 3]]
             {Answer}   : If {Expect} is supplied without {Upto}, then entry {Answer} shows the
                          signal that was caught. Entry {Status} indicates 'ONE SIGNAL RECEIVED'.
             {Response} : Is the message taged as RESP.
                          Relevant only when a RESP is received (e.g. when waiting for RESP).
                          If a RESP has not been received then this is set to 'undef'.

           The signals look like this:
             {Accept}{001}
             {FaultReport}{001}
             {RFResourceIndication}{001}
             {RFResourceIndication}{002}
             {FaultReport}{002}
             {RFResourceIndication}{003}

           The first entry is $ReceivedSignal (e.g. Accept, FaultReport, ACK).
           After that follows the sequence number formatted in three digits.
           Each entry above is a hash having two entries: {Sig} and {Time}. Entry Sig is the
           signal as received with a little modification done for Abis signals, PROMPT's etc.
           This is done for simplification, we would like for instance to be able to say:

               Expect =&gt; [{Message =&gt; 'ChannelActAck__ABIS_UL'},
                          {Message =&gt; 'PROMPT'}]

           Messages tagged as RESP, ERR, SPONT and REPORT will set $ReceivedSignal to $Resp-&gt;{Message}.

           Messages tagged as ABIS_DL and ABIS_UL will set $ReceivedSignal to the signal name extracted
           from $Resp-&gt;{Message} and concatenated with the tag, e.g. 'NegotiationRequest__ABIS_DL'.
           Under {Sig} there are only three keys: 'TimeStamp(ms)', 'Data (Hex)' and 'Data (Text)' which
           are extracted from $Resp-&gt;{Message}. All other keys are deleted and {Message} is set to
           $ReceivedSignal (to be able to do Assert).

           All other tags, e.g. ACK or ECHO, set $ReceivedSignal to $Resp-&gt;{Tag}. No relevant data
           is saved under {Sig}. $Resp-&gt;{Message} is set to the tag.


</pre>
<pre>IN     : See example above.
OUT    :</pre>
<a name='GreaterOrEqual'></a><h2>GreaterOrEqual</h2>

<pre> GreaterOrEqual();

</pre>
<pre>SUBROUTINE  : GreaterOrEqual
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>AbiscoFunc3</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 10/190 55-CAH 161 1290/1 Uen
MODULE      : AbiscoFunc3.pm
DESCRIPTION : Contains only MGetSeveral, a multi-threaded version of
              GetSeveral.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE      NAME      REVIEW    COMMENT
PA1   20051128  ERADIPE             First revision
PA3   20080213  XRSJALI             From ver13 on GSMRBS disk
P1A   20080319  ERABAHG             Merged from \dev_08a. New rev
A     20110819  XLEIMAR   ETORWIL   Updated to new script template,
                                     Quality control with PerlCritic
                                     Added document number.
                                     Removed global $T0.
                                     Removed unecessary imports.
                                     Changed die to croak.
                                     Replaced // with m{} and
                                      s/// with s{}{} for all regexps.</pre>
<pre>Note that on 2011-06-20 the revision style was changed back to A, B and so on.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Win32'>Win32</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Thread::Semaphore'>Thread::Semaphore</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Thread::Queue'>Thread::Queue</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?threads'>threads</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='CheckDoubleSignals'></a><h2>CheckDoubleSignals</h2>

<pre> CheckDoubleSignals();

</pre>
<pre>SUBROUTINE  : CheckDoubleSignals
DESCRIPTION : Two signals are considered duplicates if they are identical
              and they occur across threads within 50 ms. (In practice I
              haven't seen them to occur more than 20 ms in between.)
IN  :
OUT :</pre>
<a name='GreaterOrEqual'></a><h2>GreaterOrEqual</h2>

<pre> GreaterOrEqual();

</pre>
<pre>SUBROUTINE  : GreaterOrEqual
DESCRIPTION :
IN  :
OUT :</pre>
<a name='MGetSeveral'></a><h2>MGetSeveral</h2>

<pre> MGetSeveral();

</pre>
<pre>SUBROUTINE :MGetSeveral
DESCRIPTION:There is essentially only one reason to use this function:
           The ability to send a signal while waiting for another signal.
           As an example, wait until signal X is received and if, in between,
           signal Y is received, send signal Z. Sending signal Z requires
           the second BTS connection which for us is a new thread of execution.</pre>
<pre>           The process that called MGetSeveral is called the "main thread"
           as it executes the main loop in this module.
           The threads started by the main thread to handle each BTS connection
           are called just "threads". Each BTS connection supports its own input
           queue of signals. The thread handling the BTS connection will put
           these signals in its hash entry of received signals. Function
           MGetSeveral returns a reference to a hash that has at the top level
           entries for each BTS connection, called '0', '1', or more, plus entry 'B'.
           There are also some more entries to display statistics.

           The CH is only aware of a number of BTS connections, not any threads.
           Responses received from the CH that are tagged as RESP can be addressed
           to the correct BTS connection, while all other messages tagged as
           e.g. SPONT are broadcasted to all active BTS connections. This is because
           the CH cannot decide which BTS connection is the recipient of the signal,
           and results in duplicated signals in the input queues of the different
           BTS connections.

           When the exit criteria are met and the function is about to exit,
           a routine is called to check if signals are duplicated across the
           different BTS connections. The mechanism is fairly simple and it will
           put the duplicate signals under entry 'B' and also remove these signals
           from the BTS connections queue where they occur.


           EXAMPLES:
           $L = MGetSeveral(BTSConn =&gt; [$BTS, $BTS1],
                            Expect  =&gt; [[{Message =&gt; 'Accept'},
                                         {Message =&gt; 'RFResourceIndication'}],
                                        [{Message =&gt; 'ABORT_SP_CFM'}]],
                            CheckDouble =&gt; 'YES',
                            Upto    =&gt; [[1, 3], [1]],
                            Timeout =&gt; [30, 30],
                            Until   =&gt; [{Message =&gt; 'Reject'}, {Message =&gt; 'PROMPT'}]);

           $BTS-&gt;Put(restart TG);
           $L = MGetSeveral(BTSConn =&gt; [$BTS, $BTS1],
                            Send    =&gt; {When =&gt; {Conn =&gt; 0,
                                                 Message =&gt; 'FaultReport',
                             Routing =&gt; {TRXC =&gt; 1},
                          MOClass =&gt; 'RX',
                          IntFaultMapClass2A =&gt; {FaultMap =&gt; [2, 0, 0, 0, 0, 0]}},
                                        What =&gt; {Conn =&gt; 1,
                                                 List =&gt; [{Server =&gt; 'DVT', Message =&gt; 'Command', String =&gt; Str('TRX0:PPC')},
                                                          {Server =&gt; 'DVT', Message =&gt; 'Command', String =&gt; Str('cma read 10590')},
                                                          {Server =&gt; 'DVT', Message =&gt; 'Command', String =&gt; Str('cma read 10990')}]},
                            Timeout =&gt; [3 * 60, 3 * 60],
                            Until   =&gt; [{Message =&gt; 'PROMPT'}, {}]);

           Here we make a restart, and when a specific FaultReport is received, a certain sequence
           shall be executed. Every command stated in the sending sequence must result in a PROMPT
           in order for the subsequent command to be sent.


           NOTE:
           - Do not use a {Send} on a thread that is used for any other purpose. That BTS connection
             blocks at Do/Put and can not be used.

           - If Abis logging is enabled during MGetSeveral, the execution can be suffering if a lot
             signaling is ongoing.


           OUTPUT:
           Returned from MGetSeveral is a reference to a hash containing
           following keys (as example):

            {NrBTSConn}: Number of BTS connections (in the examples above it is 2)

            {Status}   : [status code for first BTS connection, status code for second BTS connection, ...]
                         The status code is one of:
                            'Unknown' || 'Timed out' || 'Until signal received' || 'All signals received'

            {Signals}  : {S1 =&gt; [a1, b1, ...],
                          ...
                          S2 =&gt; [a2, b2, ...]}

                         where Sn are signals, and an, bn etc are occurences on each thread.
                         Background thread is last.

            {Sequence} : [[S1, occurance, thread],
                          ...
                          [S2, occurance, thread]]

            {0}{RFResourceIndication}{001}{Sig}  : ref to first signal RFResourceIndication (first BTS conn).
                                                   The whole signal hash is found here.
            {0}{RFResourceIndication}{001}{Time} : time stamp for first signal RFResourceIndication (first BTS conn).
                                                   The time stamp is relative to the time when MGetSeveral was
                                                   entered and is given in milliseconds.
            etc

            In {0}{RFResourceIndication}{001}{Sig}, the first key  indicates the BTS connection,
            0 counting is used. There exists also thread "B" where all background signals are put.

</pre>
<pre>IN     :
OUT     :</pre>
<a name='PrepareArguments'></a><h2>PrepareArguments</h2>

<pre> PrepareArguments();

</pre>
<pre>SUBROUTINE  :PrepareArguments
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='Receive'></a><h2>Receive</h2>

<pre> Receive();

</pre>
<pre>SUBROUTINE  : Receive
DESCRIPTION :
IN  :
OUT :</pre>
<a name='TempStoreSignal'></a><h2>TempStoreSignal</h2>

<pre> TempStoreSignal();

</pre>
<pre>SUBROUTINE  : TempStoreSignal
DESCRIPTION :
IN  :
OUT :</pre>
<a name='UpdateStatistics'></a><h2>UpdateStatistics</h2>

<pre> UpdateStatistics();

</pre>
<pre>SUBROUTINE  : UpdateStatistics
DESCRIPTION :
IN  :
OUT :</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>BTSCapabilities</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>&lt;Document number: XX/190 55-CAH 161 1607/1 Uen&gt;
MODULE      : BTSCapabilities
DESCRIPTION : Provides routines for reading, evaluating and storing
              MO Capabilities on the BTS.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME                    REVIEW    COMMENT
PA1 20130517  XPATHIL                 XHENRMA   First preliminary version
                                                Supports subs SaveCapabilitiesInFile, GetCapabilities,
                                                GetAndSaveCapabilities and CheckCapabilityAttributes.
                                                Left MCTRRecord subs for future versions.
                                                Perlcritic was applied.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?charnames'>charnames</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='AnalyzeAlarmInfo'></a><h2>AnalyzeAlarmInfo</h2>

<pre> AnalyzeAlarmInfo();

</pre>
<pre>SUBROUTINE  : AnalyzeAlarmInfo
DESCRIPTION : AnalyzeInfo help function</pre>
<a name='AnalyzeFNOffsetARFCNInfo'></a><h2>AnalyzeFNOffsetARFCNInfo</h2>

<pre> AnalyzeFNOffsetARFCNInfo();

</pre>
<pre>SUBROUTINE  : AnalyzeFNOffsetARFCNInfo
DESCRIPTION : AnalyzeInfo help function</pre>
<a name='AnalyzeICPAttr1'></a><h2>AnalyzeICPAttr1</h2>

<pre> AnalyzeICPAttr1();

</pre>
<pre>SUBROUTINE  : AnalyzeICPAttr1
DESCRIPTION : AnalyzeInfo help function</pre>
<a name='AnalyzeICPGroupCapacity'></a><h2>AnalyzeICPGroupCapacity</h2>

<pre> AnalyzeICPGroupCapacity();

</pre>
<pre>SUBROUTINE  : AnalyzeICPGroupCapacity
DESCRIPTION : AnalyzeInfo help function</pre>
<a name='AnalyzeInfo'></a><h2>AnalyzeInfo</h2>

<pre> AnalyzeInfo();

</pre>
<pre>SUBROUTINE  : AnalyzeInfo
DESCRIPTION : Decode each input in Capabalities and save in @CapabilitiesSummary</pre>
<pre>IN  : Attribute Recorded
OUT : None, Output will be written in the file</pre>
<a name='AnalyzeOMLRSLFunctions'></a><h2>AnalyzeOMLRSLFunctions</h2>

<pre> AnalyzeOMLRSLFunctions();

</pre>
<pre>SUBROUTINE  : AnalyzeOMLRSLFunctions
DESCRIPTION : AnalyzeInfo help function</pre>
<a name='AnalyzeTCHCapabilitiesInfo'></a><h2>AnalyzeTCHCapabilitiesInfo</h2>

<pre> AnalyzeTCHCapabilitiesInfo();

</pre>
<pre>SUBROUTINE  : AnalyzeTCHCapabilitiesInfo
DESCRIPTION : AnalyzeInfo help function</pre>
<a name='AnalyzeTFMCTRRDivInfo'></a><h2>AnalyzeTFMCTRRDivInfo</h2>

<pre> AnalyzeTFMCTRRDivInfo();

</pre>
<pre>SUBROUTINE  : AnalyzeTFMCTRRDivInfo
DESCRIPTION : AnalyzeInfo help function</pre>
<a name='AnalyzeTXChainDelay'></a><h2>AnalyzeTXChainDelay</h2>

<pre> AnalyzeTXChainDelay();

</pre>
<pre>SUBROUTINE  : AnalyzeTXChainDelay
DESCRIPTION : AnalyzeInfo help function</pre>
<a name='AnalyzeTxRxSupport'></a><h2>AnalyzeTxRxSupport</h2>

<pre> AnalyzeTxRxSupport();

</pre>
<pre>SUBROUTINE  : AnalyzeTxRxSupport
DESCRIPTION : AnalyzeInfo help function</pre>
<a name='CheckCapabilityAttributes'></a><h2>CheckCapabilityAttributes</h2>

<pre> CheckCapabilityAttributes();

</pre>
<pre>SUBROUTINE  : CheckCapabilityAttributes
DESCRIPTION : Checks the capabilities of MO. Returns 0 or 1 if Function
              is supported.</pre>
<pre>IN  : Optionally one or more of the following
      keys:     TGId, TRXC (for TRXC Capabilities), MO, Map, Index (Bit No.),
                PrintLogSupported =&gt; 'On' or 'Off'
OUT : 1 or 0
2do : Check Index value</pre>
<a name='DecodeAttribute'></a><h2>DecodeAttribute</h2>

<pre> DecodeAttribute();

</pre>
<pre>SUBROUTINE  : DecodeAttribute
DESCRIPTION : To decode an attributed record in Capabilities Result</pre>
<pre>IN  : Attribute Recorded
OUT : None, Output will be written in the file</pre>
<a name='DecodeMCTRRecord'></a><h2>DecodeMCTRRecord</h2>

<pre> DecodeMCTRRecord();

</pre>
<pre>Subroutine:   DecodeMCTRRecord
Purpose:
Input:  %RefMCTRCaps
Output:</pre>
<a name='FetchAttribute'></a><h2>FetchAttribute</h2>

<pre> FetchAttribute();

</pre>
<pre>SUBROUTINE  : FetchAttribute
DESCRIPTION : Pick up one Attribute (Id, Length and Info) from the %RespBuffer buffer</pre>
<pre>IN  : uses @MOClass (global) and %RespBuffer (global)
OUT : @Att (Attribute buffer) and @CapabilitiesSummary (Cap. summary)</pre>
<a name='GetAndSaveCapabilities'></a><h2>GetAndSaveCapabilities</h2>

<pre> GetAndSaveCapabilities();

</pre>
<pre>SUBROUTINE  : GetAndSaveCapabilities
DESCRIPTION : Capabilities Request and Save Capability Attributes to file</pre>
<pre>IN  : Optionally one or more of the following
      keys:     TGId, TRXC, MO, Inst, (SaveToFile), (PrintToLogg)
          * use SaveToFile = 'FALSE' if no file with capabilities is wanted!
OUT : %Capabilities, %CFCapabilities (global) alternatively %TRXCCapabilities (global)</pre>
<a name='GetCapabilities'></a><h2>GetCapabilities</h2>

<pre> GetCapabilities();

</pre>
<pre>SUBROUTINE  : GetCapabilities
DESCRIPTION :</pre>
<pre>IN  : TGNr and TRXC, MO (default CF)
OUT : @CapabilitiesSummary</pre>
<a name='GetDateTimeForFileName'></a><h2>GetDateTimeForFileName</h2>

<pre> GetDateTimeForFileName();

</pre>
<pre>SUBROUTINE  : GetDateTimeForFileName
DESCRIPTION : Formats date and time</pre>
<pre>IN  : None
OUT : Formatted string with date and time YYYYMMDD_HHMMSS</pre>
<a name='GetMCTRRecords'></a><h2>GetMCTRRecords</h2>

<pre> GetMCTRRecords();

</pre>
<pre>FUNCTION : GetMCTRRecords
COMMENT  : Returns MCTRRecords from Capabilities in CF
IN         -
OUT      : @MCTRRecords</pre>
<a name='MakeBin'></a><h2>MakeBin</h2>

<pre> MakeBin();

</pre>
<pre>SUBROUTINE  : MakeBin
DESCRIPTION : To convert an 8 bit integer to a binary string</pre>
<pre>IN  : Integer
OUT : Binary as string</pre>
<a name='SaveCapabilitiesInFile'></a><h2>SaveCapabilitiesInFile</h2>

<pre> SaveCapabilitiesInFile();

</pre>
<pre>SUBROUTINE  : SaveCapabilitiesInFile
DESCRIPTION : Stores Capabilities in file</pre>
<pre>IN  : MO, Filename, Capabilities
OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>BTSFunc</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 11/190 55-CAH 161 11290/1 Uen
MODULE      : BTSFunc.pm
DESCRIPTION : Contains routines to be performed on a BTS,
              e.g. restarts, loadings etc.</pre>
<pre>COPYRIGHT &Acirc;&copy; : ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE       NAME     REVIEW  COMMENT
PA1   20051128   ERADIPE          First revision
PA2   20060426   ERADIPE          Conforms to README
P1A   20080319   ERABAHG          Merged with \dev_08a. New rev
P1B   20080401   XRSJALI          Implementing CR 5761.
P1C   20080416   ERABAHG          Merged to main
P1D   20080418   ERABAHG          OrderedResetCF =&gt; 'ON', chenged to 'OFF'
                                  in CompleteStart.
P1D_1A20080624   XRSJALI          Implementing CR 5755.
P1D_1B20080804   XMATTEK          TS Reconfig added.
P1E   20080904   ERABAHG          Merged to main
P1E_1A20081118   XRSJALI          Implementing CR 5963.
P1F   20081121   XRSJALI          Merged to main
P1G   20090603   ERATZIS          Added DeallocateICPifTDMmode,
                                  AllocateICPifTDMmode, GetAbisModeAndConfig,
                                  CheckChCombType, UpdateCellCombType.
P1H   20090604   ERATZIS          Added Global DEBUG
P1J   20090604   ERATZIS          Updated UpdateCellCombType,
                                  imported psdatafunc.
P1K   20090806   ERATZIS          Updated header, added ChRelBTS,
                                   MeasurementReports, ConnectToMSSIM,
                                   ChActBTS, ChActMSSIM, ChRelMSSIM,
                                   CheckIfMeasResultMessages,
                                   CheckIfMeasReportInMeasResult,
                                   CheckIfMeasResultOnABIS, CreateParamHash.
P1L   20091101   ERAHEIK          Add parameter to CreateParamHash
A     20110928   XSOFFRO  XGUSTPE Applied new script template, perlcritic
                                   Added document number.
                                   Added catch of eval error around lock_keys.
                                   Exchanged HandleLogg with print.
                                   Fixed logging so that Log is used instead of WriteLog
                                   In UpdateCellCombType initialized @tempArr
                                   to an empty array instead of undef.</pre>
<pre>Note that on 2011-06-20 the revision style was changed back to A, B and so on.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?psdatafunc'>psdatafunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?HelpFunc'>HelpFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Msg'>Msg</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='AllocateICPifTDMmode'></a><h2>AllocateICPifTDMmode</h2>

<pre> AllocateICPifTDMmode();

</pre>
<pre>SUBROUTINE  : AllocateICPifTDMmode
DESCRIPTION : If TDM mode and Dynamic config it allocates ICP</pre>
<pre>IN  : $AbisMode
      $Config
      $DLEncoding
      $ULEncoding
OUT : $ICP
      $CI</pre>
<a name='BTSCompleteStart'></a><h2>BTSCompleteStart</h2>

<pre> BTSCompleteStart();

</pre>
<pre>SUBROUTINE  : BTSCompleteStart
DESCRIPTION : Runs a complete startup of the BTS by calling function
              CompleteStart. Afterwards, a check is made to see if all
              devices were also brought up by sending Status Request to each
              and one of them. If devices were unsuccessfully started, they
              are restarted again, up to three times.</pre>
<pre>IN  : %Input
OUT : $OK       1, 0</pre>
<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>SUBROUTINE  : ChActBTS
DESCRIPTION : To activate a channel in the BTS</pre>
<pre>IN  : %Param
OUT : None</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>SUBROUTINE  : ChActMSSIM
DESCRIPTION : To activate a channel in the MSSIM</pre>
<pre>IN  : %Param          see main program for description
OUT : CcId</pre>
<a name='ChRelBTS'></a><h2>ChRelBTS</h2>

<pre> ChRelBTS();

</pre>
<pre>SUBROUTINE  : ChRelBTS
DESCRIPTION : To release a channel in the BTS</pre>
<pre>IN  : $ChType
OUT : None</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>SUBROUTINE  : ChRelMSSIM
DESCRIPTION : To release a channel in the MSSIM</pre>
<pre>IN  : $Timeout
      $CcId
OUT : None</pre>
<a name='CheckChCombType'></a><h2>CheckChCombType</h2>

<pre> CheckChCombType();

</pre>
<pre>SUBROUTINE  : CheckChCombType
DESCRIPTION : Checks that the Cell config Comb Type equals $CombType.
              If needed it performs a call to UpdateCellCombType</pre>
<pre>IN  : $CombType
      $No_trx
      $Band
      $BcchNo
      $Bspwrb
      $Bspwrt
      $TrxcList
      @ARFCN_array
OUT : Will die if errors found</pre>
<a name='CheckIfMeasReportInMeasResult'></a><h2>CheckIfMeasReportInMeasResult</h2>

<pre> CheckIfMeasReportInMeasResult();

</pre>
<pre>SUBROUTINE  : CheckIfMeasReportInMeasResult
DESCRIPTION : Checks that if Measurement Report is sent from MS to BTS</pre>
<pre>IN  : State             1, 0
OUT : None</pre>
<a name='CheckIfMeasResultMessages'></a><h2>CheckIfMeasResultMessages</h2>

<pre> CheckIfMeasResultMessages();

</pre>
<pre>SUBROUTINE  : CheckIfMeasResultMessages
DESCRIPTION : Checks if Measurement Result messages arrives on not</pre>
<pre>IN  : State             1, 0
OUT : None</pre>
<a name='CheckIfMeasResultOnABIS'></a><h2>CheckIfMeasResultOnABIS</h2>

<pre> CheckIfMeasResultOnABIS();

</pre>
<pre>SUBROUTINE  : CheckIfMeasResultOnABIS
DESCRIPTION : Checks that No Measurement Result is sent on ABIS</pre>
<pre>IN  : State           1, 0
OUT : None</pre>
<a name='CheckLinkStatus'></a><h2>CheckLinkStatus</h2>

<pre> CheckLinkStatus();

</pre>
<pre>SUBROUTINE  : CheckLinkStatus
DESCRIPTION : Initializes entry $TG{LinkStatusError}.
              Faulty devices will be saved under this entry.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Check_2308'></a><h2>Check_2308</h2>

<pre> Check_2308();

</pre>
<pre>SUBROUTINE  : Check_2308
DESCRIPTION : For a 2308 the receiver diversity is set to 'A'</pre>
<pre>IN  : %Input
OUT :</pre>
<a name='CompleteStart'></a><h2>CompleteStart</h2>

<pre> CompleteStart();

</pre>
<pre>SUBROUTINE  : CompleteStart
DESCRIPTION : Runs a complete startup of the RBS</pre>
<pre>IN  : %AD     complete start specific data
OUT : $Ret    1, 0</pre>
<a name='ConfigureFAS'></a><h2>ConfigureFAS</h2>

<pre> ConfigureFAS();

</pre>
<pre>SUBROUTINE  : ConfigureFAS
DESCRIPTION :</pre>
<pre>IN  : %AD       Key _TRXC is mandatory
OUT : $Resp     the signal list as returned by GetSeveral</pre>
<a name='ConnectToMSSIM'></a><h2>ConnectToMSSIM</h2>

<pre> ConnectToMSSIM();

</pre>
<pre>SUBROUTINE  : ConnectToMSSIM
DESCRIPTION : Just a wrapper to mssimConfig in order to avoid MSSIM sub
              imports in main.</pre>
<pre>IN  : $MsId
      $TG
      $TRXC
OUT : $Cell</pre>
<a name='CreateParamHash'></a><h2>CreateParamHash</h2>

<pre> CreateParamHash();

</pre>
<pre>SUBROUTINE  : CreateParamHash
DESCRIPTION : Subroutine for Creating the necessary Parameter Hash.
              This is used as input by many subroutines. Extra parameters
              are added from invoke list.</pre>
<pre>IN  : Globals
OUT : %Param</pre>
<a name='DeallocateICPifTDMmode'></a><h2>DeallocateICPifTDMmode</h2>

<pre> DeallocateICPifTDMmode();

</pre>
<pre>SUBROUTINE  : DeallocateICPifTDMmode
DESCRIPTION : If TDM mode and Dynamic config it deallocates ICP</pre>
<pre>IN  : $AbisMode
      $Config
OUT : None</pre>
<a name='GetAbisModeAndConfig'></a><h2>GetAbisModeAndConfig</h2>

<pre> GetAbisModeAndConfig();

</pre>
<pre>SUBROUTINE  : GetAbisModeAndConfig
DESCRIPTION : Gets the Abis Mode and Config type (Dynamic/Static)</pre>
<pre>IN  : None
OUT : $AbisMode
      $Config</pre>
<a name='LoadBTS_SW'></a><h2>LoadBTS_SW</h2>

<pre> LoadBTS_SW();

</pre>
<pre>SUBROUTINE  : LoadBTS_SW
DESCRIPTION : The output of this routine is the status flag:</pre>
<pre>              - 'Load OK'
              - 'Load failed'  due to LoadSoftwareReject
              - 'Load error'   due to time out error?

</pre>
<pre>IN  : %AD
OUT : 'Load OK', 'Load failed', 'Load error'</pre>
<a name='LoadOneBTSFile'></a><h2>LoadOneBTSFile</h2>

<pre> LoadOneBTSFile();

</pre>
<pre>SUBROUTINE  : LoadOneBTSFile
DESCRIPTION : File is one of:
                  ZFI, ZFJ, DXP, DXL, TRP, TRL, TRB, TRX e.t.c.</pre>
<pre>              Special cases: ZF*, DX*, TR*, EC*
                  ZF* means ZFJ if DXU is PPC, otherwise ZFI
                  DX* means DXP if DXU is PPC, otherwise DXL
                  TR* means TRP if DXU is PPC, otherwise TRL
                  EC* means ECA if DXU is PPC, otherwise ECL

              If $AD{SW} is specified then the RU file will be taken from
              this load module, otherwise $TG{SW} is the load module meant.

              If DXU is PPC and TR* is specified, TRP file will be loaded
              even if the case could be that all devices are cTRU's and the
              desired RU file would rather be the TRL. In such case you have
              to say explicitly {File =&gt; 'TRL'}.
              The full name of the file is obtained from PROGPROD.

              OBSERVE: If not calling from within repstab/rbschar/rbsstab,
                       specify $AD{Project} !

</pre>
<pre>IN  : %AD     list with options.
OUT : One of:
      - 'List file error'  : corresponding load file module does not exist
                             in PROGPROD (could be a project specification
                             error)
      - 'File not in list' : the specific load file requested is not
                             included in the list of load files specified
                             in PROGPROD.
      - 'Load error'       : loading of the load file has commenced but a
                             PROMPT has not been received within the time
                             frame specified.
      - 'Load failed'      : load has been completed but the result is
                             negative.
      - 'Load OK'          : load has been successfully completed
      - 1                  : the function has successfully issued the
                             loading command and will not await the
                             reception of any answer.</pre>
<a name='LoadTG'></a><h2>LoadTG</h2>

<pre> LoadTG();

</pre>
<pre>SUBROUTINE  : LoadTG
DESCRIPTION : Load a TG from file</pre>
<pre>IN  : $TGFile       File name of saved TG
OUT : None</pre>
<a name='MeasurementReports'></a><h2>MeasurementReports</h2>

<pre> MeasurementReports();

</pre>
<pre>SUBROUTINE  : MeasurementReports
DESCRIPTION : Turns on Measurement Reporting</pre>
<pre>IN  : State         1, 0
OUT : None</pre>
<a name='ModifyTG'></a><h2>ModifyTG</h2>

<pre> ModifyTG();

</pre>
<pre>SUBROUTINE  : ModifyTG
DESCRIPTION :</pre>
<pre>IN  : %NewData        Additional data
OUT : None</pre>
<a name='SendStatusRequest'></a><h2>SendStatusRequest</h2>

<pre> SendStatusRequest();

</pre>
<pre>SUBROUTINE  : SendStatusRequest
DESCRIPTION : Sends the message and if message ABORT_LINK_ERROR was returned
              if pushes in key LinkStatusError the relevant MO.</pre>
<pre>IN  : $TRXC
      $MO
      $Inst
OUT : Updates $TG-&gt;{LinkStatusError}</pre>
<a name='SetCFSharing'></a><h2>SetCFSharing</h2>

<pre> SetCFSharing();

</pre>
<pre>SUBROUTINE  : SetCFSharing
DESCRIPTION : This function will only build and return a hash.
              The main program will send the actual signal.</pre>
<pre>IN  : _Sharing      'On', 'Off'
OUT : None</pre>
<a name='SetTF_FSOffset'></a><h2>SetTF_FSOffset</h2>

<pre> SetTF_FSOffset();

</pre>
<pre>SUBROUTINE  : SetTF_FSOffset
DESCRIPTION :</pre>
<pre>IN  : %AD
OUT : None</pre>
<a name='TRXReportingControl'></a><h2>TRXReportingControl</h2>

<pre> TRXReportingControl();

</pre>
<pre>SUBROUTINE  : TRXReportingControl
DESCRIPTION : This signal is used to add some more load when running
              rbs_char. Not be used prior to R10.
              (this ought to be tested here)
              PC : Paging Counters.
              CU : Code Utilization (for AMR).</pre>
<pre>IN  : $LoadType      loading type 'NORMAL' e.t.c.
OUT : None</pre>
<a name='TSReconfigure'></a><h2>TSReconfigure</h2>

<pre> TSReconfigure();

</pre>
<pre>SUBROUTINE  : TSReconfigure
DESCRIPTION :</pre>
<pre>IN  : $TG
      $TRXC
      $TS               Timeslot
      $Duration         Duration in minutes
OUT :</pre>
<a name='UpdateCell'></a><h2>UpdateCell</h2>

<pre> UpdateCell();

</pre>
<pre>SUBROUTINE  : UpdateCell
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='UpdateCellCombType'></a><h2>UpdateCellCombType</h2>

<pre> UpdateCellCombType();

</pre>
<pre>SUBROUTINE  : UpdateCellCombType
DESCRIPTION : Updates TG0 cell0 BCCHcomb to $CombType.</pre>
<pre>IN  : $CombType
      $No_trx
      $Band
      $BcchNo
      $Bspwrb
      $Bspwrt
      $TrxcList
      @ARFCN_array
OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>BTSUtilities</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>&lt;Document number: XX/190 55-CAH 161 1607/1 Uen&gt;
MODULE      : BTSUtilities
DESCRIPTION : Provides basic BTS routines like CompleteStart,
              ChannelActivation etc.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
A   20120330  XLEIMAR   XTOBSEM   First release
B   20120524  XANSBEM   XSOFFRO   Added SI-List to CompleteStart</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='new'></a><h2>new</h2>

<pre> $self-&gt;new();

</pre>
<pre>SUBROUTINE  : new
DESCRIPTION : Constructor</pre>
<pre>IN  : $Class           BTSUtilities class
      $Arg{BTS}        Abisco connection</pre>
<pre>      Example:
        my $BTSutil = BTSUtilities-&gt;new(BTS =&gt; $BTS);

</pre>
<pre>OUT : The object reference</pre>
<a name='ChannelAct'></a><h2>ChannelAct</h2>

<pre> $self-&gt;ChannelAct();

</pre>
<pre>SUBROUTINE  : ChannelActBTS
DESCRIPTION : To activate a channel in the BTS</pre>
<pre>IN  : Hash (See %Config below for allowed inputs)
        ChAct    - Type of channel activation (Mandatory input):
                   'AsyncHandover'
                   'ImmediateAssign'
                   'NormalAssign'
                   'PacketChannel'
                   'SecChannelMulti'
                   'VGCSChannel'
        Optional - Reference to a hash containing the elements which are,
                   according to the IWD, optional for the channel
                   activation. See %Optional below for the allowed elemets.
                   Note! All of the elements are not allowed for some
                   kinds of channel activation. E.g. the element
                   'PGSLTimersStruct' is only allowed for
                   ChannelActPacketChannel (see IWD for details).</pre>
<pre>OUT : Hash
        Result - value 0 if routine was successfull
        Reason - Error message if routine failed</pre>
<a name='ChannelRelease'></a><h2>ChannelRelease</h2>

<pre> $self-&gt;ChannelRelease();

</pre>
<pre>SUBROUTINE  : ChannelRelease
DESCRIPTION : To release a channel in the BTS</pre>
<pre>IN  : Hash (See %Config below for allowed inputs)
OUT : Hash
        Result - value 0 if routine was successfull
        Reason - Error message if routine failed</pre>
<a name='ChannelReleaseAll'></a><h2>ChannelReleaseAll</h2>

<pre> $self-&gt;ChannelReleaseAll();

</pre>
<pre>SUBROUTINE  : ChannelReleaseAll
DESCRIPTION : To release all channels in the BTS</pre>
<pre>IN  : Hash (See %Config below for allowed inputs)
OUT : Hash
        Result - value 0 if routine was successfull
        Reason - Error message if routine failed</pre>
<a name='CheckChCombType'></a><h2>CheckChCombType</h2>

<pre> $self-&gt;CheckChCombType();

</pre>
<pre>SUBROUTINE  : CheckChCombType
DESCRIPTION : Checks that the Cell config Comb Type equals $CombType.
              If needed it performs a call to UpdateCellCombType</pre>
<pre>IN  : $CombType
      $Band
      $BcchNo
      $Bspwrb
      $Bspwrt
      @ARFCN_array
OUT : Hash
        Result - value 0 if routine was successfull
        Reason - Error message if routine failed</pre>
<a name='CompleteStart'></a><h2>CompleteStart</h2>

<pre> $self-&gt;CompleteStart();

</pre>
<pre>SUBROUTINE  : CompleteStart
DESCRIPTION : Runs a complete startup of the RBS</pre>
<pre>IN  : %Input  Complete start specific data, see hash Config below for
              the allowed inputs.
OUT : Hash
        Result - value 0 if routine was successfull
        Reason - Error message if routine failed</pre>
<a name='UpdateCell'></a><h2>UpdateCell</h2>

<pre> $self-&gt;UpdateCell();

</pre>
<pre>SUBROUTINE  : UpdateCell
DESCRIPTION :</pre>
<pre>IN  : %Input  Update cell specific data, see hash Config below for
              the allowed inputs.
OUT : Hash
        Result - value 0 if routine was successfull
        Reason - Error message if routine failed</pre>
<a name='UpdateCellCombType'></a><h2>UpdateCellCombType</h2>

<pre> $self-&gt;UpdateCellCombType();

</pre>
<pre>SUBROUTINE  : UpdateCellCombType
DESCRIPTION : Updates TG0 cell0 BCCHcomb to $CombType.</pre>
<pre>IN  : $CombType
      $Band
      $BcchNo
      $Bspwrb
      $Bspwrt
      @ARFCN_array
OUT : Hash
        Result - value 0 if routine was successfull
        Reason - Error message if routine failed</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Complex</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 2/190 55-CAH 161 1290/1 Uen
MODULE      : complex.pm
DESCRIPTION :</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
P1A 991108    QRAJRHD             Created with ARFCN routines from synch.abi
P1B 991128    QRAJRHD             Added Disable/Configure/Enable from fuf.pl
P1C 991202    QRASIMO             DisableConfigEnable updeted - OpInfo
                                  added. New routine BCCHChComb added.
P1D 991213    QRASIMO             Function changed to Message
P1E 991214    QRAJRHD             Use new Assert front-end in
                                  Abisco_Connection.
P1F 000125    QRAJRHD             Assert import failed, MOClass missing in
                                  assert.
P1G 000206    QRAJRHD             Get_TRX_Freq adapted from fuf/EEDKVO
P1H 000213    QRAJRHD             DisableConfigEnable had 2 disable +
                                  Save/RestoreConfig.
P1I 000216    QRAJRHD             Splitting Get_TRX_Freq and ARFCN_Freq
P1J 000218    QRAJRHD             Get_TRXC_Freq refactored again
P1K 000306    QRAJRHD             In Disable..., Calculate the right
                                  CombChoice from CMB.
P1L 000329    QRAJRHD             Get_TRXC_Freq always returned returned
                                  first TRXC.
P1M 000331    QRASIMO             New routine 'ResetStartConfigEnable' added
P1N 000516    QRAJRHD             S_Behaviour casing workaround remove
P1S 000606    QRAJRHD             Get_TG/TRXC_List
P1T 000816    QRAJRHD             CH can restore more than one choice at a
                                  time.
P1U 000822    QRATHRA             ARFCN_Freq updated. solving TR0669
P1V 000825    QRASIMO             Correction of resp msg for
                                  CMDHLIB2000.SystemInformation. Correction
                                  of @Comb in BCCHChComb.
                                  Removed CombChoice, set by CH.
P1X 000905    QRATHRA             Added procedure Get_TRX_ARFCNs.
                                  Get_TRX_ARFCN obsolete.
P1Y 000911    QRAJRHD             Subroutine comments converted to POD's
P1Z 001102    QRAJRHD             Get_And_Count + Get_Cyclic
P2A 001205    QRAJRHD             Get_And_Count Upto
P2B 010115    QRAJRHD             Get_Cyclic
P2C 010321    QRAJRHD             Con =&gt; CON in example
P2D 010417    QRAFRYS             Added subroutines for TB value calculation
P2E 010427    QRAJRHD             Comment improvement to Check_SI_TB
P2F 010516    QRAFRYS             Added subroutine IS_Connection_Group
P2G 010517    QRAFRYS             Get_Not does not work with -Alone option
P2H 010808    QRAJRHD             Get_Me, PCM_IS_CON et al.
P2I 010814    QRAFRYS             Allow Check_SI_TB to accept MI messages
P2J 010817    QRAFRYS             Introduced DisableConfigEnable etc for
                                  RBS200.
P2K 010821    QRAJRHD             PCM_IS_CON, wrong Tag for
                                  high CG 2-n, CON_CG.
P2L 010824    QRAFRYS             Added subroutine Get_TRX_ARFCNs200
P2M 010911    QRAFRYS             Added revision information to complex.html
P2N 010913    QRAFRYS             Modified Check_SI_TB to provide for no
                                  check of TB.
P2O 010918    QRAFRYS             Improved documentation of
                                  DisableConfigEnable200.
P2P 010919    QRAFRYS             Uncommented AccordanceIndication in
                                  Config_Sequence200.
P2Q 010927    QRAJRHD             PCM_IS_CON for 64kbit air timeslots
P2R 011019    QRAJRHD             Get_TRXC_List corrected (doc+default value)
P2S 011204    QRAFRYS             Improved documentation of CON_CG and
                                  IS_Connection_Group.
P2T 011210    QRAFRYS             Changed IS_Connection_Group to IS_CG and
                                  introduced alias.
P2U 011211    QRAJRHD             Doc. change only, PCM_IS_CON tested with
                                  64kbit (some).
P2V 011214    QRAJRHD             IS_CG: always return array reference
P2X 020225    QRAJRHD             IS/CON_Length added to PCM_IS_CON
P2Y 020226    EDANEKS             CH_Info added to Delete_Non_DL
P2Z 020228    QRAJRHD             'Get_TRXC_List_From_IS'
P3A 021011    ERABAHG             PCM_IS_CON_Aux updated for PCM C and D.
P3B 050225    QRAGOWE             PCM_IS_CON rewritten for new CMDHAND
                                  commands.
P3C 050330    QRAGOWE             Late change: PCM_IS_CON should evaluate CF
                                  link from IS List, not via parameters.
P3D 060322    QRAGOWE             CALC_IS_CON modified for Super Channel.
P3E 060601    QMIKHEL             &lt;&gt; changed to () due to Perl upgrade
                                  to 5.8 .
    060628    QRAGOWE             Correction, CALC_IS_CON
    061127    QRAGOWE             CALC_IS_CON, Change 060628 changed back
                                  again (Input for CF was wrong).
    070119    QROBNOR             CALC_IS_CON is exported
    091203    XYNKABA             PCM_IS_CON updated to handle split list
                                  for CON Connection List correctly.
A   070608    XYNHAKS             Approved for UFTE R23A. This is a document
                                  not a product.
B   20110620  ETORWIL   XLEIMAR   Converted script to use strict, warnings
                                   and diagnostics. Moved code into new template.
                                  Updated to pass thru perl::Critic with policy.
                                  Removed POD documentation (Not complete anyway).
                                  Imported UnTrig from Abisco_Connection
                                   since it is not existing in User.pm
                                  Removed use Abisco_Connection and replaced
                                   all of these subroutine calls with
                                   Abisco_Connection::subroutine.
C   20120223  XTEHKIN   XSOFFRO   Fixed regular expression bug, TR HP52167.
D   20120329  XSOFFRO   XNAVNAS   Added a shift to input array of Get_TG_List (TR HP64480).</pre>
<pre>Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Msg'>Msg</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?charnames'>charnames</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ARFCN_Freq'></a><h2>ARFCN_Freq</h2>

<pre> ARFCN_Freq();

</pre>
<pre>SUBROUTINE  : ARFCN_Freq
DESCRIPTION : Convert absolute radio frequency number to frequency in MHz</pre>
<pre>              %Frequency = ARFCN_Freq(Band =&gt; GSM900P, ARFCN =&gt; 13);

</pre>
<pre>IN  : $Band - one of: GSM900P,GSM1800,GSM900E,GSM900R or GSM1900
      $ARFCN
OUT : %Frequency has the following keys:
        Uplink   =&gt; Uplink TRXC frequency in MHz
        Downlink =&gt; Downlink frequency in MHz</pre>
<a name='ARFCN_List'></a><h2>ARFCN_List</h2>

<pre> ARFCN_List();

</pre>
<pre>SUBROUTINE  : ARFCN_List
DESCRIPTION : Return a list of all frequencies used in indicated TG(s). The
              frequencies are read from the current ABISCO configuration.
              Dies on undefined TGs.</pre>
<pre>              @ARFCN_List = $BTS-&gt;ARFCN_List(0..1);

</pre>
<pre>IN  :
OUT :</pre>
<a name='ARFCN_Octets'></a><h2>ARFCN_Octets</h2>

<pre> ARFCN_Octets();

</pre>
<pre>SUBROUTINE  : ARFCN_Octets
DESCRIPTION : Convert ARFNC list into a CA_ARFCN octet array of length 16,
              where each bit corresponds to a frequency. Used in the traffic
              'DataReqAssignmentCmd'.</pre>
<pre>             ($Hi_CA_ARFCN, @Low_CA_ARFCN) = ARFCN_Octets(1,99,124);

</pre>
<pre>IN  :
OUT :</pre>
<a name='BCCHChComb'></a><h2>BCCHChComb</h2>

<pre> BCCHChComb();

</pre>
<pre>SUBROUTINE  : BCCHChComb
DESCRIPTION : This routine changes the channel combination for BCCH. The
              valid combination parameters are ncomb (iv+vii) and comb (v).
              For ncomb the time slots will be defined as follows:
              TRXC0 BCCH on TS0, SDCCH on TS1 and TCH on TS2..7.
              For comb: TRXC0 BCCH/SDCCH on TS0, TCH on TS1..7.</pre>
<pre>              $BTS-&gt;BCCHChComb(Combination =&gt; 'comb');

</pre>
<pre>IN  :
OUT : Returns the last TSConfigResult if succesful, dies otherwise.</pre>
<a name='CALC_IS_CON'></a><h2>CALC_IS_CON</h2>

<pre> CALC_IS_CON();

</pre>
<pre>SUBROUTINE  : CALC_IS_CON
DESCRIPTION : IS/CON list calculation for PCM_IS_CON, see this routine.
              Provides basic PCM arithmetics only.</pre>
<pre>IN: \@1 - Connection list, see PCM_IS_CON
OUT:\@1 - IS list, may be longer than ISConfig allows
    \@2 - CON list, may be longer than CONConfig allows
    \@3 - CFIND, CF sharing. 'Undef', 'Off' or 'On'.
    \@4 - CFTRX, CF shared TRX (if CFIND = 'On').
    \@5 - CFPCM, PCM system for CF (if CFIND = 'Off').
    \@6 - CFTS, PCM TS for CF (if CFIND = 'Off').</pre>
<a name='CON_CG'></a><h2>CON_CG</h2>

<pre> CON_CG();

</pre>
<pre>SUBROUTINE  : CON_CG
DESCRIPTION : Repack a CON connection group from logical quadruplets of CCP,
              CI, Tag, TEI, into BTS message format of 5 octet groups
              (connection groups).</pre>
<pre>              $CG = CON_CG($CCP, $CI, $Tag, $TEI);

              Example:
                $CG = CON_CG(256, 4, 1, 255, 260, 4, 0, 1);

                $BTS-&gt;Do(Message =&gt; CONConfigRequest,

                CONConnectionList =&gt; {CONConnectionList =&gt; $CG});

                This will connect CON inlet 256 with CON outlet 260.

</pre>
<pre>IN  : $CCP - CON Connection Point, inlet or outlet
      $CI  - Contiguity Index (always 4 unless you have a negative test)
      $Tag - 0 for CON outlets, CG sequence number otherwise (1,2,3,...)
      $TEI - TEI of target TRXC, or 255 for CON inlet</pre>
<pre>OUT : $CG  - Reference to a list of five octet connection group on ABISCO
             message format.</pre>
<a name='Calc_TB'></a><h2>Calc_TB</h2>

<pre> Calc_TB();

</pre>
<pre>SUBROUTINE  : Calc_TB
DESCRIPTION : Calculates the TB value for a given frame number</pre>
<pre>IN  : $1 - Frame number
OUT : $1 - TB value</pre>
<a name='Check_SI_TB'></a><h2>Check_SI_TB</h2>

<pre> Check_SI_TB();

</pre>
<pre>SUBROUTINE  : Check_SI_TB
DESCRIPTION : Check order of SI and MI messages (from CRTC) and their TB
              (TC) values. Messages that are not in the list are ignored.
              The first matching message must be the first in the list, and
              that also applies to the nested list of alternating SIs
              described below. Use Get(Until =&gt; ) to synchronize to the
              start of the sequence, see example below. Die on bad message
              or TB.</pre>
<pre>              $BTS-&gt;Check_SI_TB($Cycles, \@Expected_SI, \@Expected_TB);

              For example, to verify the sequence: SI1, SI2, (SI5Ter or
              SI13), MI,... SI5Ter and SI13 must alternate:

                $BTS-&gt;Get(Until =&gt; {Message =&gt; SI13});  # Sync, next loop
                                                        # has SI5Ter.
                $BTS-&gt;Get(Until =&gt; {Message =&gt; MI});    # Sync, next is SI1
                $BTS-&gt;Check_SI_TB(5, [SI1, SI2, [SI5Ter, SI13], MI]);

              The following line is an example of how to verify the
              sequence: SI1, SI2, MI,... without check of the TB values:

                $BTS-&gt;Check_SI_TB(5, [SI1, SI2, MI], []);

</pre>
<pre>IN  : $Cycles      - No of times to follow the list around.
      @Expected_SI - List of SI and MI messages in correct order. *One* item
                     may be an array of alternating SI and MI messages, see
                     examples above.
      @Expected_TB - List of expected TB values, one for each entry in
                     @Expected_SI. Default is 0,1,2,...
                     By entering the empty list [] the check of TB values is
                     disabled.</pre>
<pre>OUT :</pre>
<a name='CombChoice_Default'></a><h2>CombChoice_Default</h2>

<pre> CombChoice_Default();

</pre>
<pre>SUBROUTINE  : CombChoice_Default
DESCRIPTION : Set default CombChoice that matches the channel
              combination that we are setting. Ought to be done by ABISCO,
              see TR8306.</pre>
<pre>IN  : \%1 - Message hash
OUT : \%1 - Updated message (the original is also updated in place)
      %1 - in list contex</pre>
<a name='Config_Sequence'></a><h2>Config_Sequence</h2>

<pre> Config_Sequence();

</pre>
<pre>SUBROUTINE  : Config_Sequence
DESCRIPTION : Generic routine for generating DisableConfigEnable type
              sequences. Accepts a list of keywords that indicate messages
              to be sent, see table below. Dies on unexpected responses.</pre>
<pre>IN  : %1     - ConfigRequest parameters (if any)
      \@last - List of config-related messages
OUT :   \%1 - ConfigResult message or the last response if no config message
      or %1 - in list contex</pre>
<a name='Config_Sequence200'></a><h2>Config_Sequence200</h2>

<pre> Config_Sequence200();

</pre>
<pre>SUBROUTINE  : Config_Sequence200
DESCRIPTION : Generic routine for generating DisableConfigEnable200 type
              sequences. Accepts a list of keywords that indicate messages
              to be sent, see table below. Dies on unexpected responses.</pre>
<pre>IN  : %1     - ConfigRequest parameters (if any)
      \@last - List of config-related messages
OUT :   \%1 - ConfigResult message or the last response if no config message
      or %1 - in list contex</pre>
<a name='ConnectResetStart'></a><h2>ConnectResetStart</h2>

<pre> ConnectResetStart();

</pre>
<pre>SUBROUTINE  : ConnectResetStart
DESCRIPTION : Connect, Reset, then Start. Similar to L(DisableConfigEnable),
              see this routine.</pre>
<pre>IN  :
OUT : Returns the start result message.</pre>
<a name='ConnectResetStartConfigEnable'></a><h2>ConnectResetStartConfigEnable</h2>

<pre> ConnectResetStartConfigEnable();

</pre>
<pre>SUBROUTINE  : ConnectResetStartConfigEnable
DESCRIPTION : Connect, Reset, Start, Configure, then Enable. Similar to
              L(DisableConfigEnable), see this routine.</pre>
<pre>IN  :
OUT :</pre>
<a name='Delete_Non_DL'></a><h2>Delete_Non_DL</h2>

<pre> Delete_Non_DL();

</pre>
<pre>SUBROUTINE  : Delete_Non_DL
DESCRIPTION : Take away parameters that are used uplink but not down-link</pre>
<pre>IN  : \%1 - A downlink message (modified)
OUT : \%1 - Same as the input message but uplink parameters deleted
      or %1 - in list contex</pre>
<a name='Delete_S_False'></a><h2>Delete_S_False</h2>

<pre> Delete_S_False();

</pre>
<pre>SUBROUTINE  : Delete_S_False
DESCRIPTION : Take out all optional sub-structures and choices that
have S_xxx set to FALSE.</pre>
<pre>IN  : \%1 - Message hash
OUT : \%1 - Updated message (the original is also updated in place)
      %1 - in list contex</pre>
<a name='DisableConfigEnable'></a><h2>DisableConfigEnable</h2>

<pre> DisableConfigEnable();

</pre>
<pre>SUBROUTINE  : DisableConfigEnable
DESCRIPTION : Disable, configure, then enable. Keep the LEDs correct with
              OperationalInfo. Works on RBS2000 for any MO except FM and
              supports the same parameters as the ConfigRequest for that MO
              (omit the message name). Predefined (loop) parameters are used
              as defaults. Since ABISCO supplies defaults for other
              parameters you can set as few or as many parameters as you
              like.</pre>
<pre>              %Resp = $BTS-&gt;DisableConfigEnable(
                      MOClass              =&gt; 'TS',
                      InstanceNo           =&gt; 0,
                      AssociatedSOInstance =&gt; 0,
                      Combination          =&gt; {CMB =&gt; 'iv'},
                      ReceiverDiversity    =&gt; {ReceiverDiversity =&gt; 'A+B'}
              );

              $Resp = $BTS-&gt;DisableConfigEnable;

</pre>
<pre>IN  : See example above.
OUT : Returns the ConfigResult if succesful, dies otherwise.</pre>
<a name='DisableConfigEnable200'></a><h2>DisableConfigEnable200</h2>

<pre> DisableConfigEnable200();

</pre>
<pre>SUBROUTINE  : DisableConfigEnable200
DESCRIPTION : Disable, configure, then enable. Works on RBS200 for MO
              classes TX, RX and TS.</pre>
<pre>              %Resp = $BTS-&gt;DisableConfigEnable200(
                      Routing           =&gt; {TG =&gt; 0,
                                            TRXC =&gt; 0},
                      MOClass           =&gt; 'TS',
                      InstanceNo        =&gt; 0,
                      Combination       =&gt; {CMB =&gt; 'iv'},
                      ReceiverDiversity =&gt; {ReceiverDiversity =&gt; 'A+B'}
              );

</pre>
<pre>IN  : See example above.
OUT : Returns RFTransmParamComplete, RFReceptionParamComplete or
      RadioTSParamsComplete if succesful, dies otherwise.</pre>
<a name='Extract'></a><h2>Extract</h2>

<pre> Extract();

</pre>
<pre>SUBROUTINE  : Extract
DESCRIPTION : Return hash consisting only of keys asked for. Only top
              level keys are handled.</pre>
<pre>IN  : \%1 - Hask
      @2 - Keys to include in the returned hash (if they existed)
OUT : %1 - A subset of the input hash
      \%1 - in scalar context</pre>
<a name='Get_And_Count'></a><h2>Get_And_Count</h2>

<pre> Get_And_Count();

</pre>
<pre>SUBROUTINE  : Get_And_Count
DESCRIPTION : For when a number of messages must be checked, but the order
              is unknown. The 'Expect' parameter is a list of message
              patterns, suitable for 'Assert'. The sub-routine returns when
              the 'Until' pattern arrives, or when the 'Timeout' expires, or
              when the message counters have reached at least the values in
              'Upto'. All parameters except 'Expect' are optional (default
              is to wait 10 minutes). No exception (error) is generated on
              timeout - check the counters instead.</pre>
<pre>              ($As, $Bs, $Cs, $Others) =
                $BTS-&gt;Get_And_Count(Timeout =&gt; 10,
                                    Expect  =&gt; [{Message =&gt; A},
                                                {Message =&gt; B},
                                                {Message =&gt; C}],
                                    Upto    =&gt; [1, 2, 0, 0],
                                    Until   =&gt; {Message =&gt; D}
                                   );

              Assert([$As, $Bs, $Cs, $Others], [1, 2, 0, '*']);

</pre>
<pre>IN  : See example above.
OUT : Returns a list of counters, one for each message plus one extra for
      non-matching messages. Returns a list pointer in scalar context.</pre>
<a name='Get_Cell'></a><h2>Get_Cell</h2>

<pre> Get_Cell();

</pre>
<pre>SUBROUTINE  : Get_Cell
DESCRIPTION : Get cell with indicated routing(defaults taken from the
              predefined globals). Returns a CH InfoCellResponse message
              hash (or pointer to it in scalar context).</pre>
<pre>              $Resp = Get_Cell;
              %Resp = Get_Cell(TG =&gt; 0, TRXC =&gt; 0);

</pre>
<pre>IN  : % Containing TG and TRXC
OUT : $ or %</pre>
<a name='Get_Cyclic'></a><h2>Get_Cyclic</h2>

<pre> Get_Cyclic();

</pre>
<pre>SUBROUTINE  : Get_Cyclic
DESCRIPTION : For when a number of messages must arrive in a particular
              order. Works like L(Get_And_Count), except that the expected
              messages must arrive in the specified order. An exception
              (error) is generated otherwise. If cycles is set the sequence
              is tracked that many loops, and the cycle may start at any
              point in the list. If 'Cycles' is not set then message 'A'
              must be first and the routine finishes when the last message
              comes in. No exception (error) is generated on timeout -
              check the counters instead.</pre>
<pre>              $BTS-&gt;Get_Cyclic(Timeout =&gt; 10,
                               Cycles  =&gt; 1,
                               Expect  =&gt; [{Message =&gt; A},
                                           {Message =&gt; B},
                                           {Message =&gt; C}]
                               );

</pre>
<pre>IN  : See example above.
OUT : The subroutine returns message counts just like Get_And_Count.</pre>
<a name='Get_Not'></a><h2>Get_Not</h2>

<pre> Get_Not();

</pre>
<pre>SUBROUTINE  : Get_Not
DESCRIPTION : For when a message must not arrive. The routine raises an
              exception if the message does arrive, and returns quietly
              otherwise. Accepts exactly the same parameters as 'Get'
              (thus the inappropriate parameter name 'Expect').</pre>
<pre>              $BTS-&gt;Get_Not(Timeout =&gt; 10,
                            Expect  =&gt; {Message   =&gt; 'A',
                                        Parameter =&gt; 'B'});

</pre>
<pre>IN  : See example above.
OUT :</pre>
<a name='Get_TG_List'></a><h2>Get_TG_List</h2>

<pre> Get_TG_List();

</pre>
<pre>SUBROUTINE  : Get_TG_List
DESCRIPTION : Get list of defined TGs (or array pointer in scalar context).</pre>
<pre>              @TG_List = $BTS-&gt;Get_TG_List;
              $TG_List = $BTS-&gt;Get_TG_List;

</pre>
<pre>IN  : $BTS
OUT :</pre>
<a name='Get_TRXC_List'></a><h2>Get_TRXC_List</h2>

<pre> Get_TRXC_List();

</pre>
<pre>SUBROUTINE  : Get_TRXC_List
DESCRIPTION : Get list of all TRXCs in one TG (all cells). Return array
              pointer in scalar context. Uses the predefined global $TG if
              no argument is given.</pre>
<pre>              @TRXCs = $BTS-&gt;Get_TRXC_List($TG_Number);

</pre>
<pre>IN  : $TG_Number
OUT : @Array_with_all_TRXCs_in_that_TG</pre>
<a name='Get_TRXC_List_From_IS'></a><h2>Get_TRXC_List_From_IS</h2>

<pre> Get_TRXC_List_From_IS();

</pre>
<pre>SUBROUTINE  : Get_TRXC_List_From_IS
DESCRIPTION : Like 'Get_TRXC_List', except the result is obtained by
              examining an IS connection list.</pre>
<pre>              $IS = IS_CG(4, 512, 4, 5, 524, 4);
              @TRXCs = $BTS-&gt;Get_TRXC_List_From_IS($TG, $IS);

</pre>
<pre>IN  : $TG
      $IS
OUT : @Array_with_all_TRXCs_in_that_IS</pre>
<a name='Get_TRX_ARFCN'></a><h2>Get_TRX_ARFCN</h2>

<pre> Get_TRX_ARFCN();

</pre>
<pre>SUBROUTINE  : Get_TRX_ARFCN
DESCRIPTION : Get TX ARCFN number from indicated TRX. Parameters
              - see L(Get_Cell).</pre>
<pre>              NOTE: this routine does not work with synth hopping. Use
              L(Get_TRX_ARFCNs) instead (handles both cases).

              $ARFCN = Get_TRX_ARFCN(TG =&gt; 0, TRXC =&gt; 0);

</pre>
<pre>IN  :
OUT :</pre>
<a name='Get_TRX_ARFCNs'></a><h2>Get_TRX_ARFCNs</h2>

<pre> Get_TRX_ARFCNs();

</pre>
<pre>SUBROUTINE  : Get_TRX_ARFCNs
DESCRIPTION : Get list of TX ARCFN numbers from indicated TRX (the list will
              have one element unless synth hopping is used).
              Parameters - see L(Get_Cell).</pre>
<pre>              @ARFCNs = Get_TRX_ARFCNs(TG =&gt; 0, TRXC =&gt; 0);

</pre>
<pre>IN  :
OUT :</pre>
<a name='Get_TRX_ARFCNs200'></a><h2>Get_TRX_ARFCNs200</h2>

<pre> Get_TRX_ARFCNs200();

</pre>
<pre>SUBROUTINE  : Get_TRX_ARFCNs200
DESCRIPTION : Get list of TX ARCFN numbers from indicated TRX (the list will
              have one element unless synth hopping is used).</pre>
<pre>              @ARFCNs = Get_TRX_ARFCNs200(TG =&gt; 0, TRXC =&gt; 0);

</pre>
<pre>IN  :
OUT :</pre>
<a name='Get_TRX_Freq'></a><h2>Get_TRX_Freq</h2>

<pre> Get_TRX_Freq();

</pre>
<pre>SUBROUTINE  : Get_TRX_Freq
DESCRIPTION : The same as L(Get_TRX_ARFCN), but return the TX/RX frequencies
              instead of the ARFCN.</pre>
<pre>              %Frequency = Get_TRX_ARFCN(TG =&gt; 0, TRXC =&gt; 0);

</pre>
<pre>IN  :
OUT : Returns the same as L(ARFCN_Freq).</pre>
<a name='Greater_Or_Equal'></a><h2>Greater_Or_Equal</h2>

<pre> Greater_Or_Equal();

</pre>
<pre>SUBROUTINE  : Greater_Or_Equal
DESCRIPTION : Check if all numbers in a list are greater than those in
              another list.</pre>
<pre>IN  : \@1 - Actual values
      \@2 - Desired values
OUT : $1 - True iff all values in actual list are greater than or equal to
      the corresponding values in the de</pre>
<a name='ICP_To_TEI'></a><h2>ICP_To_TEI</h2>

<pre> ICP_To_TEI();

</pre>
<pre>SUBROUTINE  : ICP_To_TEI
DESCRIPTION : Convert a TRX connected IS connection point to
              corresponding TEI number.</pre>
<pre>IN:  $1 - ICP number, must be above 511.
OUT: $1 - TEI</pre>
<a name='IS_CG'></a><h2>IS_CG</h2>

<pre> IS_CG();

</pre>
<pre>SUBROUTINE  : IS_CG
DESCRIPTION : Repack an IS Connection Group from logical triplets of ICP1,
              ICP2 and CI, into BTS message format of 5 octet groups
              (connection groups).</pre>
<pre>              $CG = IS_CG($ICP1, $ICP2, $CI);

              Example:
                $CG = IS_CG(4, 512, 12, 16, 524, 2);

                $BTS-&gt;Do( Message  =&gt; ISConfigRequest,
                          ISChoice =&gt; {ISConfigList
                                         =&gt; {ISConnectionList =&gt; $CG}}
                         );

                This will send: ISConnectionList =&gt; [0,4,2,0,12,0,16,2,12,2]

</pre>
<pre>IN  : $ICP1 - IS Connection Point
      $ICP2 - IS Connection Point
      $CI   - Contiguity Index
OUT : $CG   - Reference to a list of five octet IS connection group</pre>
<a name='IS_Connection_Group'></a><h2>IS_Connection_Group</h2>

<pre> IS_Connection_Group();

</pre>
<pre>SUBROUTINE  : IS_Connection_Group
DESCRIPTION : Alias</pre>
<pre>IN  :
OUT :</pre>
<a name='Index'></a><h2>Index</h2>

<pre> Index();

</pre>
<pre>SUBROUTINE  : Index
DESCRIPTION : Return array index of indicated element. Examples elsewhere in
              this module.</pre>
<pre>IN  : %1 - A hash with the following keys:
      $Of =&gt; An $element to search for (scalar or hash/array pointer)
      \@In =&gt; A list of values to search in
OUT : $1 - Index of the first argument (starting at 0), undef if not found</pre>
<a name='OM2000_Defaults'></a><h2>OM2000_Defaults</h2>

<pre> OM2000_Defaults();

</pre>
<pre>SUBROUTINE  : OM2000_Defaults
DESCRIPTION : Set OM2000 loop parameters unless they are already set
              (either long or shortname).</pre>
<pre>IN  : \%1 - OM2000 message hash (or empty hash if you only want the defaults)
OUT : \%1 - Updated message (the original is also updated in place)
      %1 - in list contex</pre>
<a name='Optional'></a><h2>Optional</h2>

<pre> Optional();

</pre>
<pre>SUBROUTINE  : Optional
DESCRIPTION : Insert (name =&gt; value) in (parameter) list if value is
              defined. Saves having to evaluate the value twice especially
              in case it was a sub-routine. Also looks better.</pre>
<pre>IN  : $1 - Name
      $2 - Value (may be a pointer)
OUT : $1 =&gt; $2) - if $2 was defined
      or () - otherwise</pre>
<a name='PCM_IS_CON'></a><h2>PCM_IS_CON</h2>

<pre> PCM_IS_CON();

</pre>
<pre>SUBROUTINE  : PCM_IS_CON
DESCRIPTION : First a little bit about the HW. IS and CON are defined in
              FS 58/HRB 105 01 Uen. Look at figure 2 of this document
              (Rev J). IS connects PCM links with TRXCs, optionally via the
              CON concentrator, which allows one PCM connection to be split
              onto many TRXCs. From figure 2 it might just about be possible
              to deduce the rest by looking at the example below. More
              information can be found in the O&amp;M IWD.</pre>
<pre>              PCM_IS_CON is simple yet powerful routine for configuring
              LAPD, IS and CON. The TG(s) should be configured and connected
              beforehand. The routine can then change the LAPD/IS/CON
              configuration to anything you like.

              Afterwards ABISCO can be used as normal, for example to
              perform a complete start.

              DisconnectTG and reconnect to go back to the original
              configuration. If there are errors you can start/stop the
              TSSTC to get back on track (disconnect TG, press CH button
              5,4,4,5, then connect TG again).

              The routine first clears all allocated LAPD links. New LAPD
              physical links are derived from the input lists, and OML/RSL
              logical links are defined on top of them. Traffic channels
              (to remote transcoder) are omitted here since they do not use
              the LAPD protocol. The CONFIG-server is kept up to date. New
              IS and CON configurations are calculated and stored in ABISCO,
              ready to be sent with the next ISConfig or CONConfig message,
              e.g. as part of a complete start.

              If the IS/CON list is too long, the subroutine cuts it into
              parts. The list segmentation may be explicitly controlled with
              the IS_Length/CON_Length parameters.

              The ABISCO store is suppressed if there is more than one
              IS/CON list. ABISCO can only hold values for one ISConfig, but
              in this case the list must be sent to the BTS in several
              ISConfig messages. This subroutine can not assume that the BTS
              is in an appropriate state for this, and may not change the
              state either. Instead the caller can send the messages at a
              later time using the returned IS/CON lists as shown in
              example 2 below.

              Note:
              - PCM_IS_CON can be called several times, using IS/CON
                Configurations with different numbers of TRX:s.
              - AT LEAST the TRX:s in the IS/CON Configurations must be
                included in New TG.
              - ONLY the TRX:s in current IS/CON Configuration may be
                included in CompleteStart.
              - The original IS/CON configuration (created at NewTG) can be
                restored by :
                  o Delete TG
                  o New TG (or Load Cfg)
                  o Connect TG
                Alternatively, PCM_IS_CON can be called again with the
                original IS/CON configuration.

              Note: About the implementation of sub PCM_IS_CON, the Abisco
              commands MUST be executed in following order to work properly:

                DeallocateCFLink
                DeallocateTRXLinks

                ISConfigRequest (SendToServer=Off)

                AllocateCFLink
                AllocateTRXLinks

              Synopsis :
                (square brackets are verbatim here):

                ($IS, $CON) = PCM_IS_CON(
                    IS_Length  =&gt; [&lt;Length&gt;, ...],
                    CON_Length =&gt; [&lt;Length&gt;, ...],
                    Connect
                      =&gt; [[&lt;CI&gt;, &lt;SubRate&gt;, &lt;ICP1&gt;],  # CF Link (no ICP2)
                          # (CF Link may be defined on any line)
                          # No concentration:
                          [&lt;CI&gt;, &lt;SubRate&gt;, &lt;ICP1&gt; =&gt; &lt;ICP2&gt;],
                          # With concentration:
                          [&lt;CI&gt;, &lt;SubRate&gt;,
                           &lt;ICP1&gt; =&gt; CCPI =&gt; [CCPO,...] =&gt; [ICP2,...]],
                         ]
                );

                where:
                CI      - Contiguity index, i.e. the number of consecutive
                          ICPs to use.
                SubRate - 16, 32, or 64 (kbit/s)
                ICP1    - IS connection point, PCM side
                ICP2    - IS connection point, TRX/CON side
                CCPI    - CON connection point, inlet (concentrated)
                CCPO    - CON connection point, outlet (de-concentrated)
                Length  - See input parameter IS_Length

                The arrow ('=&gt;') symbolises a connection from one point to
                another.

              Example 1 (Default is CF link shared with TRXC0):
                PCM_IS_CON(Connect
                           # CF: 4 ICP points, 64kbit/s, starting at ICP1 4
                             =&gt; [[4, 64, 4],
                           # Same PCM as CF, but through IS to TRXC0 SCH
                                 [4, 64, 4  =&gt; 512],
                           # 8x16kbit/s, ICP 8 to ICP 516 (TRX0 TCH)
                                 [8, 16, 8  =&gt; 516],
                           # Ditto, TRX1, ICP 16..23 to 528..535
                                 [8, 16, 16 =&gt; 528],
                           # 64 kbit signalling again, this time through
                           # CON. ICP 24 to CON inlet 268, split to CON
                           # outlets 272/276, back through IS to 536/548, ie
                           # PCM TS 6 shared between TRX2 and TRXC3.
                                 [4, 64, 24 =&gt; 268 =&gt; [272, 276]
                                  =&gt; [536, 548]],
                                ]
                          );

              Example 2, CF link shared with TRXC1:
                PCM_IS_CON(Connect
                             =&gt; [[4, 64, 4  =&gt; 512], # Signalling, TRXC0
                                 [8, 16, 8  =&gt; 516], # Traffic, TRXC0
                                 [4, 64, 16],        # CF (Shared, TRXC1)
                                 [4, 64, 16 =&gt; 524], # Signalling, TRXC1
                                 [8, 16, 20 =&gt; 528], # Traffic, TRXC1
                                ]
                          );

              Example 3, CF link not shared (PCM system A, TS 31):
                PCM_IS_CON(Connect
                             =&gt; [[4, 64, 4  =&gt; 512], # Signalling, TRXC0
                                 [8, 16, 8  =&gt; 516], # Traffic, TRXC0
                                 [4, 64, 16 =&gt; 524], # Signalling, TRXC1
                                 [8, 16, 20 =&gt; 528], # Traffic, TRXC1
                                 [4, 64, 124],       # CF (Not shared, TS 31)
                                ]
                          );

              Example 4, a segmented IS list:
                ($IS, $CON) = PCM_IS_CON(IS_List =&gt; [7*5, 10*5],
                                         Connect =&gt; ...);

                Establish and start CF here maybe. ConnectResetStart IS is
                also needed 1st.

                foreach $IS_Part (@$IS) {
                  $Resp = Do( Message              =&gt; ISConfigRequest,
                              MOClass              =&gt; 'IS',
                              InstanceNo           =&gt; 0,
                              AssociatedSOInstance =&gt; 255,
                              ListNo               =&gt; {ListNo =&gt; ++$I},
                              EndListNo            =&gt; {EndListNo
                                                         =&gt; scalar(@$IS)},
                              ISChoice             =&gt; {ISConfigList
                                                         =&gt; {ISCL
                                                               =&gt; $IS_Part}
                                                      }
                            );

                  Assert($Resp, {Message =&gt; ISConfigRequest});
                }

                A segmented CON would be similar to the above.

</pre>
<pre>IN  : TG_no             TG to be configured (Default: predefined global $TG)
      CF_SharingInd *)  CF shared with TRX  (Default: 'On')
      CF_TRXNum     *)  CF TRX, shared      (Default: 0)
      CF_PCMNum     *)  CF PCM, not shared  (Default:'PCM_A')
      CF_PCMTs      *)  CM TS, not shared   (Default: 1)</pre>
<pre>      IS_Length         Array of lengths indicating how to cut IS
                        lists into parts. The length is specified in
                        octets to allow negative tests - multiply by
                        5 to cut at correct points. If there are to few
                        lengths the last value is used repeatedly. For
                        example, [10] means to make all pieces 10 octets
                        long (the last piece is smaller if the list was
                        not evenly divisible by 10). If the parameter is
                        left out the maximum size (240) is used.

      CON_Length        Similar to IS_Length. Max/Default size is 177 octets

      Connect           A list of one or more connections.

</pre>
<pre>*) The CF link is in the first place controlled by the Connection List.
   However, if no CF definitions exists in the list, it's also possible
   to control the CF link with these parameters.</pre>
<pre>OUT : $IS  - A list of IS lists, e.g.: '[[0 8 2 4 1], [0 9 2 5 1]]'.
             Returns an empty list if there was no IS connections.
      $CON - A list of CON lists, similar to $IS.</pre>
<a name='ResetStartConfigEnable'></a><h2>ResetStartConfigEnable</h2>

<pre> ResetStartConfigEnable();

</pre>
<pre>SUBROUTINE  : ResetStartConfigEnable
DESCRIPTION : Reset, Start, Configure, then Enable. Similar to
              L(DisableConfigEnable), see this routine.</pre>
<pre>IN  :
OUT :</pre>
<a name='ResetStartConfigEnable200'></a><h2>ResetStartConfigEnable200</h2>

<pre> ResetStartConfigEnable200();

</pre>
<pre>SUBROUTINE  : ResetStartConfigEnable200
DESCRIPTION : Reset, Start, Configure, then Enable. Similar to
              L(DisableConfigEnable200), see this routine.</pre>
<pre>IN  :
OUT :</pre>
<a name='RestoreConfig'></a><h2>RestoreConfig</h2>

<pre> RestoreConfig();

</pre>
<pre>SUBROUTINE  : RestoreConfig
DESCRIPTION : Restore MOs saved with L(SaveConfig). Default is to restore
              the last configuration saved.</pre>
<pre>              RestoreConfig;
              RestoreConfig($Old);

</pre>
<pre>IN  :
OUT :</pre>
<a name='SaveConfig'></a><h2>SaveConfig</h2>

<pre> SaveConfig();

</pre>
<pre>SUBROUTINE  : SaveConfig
DESCRIPTION : Get configuration of MO instances given in input list. The
              configurations are returned in one big hash structure that can
              be given as argument to L(RestoreConfig). Only MOs from one TG
              can be stored at a time.</pre>
<pre>              Save configuration of TS 1. Default TG/TRXC. Default save
              variable:
                SaveConfig(TS =&gt; 1);

              Explicit TG/TRXC, different MO types/instances, saved in a
              variable:
                $Old = SaveConfig(Routing =&gt; {TG   =&gt; 1,
                                              TRXC =&gt; 3},
                                  TS      =&gt; [1..2,4],
                                  CON     =&gt; 1,
                                  DP      =&gt; [0..1]);

              Add to or update '$Old' configuration:
                %$Old = SaveConfig(TX =&gt; 0);

</pre>
<pre>IN  : Parameters is a hash with the following keys:
        Routing  =&gt; As in OM2000, predefined variables used by default.
                    TRXC must be correct for some objects, e.g. TX.
        &lt;Object&gt; =&gt; The name of an object instance to save, value is an
                    instance, or an array of instances. Only AOs
                    supported currently.</pre>
<pre>OUT : Returns a pointer to the saved configuration, which can be given to
      L(RestoreConfig), see this routine.</pre>
<a name='Set_Default'></a><h2>Set_Default</h2>

<pre> Set_Default();

</pre>
<pre>SUBROUTINE  : Set_Default
DESCRIPTION : Set a default from list if parameter is undefined</pre>
<pre>IN  : $1 - Parameter to set
      @2 - Defaut values, tried left to right until not undef
OUT : $1 - Updated if it was undef</pre>
<a name='Signalling_Channel'></a><h2>Signalling_Channel</h2>

<pre> Signalling_Channel();

</pre>
<pre>SUBROUTINE  : Signalling_Channel
DESCRIPTION : Tell whether ICP is for signalling or traffic</pre>
<pre>IN:  $1 - ICP number, must be above 511.
OUT: $1 - True if ICP is for signalling</pre>
<a name='Split_List'></a><h2>Split_List</h2>

<pre> Split_List();

</pre>
<pre>SUBROUTINE  : Split_List
DESCRIPTION : Cut a long array into into smaller arrays.</pre>
<pre>              Example:
                @Pieces = Split_List([A,B,C,D,E], [1,2]);
                Assert(\@Pieces, [[A], [B, C], [D, E]]);

</pre>
<pre>IN  : \@1 - A long list which will be split into many smaller lists
      \@2 - Lengths of the smaller lists. If all pieces are not specified,
      the last value will be used repeatedly.
OUT : @1 - Pointers to the smaller arrays.</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>csdatafunc</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 12/190 55-CAH 161 1290/1 Uen
MODULE      : csdatafunc.pl
DESCRIPTION : Support functions for sending CS Data from TSS.
              The only routine needed from an external program is SendCSData</pre>
<pre>              The program works for all Data Rates and all Abis Modes.

              For more information, see document:
                User Guide Payload testing with Abisco
                2/198 17-FCD 201 33 Uen
                (The document comes with the Abisco installation)

</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME    REVIEW    COMMENT
P1A 060601    ESTEMOH           Created after splitting csdata.pl
P2A 090115    ESTEMOH           Interface to Prisma MSSIM added
P2B 090206    ESTEMOH           Added cc(viii), cc(ix) and cc(x)
P2C 090212    ESTEMOH           Cleanup of comments
P2D 090420    ESTEMOH           Updated for GSM base version 1.10
P2E 090424    ESTEMOH           Added Encryption
P2F 090622    ESTEMOH           Changed module header
P2G 090917    ESTEMOH           Added all subroutines in @EXPORT_OK
P2H 100105    ESTEMOH           Added safety release of CS data channel in
                                 TSS. Requires Abisco R32A or later.
P2I 100611    ESTEMOH           Modified for Loopback
P2J 100706    ESTEMOH           Changed to take hash as parameter input
P2K 110408    ETORWIL           Removed new Abisco_Connection due to
                                 HN67845 and HN65860.
A   20111017  XJMJMJM ETORWIL   Updated to new script template
                                 Quality control with PerlCritic.
                                 Added document number.
                                 Fixed imports and exports. Removed "Str"
                                 and "Strip" from Abisco_Connection
                                 include. Exchanged all "eq 'nr'" with
                                 "== nr".
                                 Updated AlgId in Activate Channel
                                 Use of undefined variable</pre>
<pre>Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ActivateCSData'></a><h2>ActivateCSData</h2>

<pre> ActivateCSData();

</pre>
<pre>SUBROUTINE  : ActivateCSData
DESCRIPTION : To activate sending of CS Data in TSS</pre>
<pre>IN  : $Param{TG}
      $Param{TRXC}
      $Param{TS}
      $Param{Rate}
      $Param{Verification} (On or Off,)
      $Param{DTX}
      $Param{ICP}
      $Param{SimType} (Simulation type)
OUT : 0=Ok, 1=Error</pre>
<a name='ActivateChannel'></a><h2>ActivateChannel</h2>

<pre> ActivateChannel();

</pre>
<pre>SUBROUTINE  : ActivateChannel
DESCRIPTION : To make Channel Activation Normal Assign for Data.</pre>
<pre>IN  : $Param{TG}
      $Param{TRXC}
      $Param{TS}
      $Param{DTX}
      $ChannelRate
      $AlgOrRate
      $Param{ChComb}
      $Param{ICP}
      $Param{Algid}
      $Param{AlgOrRate}
OUT : 0=Ok, 1=Error</pre>
<a name='AllocateICP'></a><h2>AllocateICP</h2>

<pre> AllocateICP();

</pre>
<pre>SUBROUTINE  : AllocateICP
DESCRIPTION : To allocate ICP and CI number</pre>
<pre>IN  : $Param{TG}
      $Param{TRXC}
      $Param{TS}
OUT : ICP
      CI</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>SUBROUTINE  : ChActMSSIM
DESCRIPTION : To activate a CS Data channel in the MSSIM</pre>
<pre>IN  : $Param{Ref}       (MSSIM Channel reference)
      $Param{Cell}      (MSSIM Cell)
      $Param{TG}
      $Param{TRXC}
      $Param{TS}
      $Param{Rate}      (Data rate)
      $Param{ChComb}    (Channel Combination)
OUT : 0=OK, 1= Error
      CcId              (MSSIM channel id)</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>SUBROUTINE  : ChRelMSSIM
DESCRIPTION : To release a channel in the MSSIM</pre>
<pre>IN  : $Param{CcId}  (MSSIM channel id)
OUT : 0=OK, 1=Error</pre>
<a name='CreateStatistics'></a><h2>CreateStatistics</h2>

<pre> CreateStatistics();

</pre>
<pre>SUBROUTINE  : CreateStatistics
DESCRIPTION : Save CS Data statistics for TSS in an array
              $Param{Rate}
              $Param{Statistics} (On, Off,)
              @{$Param{Result}} Statistics</pre>
<pre>IN  :
OUT : @{$Param{Result}} Statistics updated</pre>
<a name='DeactivateCSData'></a><h2>DeactivateCSData</h2>

<pre> DeactivateCSData();

</pre>
<pre>SUBROUTINE  : DeactivateCSData
DESCRIPTION : To activate sending of CS Data in TSS</pre>
<pre>IN  : $Param{TG}
      $Param{TRXC}
      $Param{TS}
      $Param{Rate}
      $Param{Statistics} (On, Off,)
      @{$Param{Result}} Statistics
OUT : 0=Ok, 1=Error
      Result array updated with statistics</pre>
<a name='DeallocateICP'></a><h2>DeallocateICP</h2>

<pre> DeallocateICP();

</pre>
<pre>SUBROUTINE  : DeallocateICP
DESCRIPTION : To allocate ICP and CI number</pre>
<pre>IN  : $Param{TG}
      $Param{TRXC}
      $Param{TS}
OUT : None</pre>
<a name='DefinePattern'></a><h2>DefinePattern</h2>

<pre> DefinePattern();

</pre>
<pre>SUBROUTINE  : DefinePattern
DESCRIPTION : To define pattern file to MSSIM</pre>
<pre>IN  : $Param{PatternFile}
OUT : 0=OK</pre>
<a name='Encr'></a><h2>Encr</h2>

<pre> Encr();

</pre>
<pre>SUBROUTINE  : Encr
DESCRIPTION : To turn on encryption in MSSIM</pre>
<pre>IN  : $Param{CcId}
      $Param{Algorithm Id}
OUT : None</pre>
<a name='GetCellInfo'></a><h2>GetCellInfo</h2>

<pre> GetCellInfo();

</pre>
<pre>SUBROUTINE  : GetCellInfo
DESCRIPTION : To fetch Cell Information from the ABISCO configuration
              for the requested TG and Cell</pre>
<pre>IN  : $Param{TG}
      $Param{Cell}
OUT : First TRXC number used in the Cell
      Last TRXC number used in the Cell
      TRXC number used for BCCH in the Cell
      BCCH type (COMB or NCOMB) used in the Cell
      Cell Broadcast indicator used in the Cell</pre>
<a name='GetStatistics'></a><h2>GetStatistics</h2>

<pre> GetStatistics();

</pre>
<pre>SUBROUTINE  : GetStatistics
DESCRIPTION : To get CS Data statistics for TSS</pre>
<pre>IN  : Resp hash including DeactivateCSDataResult
OUT : None, global hash CSDataStat is updated with counters</pre>
<a name='ReadAbiscoConfig'></a><h2>ReadAbiscoConfig</h2>

<pre> ReadAbiscoConfig();

</pre>
<pre>SUBROUTINE  : ReadAbiscoConfig
DESCRIPTION : To get AbisMode and TCH Configuration in the
              ABISCO TG configuration.</pre>
<pre>IN  : $Param{TG}
      $Param{TRXC}
OUT : AbisMode
      TCH_Type</pre>
<a name='ReleaseChannel'></a><h2>ReleaseChannel</h2>

<pre> ReleaseChannel();

</pre>
<pre>SUBROUTINE  : ReleaseChannel
DESCRIPTION : To make RF Channel release for a specific TS.
              Channel type Bm released.</pre>
<pre>IN  : $Param{TG}
      $Param{TRXC}
      $Param{TS}
OUT : 0=Ok, 1=Error</pre>
<a name='SLEEP'></a><h2>SLEEP</h2>

<pre> SLEEP();

</pre>
<pre>SUBROUTINE  : SLEEP
DESCRIPTION : Special sleep routine.
              The normal sleep does not work with TK GUI.</pre>
<pre>IN  : Time in seconds
OUT : None</pre>
<a name='SendCSData'></a><h2>SendCSData</h2>

<pre> SendCSData();

</pre>
<pre>SUBROUTINE  : SendCSdata
DESCRIPTION : To send CS Data</pre>
<pre>IN  : $Param{TG}
      $Param{TRXC}
      $Param{TS}
      $Param{Rate}         ("T4.8kbits/s", "T9.6kbits/s", "T14.4kbits/s",
                            "NT12kbits/s" or "NT14.5kbits/s")
      $Param{Time}         (Time to run
      $Param{DTX}          (On or Off)
      $Param{ChComb}       (1, 8, 9 or 10)
      $Param{Tool}         ("MSSIM" or "")
      $Param{AlgId}        (EncryptionaAlgorithm Id)
      $Param{SimType}      (Simulation Type, 0=Frames, 1=Looback)
      $Param{PatternFile}  (Pattern File, for Loopback mode only)
OUT : Error 0=OK, 1=error
      Error Reason
      Result               (Array including statistics from TSS and MSSIM)</pre>
<a name='StartLoopMSSIM'></a><h2>StartLoopMSSIM</h2>

<pre> StartLoopMSSIM();

</pre>
<pre>SUBROUTINE  : StartLoopMSSIM
DESCRIPTION : To start the loop function in MSSIM</pre>
<pre>IN  : $Param{CcId}        (MSSIM downlink channel id)
      $Param{LoopCcId}    (MSSIM uplink channel id)
OUT : 0=OK</pre>
<a name='StartPRBS'></a><h2>StartPRBS</h2>

<pre> StartPRBS();

</pre>
<pre>SUBROUTINE  : StartPRBS
DESCRIPTION : To start the PRBS function in MSSIM</pre>
<pre>IN  : $Param{CcId}
      $Param{PatternFile}
OUT : 0=OK</pre>
<a name='StopLoopMSSIM'></a><h2>StopLoopMSSIM</h2>

<pre> StopLoopMSSIM();

</pre>
<pre>SUBROUTINE  : StopLoopMSSIM
DESCRIPTION : To stop the loop function in MSSIM</pre>
<pre>IN  : $Param{CcId}        (MSSIM downlink channel id)
      $Param{Rate}        (Data rate)
      @{$Param{Result}    (Statitics arry)
OUT : Status              (0=Ok, 1=Error)
      @{$Param{Result}    (Updated Statitics array)</pre>
<a name='StopPRBS'></a><h2>StopPRBS</h2>

<pre> StopPRBS();

</pre>
<pre>SUBROUTINE  : StopPRBS
DESCRIPTION : To stop the PRBS function in MSSIM and prepare statistics</pre>
<pre>IN  : $Param{CcId}        (MSSIM downlink channel id)
      $Param{Rate}        (Data rate)
      @{$Param{Result}    (Statitics arry)
OUT : 0=Ok
      @{$Param{Result}    (Updated Statitics arry)</pre>
<a name='UnpackCnt'></a><h2>UnpackCnt</h2>

<pre> UnpackCnt();

</pre>
<pre>SUBROUTINE  : UnpackCnt
DESCRIPTION : To unpack statistics in the Cnt parameter</pre>
<pre>IN  : $Param{Rate}        (Data rate)
      @{$Param{Cnt}}      Cnt field fro m MSSIM
OUT : Result Hash updated with Cnt parameters</pre>
<a name='numerically'></a><h2>numerically</h2>

<pre> numerically();

</pre>
<pre>SUBROUTINE  : numerically
DESCRIPTION : Numerical sorting</pre>
<pre>IN  : None
OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>dbLog</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 13/190 55-CAH 161 1290/1 Uen
MODULE      : dbLog.pm
DESCRIPTION : This package contains the subfunctions and variables
              used for SQLite database logging</pre>
<pre>COPYRIGHT ? ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
A   20111018  XSOFFRO   ETORWIL   File created. Added document number.
                                   Made script save result to to
                                    H:/uftework/abisco/Abisco.log to comply
                                    with ATP scheduler.
                                   Added Assert function(as replacement to
                                    the Abisco_Connection Assert function
                                    which use die instead of HandleError).
                                   A HandleError in Cleanup no longer aborts the script
                                    immediately, but gives a warning using carp.
                                    A croak is invoked at the end of StoreResultToDb()
                                    if any Errors have occurred in Cleanup,
                                    so the script still fails.
                                   HandleLogg messages are now logged in abiscolog
                                    using the function Log from user.pm.
                                   Compatible with perl 5.14
PB1 20121017 XYNSTAN  XDANHEN   Added SiteInfo to UpdateLogSection so that every Pre-sub
                                will contain GetSiteInfoResponse
PB2 20121018 XYNSTAN  XDANHEN   Added timer functionality, timer starts on PAC = P and ends on PAC = C</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?File::Copy'>File::Copy</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?HelpFunc'>HelpFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?lib'>lib</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Cwd'>Cwd</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DBI'>DBI</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DBI'>DBI</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='IMPLEMENTS'></a><h1>IMPLEMENTS</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='Assert'></a><h2>Assert</h2>

<pre> $self-&gt;Assert();

</pre>
<pre>SUBROUTINE  : Assert
DESCRIPTION : Assert with DB logging</pre>
<pre>IN  : See Assert in abisco_connection.pm for more info
OUT : 0</pre>
<a name='DbCheckTable'></a><h2>DbCheckTable</h2>

<pre> $self-&gt;DbCheckTable();

</pre>
<pre>SUBROUTINE  : CheckTable
DESCRIPTION : To check if table is in used database</pre>
<pre>IN  : ldbh      - Database connection handle
      tablename - Database tablename
OUT : 1 for true, 0 for false</pre>
<a name='DbReport'></a><h2>DbReport</h2>

<pre> $self-&gt;DbReport();

</pre>
<pre>SUBROUTINE  : DbReport
DESCRIPTION : To send log text from the Result hash to file.</pre>
<pre>IN  : PGMTablename - Test program table name
      DBFilename   - Database file name
      Type         - Message type (INFO/ERROR/RESULT/... etc)
      Message      - Message Text</pre>
<pre>OUT : None</pre>
<a name='DefaultFilename'></a><h2>DefaultFilename</h2>

<pre> $self-&gt;DefaultFilename();

</pre>
<pre>SUBROUTINE  : DefaultFilename
DESCRIPTION : Creates a filename for the database and abisco log files using
              TC, SubTC, data, time etc</pre>
<pre>IN  : None
OUT : A filename (no file ending)</pre>
<a name='EmptyLogBuffer'></a><h2>EmptyLogBuffer</h2>

<pre> $self-&gt;EmptyLogBuffer();

</pre>
<pre>SUBROUTINE  : EmptyLogBuffer
DESCRIPTION : Write all pending messages to the logg</pre>
<pre>IN  : None
OUT : None</pre>
<a name='GetDateTime'></a><h2>GetDateTime</h2>

<pre> $self-&gt;GetDateTime();

</pre>
<pre>SUBROUTINE  : GetDateTime
DESCRIPTION : Formats date and time</pre>
<pre>IN  : None
OUT : Formatted string with date and time</pre>
<a name='GetResult'></a><h2>GetResult</h2>

<pre> $self-&gt;GetResult();

</pre>
<pre>SUBROUTINE  : GetResult
DESCRIPTION : Return the test result for the section.
              If HandleError is used with the parameter AllowCroak set to
              'FALSE', a return command with the value from GetResult()
              should be placed in the action section.</pre>
<pre>IN  : Automated   - 'User', 'Semi', 'Fully'
      Reason      - Reason string overriding default message</pre>
<pre>OUT : If the section had errors:
       - ('Not_Applicable', 'Testcase failed due to error')
          If no errors were detected and Fully automated:
       - ('Pass', '')
          If no errors were detected and Semi/User automated:
       - ('Not_Applicable', Test execution passed.
          Check log to verify the result')</pre>
<a name='HandleError'></a><h2>HandleError</h2>

<pre> $self-&gt;HandleError();

</pre>
<pre>SUBROUTINE  : HandleError
DESCRIPTION : Performs necessary shutdowns and kills the program when an
              error occurs. It also log the errors and sets the TC result.</pre>
<pre>IN  : ErrMsg      - Contains information of the error cause
      Output      - Indicate where the message should be printed
                    (FILE / CONSOLE / NONE / BOTH)
      AllowCroak  - Inidcate that an error message should be
                    followed by a croak
OUT : None</pre>
<a name='HandleLogg'></a><h2>HandleLogg</h2>

<pre> $self-&gt;HandleLogg();

</pre>
<pre>SUBROUTINE  : HandleLogg
DESCRIPTION : Saves logg message string to urther saving in database by
              DbReport.</pre>
<pre>IN  : LoggMsg         (Contains information of test case scenario)
      Output          - Indicate where the message should be printed
                                (FILE / CONSOLE / NONE / BOTH)
      ImmediateWrite  - Inidcate if the message should be written to
                        the logimmediate or placed in a message
                        buffer.
OUT : None</pre>
<a name='SetLogContextAsAction'></a><h2>SetLogContextAsAction</h2>

<pre> $self-&gt;SetLogContextAsAction();

</pre>
<pre>SUBROUTINE  : SetLogContextAsAction
DESCRIPTION : Perform logging actions associated with the entering of the
              action section of a test-case. If a fail has occured in the
              precondition section, that is noted in the log here.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='SetLogContextAsCleanup'></a><h2>SetLogContextAsCleanup</h2>

<pre> $self-&gt;SetLogContextAsCleanup();

</pre>
<pre>SUBROUTINE  : SetLogContextAsCleanup
DESCRIPTION : Perform logging actions associated with the entering of the
              clean-up section of a test-case. If a fail has occured in the
              action section, that is noted in the log here.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='SetLogContextAsPrecondition'></a><h2>SetLogContextAsPrecondition</h2>

<pre> $self-&gt;SetLogContextAsPrecondition();

</pre>
<pre>SUBROUTINE  : SetLogContextAsPrecondition
DESCRIPTION : Perform logging actions associated with the entering of the
              precondition section of a test-case.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='StoreResultToDb'></a><h2>StoreResultToDb</h2>

<pre> $self-&gt;StoreResultToDb();

</pre>
<pre>SUBROUTINE  : StoreResultToDb
DESCRIPTION : Write a result message to the log
              Should be places last in the clean-up section of every
              test case.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='UpdateLogSection'></a><h2>UpdateLogSection</h2>

<pre> $self-&gt;UpdateLogSection();

</pre>
<pre>SUBROUTINE  : UpdateLogSection</pre>
<pre>DESCRIPTION : A call to ths function should be placed in the beginning of
              each precondition/action/cleanup. The function perform the
              logging associated with the current section.</pre>
<pre>IN  : CreateAbiscoLog - Inidcator if an abiscolog should be created.
      UseWriteLog     - Indicator if all log messages should be
                        placed in a text file using the WriteLog
                        command.
      UseSQLiteLog    - Indicator if all log messages should be
                        placed in a SQL database file
      SkipActionIfFailedPreCond
                      - Inidcator if Action section of the test case
                        should be skipped if the precondition fails.
      ImmediateWrite  - Indicate if all log messages (from
                        HandleLog) should be immediately written to
                        the database/text file or be stored in a
                        buffer until a HandleError(),
                        UpdateLogSection() or StoreResultToDb is
                        issued.
OUT : None</pre>
<a name='WriteFileToDB'></a><h2>WriteFileToDB</h2>

<pre> $self-&gt;WriteFileToDB();

</pre>
<pre>SUBROUTINE  : WriteFileToDB
DESCRIPTION : Write a text file into the database log</pre>
<pre>IN  : Filename  - File name
      Type      - File type</pre>
<pre>OUT : None</pre>
<a name='WriteLogDB'></a><h2>WriteLogDB</h2>

<pre> $self-&gt;WriteLogDB();

</pre>
<pre>SUBROUTINE  : WriteLogDB
DESCRIPTION : Write a message to the log</pre>
<pre>IN  : ErrMsg      - Error message text (setting this will make the
                    log type = ERROR)
      LoggMsg     - Error message text (setting this will make the
                    log type = INFO)
      ResultMsg   - Error message text (setting this will make the
                    log type = RESULT)
      Output      - Indicate where the message should be printed
                    (FILE / CONSOLE / NONE / BOTH)
      AllowCroak  - Inidcate that an error message should be
                    followed by a croak
      File        - File name from where the message was logged
      Line        - Line from where the message was logged</pre>
<pre>OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>DVT_Support</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 3/190 55-CAH 161 1290/1 Uen
MODULE      : DVT_Support.pm
DESCRIPTION : This package contains functions handling communication with
              the DVT tool. Depending on the RBS software version the MRU
              names are either of the old DXU/TRUx type or the new DX/TRXx
              type. The conversion between the different type of names and
              the adaptation of the name type to the actual RBS software
              version is handled by the module.</pre>
<pre>              In the description of the module functions below, the
              following terminology has been used.

              Command: A DVT command given in string format. E.g. the
                       command to get the RBS application software revision
                       is 'rev'.

              Path:    The MRU name appended with ':' given in string
                       format, e.g. the path to the DXU MRU is 'DXU:'.

              MRU:     The MRU name in its common format, e.g. DXU.

              Besides specifying the path to the MRU, it is also possible to
              specify the path to the subsystem, e.g. 'DXU:PLS'.


</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
P1A 011002    QRAFRYS             Created
P1B 011004    QRAFRYS             Updated DVT_Command
P1C 011122    QRAFRYS             Update of DVT_Command
P1D 011127    QRAFRYS             Changed $Resp to %Resp and intruduced
                                  wantarray.
P1E 011203    QRAFRYS             Added DVT_Log_Read
P1F 011206    QRAFRYS             Improved documentation
P1G 011211    QRAFRYS             Removed the Abisco string format
                                  requirement.
P1H 011214    QRAFRYS             Partially re-designed for Mixed
                                  Configuration.
P1I 020122    QRAFRYS             Added the possibility to return more than
                                  one response from DVT_Command.
P1J 040116    ERABAHG             Added E0 for ECU in %MRUHash
A   20110905  XLEIMAR   ETORWIL   Applied new template and updated
                                   according to Perlcritic.</pre>
<pre>Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Msg'>Msg</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='Abbreviate'></a><h2>Abbreviate</h2>

<pre> Abbreviate();

</pre>
<pre>SUBROUTINE  : Abbreviate
DESCRIPTION : Converts MRU to internal representation</pre>
<pre>IN  : $1 - MRU name
OUT : $2 - Abbreviated MRU name</pre>
<a name='Alt_Path'></a><h2>Alt_Path</h2>

<pre> Alt_Path();

</pre>
<pre>SUBROUTINE  : Alt_Path
DESCRIPTION : Given the MRU name the second alternative for path is
              calculated. If Type is undefined the alternated Path is
              returned.</pre>
<pre>IN  : $1 - MRU name
OUT : $2 - Second alternative for Path</pre>
<a name='Check'></a><h2>Check</h2>

<pre> Check();

</pre>
<pre>SUBROUTINE  : Check
DESCRIPTION : Checks that the given $MRU is supported</pre>
<pre>IN  : $1 - MRU name
OUT : None</pre>
<a name='DVT_Command'></a><h2>DVT_Command</h2>

<pre> DVT_Command();

</pre>
<pre>SUBROUTINE  : DVT_Command
DESCRIPTION : The DVT_Command function sends a path and/or a command to the
              DVT. The path is checked and possibly converted with regard to
              the version of the RBS software. The command is not checked.
              Both path and command are optional arguments and should be
              given in string format.</pre>
<pre>              By default the function returns the response of the last
              executed DVT command as a hash or as a reference to a hash.
              All responses of a DVT command are returned in an array if the
              tag "Response =&gt; 'All'" is appended to the command. The
              function dies if the specified path is not supported.
              Currently DXU:/DX: and TRUx:/TRXx: paths are supported.

              The first time the DVT_Support module is called for a specific
              MRU the old path type, i.e. 'DXU:' for the DXU, and 'rev' are
              sent in order to determine the RBS software version of the
              MRU. If this initialisation is successful the type of MRU
              name, i.e. old or new type, is remembered by the module as
              long as it is executing.

              %Resp = DVT_Command(Path =&gt; 'DX:', Command =&gt; 'rev');

              Examples:
                The following two lines are equivalent, regardless of the
                RBS software version.

                %Resp = DVT_Command(Path =&gt; 'DXU:', Command =&gt; 'rev');
                %Resp = DVT_Command(Path =&gt; 'DX:', Command =&gt; 'rev');

                Change the path to TRU1...

                %Resp = DVT_Command(Path =&gt; 'TRU1:');

                ...and get the revision

                %Resp = DVT_Command(Command =&gt; 'rev');

                All responses of a command are returned by entering the
                following command...

                @RespList = DVT_Command(Path     =&gt; 'DXU:',
                                        Command  =&gt; 'rev',
                                        Response =&gt; 'All');

                ...the last response can be extracted and controlled with
                Assert.

                %LastResp = %{$RespList[$#RespList]};
                Assert(\%LastResp, {Message =&gt; Accept});

</pre>
<pre>IN  :
OUT :</pre>
<a name='DVT_Log_Read'></a><h2>DVT_Log_Read</h2>

<pre> DVT_Log_Read();

</pre>
<pre>SUBROUTINE  : DVT_Log_Read
DESCRIPTION : The DVT_Log_Read function reads the log stored in the
              specified MRUs using the DVT tool. The MRU names specified in
              the MRU list are checked and possibly converted, since the
              underlying DVT.LogRead command only accepts MRU names of the
              old DXU/TRUx type. Thus, the TP programmer is allowed to call
              the DVT_Log_Read function with MRU names of both old DXU/TRUx
              type and new DX/TRXx type, regardless of the actual RBS
              software version.</pre>
<pre>              The function returns the number of log items read. Currently
              DXU/DX and TRUx/TRXx MRU names are supported.

              The first time the DVT_Support module is called for a specific
              MRU the old path type, i.e. 'DXU:' for the DXU, and 'rev' are
              sent in order to determine the RBS software version of the
              MRU. If this initialisation is successful the type of MRU
              name, i.e. old or new type, is remembered by the module as
              long as it is executing.

              When executing test programs with Tex or Texas, the LOG
              feature in the program description will employ the
              DVT_Log_Read function internally. Thus, the corresponding MRU
              list is allowed to be of either old or new MRU name type.

              $MRUList = [DXU, TRU0];
              $Items_Of_Interest = DVT_Log_Read($MRUList);

              Examples:
                The following two lines are equivalent, regardless of the
                RBS software version.

                $Items_Of_Interest = DVT_Log_Read([DXU, TRU0]);
                $Items_Of_Interest = DVT_Log_Read([DX, TRX0]);

</pre>
<pre>IN  :
OUT :</pre>
<a name='DVT_MRU_Type'></a><h2>DVT_MRU_Type</h2>

<pre> DVT_MRU_Type();

</pre>
<pre>SUBROUTINE  : DVT_MRU_Type
DESCRIPTION : The DVT_MRU_Type function returns the MRU name type for the
              specified MRU. The name type can be either 'Old' or 'New'.</pre>
<pre>              $MRUType = DVT_MRU_Type('DXU');

              Examples:
                The following two lines are equivalent, regardless of the
                RBS software version.

                $MRUType = DVT_MRU_Type('DXU');
                $MRUType = DVT_MRU_Type('DX');

</pre>
<pre>IN  :
OUT :</pre>
<a name='First_Path'></a><h2>First_Path</h2>

<pre> First_Path();

</pre>
<pre>SUBROUTINE  : First_Path
DESCRIPTION : Given the MRU name the first alternaive for path is
              calculated. If Type is assumed to be the first
              alternative.</pre>
<pre>IN  : $1 - MRU name
OUT : $2 - First alternative for Path</pre>
<a name='Init'></a><h2>Init</h2>

<pre> Init();

</pre>
<pre>SUBROUTINE  : Init
DESCRIPTION : Initialises Type variable</pre>
<pre>IN  : $1 - MRU name
      $2 - Command string
OUT : None</pre>
<a name='LongMRU_2_Path'></a><h2>LongMRU_2_Path</h2>

<pre> LongMRU_2_Path();

</pre>
<pre>SUBROUTINE  : LongMRU_2_Path
DESCRIPTION : Convert from LongMRU to Path</pre>
<pre>IN  : $1 - MRU name
OUT : $2 - Path</pre>
<a name='Old_MRU'></a><h2>Old_MRU</h2>

<pre> Old_MRU();

</pre>
<pre>SUBROUTINE  : Old_MRU
DESCRIPTION : Given the MRU name, the corresponding old MRU name is returned</pre>
<pre>IN  : $1 - MRU name
OUT : $2 - Returns the corresponding old MRU name</pre>
<a name='Path_2_LongMRU'></a><h2>Path_2_LongMRU</h2>

<pre> Path_2_LongMRU();

</pre>
<pre>SUBROUTINE  : Path_2_LongMRU
DESCRIPTION : Convert from Path to LongMRU</pre>
<pre>IN  : $1 - Path name
OUT : $2 - MRU name</pre>
<a name='Send_Command'></a><h2>Send_Command</h2>

<pre> Send_Command();

</pre>
<pre>SUBROUTINE  : Send_Command
DESCRIPTION : Sends command to DVT</pre>
<pre>IN  : $1 - Command string
OUT : @2 - List with responses</pre>
<a name='Update_Type'></a><h2>Update_Type</h2>

<pre> Update_Type();

</pre>
<pre>SUBROUTINE  : Update_Type
DESCRIPTION : Checks if the MRU name is an old or new Type and sets the
              Type. If the MRU name is neither an old or new path type the
              Type is unchanged.</pre>
<pre>IN  : $1 - MRU name
OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>DVTFunc</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 14/190 55-CAH 161 1290/1 Uen
MODULE      : dvtfunc.pm
DESCRIPTION : This module contains functions to facilitate some DVT handling
              like clearing logs, reading logs etc. Some DVT commands differ
              betweed the PPC and the AMD. In the test programs the devices
              are meant to have the generic format of the device according
              to:</pre>
<pre>                 Generic   PPC    AMD
                   DX      DX     DXU
                   TRU     TRX    TRU
                   ECU     EC     ECU

              For example, the generic form DX remains unchanged if $TG{DXU}
              is PPC, and is changed to DXU if $TG{DXU} is AMD. This
              behavior is applied depending on the value of entry
              $TG{CheckAMD}. A true value enables the behavior mentioned
              above while false (0) disables it.

              Some commands may write to files, the convention is that the
              file name is passed with entry {File} and that the path is
              fixed to the one specified in $TG{PathLocalDVTLogs}. This path
              should point to the c: drive (UFTE computer), this is the way
              adopted; the files can be copied to a working directory
              (possibly under h: or s:) at the end of the tests. This final
              copy can be done by CopyDVTLogFiles in HelpFunc. This routine
              needs:
               - $TG{PathDVTLogs}          copy to
               - $TG{PathLocalDVTLogs}     copy from
               - $TG{UFTE_PC_MappedDrive}  the UFTE PC must be mapped on the
                                           Abisco PC

              Entry {Receive} may be set to 'NO' if an answer from the
              functions is not wanted (i.e. it does only a Put, not followed
              by a Get).

</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV    DATE       NAME      REVIEW    COMMENT
PA1    20051128   ERADIPE             First revision
P1A    20080319   ERABAHG             Changed log read to log read detailed.
                                      New rev.
P1B    20080609   XRSJALI             Solution for TR 5832. Merged to main
P1B_1A 20080609   XRSJALI             Solution for TR 5763.
P1C    20080904   ERABAHG             Merged to main
P1C_1A 20080910   XRSJALI             Solution for CR 5865.
P1D    20080915   ERAMODN             Merge to main, PA8
P1D_1A 20080926   XMATTEK             ClearAndDestWindow now considers using
                                      detailed log (needed for CR5767).
P1D_1B 20080929   XRSJALI             Implementing TR 5858.
P1E    20081009   ERAMODN             Merge to main, PA9
P1E_1A 20081008   XRSJALI             Implementing CR 5926.
P1E_2A 20081030   XRSJALI             Implementing TR 5931.
P1F    20081020   XRSJALI             Merge to main
P1F_1A 20090424   XYNSTAN             Implementing TR 5920
P1G    20090424   XYNSTAN             Merge to main
P1G_1A 20090611   XYNSTAN             Implementing TR 6149
P1H    20090611   XYNSTAN             Merge to main
A      20110830   XLEIMAR   ETORWIL   Updated to new script template,
                                       Quality control with PerlCritic.
                                       Moved "Str" and "Strip" include from
                                       Absico_Connection to Msg. Removed
                                       "Pack" include from msg (not used).
B      20120530   XLEAENG             HP14008: Merged with ACM libraries
C      20120703   XLEAENG             Removed trailing spaces and hard tabs
D      20120711   XNURMOH   EDAMELI   Script optimization
E      20121017   XWOOKUN   XNURMOH   Debug mode to connect DVT through 5001 for sub DVTEstablishSocket
F      20130415   XTEHKIN   XWOOKUN   Modified in HQ59724, send 'RPA 1' in case RPA value is more than 80.
                                       Changed some commands in DVTRestart() to run recursively when rejected.
                                       DVT Time out flag was added in Measure subroutine.
                                       Modified for HQ62916
                                       Modified for 0004187</pre>
<pre>G      20131011  Syntronic AB/ Syntronic AB/  Modified for HR38066
                 Adibah        Jonathan       Modified in HR52197
                                              Modified in 0004745
H      20131111  Syntronic AB/ Syntronic AB/  0004795: Fixed profiler command return problems
                 Adibah        Catherine
Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?HelpFunc'>HelpFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Time::HiRes'>Time::HiRes</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Event'>Event</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?IO::Handle'>IO::Handle</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?feature'>feature</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?MIME::Base64'>MIME::Base64</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Win32'>Win32</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Socket'>Socket</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Msg'>Msg</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='CheckAMD'></a><h2>CheckAMD</h2>

<pre> CheckAMD();

</pre>
<pre>SUBROUTINE  : CheckAMD
DESCRIPTION : Some DVT commands differ between PPC and AMD. In the main
              program the DVT commands have a generic format which is
              translated to the appropriate one whenever a DVT command is
              issued.</pre>
<pre>IN  : 1. {%TG}     -&gt; Reference to TG hash.
      2. \$Command -&gt; Reference to the command string to be processed
                      in generic format.
OUT : 1. \$Command -&gt; Reference to the command string after it is
                      corrected to PPC or AMD format.</pre>
<a name='CheckDXUPlatform'></a><h2>CheckDXUPlatform</h2>

<pre> CheckDXUPlatform();

</pre>
<pre>SUBROUTINE  : CheckDXUPlatform
DESCRIPTION : 1. Sets $TG{DXU}.
                   IN  : None
                   OUT : None</pre>
<pre>           or 2. Retrieves the DXU platform type. (ACM)
                   IN  : 1. $Conn    -&gt; Abisco connection object.
                         2. {%TG}    -&gt; Reference to TG hash.
                         3. $cb      -&gt; Callback function implementation.
                   OUT : 1. $TG{DXU} -&gt; DXU platform type,
                                        either AMD or PPC.


</pre>
<a name='CheckImprovedSWLog'></a><h2>CheckImprovedSWLog</h2>

<pre> CheckImprovedSWLog();

</pre>
<pre>SUBROUTINE  : CheckImprovedSWLog
DESCRIPTION : Check if a target RU handles Improved SW Log. This routine
              expects the RU to be selected already (i.e you have sent "DX:"
              or similar through a DVTCommand).</pre>
<pre>IN  : 1. $Conn -&gt; Abisco connection object.
      2. {%TG} -&gt; TG hash.
      3. $cb   -&gt; Callback function implementation.
OUT : 1. $iL   -&gt; 1 if the RU handles Improved SW Log, undef otherwise.</pre>
<a name='ClearDVTLog'></a><h2>ClearDVTLog</h2>

<pre> ClearDVTLog();

</pre>
<pre>SUBROUTINE  : ClearDVTLog
DESCRIPTION : Example
                 ClearDVTLog(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                             cb =&gt; \&amp;Callback);
                 ClearDVTLog(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                             Devices =&gt; ['DX', @{$TG{TRXListMon}[2]}],
                             cb =&gt; \&amp;Callback);</pre>
<pre>              When device is not specified, the device is unchanged and only
              'log clear' is issued.

</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. BTSConn            -&gt; Abisco connection object.
      2. TG                 -&gt; Reference to TG hash.
      3. Devices (Optional) -&gt; Reference to a list of devices.
      4. cb                 -&gt; Callback function implementation.
OUT : -</pre>
<a name='DVTClearAndDestWindow'></a><h2>DVTClearAndDestWindow</h2>

<pre> DVTClearAndDestWindow();

</pre>
<pre>SUBROUTINE  : DVTClearAndDestWindow
DESCRIPTION : Example
                 @Devices = ('DX', 'TRU0', 'TRU1', 'ECU0');
                 DVTClearAndDestWndow($abisco, \%TG, \@Devices, sub {
                                        ...
                                      });</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $Conn      -&gt; Abisco connection object.
      2. {%TG}      -&gt; Reference to TG hash.
      3. [@Devices] -&gt; Reference to a list of devices.
      4. $Mode      -&gt; 'on' or 'off'. If undef, defaults to 'all'.
      5. $Mode2     -&gt; 'read' or undef.
      6. cb         -&gt; Callback function implementation.
OUT : -</pre>
<a name='DVTCloseSocket'></a><h2>DVTCloseSocket</h2>

<pre> DVTCloseSocket();

</pre>
<pre>TR6157: Bad crash handling.
Date: 2009-07-28
TR Fix: New DVTCloseSocket will check whether the sockets have been defined
       before closing them.
TR6467: DVT Mixed command inputs.
Date: 2010-04-05
TR Fix: Set DVT to 'remote off' before closing sockets.
SUBROUTINE  : DVTCloseSocket
DESCRIPTION :</pre>
<pre>IN  : 1. $AbiscoConn -&gt; Abisco connection object.
      2. $cb         -&gt; Callback function implementation.
OUT : -</pre>
<a name='DVTCommand'></a><h2>DVTCommand</h2>

<pre> DVTCommand();

</pre>
<pre>SUBROUTINE  : DVTCommand
DESCRIPTION : The answer to a command may be sent in a Spontaneous message
              e.g. when requesting SW revision. Answers have been seen to
              differ between different versions of DVT and between PPC and
              AMD.
              This means that following code is not failproof.
              Please feel free to improve it!</pre>
<pre>              1. Usage 1
                 Example:
                   DVTCommand(Command =&gt; 'DX:', CheckAMD =&gt; 1);
                   DVTCommand(Command =&gt; 'ECU0:', Receive =&gt; 'NO');
                   DVTCommand(Command =&gt; 'rpa');
                   DVTCommand(Command =&gt; 'Hardware reset 0', Timeout =&gt; 80);

                   IN  :
                   OUT : Accept || Spontaneous || Reject

           or 2. Usage 2 (ACM)
                 Example:
                   DVTCommand(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                              Command =&gt; 'DX:', CheckAMD =&gt; 1,
                              cb =&gt; \&amp;Callback);
                   DVTCommand(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                              Command =&gt; 'ECU0:', Receive =&gt; 'NO',
                              cb =&gt; \&amp;Callback);
                   DVTCommand(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                              Command =&gt; 'rpa', cb =&gt; \&amp;Callback);
                   DVTCommand(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                              Command =&gt; 'Hardware reset 0', Timeout =&gt; 80,
                              cb =&gt; \&amp;Callback);

                   IN  : A hash with the following hash-key(s):
                         1. BTSConn -&gt; Abisco connection object.
                         2. TG      -&gt; Reference to TG hash.
                         3. Command -&gt; Command string to send to DVT.
                         4. CheckAMD (optional)
                                    -&gt; 1 if the command string needs to be
                                       corrected to PPC or AMD format. 0 or
                                       undef if otherwise.
                                       Default is $TG{CheckAMD}.
                         5. Receive (Optional)
                                    -&gt; YES to wait for response after
                                       sending the command string,
                                       NO to not wait.
                                       Default is YES.
                         6. Timeout (Optional)
                                    -&gt; Timeout, in seconds. Default is 30.
                         7. cb      -&gt; Callback function implementation.
                   OUT : A hash with the following hash-key(s):
                         1. Message -&gt; Values can be either Accept,
                                       Spontaneous, Reject or Timeout.


</pre>
<a name='DVTEstablishSocket'></a><h2>DVTEstablishSocket</h2>

<pre> DVTEstablishSocket();

</pre>
<pre>TR6157: Bad crash handling.
Date: 2009-07-28
TR Fix: New DVTEstablishSocket will call DVTCloseSocket to close any
       existing connections before establishing connection.
       Removed some redundant codes.
TR6467: DVT Mixed command inputs.
Date: 2010-04-05
TR Fix: Modified DVTEstablishSocket() to accommodate the changes in
       DVTCloseSocket() implementation has been changed to set DVT to
       'remote off' before closing sockets.
SUBROUTINE  : DVTEstablishSocket
DESCRIPTION :</pre>
<pre>IN  : 1. $AbiscoConn -&gt; Abisco connection object.
      2. {%TG}       -&gt; Reference to TG hash.
      3. $cb         -&gt; Callback function implementation.
OUT : -</pre>
<a name='DVTInfoTool'></a><h2>DVTInfoTool</h2>

<pre> DVTInfoTool();

</pre>
<pre>SUBROUTINE  : DVTInfoTool
DESCRIPTION : Send DVT.InfoTool to request DVT information</pre>
<pre>IN  : 1. $conn    -&gt; Abisco connection object.
      2. $cb      -&gt; Callback function implementation.
OUT : -</pre>
<a name='DVTReadFromSocket'></a><h2>DVTReadFromSocket</h2>

<pre> DVTReadFromSocket();

</pre>
<pre>SUBROUTINE  : DVTReadFromSocket
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='DVTReadFromSocketCallback'></a><h2>DVTReadFromSocketCallback</h2>

<pre> DVTReadFromSocketCallback();

</pre>
<pre>SUBROUTINE  : DVTReadFromSocketCallback
DESCRIPTION : This function will be triggered by an IO read event on either
              $dvtSockets[1], $dvtSockets[2], or $dvtSockets[3]. It is not
              meant to be called directly.</pre>
<pre>IN  : 1. $event -&gt; The event object associated with this function.
OUT : -</pre>
<a name='DVTRestart'></a><h2>DVTRestart</h2>

<pre> DVTRestart();

</pre>
<pre>CR6468: DVT Strange use of command.
Date: 2010-04-02
TR Fix: Changed DVTRestart() from 'DVT.Reset' to 'dvt exit'+NewTool way.
       DVTRestart() no longer calls DVTEstablishSocket() because not all
       TPs require the TCP/IP way of communicating with DVT. Better to
       call DVTEstablishSocket() separately for TPs that need to talk to
       DVT via TCP/IP.
TR6642: DVT Bad DVT handling.
Date: 2010-05-26
TR Fix: Allow caller of DVTRestart() to have a choice whether to restart DVT
       ("exit" + "start"), "exit" only (without "start"), or don't "exit"
       ("start" only).
0004745 : 20130910 : Increase timeout to 180s
SUBROUTINE  : DVTRestart
DESCRIPTION : 1. Exiting and restarting the dvt app</pre>
<pre>                   IN  :
                   OUT :

           or 2. Restarts the DVT application. Then, clears the log areas of
                 the specified RUs. (ACM)

                  IN  :  1. $AbiscoConn -&gt; Abisco connection object.
                         2. {%TG}       -&gt; Reference to TG hash.
                         3. [@RU]       -&gt; Reference to a list of RUs. The
                                           log areas of these RUs will be
                                           cleared.
                         4. $Mode       -&gt; One of:
                              NORMAL    - Perform both "exit" and "start" of
                                          DVT. This is the default.
                              DONT_EXIT - No need to tell the DVT to "exit".
                                          Just start it right away. It
                                          should be assumed that the DVT has
                                          already been closed by other
                                          means.
                              EXIT_ONLY - Close the DVT without starting it
                                          again later.
                         5. $rCb        -&gt; Reference to callback function
                                           implementation.
                   OUT : 1. $State      -&gt; Value of this is always 'DONE'.


</pre>
<a name='DVTSendToSocket'></a><h2>DVTSendToSocket</h2>

<pre> DVTSendToSocket();

</pre>
<pre>SUBROUTINE  : DVTSendToSocket
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='DVTSocketRequest'></a><h2>DVTSocketRequest</h2>

<pre> DVTSocketRequest();

</pre>
<pre>SUBROUTINE  : DVTSocketRequest
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. TG      -&gt; Reference to TG hash.
      2. Command -&gt; Command string to send to DVT.
      3. Receive -&gt; YES to wait for response after sending
                    the command string, NO to not wait.
                    Default is YES.
      4. Timeout -&gt; Timeout, in seconds. Default is 10.
      5. cb      -&gt; Callback function implementation.
OUT : 1. $rA     -&gt; One of:
           [@ans] - A list is returned if the socket request
                    completed successfully.
           1      - The 'Receive' parameter was set to 'NO'.
                    (See IN)
           {Message =&gt; 'Timeout'}
                  - Timeout occurred.</pre>
<a name='GetBTS_SWRev'></a><h2>GetBTS_SWRev</h2>

<pre> GetBTS_SWRev();

</pre>
<pre>SUBROUTINE  : GetBTS_SWRev
DESCRIPTION : Gets the BTS SW revision for a device as obtained by DVT.
              The revisions for all devices and for all locations
              (RAM e.t.c.) are obtained and put in a file if requested.</pre>
<pre>              1. Usage 1
                 Example:
                   $SW = GetBTS_SWRev(Devices =&gt; ['DX']);
                     Just get the SW revision. Only one device must be
                     specified. {File} is by default 'SCALAR'. If more than
                     one device should be given then the SW revision of the
                     last one should be returned.

                   GetBTS_SWRev(Devices  =&gt; [@{$TG{TRXList}}],
                                Location =&gt; ['FLASH'],
                                File     =&gt; '');
                   GetBTS_SWRev(Devices  =&gt; ['DX'],
                                Location =&gt; ['FLASH', 'BACKUP'],
                                File     =&gt; 'SCREEN');

                   Location : RAM || FLASH || BACKUP     (RAM is default)
                   File     : SCALAR || SCREEN || file   (SCALAR is default)
                   Code     : 4 || 5 || 7 || 8           (4 is default)

                     Example: 4 -&gt; P9AF
                              5 -&gt; P9AFZ
                              7 -&gt; DXPP9AF
                              8 -&gt; DXPP9AFZ

                   $DX_SW = GetBTS_SWRev(Devices =&gt; ['DX'], Code =&gt; 8);

                 Files are saved under $TG{PathLocalDVTLogs} if this entry
                 is defined otherwise under c:. File names follow a
                 standard pattern:

                   GetBTS_SWRev(Devices =&gt; ['DX', 'TRU3'],
                                File    =&gt; '2');
                   -&gt; 'sw_revision_0002.txt'

                   IN  :
                   OUT :

           or 2. Usage 2 (ACM)
                 Example:
                   $SW = GetBTS_SWRev(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                                      Devices =&gt; ['DX'], cb =&gt; \&amp;Callback);
                      Just get the SW revision. Only one device must be
                      specified. {File} is by default 'SCALAR'. If more
                      than one device should be given then the SW revision
                      of the last one should be returned.

                   GetBTS_SWRev(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                                Devices =&gt; [@{$TG{TRXList}}],
                                Location =&gt; ['FLASH'], File =&gt; '',
                                cb =&gt; \&amp;Callback);
                   GetBTS_SWRev(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                                Devices =&gt; ['DX'],
                                Location =&gt; ['FLASH', 'BACKUP'],
                                File =&gt; 'SCREEN', cb =&gt; \&amp;Callback);

                   Location : RAM || FLASH || BACKUP     (RAM is default)
                   File     : SCALAR || SCREEN || file   (SCALAR is default)
                   Code     : 4 || 5 || 7 || 8           (4 is default)

                              Example: 4 -&gt; P9AF
                                       5 -&gt; P9AFZ
                                       7 -&gt; DXPP9AF
                                       8 -&gt; DXPP9AFZ

                   $DX_SW = GetBTS_SWRev(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                                         Devices =&gt; ['DX'], Code =&gt; 8,
                                         cb =&gt; \&amp;Callback);

                 Files are saved under $TG{PathLocalDVTLogs} if this entry
                 is defined otherwise under c:. File names follow a
                 standard pattern:

                     GetBTS_SWRev(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                                  Devices =&gt; ['DX', 'TRU3'], File =&gt; '2',
                                  cb =&gt; \&amp;Callback);
                     -&gt; 'sw_revision_0002.txt'

                   IN  : A hash with the following hash-key(s) (See
                         description for details):
                         1. BTSConn
                         2. TG
                         3. Devices
                         4. Location (Optional)
                         5. File (Optional)
                         6. Code (Optional)
                         7. cb
                   OUT : 1. $TG{SW} -&gt; One of:
                              The software revision number
                              "DVT jammed" -&gt; This indicates that a timeout
                                              occured when trying to obtain
                                              SW rev.
                              "Incorrect code when obtaining SW revision"


</pre>
<a name='GetIdleLoad'></a><h2>GetIdleLoad</h2>

<pre> GetIdleLoad();

</pre>
<pre>SUBROUTINE  : GetIdleLoad
DESCRIPTION : Returns an array, example:
                 [78.2, 51, 0]
                 [0, 1000, 1]</pre>
<pre>IN  : 1. $LogFilePath, Current minute DVT log file.
      2. $TRS
      3. $RU
OUT : 1. [@B]</pre>
<a name='GetRPALoad'></a><h2>GetRPALoad</h2>

<pre> GetRPALoad();

</pre>
<pre>SUBROUTINE  : GetRPALoad
DESCRIPTION : Element 2 is 0 or 1.
              0 means OK and 1 means NOK.</pre>
<pre>IN  : 1. $LogFilePath, current minute dvt log file.
      2. $Mon
      3. $RU
OUT : 1. [@B]</pre>
<a name='HandleDVTPrompt'></a><h2>HandleDVTPrompt</h2>

<pre> HandleDVTPrompt();

</pre>
<pre>SUBROUTINE  : HandleDVTPrompt
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. Timeout -&gt; Timeout, in seconds
      2. cb      -&gt; Callback function implementation.
OUT : A hash with the following hash-key(s):
      1. Message -&gt; Values can be either Ready or Timeout.</pre>
<a name='HandleDVTResponse'></a><h2>HandleDVTResponse</h2>

<pre> HandleDVTResponse();

</pre>
<pre>SUBROUTINE  : HandleDVTResponse
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. Timeout -&gt; Timeout, in seconds
      2. cb      -&gt; Callback function implementation.
OUT : A hash with the following hash-key(s):
      1. Message -&gt; Values can be either Accept, Spontaneous,
                    Reject or Timeout.</pre>
<a name='LogRead'></a><h2>LogRead</h2>

<pre> LogRead();

</pre>
<pre>SUBROUTINE  : LogRead
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $Conn -&gt; Abisco connection object.
      2. {%TG} -&gt; Reference to TG hash.
      3. $Rec  -&gt; Ignored! Left for future development and debugging.
      4. $FI (Optional)
               -&gt; If this is specified, the logs are written
                  to a file. The value here will also be used
                  in the logfile naming.
      5. $RU (Optional)
               -&gt; RU value to be appended to the logfile name.
      6. cb    -&gt; Callback function implementation.
OUT : -</pre>
<a name='Measure'></a><h2>Measure</h2>

<pre> Measure();

</pre>
<pre>CR6450: DVT The command "dvt remote off" via TTR.
Date: 2010-04-05
CR Fix: Changed Measure() implementation so that "dvt remote off" is set via
       TTR. Removed sending of "dvt remote on" because it is redundant.
TR6677: TC 409:022 terminated prematurely.
Date: 2010-06-14
TR Fix: Allow program to continue after timeout when sending
       "dvt remote off", but record the occurrence in Abisco log.
SUBROUTINE  : Measure
DESCRIPTION : Measure the specified RUs to obtain their process properties
              (CPU load and RAM pool allocation). This is achieved with the
              help of some DVT commands sent through TCP/IP sockets.</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. AbiscoConn -&gt; Abisco connection object.
      2. TG         -&gt; Reference to TG hash.
      3. RUs        -&gt; List of RUs to be measured.
      4. ProcProps  -&gt; List of process properties to be measured.
                       Measurable process properties: IDLE and POOL.
      5. DVTLogPath -&gt; Path for DVTLog txt
      6. cb         -&gt; Reference to callback function implementation.
OUT : 1. $State     -&gt; One of:
           DONE         - Action completed successfully.
           UNSUCCESSFUL - Action aborted due to socket errors.
      2. {%Results} -&gt; Reference to a hash containing the measurements.
      3. {%DVTStat} -&gt; Reference to a hash containing the stats when
                       reading data.
      4. $Flag      -&gt; 0=OK, 1=NOK.
      5. $RespTime  -&gt; Time taken to complete the entire Measure action
                       in seconds, truncated to one decimal point.
      6. $DVTTimeoutFlag -&gt; On : when dvt command timeout , off : dvt command done.</pre>
<a name='ProfilerLogRead'></a><h2>ProfilerLogRead</h2>

<pre> ProfilerLogRead();

</pre>
<pre>SUBROUTINE  : ProfilerLogRead
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $Conn -&gt; Abisco connection object.
      2. {%TG} -&gt; Reference to TG hash.
      3. $Rec  -&gt; Ignored! Left for future development and debugging.
      4. $FI (Optional)
               -&gt; If this is specified, the logs are written
                  to a file. The value here will also be used
                  in the logfile naming.
      5. $RU (Optional)
               -&gt; RU value to be appended to the logfile name.
      6. $Long (Optional) -&gt; Read Long Profiler Log.
      7. cb    -&gt; Callback function implementation.
OUT : -</pre>
<a name='ReadDVTLog'></a><h2>ReadDVTLog</h2>

<pre> ReadDVTLog();

</pre>
<pre>SUBROUTINE  : ReadDVTLog
DESCRIPTION : Example
                ReadDVTLog(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                           cb =&gt; \&amp;Callback);
                ReadDVTLog(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                           Devices =&gt; ['DX', 'ECU2', 'TRU0', 'TRU3'],
                           cb =&gt; \&amp;Callback);
                ReadDVTLog(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                           Devices =&gt; ['DX'], File =&gt; 'log_file',
                           cb =&gt; \&amp;Callback);
                ReadDVTLog(BTSConn =&gt; $abisco, TG =&gt; \%TG, File =&gt; '58',
                           Receive =&gt; 'NO', cb =&gt; \&amp;Callback);</pre>
<pre>              File names:
                  ReadDVTLog(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                             Devices =&gt; ['DX', 'TRU3'], File =&gt; '2',
                             cb =&gt; \&amp;Callback);
                  -&gt; '0002_DX.txt' and '0002_TRU3.txt'

              OBSERVE: The file name shall not include extension.

</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. BTSConn -&gt; Abisco connection object.
      2. TG      -&gt; Reference to TG hash.
      3. Devices (Optional)
                 -&gt; Reference to a list of devices.
      4. File (Optional)
                 -&gt; If this is specified, the logs are written
                    to a file. The value here will also be used
                    in the logfile naming. See example above.
      5. Receive (Optional)
                 -&gt; YES to wait for response after sending
                    the command to DVT, NO to not wait.
                    Default is YES.
      6. cb      -&gt; Callback function implementation.
OUT : -</pre>
<a name='ReadDVTProfilerLog'></a><h2>ReadDVTProfilerLog</h2>

<pre> ReadDVTProfilerLog();

</pre>
<pre>HN28362:  Introduce a new TC with corresponding scripts (profiling) to ACM tests
Date: 2010-12-14
CR Fix: Create new functions for Profiling
SUBROUTINE  : ReadDVTProfilerLog
DESCRIPTION : Example
                ReadDVTProfilerLog(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                           cb =&gt; \&amp;Callback);
                ReadDVTProfilerLog(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                           Devices =&gt; ['DX', 'ECU2', 'TRU0', 'TRU3'],
                           cb =&gt; \&amp;Callback);
                ReadDVTProfilerLog(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                           Devices =&gt; ['DX'], File =&gt; 'log_file',
                           cb =&gt; \&amp;Callback);
                ReadDVTProfilerLog(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                           File =&gt; '58', Receive =&gt; 'NO', cb =&gt; \&amp;Callback);
                ReadDVTProfilerLog(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                           Devices =&gt; ['DX', 'ECU2', 'TRU0', 'TRU3'],
                           Long =&gt; 'YES', cb =&gt; \&amp;Callback);</pre>
<pre>              File names:
                  ReadDVTProfilerLog(BTSConn =&gt; $abisco, TG =&gt; \%TG,
                             Devices =&gt; ['DX', 'TRX0'],
                             File =&gt;"profilerlog", Long =&gt; 'YES',
                             cb =&gt; \&amp;Callback);
                  -&gt; 'profilerlog_DX.txt' and 'profilerlog_TRX0.txt'
                  Note! If Long-&gt;"YES" &gt; 'profilerlog_long_DX.txt' and
                  'profilerlog_long_TRX0.txt'
              OBSERVE: The file name shall not include extension.

</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. BTSConn -&gt; Abisco connection object.
      2. TG      -&gt; Reference to TG hash.
      3. Devices (Optional)
                 -&gt; Reference to a list of devices.
      4. File (Optional)
                 -&gt; If this is specified, the logs are written
                    to a file. The value here will also be used
                    in the logfile naming. See example above.
      5. Receive (Optional)
                 -&gt; YES to wait for response after sending
                    the command to DVT, NO to not wait.
                    Default is YES.
      6. Long (Optional) -&gt; if defined, read Long Profiler Log too, else
                            read only normal profiler log.
      7. cb    -&gt; Callback function implementation.
OUT : -</pre>
<a name='RecursiveClearDVTLogForeachDevice'></a><h2>RecursiveClearDVTLogForeachDevice</h2>

<pre> RecursiveClearDVTLogForeachDevice();

</pre>
<pre>SUBROUTINE  : RecursiveClearDVTLogForeachDevice
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. BTSConn -&gt; Abisco connection object.
      2. TG      -&gt; Reference to TG hash.
      3. Devices -&gt; Reference to a list of devices.
      4. cb      -&gt; Callback function implementation.
OUT : -</pre>
<a name='RecursiveDVTClearAndDestWindowForeachDevice'></a><h2>RecursiveDVTClearAndDestWindowForeachDevice</h2>

<pre> RecursiveDVTClearAndDestWindowForeachDevice();

</pre>
<pre>SUBROUTINE  : RecursiveDVTClearAndDestWindowForeachDevice
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $Conn      -&gt; Abisco connection object.
      2. {%TG}      -&gt; Reference to TG hash.
      3. [@Devices] -&gt; Reference to a list of devices.
      4. $Mode      -&gt; 'on' or 'off'. If undef, defaults to 'all'.
      5. $Mode2     -&gt; 'read' or undef.
      6. cb         -&gt; Callback function implementation.
OUT : -</pre>
<a name='RecursiveDVTSocketRequests'></a><h2>RecursiveDVTSocketRequests</h2>

<pre> RecursiveDVTSocketRequests();

</pre>
<pre>SUBROUTINE  : RecursiveDVTSocketRequests
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. TG      -&gt; Reference to TG hash.
      2. Command -&gt; Command string to send to DVT.
      3. Receive -&gt; YES to wait for response after sending
                    the command string, NO to not wait.
                    Default is YES.
      4. Timeout -&gt; Timeout, in seconds. Default is 10.
      5. Answer  -&gt; Answer received from the last socket request.
      6. Count   -&gt; Number of socket requests left to be executed.
      7. cb      -&gt; Callback function implementation.
OUT : 1. $rA     -&gt; Answer received from the last socket request. One of:
           [@ans] - A list is returned if the socket request
                    completed successfully.
           1      - The 'Receive' parameter was set to 'NO'.
                    (See IN)
           {Message =&gt; 'Timeout'}
                  - Timeout occurred.</pre>
<a name='RecursiveGetBTS_SWRevForeachDevice'></a><h2>RecursiveGetBTS_SWRevForeachDevice</h2>

<pre> RecursiveGetBTS_SWRevForeachDevice();

</pre>
<pre>SUBROUTINE  : RecursiveGetBTS_SWRevForeachDevice
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s) (See description of
      GetBTS_SWRev()):
      1. BTSConn
      2. TG
      3. Devices
      4. Location
      5. File
      6. Code
      7. Answer (Optional) -&gt; Default is an empty string.
      8. cb
OUT : 1. $Answer -&gt; One of:
           The software revision number
           "DVT jammed" -&gt; This indicates that a timeout occured
                           when trying to obtain SW rev.
           "Incorrect code when obtaining SW revision"</pre>
<a name='RecursiveGetBTS_SWRevForeachLocation'></a><h2>RecursiveGetBTS_SWRevForeachLocation</h2>

<pre> RecursiveGetBTS_SWRevForeachLocation();

</pre>
<pre>SUBROUTINE  : RecursiveGetBTS_SWRevForeachLocation
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s) (See description of
      GetBTS_SWRev()):
      1. BTSConn
      2. TG
      3. Devices
      4. Location
      5. File
      6. Code
      7. RU -&gt; A single device (from the list of devices passed by
               input param #3) whose locations are being checked.
      8. Answer
      9. cb
OUT : 1. $Answer -&gt; One of:
           The software revision number
           "DVT jammed" - This indicates a that timeout occured
                          when trying to obtain SW rev.
           "Incorrect code when obtaining SW revision"</pre>
<a name='RecursiveMeasureForeachLog'></a><h2>RecursiveMeasureForeachLog</h2>

<pre> RecursiveMeasureForeachLog();

</pre>
<pre>SUBROUTINE  : RecursiveMeasureForeachLog
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $AbiscoConn-&gt; Abisco connection object.
      2. {%TG}      -&gt; Reference to TG hash.
      3. $Mon       -&gt; Monitor.
      4. [@Log]     -&gt; Reference to a list of log types.
      5. {%Results} -&gt; Reference to a hash containing the measurements.
      6. {%DVTStat} -&gt; Reference to a hash containing the stats when
                       reading data.
      7. $Flag      -&gt; 0=OK, 1=NOK.
      8. $DVTLogPath -&gt; Path for DVTLog txt
      9. $cb        -&gt; Callback function implementation.
OUT : If successful:
        1. {%Results} -&gt; Reference to a hash containing the measurements.
        2. {%DVTStat} -&gt; Reference to a hash containing the stats when
                         reading data.
        3. $Flag      -&gt; 0=OK, 1=NOK.
      If timeout:
        1. {Message =&gt; 'Timeout'}</pre>
<a name='RecursiveMeasureForeachMonitor'></a><h2>RecursiveMeasureForeachMonitor</h2>

<pre> RecursiveMeasureForeachMonitor();

</pre>
<pre>SUBROUTINE  : RecursiveMeasureForeachMonitor
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $AbiscoConn-&gt; Abisco connection object.
      2. {%TG}      -&gt; Reference to TG hash.
      3. [@Mon]     -&gt; Reference to a list of monitors.
      4. [@Log]     -&gt; Reference to a list of log types.
      5. {%Results} -&gt; Reference to a hash containing the measurements.
      6. {%DVTStat} -&gt; Reference to a hash containing the stats when
                       reading data.
      7. $Flag      -&gt; 0=OK, 1=NOK.
      8. $DVTLogPath -&gt; Path for DVTLog txt
      9. $cb        -&gt; Callback function implementation.
OUT : If successful:
        1. {%Results} -&gt; Reference to a hash containing the measurements.
        2. {%DVTStat} -&gt; Reference to a hash containing the stats when
                         reading data.
        3. $Flag      -&gt; 0=OK, 1=NOK.
      If timeout:
        1. {Message =&gt; 'Timeout'}</pre>
<a name='RecursiveRPAOneForeachMonitor'></a><h2>RecursiveRPAOneForeachMonitor</h2>

<pre> RecursiveRPAOneForeachMonitor();

</pre>
<pre>HQ59724 : 05122012 : Send 'RPA 1' to each monitor list
SUBROUTINE  : RecursiveRPAOneForeachMonitor
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. AbisConn   -&gt; Abisco Connection.
      2. rTG        -&gt; Reference to TG hash.
      3. RUs        -&gt; Reference to each monitor list
      4. DVTLogPath -&gt; Path for DVTLog txt
      5. cb         -&gt; Callback function implementation.</pre>
<pre>OUT : None</pre>
<a name='RecursiveReadDVTLogForeachDevice'></a><h2>RecursiveReadDVTLogForeachDevice</h2>

<pre> RecursiveReadDVTLogForeachDevice();

</pre>
<pre>SUBROUTINE  : RecursiveReadDVTLogForeachDevice
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. BTSConn -&gt; Abisco connection object.
      2. TG      -&gt; Reference to TG hash.
      3. Devices -&gt; Reference to a list of devices.
      4. File (Optional)
                 -&gt; If this is specified, the logs are written
                    to a file. The value here will also be used
                    in the logfile naming. See example above.
      5. Receive -&gt; YES to wait for response after sending
                    the command to DVT, NO to not wait.
                    Default is YES.
      6. cb      -&gt; Callback function implementation.
OUT : -</pre>
<a name='RecursiveReadProfilerLogForeachDevice'></a><h2>RecursiveReadProfilerLogForeachDevice</h2>

<pre> RecursiveReadProfilerLogForeachDevice();

</pre>
<pre>SUBROUTINE  : RecursiveReadProfilerLogForeachDevice
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. BTSConn -&gt; Abisco connection object.
      2. TG      -&gt; Reference to TG hash.
      3. Devices -&gt; Reference to a list of devices.
      4. File (Optional)
                 -&gt; If this is specified, the logs are written
                    to a file. The value here will also be used
                    in the logfile naming. See example above.
      5. Receive -&gt; YES to wait for response after sending
                    the command to DVT, NO to not wait.
                    Default is YES.
      6. $Long (Optional) -&gt; Read Long Profiler Log.
      7. cb    -&gt; Callback function implementation.
OUT : -</pre>
<a name='SalvageTTRAndDVT'></a><h2>SalvageTTRAndDVT</h2>

<pre> SalvageTTRAndDVT();

</pre>
<pre>SUBROUTINE  : SalvageTTRAndDVT
DESCRIPTION : Salvage the TTR and DVT connection in the event
              of a timeout from the DVT on the RBS. Will take about
              20 seconds to execute due to settling times.
              A log file is written in $TG{PathDVTLogs}.</pre>
<pre>IN  : File name of the log file.
OUT :</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Globals</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 15/190 55-CAH 161 1290/1 Uen
MODULE      : Globals.pm
DESCRIPTION :</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV    DATE       NAME      REVIEW    COMMENT
PA1    20051128   ERADIPE             First revision
PA2    20051206   ERADIPE             Moved hash %LTC from LTSFunc to Globals
PA3    20061201   ERADIPE             Updated with Avanti
PA4    20070504   ERADIPE             Updated with Avanti 07B
PA5    20080125   XRSJALI             Updated with more LTS counters and
                                       Avanti 08A.
P1A    20080319   ERABAHG             Merged with \dev_08a. New rev
P1B    20080609   XRSJALI             Updating for Avanti 08B
                                       Updating ch.req./sec. for OVERLOAD.
                                       Merged to main.
P1B_1A 20080903   XMATTEK             Added BGActivities T and G (CR5762, 63)
P1C    20080903   ERABAHG             Merged to main
P1C_1A 20080929   XRSJALI             Implementing CR 5888.
P1C_1B 20080930   XRSJALI             Reordering CSR, SSR etc. columns.
P1C_1C 20081007   XMATTEK             Merged from CR5904
P1D    20081008   XSRJALI             Merged to main
P1D_1A 20081210   XRSJALI             Implementing CR 5953.
P1E    20090119   XRSJALI             Merged to main
P1E_1A 20090203   XYNSTAN             Implementing TR 5894
P1F    20090203   XYNSTAN             Merged to main
B      20110831   XLEIMAR   ETORWIL   Updated to new script template,
                                       applied PerlCritic.
                                       Framework maintenance. Declared
                                       variables in @EXPORT_OK.
                                       Declared variables in @EXPORT_OK.</pre>
<pre>Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='NAME'></a><h1>NAME</h1>

<pre>glt</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: ??/190 55-CAH 161 1290/1 Uen
MODULE      : glt.pm
DESCRIPTION : Interface routines to the Aeroflex GSM Load Tester
							More information can be founf in:
								- Remote Control of Aeroflex GSM Load Tester, 5/198 17-FCD 201 33 (CDM)
								- GSM Load Tester TCP/IP Interface (Aeroflex)
								- GSM Load Tester Software Description (Aeroflex)</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV 	DATE      NAME      REVIEW    COMMENT
P1A   120628  	ESTEMOH             Created
P1B   121127  	ESTEMOH             Removed logging to Abisco log file
P1C   130123  	ESTEMOH             Support for sync from different TGs</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?XML::Simple'>XML::Simple</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Sys::Hostname'>Sys::Hostname</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Socket'>Socket</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?IO::Handle'>IO::Handle</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i> Used for Abisco logging</pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='AcceptListener'></a><h2>AcceptListener</h2>

<pre> AcceptListener();

</pre>
<pre>FUNCTION : AcceptListener
COMMENT  : Accept an incomming socket connection from the Listener (used to receive responses from the GSM Load Tester)</pre>
<pre>IN       : Request hash
OUT      : Request hash updated</pre>
<a name='ConnectTalker'></a><h2>ConnectTalker</h2>

<pre> ConnectTalker();

</pre>
<pre>FUNCTION : ConnectTalker
COMMENT  : Connect a socket to the Talker (used to send commands to the GSM Load Tester)</pre>
<pre>IN       : Request hash
OUT      : Request hash updated</pre>
<a name='ConvertArfcn'></a><h2>ConvertArfcn</h2>

<pre> ConvertArfcn();

</pre>
<pre>FUNCTION : ConvertArfcn
COMMENT  : Convert ARFCN to Uplink and Downlink frequency</pre>
<pre>IN       : Arfcn and Band
OUT      : Uplink and Downlink frequency</pre>
<a name='CreateXMLAlign'></a><h2>CreateXMLAlign</h2>

<pre> CreateXMLAlign();

</pre>
<pre>FUNCTION : CreateXMLAlign
COMMENT  : To create XML code for the Align command</pre>
<pre>IN       : Request hash {BCCH}, {Band}, {BCCHPower}
OUT      : Request hash updated with XML (OutMsg)</pre>
<a name='CreateXMLBoot'></a><h2>CreateXMLBoot</h2>

<pre> CreateXMLBoot();

</pre>
<pre>FUNCTION : CreateXMLBoot
COMMENT  : To create XML code for the Boot command</pre>
<pre>IN       : Request hash
OUT      : Request hash updated with XML (OutMsg)</pre>
<a name='CreateXMLHeader'></a><h2>CreateXMLHeader</h2>

<pre> CreateXMLHeader();

</pre>
<pre>FUNCTION : CreateXMLHeader
COMMENT  : To create the XML header</pre>
<pre>IN       : Request hash {myIP}, {Target} and {ListenerPort}
OUT      : Request hash updated with XML (OutMsg)</pre>
<a name='CreateXMLPrepareOrArm'></a><h2>CreateXMLPrepareOrArm</h2>

<pre> CreateXMLPrepareOrArm();

</pre>
<pre>FUNCTION : CreateXMLPrepareOrArm
COMMENT  : To create XML code for the Prepare or Arm command</pre>
<pre>IN       : Request hash {Message}, {SigGenNumber}, {Arfcn}, {Band}, {Level},
					 {AiqFile}, {Delay} and {Triggered}.
OUT      : Request hash updated with XML (OutMsg)</pre>
<a name='CreateXMLSetAlignment'></a><h2>CreateXMLSetAlignment</h2>

<pre> CreateXMLSetAlignment();

</pre>
<pre>FUNCTION : CreateXMLSetAlignment
COMMENT  : To create XML code for the Set Alignment command</pre>
<pre>IN       : Request hash
OUT      : Request hash updated with XML (OutMsg)</pre>
<a name='CreateXMLStop'></a><h2>CreateXMLStop</h2>

<pre> CreateXMLStop();

</pre>
<pre>FUNCTION : CreateXMLStop
COMMENT  : To create XML code for the Stop command</pre>
<pre>IN       : Request hash
OUT      : Request hash updated with XML (OutMsg)</pre>
<a name='CreateXMLTrailer'></a><h2>CreateXMLTrailer</h2>

<pre> CreateXMLTrailer();

</pre>
<pre>FUNCTION : CreateXMLTrailer
COMMENT  : To create the XML trailer</pre>
<pre>IN       : Request hash
OUT      : Request hash updated with XML (OutMsg)</pre>
<a name='InitIP'></a><h2>InitIP</h2>

<pre> InitIP();

</pre>
<pre>FUNCTION : InitIP
COMMENT  : To initialize TCP/IP parameters</pre>
<pre>IN       : Request hash {Function}
OUT      : Request hash updated with {myHostName}, {myIP}, {GLTServer}, {GLTClient},
					 {ListenerPort}, {TalkerPort}, {RBuffSize}, {SocketTimeout}</pre>
<a name='OpenListener'></a><h2>OpenListener</h2>

<pre> OpenListener();

</pre>
<pre>FUNCTION : OpenListener
COMMENT  : Open a socket for the Listener (used to receive responses from the GSM Load Tester)</pre>
<pre>IN       : Request hash
OUT      : Request hash updated</pre>
<a name='OpenTalker'></a><h2>OpenTalker</h2>

<pre> OpenTalker();

</pre>
<pre>FUNCTION : OpenTalker
COMMENT  : Open a socket for the Talker (used to send commands to the GSM Load Tester)</pre>
<pre>IN       : Request hash
OUT      : Request hash updated</pre>
<a name='PrepareResponse'></a><h2>PrepareResponse</h2>

<pre> PrepareResponse();

</pre>
<pre>FUNCTION : PrepareResponse
COMMENT  : To decode the received XML message and prepare the response to the caller.</pre>
<pre>IN       : Request hash {InMsg}
OUT      : Response hash {Message}, {Instance},
					 {Text} (Information messages),
           {Code} and {Reason} (in case of error)</pre>
<a name='ReceiveFromSocket'></a><h2>ReceiveFromSocket</h2>

<pre> ReceiveFromSocket();

</pre>
<pre>FUNCTION : ReceiveFromSocket
COMMENT  : Receive a message from the GSM Load Tester</pre>
<pre>IN       : Request hash
OUT      : Request hash updated</pre>
<a name='SaveAlign'></a><h2>SaveAlign</h2>

<pre> SaveAlign();

</pre>
<pre>FUNCTION : SaveAlign
COMMENT  : To save Align parameters in a hash</pre>
<pre>IN       : Request hash including:
					   {Message}, {BCCH}, {Band}, {BCCHPower},
OUT      : Global Hash %Align updated</pre>
<a name='SavePrepareOrArm'></a><h2>SavePrepareOrArm</h2>

<pre> SavePrepareOrArm();

</pre>
<pre>FUNCTION : SavePrepareorArm
COMMENT  : To save Prepare or Arm parameters in a hash</pre>
<pre>IN       : Request hash including:
					   {IP}, {Message}, {SigGenNumber}, {Arfcn}, {Band},
					   {Level},{AiqFile}, {Delay} and {Triggered}.
OUT      : Global Hash %Prepare or %Arm updated</pre>
<a name='SendToSocket'></a><h2>SendToSocket</h2>

<pre> SendToSocket();

</pre>
<pre>FUNCTION : SendToSocket
COMMENT  : Send a message to the GSM Load Tester</pre>
<pre>IN       : Request hash
OUT      : None</pre>
<a name='gltGet'></a><h2>gltGet</h2>

<pre> gltGet();

</pre>
<pre>SUBROUTINE  : gltGet
DESCRIPTION : Routine called by user to receive a message from the GSM Load Tester:
              - Open Listener socket (if not already open)
							- Accept incomming socket connection
							- Receive a message message
							- Decode the XML message and return the response to the caller</pre>
<pre>IN  : Request hash
OUT : Response hash</pre>
<a name='gltLogDL'></a><h2>gltLogDL</h2>

<pre> gltLogDL();

</pre>
<pre>FUNCTION : gltLogDL
COMMENT  : To log downlink messages from the GSM Load Tester in the Abisco log</pre>
<pre>IN       : Request hash
OUT      : None</pre>
<a name='gltLogUL'></a><h2>gltLogUL</h2>

<pre> gltLogUL();

</pre>
<pre>FUNCTION : gltLogUL
COMMENT  : To log uplink message from the GSM Load Tester in the Abisco log</pre>
<pre>IN       : Response hash
OUT      : None</pre>
<a name='gltPut'></a><h2>gltPut</h2>

<pre> gltPut();

</pre>
<pre>SUBROUTINE  : gltPut
DESCRIPTION : Routine called by user to send a message to the GSM Load Tester:
							- Prepare XML message
              - Open and connect Talker socket
							- Send XML message
							- Write to Abisco log</pre>
<pre>IN  : Request hash
OUT : None</pre>
<a name='numerically'></a><h2>numerically</h2>

<pre> numerically();

</pre>
<pre>Subroutine: numerically
Purpose:    Sort numerical
Input:
Output:</pre>
<a name='saveXMLFile'></a><h2>saveXMLFile</h2>

<pre> saveXMLFile();

</pre>
<pre>FUNCTION : saveXMLFile
COMMENT  : Save XML message to file (for debug purpose only)
					 Message name followed by IP Address, example boot_VERA171.xml</pre>
<pre>IN       : Request hash
OUT      : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>HelpFunc</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 16/190 55-CAH 161 1290/1 Uen
MODULE      : HelpFunc.pm
DESCRIPTION : This module contains functions that define standardized paths
              the test programs may use (mostly by repstab, rbschar and
              rbsstab), automatizes searching for fault reports or scanning
              for LTS periodic reports in logs, e.t.c.</pre>
<pre>              No dependencies on modules except for Globals and PerlFunc.

</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV    DATE       NAME      REVIEW           COMMENT
PA1    20051128   ERADIPE                    First revision
PA2    20080125   XRSJALI                    Updated with new LTS Counters for CR5571
P1A    20080319   ERABAHG                    Merged with \dev_08a. New rev
P1A_1A 20080901   XRSJALI                    Solving TR 5851.
P1B    20080904   ERABAHG                    Merged to main
P1B_1A2 0080919   XRSJALI                    Implementing TR 5889.
P1B_1B2 0080929   XRSJALI                    Implementing CR 5888.
P1C    20081008   XRSJALI                    Merge to main
P1C_1A2 0081210   XRSJALI                    Implementing CR 5953.
P1D    20090119   XRSJALI                    Merge to main
P1D_1A 20090206   XRSJALI                    Reimplementing CR 5953.
P1E    20090216   XRSJALI                    Merge to main
P1F    20090507   ERATZIS                    Added OpenLogFile, CloseLogFile, WriteLog, WriteResultInLogFile
P1G    20090520   ERATZIS                    Added ConvertTrueFalse, GetCapabilitiesOfAllTRXC, updated header
P1H    20090603   ERATZIS                    Added AbisLogging
P1J    20091001   ERATZIS                    Added TrafficMode
P1K    20091103   ERATZIS                    Modified OpenLogFile to handle test cases without SUBTC
B      20110823   XLOHFOO  XGUSTPE           Updated to new script template
                                             Quality control with PerlCritic
                                             Added document number.
                                             Imported %LTC from Globals.pm.
                                             Removed "Strip" from Abisco_Connection include (not used)
                                             and moved "Str" to Msg include.
                                             Updated package global $LOGFILE handle and removed
                                             $FH filehandle with typeglob to $LOGFILE
                                             Fixed WriteLog to call Log in user.pm
C      20120530   XLEAENG                    HP14008: Merged with ACM libraries
D      20120703   XLEAENG                    Removed trailing spaces and hard tabs
E      20120717   XLEAENG  EDAMELI           Script optimization
                                             Implemented lock_keys()
F      20120914   XLOHFOO  XWOOKUN           Implemented lock_keys() for ScanFaultReports,
                                             ScanFaultReportsAllFiles and ScanForRejectMessages
G      20120920   Syntronic AB/  XLOHFOO     Solve bug, add additional judgement for IF
                  Catherine                  in subroutine TraverseFile
H      20121010   XLOHFOO        XTEHKIN     Modified ReadIniFile subroutine for HQ42652
J      20121022   XWOOKUN        XNURMOH     Modified in HQ42662, added VamosCallSucc and VamosCalls to ScanPeriodicReports
K      20121220   XTEHKIN        Syntronic AB/ Modified in HP76832
                                 Catherine     ScanPeriodicReports gets SGCPS from rhLoadConfig
                                               Moved ReadIniFile to TP_Support.pm
                                               Modified for HQ62916
L      20130703   Syntronic AB/  XLOHFOO       Modified in HQ98836.
                  Adibah
M      20130725   Syntronic AB/  XWOOKUN       Modified in HR45662
                  Adibah
N      20131011   Syntronic AB/  XWOOKUN       Modified in 0004749
                  Adibah
S      20131111   Syntronic AB/  Syntronic AB/ HR50519: Return if DVT path not defined yet
                  Adibah         Catherine     0004800: Parsing MO_Address in TraverseFile()
                                               HR79044 : Update PRR
T      20140214   Syntronic AB/  Syntronic AB/ HR98115: Subtract success call/sms from ChReq
                  Adibah         Catherine
U      20140320   Syntronic AB/  Syntronic AB/ HS34697: Prevent undefined warnings if there is no Routing.TRXC
                  Adibah         Catherine
V      20140430   Syntronic AB/  Syntronic AB/ Modified in HS46676.
                  Adibah         Catherine</pre>
<pre>Note that on 2011-06-20 the revision style was changed back to A, B and so on.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Msg'>Msg</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Config::IniFiles'>Config::IniFiles</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Globals'>Globals</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?feature'>feature</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Time::HiRes'>Time::HiRes</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Event'>Event</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Win32'>Win32</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='AbisLogging'></a><h2>AbisLogging</h2>

<pre> AbisLogging();

</pre>
<pre>SUBROUTINE  : AbisLogging
DESCRIPTION : To turn on/off Abis Logging</pre>
<pre>IN  : $State: OFF/ON
OUT : None</pre>
<a name='AbiscoRequest'></a><h2>AbiscoRequest</h2>

<pre> AbiscoRequest();

</pre>
<pre>SUBROUTINE  : AbiscoRequest
DESCRIPTION : Send command to Abisco, and register a watcher in the
              event loop to wait for response, while main process
              continues to run uninterrupted. Once the watcher has
              received the response, inform the main process to run the
              callback function that was passed in as a parameter.</pre>
<pre>IN  : 1. $abisco  -&gt; Abisco connection object.
      2. %command -&gt; Message-hash to send. It should have the
                     following hash-keys:
                     Response
                     - The name of the ABISCO response expected
                       OR a list of message names (waits for
                       one of them).
                     Timeout (Optional)
                     - Max time to wait for a response.
                       If this is specified and a timeout
                       occurs, then the callback is called with
                       the Message key set to 'Timeout'.
                       If Timeout is not specified then a
                       default timeout of 50 seconds is used
                       and if the timeout occurs the test case
                       is terminated.
                     cb
                     - Callback for when the response is
                       received (or a timeout occurs).
OUT : {%response} -&gt; The received response message hash.</pre>
<a name='CloseLogFile'></a><h2>CloseLogFile</h2>

<pre> CloseLogFile();

</pre>
<pre>SUBROUTINE  : CloseLogfile
DESCRIPTION : To close the log file</pre>
<pre>IN  : None
OUT : None</pre>
<a name='ConvertLoadLevel'></a><h2>ConvertLoadLevel</h2>

<pre> ConvertLoadLevel();

</pre>
<pre>HP63288: ACM shall handle different values for LoadDelay depending on load level
DATE: 2012-05-09
CR Fix: Convert Load Level
SUBROUTINE  : ConvertLoadLevel
DESCRIPTION : Convert the Load Level.</pre>
<pre>IN  : $CLoad - Unconverted Load Level
OUT : $CLoad - Converted Load Level</pre>
<a name='ConvertToFrequency'></a><h2>ConvertToFrequency</h2>

<pre> ConvertToFrequency();

</pre>
<pre>SUBROUTINE  : ConvertToFrequency
DESCRIPTION : Convert a list of ARFCNs to a frequency list</pre>
<pre>IN  : @1 - ARFCNs list
OUT : @2 - Frequency list</pre>
<a name='ConvertTrueFalse'></a><h2>ConvertTrueFalse</h2>

<pre> ConvertTrueFalse();

</pre>
<pre>SUBROUTINE  : ConvertTrueFalse
DESCRIPTION : To convert string 'True' or 'False' to '1' or '0' respectively</pre>
<pre>IN  : Text string ('True' or 'False')
OUT : 1 or 0</pre>
<a name='CopyDVTLogFiles'></a><h2>CopyDVTLogFiles</h2>

<pre> CopyDVTLogFiles();

</pre>
<pre>SUBROUTINE  : CopyDVTLogFiles
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='CreateProjectPath'></a><h2>CreateProjectPath</h2>

<pre> CreateProjectPath();

</pre>
<pre>SUBROUTINE  : CreateProjectPath
DESCRIPTION : Creates the entries $TG{PathAbiscoLogs} and $TG{PathDVTLogs}
              where the relevant files are saved.</pre>
<pre>              The input to this function is two start paths:
                  1. a known location e.g.
                     s:\upload\eradipe\characteristics where both the
                     abisco logs and DVT logs will placed.
                  2. a second known location on the UFTE computer that will
                     serve as an intermediate location when saving DVT logs.

              The intermediate location for saving DVT logs is put in
              $TG{PathLocalDVTLogs}. When a test case is terminated, the
              logs will have to be copied from the UFTE computer to the path
              specified by $TG{PathDVTLogs} which may or may not be on the
              Abisco computer.

              A path called 'PathTrash' is also created where intermediate
              files can be saved.

              The UFTE computer is mapped on the Abisco computer and the
              drive unit letter is saved in $TG{UFTE_PC_MappedDrive} in
              order to copy later.

</pre>
<pre>IN  : $Path    -&gt; Usually set to $PATH_PROJECT_ROOT
      $PathDVT -&gt; The DVT logs are saved locally on the UFTE PC in this path
OUT :</pre>
<a name='DeleteAbiscoConfig'></a><h2>DeleteAbiscoConfig</h2>

<pre> DeleteAbiscoConfig();

</pre>
<pre>SUBROUTINE  : DeleteAbiscoConfig
DESCRIPTION : To Disconnect and Delete a TG from Abisco</pre>
<pre>IN  : None
OUT : None</pre>
<a name='GenerateFrequencyList'></a><h2>GenerateFrequencyList</h2>

<pre> GenerateFrequencyList();

</pre>
<pre>SUBROUTINE  : GenerateFrequencyList
DESCRIPTION : Generates a valid frequency list based on the frequency band,
              hopping and the employed ARFCNs</pre>
<pre>IN  : $1 - Frequency band
      $2 - Hopping
      @3 - Used ARFCNs
OUT : $4 - Frequency list</pre>
<a name='GetCurrentTime'></a><h2>GetCurrentTime</h2>

<pre> GetCurrentTime();

</pre>
<pre>SUBROUTINE  : GetCurrentTime
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='GetLoadApplication'></a><h2>GetLoadApplication</h2>

<pre> GetLoadApplication();

</pre>
<pre>SUBROUTINE  : GetLoadApplication
DESCRIPTION : This routine sets $TG{App} or $TG{NewApp} with respect to
              Load Module, IWD and Project. These are used when loading
              software.</pre>
<pre>              Used only by repstab.

</pre>
<pre>IN  : $Application -&gt; 'App' || 'NewApp'
OUT :</pre>
<a name='GetProjectName'></a><h2>GetProjectName</h2>

<pre> GetProjectName();

</pre>
<pre>SUBROUTINE  : GetProjectName
DESCRIPTION : Examples:</pre>
<pre>              GetProjectName();
                displays default text on the screen
                sets $TG{Project}

              GetProjectName(Entry =&gt; 'SecondProject');
                displays default text on the screen
                sets $TG{SecondProject}

              GetProjectName(Entry =&gt; 'LoadFileProject',
                             Text  =&gt; 'Input a project for file loading');
                displays Text
                sets $TG{LoadFileProject}

              NOTE: Newlines in Text are set by the routine.

</pre>
<pre>IN  :
OUT :</pre>
<a name='LoadAbiscoConfig'></a><h2>LoadAbiscoConfig</h2>

<pre> LoadAbiscoConfig();

</pre>
<pre>SUBROUTINE  : LoadAbiscoConfig
DESCRIPTION : To load an Abisco Configuration file
              A file named staticload.abiscoconfig must be saved in
              h:\uftework\abisco</pre>
<pre>IN  : 1. The abisco configuration file (full path).
OUT : None</pre>
<a name='LogString'></a><h2>LogString</h2>

<pre> LogString();

</pre>
<pre>SUBROUTINE  : LogString
DESCRIPTION : Put string in ABISCO log file. Newlines are re-
              moved and converted since they mean end of comment
              in ABISCO (an improvement would be to make one log
              call per line). 'Do' is used instead of 'Put' to
              get rid of the new CH prompt. A period is added last
              in case it ends with ',', the CH otherwise waits
              for more without issuing a new prompt (the dot felt
              cheaper than substitution, this routine is called a lot).</pre>
<pre>IN  : $1 - String to log
  or \%1 - Message hash
OUT : None</pre>
<a name='Member_Of_Array'></a><h2>Member_Of_Array</h2>

<pre> Member_Of_Array();

</pre>
<pre>SUBROUTINE  : Member_Of_Array
DESCRIPTION : Check if $1 is member of @2</pre>
<pre>IN  :  $1 - Value
       @2 - Array
OUT :  $3 - Returns 1 if $1 is member of @2, 0 otherwise</pre>
<a name='OpenLogFile'></a><h2>OpenLogFile</h2>

<pre> OpenLogFile();

</pre>
<pre>SUBROUTINE  : OpenLogfile
DESCRIPTION : To create and open a log file. The log file is stamped with
              testcase, subtestcase and date</pre>
<pre>IN  : None
OUT : None</pre>
<a name='PadString'></a><h2>PadString</h2>

<pre> PadString();

</pre>
<pre>SUBROUTINE  : PadString
DESCRIPTION : Pad string with blanks upto indicated length.
              Longer strings are left intact.</pre>
<pre>IN  : $1 - Length of string to pad to
      $2 - String to pad
OUT : Padded string</pre>
<a name='ParseRejectMsg'></a><h2>ParseRejectMsg</h2>

<pre> ParseRejectMsg();

</pre>
<pre>HM 72582: TC 409:023 Error popup message for reject messages
Date    : 2010-09-14
Fix     : New subroutine to correct some parser algorithm mistakes in CR6559.
HO10755 : ACM crasch when reading SQL-lite
Date    : 2011-06-03
Fix     : Editting the algorithm; send two single quoted instead of one single quote
SUBROUTINE  : ParseRejectMsg
DESCRIPTION : Parses a reject message string into a hash.
              For example, this multi-line reject message string,</pre>
<pre>                {2010-09-06 09:32:14} 0360
                &lt;CHEXTRAS.CHReject
                      CH_Info.IsCmdOrRsp=IsResponse,
                      ReasonForRejection="Timeout when waiting for response from I/O",
                      FurtherInformation="UnixClient timed out when waiting for prompt from Unix connection",
                      OriginalCommand="uch_r1ad 289 33 PROGPROD.ListLoadfileNames  AbisVersion=G11A TGBand=GSM900P TGBandType=900 SoftwareVersion='p1az' Project='avanti_g11b' Model=RBS2000 TGId=0 Model=RBS2000 AbisVersion=G11A TGBand=GSM900P TGBandType=900 "

              will turn into this hash:

                %parsedMsg = (
                    'CHReject'           =&gt; 'CHEXTRAS',
                    'OriginalCommand'    =&gt; 'uch_r1ad 289 33 PROGPROD.ListLoadfileNames  AbisVersion=G11A TGBand=GSM900P TGBandType=900 SoftwareVersion=\'p1az\' Project=\'avanti_g11b\' Model=RBS2000 TGId=0 Model=RBS2000 AbisVersion=G11A TGBand=GSM900P TGBandType=900 ',
                    'FurtherInformation' =&gt; 'UnixClient timed out when waiting for prompt from Unix connection',
                    'ReasonForRejection' =&gt; 'Timeout when waiting for response from I/O'
                );

</pre>
<pre>IN  : 1. $rejectMsgStr -&gt; A string containing a reject message.
OUT : 1. \%parsedMsg   -&gt; Reference to a hash containing the parsed
                          reject message.</pre>
<a name='PrepareFaultMap'></a><h2>PrepareFaultMap</h2>

<pre> PrepareFaultMap();

</pre>
<pre>SUBROUTINE  : PrepareFaultMap
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='PrintFaultMap'></a><h2>PrintFaultMap</h2>

<pre> PrintFaultMap();

</pre>
<pre>SUBROUTINE  : PrintFaultMap
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='ReadLoadDelaySetting'></a><h2>ReadLoadDelaySetting</h2>

<pre> ReadLoadDelaySetting();

</pre>
<pre>HP63288: ACM shall handle different values for LoadDelay depending on load level
DATE: 2012-05-09
CR Fix: Read LoadDelay from INI files
SUBROUTINE  : ReadLoadDelaySetting
DESCRIPTION : Read LoadDelay parameter from INI files.</pre>
<pre>IN  : $CurrentLoadFile - The path of the INI files
OUT : $LoadDelay - the value of the LoadDelay</pre>
<a name='SaveRejectIntoArray'></a><h2>SaveRejectIntoArray</h2>

<pre> SaveRejectIntoArray();

</pre>
<pre>SUBROUTINE  : SaveRejectIntoArray
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='ScanFaultReports'></a><h2>ScanFaultReports</h2>

<pre> ScanFaultReports();

</pre>
<pre>SUBROUTINE   : ScanFaultReports
DESCRIPTION  : Reads an Abisco log file to search for faults.
               The file name is supplied with its extension.</pre>
<pre>IN  : $Path
      $File
      $ReturnType -&gt; 'return number' || 'return array'
OUT : $RT   -&gt; the number of faults encountered in the Abisco log file
               || a reference to an array describing the faults</pre>
<a name='ScanFaultReportsAllFiles'></a><h2>ScanFaultReportsAllFiles</h2>

<pre> ScanFaultReportsAllFiles();

</pre>
<pre>SUBROUTINE   : ScanFaultReportsAllFiles
DESCRIPTION  : Goes thru all files (which ought to be Abisco logs) in a
               given directory and searches for fault reports. Whatever
               faults are found will be written in file Abisco.txt.</pre>
<pre>               Example:
                 ScanFaultReportsAllFiles($Path, "*.log|*.txt");
IN  :
OUT :


</pre>
<a name='ScanForRejectMessages'></a><h2>ScanForRejectMessages</h2>

<pre> ScanForRejectMessages();

</pre>
<pre>CR6559: Add column(s) in Excel sheet with required level
Date: 2010-09-06
CR Fix: It is now possible to return an array of hashes containing the parsed
       reject messages instead of the reject count.
HM 72582: TC 409:023 Error popup message for reject messages
Date    : 2010-09-14
Fix     : Corrected some parser algorithm mistakes in CR6559.
SUBROUTINE  : ScanForRejectMessages
DESCRIPTION : Reads an Abisco log file to search for Reject messages.
              The file name is supplied with its extension.</pre>
<pre>IN  : 1. $SrcDir      -&gt; Path to the directory where the Abisco log
                         file can be found.
      2. $SrcFile     -&gt; Name of the Abisco log file to search for
                         Reject messages. File extension must be
                         included.
      3. $DestPath    -&gt; The designated path of the file in which the
                         Reject log entries will be written to.
      4. $retType     -&gt; If "return array" was specified here, a
         (Optional)      reference to an array of hashes containing
                         the parsed reject messages will be returned
                         instead of the reject count.
OUT : 1. $RejectCount -&gt; Number of Reject messages found in the source
                         file.
             or
         \@parsedRejectMessages -&gt;
                         Reference to an array of hashes containing
                         the parsed reject messages.</pre>
<a name='ScanPeriodicReports'></a><h2>ScanPeriodicReports</h2>

<pre> ScanPeriodicReports();

</pre>
<pre>HO92107 : 20120209 : Pack LTS.Report data for each cell
HR45662 : 20130731 : Include fail rates; Call Fail Rate (CFR),
                    Vamos Call Fail Rate (VamosCFR) and SMS Fail Rate (SFR) in the report
SUBROUTINE  : ScanPeriodicReports
DESCRIPTION : Searches a file for periodic reports.</pre>
<pre>              The file given could correpsond to one minute execution
              time, this is the way implemented in
              characteristics/stability, but the duration could be anything
              actually. The file shall contain data obtained during the SAME
              LOAD TYPE (supplied to the function).
              What this function does is to return a hash with keys the
              success ratios: CSR, SSR, RCR and PRR. NPR and NT will also
              follow. Explanation:

               CSR: Call success ratio (all call types put together)
               SSR: SMS success ratio
               RCR: RUT channel requests ratio (a RUT is of course needed)
               PRR: Pagings success ratio
               CPS: Calls per second
               SPS: SMS per second
               RPS: CHRQST per second
               PPS: Pagings per second
               IAS: Immidiate Assignment Sent
               IAR: Immidiate Assignment Reject
               HOV: Handover
               NPR: number or periodic reports found
               NT : the time in seconds these reports total to

               CFR:      Call Fail Rate
               VamosCFR: Vamos Call Fail Rate
               SFR:      SMS Fail Rate

              With ratio we mean: with respect to what is expected for the
              load type in question (see Globals).

              Observe that by reading a file like the way it is done here it
              may be so that the text "LTS.PeriodicReport" is found but the
              actual calls etc are in another file, that is the file does
              not include the complete information. The function does not
              try to "paste" two "runs", what is lost is lost and hopefully
              considered marginal in the long run.
              Entry {OneFailedReading} is true if the above has occured.

              When running characteristics the period could be set to
              something in the order of 13 or 17 sec (nice prime numbers).

</pre>
<pre>IN  :
OUT :</pre>
<a name='ScanSystemLoad'></a><h2>ScanSystemLoad</h2>

<pre> ScanSystemLoad();

</pre>
<pre>HO74565: ACM Updates according to System CR4961 &amp; CR 5416
DATE: 2011-10-27
CR Fix: Search System load in abisco log file
HP91346 :Traffic and monitoring can not be done on other TRXs and REs than 0 (G13A &amp; G12A_3)
Date: 2012-5-30
CR Fix: Pass all selected TRX for scan system load
SUBROUTINE  : ScanSystemLoad
DESCRIPTION : Reads an Abisco log file to search for system load.
              The file name is supplied with its extension.</pre>
<pre>IN  : $Path
      $File
OUT : $retLoad   -&gt; the RU and CPU load encountered in the Abisco log file</pre>
<a name='StartABISLog'></a><h2>StartABISLog</h2>

<pre> StartABISLog();

</pre>
<pre>SUBROUTINE  : StartABISLog
DESCRIPTION : The five values in set lot protocol command are:
              RBLT : the PCM link
              TS   : is e.g. 1 if we are checking TRXC3 with
                     4:1 concentration
              SB   : the Start Bit, should be set to 0 if not
                     running multiplexing
              SAPI : set to 0 for Cell, 62 if for OML
              TEI  : the TRX number</pre>
<pre>IN  :
OUT :</pre>
<a name='StartAbiscoLog'></a><h2>StartAbiscoLog</h2>

<pre> StartAbiscoLog();

</pre>
<pre>SUBROUTINE  : StartAbiscoLog
DESCRIPTION : Clears and starts the Abisco log file.
              The file name shall include the extension.</pre>
<pre>              Example:
                StartAbiscoLog($TG{PathAbiscoLogs}, 'abisco.txt');

</pre>
<pre>IN  : 1. $Path -&gt; A path where the abisco log file is to be saved
      2. $F    -&gt; File identifier
OUT :</pre>
<a name='StopABISLog'></a><h2>StopABISLog</h2>

<pre> StopABISLog();

</pre>
<pre>SUBROUTINE  : StopABISLog
DESCRIPTION : Analogous to StartAbisLog.</pre>
<pre>IN  : See above
OUT :</pre>
<a name='TrafficMode'></a><h2>TrafficMode</h2>

<pre> TrafficMode();

</pre>
<pre>SUBROUTINE  : TrafficMode
DESCRIPTION : To turn on/off Traffic Mode</pre>
<pre>IN  : $State: OFF/ON
OUT : None</pre>
<a name='TraverseFile'></a><h2>TraverseFile</h2>

<pre> TraverseFile();

</pre>
<pre>0004749 : 20131011 : Workaround to grab data from MO_Address in abisco log
SUBROUTINE  : TraverseFile
DESCRIPTION : Traverses a file (given to this function by its filehandle)
              in search of all error codes execept for those error codes
              defined in hash $TG{KnownFaults}.</pre>
<pre>              For all other cases, the fault is registered, printed in
              $ReportFile (which is either a file handle or STDOUT) and the
              number of faults encountered, or an array containing a short
              fault description, is returned; this is depended upon the
              value of $ReturnType. The faults are also printed together
              with the fault type, the fault interpretation.

              A bitmap is used to mark the devices that are faulty. When
              this subroutine ends, entry {FaultyTRXCs} is obtained.

              Every fault found is also tested against $TG{TrapFaults} and
              if a trap fault was detected, $TG{TrapFound} is set to refer
              to an array containing a short description of the trap that
              was triggered. If a trap was not found then $TG{TrapFound}
              remains undef. The main program will probably abort the test
              when a trap is detected.

              $FaultFound - indicates if a fault was found inside one
                            BG.FaultReport.
              $CNT        - counts all faults in all BG.FaultReports in the
                            whole file.

</pre>
<pre>IN  : 1. $LogFile    -&gt; Filehandle indicating the file to search errors in
      2. $ReportFile -&gt; Filehandle indicating an output file or the screen
      3. $ReturnType -&gt; 'return number' || 'return array'
OUT : 1. depends on $ReturnType</pre>
<a name='WriteLog'></a><h2>WriteLog</h2>

<pre> WriteLog();

</pre>
<pre>SUBROUTINE  : WriteLog
DESCRIPTION : To write a message to the logfile and/or console window</pre>
<pre>IN  : Text string to log
      Type (File, Console or Both);
OUT : None</pre>
<a name='WriteTCResultInLogFile'></a><h2>WriteTCResultInLogFile</h2>

<pre> WriteTCResultInLogFile();

</pre>
<pre>SUBROUTINE  : WriteTCResultInLogFile
DESCRIPTION : To write the TC result in Log File</pre>
<pre>IN  : None
OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>InstrFunc</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 17/190 55-CAH 161 1290/1 Uen
MODULE      : InstrFunc.pm
DESCRIPTION : Contains routines for SG, SPEC and CRTC.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV    DATE      NAME      REVIEW    COMMENT
PA1    20051128  ERADIPE             First revision
PA2    20080213                      ver13 on GSMRBS disk
P1A    20080319  ERABAHG             Merged with \dev_08a. New rev
P1B    20080609  XRSJALI             Implementation of CR 5758.
                                     Updating for CR 5758. Merged to main
P1B_1A 20080625  XRSJALI             Updating for CR 5768
P1C    20080904  ERABAHG             Merged to main
PC2    20110310  QRADGUT             Fix TR HN80884
D      20110822  XJMJMJM   XLEIMAR   Updated to new script template
                                      Quality control with PerlCritic.
                                      Added document number.
                                      Removed "Strip" for Abisco_Connection
                                       include (not used) and moved "Str" to
                                       Msg include.
E      20120530  XLEAENG             HP14008: Merged with ACM libraries
PF1    20120703  XLEAENG             Removed trailing spaces and hard tabs
PF2    20120712  XNURMOH   EDAMELI   Script optimization
PF3    20120802  XLOHFOO   XNURMOH   Replace array with Hash input for RUTAttach,
                                     RUTFreeRunningAirData, RUTConfig, RUTStart,
                                     RUTStop.
F      20130311  XLEAENG   XWOOKUN   Modified in HQ31594
Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?feature'>feature</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?tstm'>tstm</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?HelpFunc'>HelpFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Globals'>Globals</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Msg'>Msg</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Complex'>Complex</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='CRTCCfgConfigureCH'></a><h2>CRTCCfgConfigureCH</h2>

<pre> CRTCCfgConfigureCH();

</pre>
<pre>SUBROUTINE  : CRTCCfgConfigureCH
DESCRIPTION : This function is called when having called either
              CRTCCfgConfigureCH1 or CRTCCfgConfigureCH2. A reference
              to a TG hash is needed since this function needs some
              default values that are read from the TG hash. PLMN is an
              example of such a value.</pre>
<pre>              Default values that are set irrespective of the hash is
              the channel combination for CH1 or CH2 and the time slot.

              Example:
                CRTCCfgConfigureCH1();
                CRTCCfgConfigureCH2(TSRX =&gt; 4, TSTX =&gt; 4);

</pre>
<pre>IN  : None
OUT : None</pre>
<a name='CRTCCfgConfigureCH1'></a><h2>CRTCCfgConfigureCH1</h2>

<pre> CRTCCfgConfigureCH1();

</pre>
<pre>SUBROUTINE  : CRTCCfgConfigureCH1
DESCRIPTION :</pre>
<pre>IN  : None
OUT : None</pre>
<a name='CRTCCfgConfigureCH2'></a><h2>CRTCCfgConfigureCH2</h2>

<pre> CRTCCfgConfigureCH2();

</pre>
<pre>SUBROUTINE  : CRTCCfgConfigureCH2
DESCRIPTION :</pre>
<pre>IN  : None
OUT : None</pre>
<a name='CRTCCommand'></a><h2>CRTCCommand</h2>

<pre> CRTCCommand();

</pre>
<pre>SUBROUTINE  : CRTCCommand
DESCRIPTION :</pre>
<pre>IN  : None
OUT : None</pre>
<a name='CRTCConfigurationStart'></a><h2>CRTCConfigurationStart</h2>

<pre> CRTCConfigurationStart();

</pre>
<pre>SUBROUTINE  : CRTCConfigurationStart
DESCRIPTION :</pre>
<pre>IN  : None
OUT : None</pre>
<a name='CRTCCreateLogFile'></a><h2>CRTCCreateLogFile</h2>

<pre> CRTCCreateLogFile();

</pre>
<pre>SUBROUTINE  : CRTCCreateLogFile
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='CRTCDefineSite'></a><h2>CRTCDefineSite</h2>

<pre> CRTCDefineSite();

</pre>
<pre>SUBROUTINE  : CRTCDefineSite
DESCRIPTION :</pre>
<pre>IN  : 1. %Indata (Optional) -&gt; Override default data
OUT :</pre>
<a name='CRTCInitRootAirlog'></a><h2>CRTCInitRootAirlog</h2>

<pre> CRTCInitRootAirlog();

</pre>
<pre>SUBROUTINE  : CRTCInitRootAirlog
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='CRTCLoopStart'></a><h2>CRTCLoopStart</h2>

<pre> CRTCLoopStart();

</pre>
<pre>SUBROUTINE  : CRTCLoopStart
DESCRIPTION :</pre>
<pre>IN  : None
OUT : None</pre>
<a name='CRTCReadyForInit'></a><h2>CRTCReadyForInit</h2>

<pre> CRTCReadyForInit();

</pre>
<pre>SUBROUTINE  : CRTCReadyForInit
DESCRIPTION : Exit analog, ready for cfg files.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='CRTCReadyForTP'></a><h2>CRTCReadyForTP</h2>

<pre> CRTCReadyForTP();

</pre>
<pre>SUBROUTINE  : CRTCReadyForTP
DESCRIPTION : Up to airlog running, ready for TP running.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='CRTCValidateSI5_6'></a><h2>CRTCValidateSI5_6</h2>

<pre> CRTCValidateSI5_6();

</pre>
<pre>SUBROUTINE  : CRTCValidateSI5_6
DESCRIPTION : Validate that SI5 and SI6 are scheduled.
              Exception raised if not.</pre>
<pre>IN  : %1 - Message hash with overriding parameters (optional)
OUT : None</pre>
<a name='DIAmuXCommand'></a><h2>DIAmuXCommand</h2>

<pre> DIAmuXCommand();

</pre>
<pre>SUBROUTINE  : DIAmuXCommand
DESCRIPTION :</pre>
<pre>IN  : None
OUT : None</pre>
<a name='DIAmuXConTrafResource'></a><h2>DIAmuXConTrafResource</h2>

<pre> DIAmuXConTrafResource();

</pre>
<pre>SUBROUTINE  : DIAmuXConTrafResource
DESCRIPTION :</pre>
<pre>IN  : None
OUT : None</pre>
<a name='DIAmuXDiscTrafResource'></a><h2>DIAmuXDiscTrafResource</h2>

<pre> DIAmuXDiscTrafResource();

</pre>
<pre>SUBROUTINE  : DIAmuXDiscTrafResource
DESCRIPTION :</pre>
<pre>IN  : None
OUT : None</pre>
<a name='DIAmuXTRAChangeBoard'></a><h2>DIAmuXTRAChangeBoard</h2>

<pre> DIAmuXTRAChangeBoard();

</pre>
<pre>SUBROUTINE  : DIAmuXTRAChangeBoard
DESCRIPTION :</pre>
<pre>IN  : None
OUT : None</pre>
<a name='DVTAttach'></a><h2>DVTAttach</h2>

<pre> DVTAttach();

</pre>
<pre>SUBROUTINE  : DVTAttach
DESCRIPTION : Attach the DVT by calling TTR.NewTool</pre>
<pre>IN  :
OUT :</pre>
<a name='DeltaSetAmplitude'></a><h2>DeltaSetAmplitude</h2>

<pre> DeltaSetAmplitude();

</pre>
<pre>SUBROUTINE  : DeltaSetAmplitude
DESCRIPTION :</pre>
<pre>IN  : DeltaAttenuation, DeltaAttenuationTime (optionally InstanceNo)
OUT :</pre>
<a name='RUTAttach'></a><h2>RUTAttach</h2>

<pre> RUTAttach();

</pre>
<pre>SUBROUTINE  : RUTAttach
DESCRIPTION : Attach a RUT by calling TTR.NewTool</pre>
<pre>IN  : None
OUT : None</pre>
<a name='RUTConfig'></a><h2>RUTConfig</h2>

<pre> RUTConfig();

</pre>
<pre>CR6543: New ini files needed when running against RUS/RRUS.
Date: 2010-05-14
CR Fix: Modified RUTConfig() to be able to configure RUT bursting on
       multiple timeslots, not just TS0.
HO92102: Add support to run SG Calls in ACM
Date   : 2012-1-3
CR Fix : Pass in SG calls burst file paths to RUTConfig()
SUBROUTINE  : RUTConfig
DESCRIPTION : Basic configuration of RUT</pre>
<pre>IN  : 1. Abisco Connection
      2. Burst filename
      3. TS list
      4. SGCall burst file path
      5. Call back function
OUT : None</pre>
<a name='RUTFreeRunningAirData'></a><h2>RUTFreeRunningAirData</h2>

<pre> RUTFreeRunningAirData();

</pre>
<pre>CR6543: New ini files needed when running against RUS/RRUS.
Date: 2010-05-13
CR Fix: Modified RUTFreeRunningAirData() to be able to send the
       Abisco message "FreeRunningAirData" to multiple timeslots,
       not just TS0.
HP79712: TA value for signal generators used for SG shall be configured automatically
Date   : 2012-05-25
CR Fix : Pass in timing advance value
SUBROUTINE  : RUTFreeRunningAirData
DESCRIPTION : Use this item to configure the bursting of data in a
              certain timeslot.
              This item is not correlated to any measurement but rather
              should be used for non-RUT measurement applications.
              The actual bursting is started using the XExecute
              'StartFreeRunningAirData' item.</pre>
<pre>IN  : 1. Abisco Connection
      2. Burst file name
      3. TS list
      4. SG call burst file paths
      5. Timing Advance (in ms)
      6. Call back function
OUT : None</pre>
<a name='RUTModulatorConfig'></a><h2>RUTModulatorConfig</h2>

<pre> RUTModulatorConfig();

</pre>
<pre>SUBROUTINE  : RUTModulatorConfig
DESCRIPTION : Use this item to supply RUT2 with information on
              how the external modulation interface on
              the modulator should be accessed.</pre>
<pre>      1. $BTS                   -&gt; Abisco connection object.
      2. $model                 -&gt;
      3. $delay                 -&gt;
      4. $datavalidity          -&gt;
      5. $sync                  -&gt;
      6. $bitorder              -&gt;
      7. $retryCount            -&gt;
      8. $cb                    -&gt;
OUT : None


</pre>
<a name='RUTRejectStatus'></a><h2>RUTRejectStatus</h2>

<pre> RUTRejectStatus();

</pre>
<pre>CR6492: RUT and SG fault/error/reject routine.
Date: 2010-01-25
CR Fix: 'RUTRejectStatus' function sends 'GetRBSMasterTGSyncStatus', 'GetRUTAPPStatus', 'GetRUTAPPStatus2' and 'InfoTool' commands.
SUBROUTINE  : RUTRejectStatus
DESCRIPTION : Routine to get the RUT status when a RUT command is rejected</pre>
<pre>IN  : None
OUT : None</pre>
<a name='RUTReset'></a><h2>RUTReset</h2>

<pre> RUTReset();

</pre>
<pre>SUBROUTINE  : RUTReset
DESCRIPTION : Reset, close and restart the RUT application.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='RUTSelectTRU'></a><h2>RUTSelectTRU</h2>

<pre> RUTSelectTRU();

</pre>
<pre>SUBROUTINE  : RUTSelectTRU
DESCRIPTION : Use this item to assign the measurements to a TRU number.</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $BTS                   -&gt; Abisco connection object.
      2. $trxnum                -&gt; TRU number (0..253)
      3. $retryCount            -&gt; number of retry
      4. $cb                    -&gt; Callback function
OUT : None</pre>
<a name='RUTStart'></a><h2>RUTStart</h2>

<pre> RUTStart();

</pre>
<pre>CR6543: New ini files needed when running against RUS/RRUS.
Date: 2010-05-13
CR Fix: Modified RUTStart() to be able to start free running air data on
       multiple timeslots, not just TS0.
HO92102: Add support to run SG Calls in ACM
Date   : 2012-1-3
CR Fix : Pass in SG calls burst file paths to RUTStart(), start all TS if present
SUBROUTINE  : RUTStart
DESCRIPTION : Start RUT bursting in specified timeslots.</pre>
<pre>IN  : 1. Abisco connection
      2. TS list
      3. SG Calls burst file path
      4. Call back function
OUT : None</pre>
<a name='RUTStop'></a><h2>RUTStop</h2>

<pre> RUTStop();

</pre>
<pre>CR6543: New ini files needed when running against RUS/RRUS.
Date: 2010-05-13
CR Fix: Modified RUTStop() to be able to stop free running air data on
       multiple timeslots, not just TS0.
HO92102: Add support to run SG Calls in ACM
Date   : 2012-1-3
CR Fix : Pass in SG calls burst file paths to RUTStop(), stop all TS if present
SUBROUTINE  : RUTStop
DESCRIPTION : Stop RUT bursting in specified timeslots.</pre>
<pre>IN  : 1. Abisco connection
      2. TS list
      3. SG Calls burst file path
      4. Call back function
OUT : None</pre>
<a name='RUTWaitForSync'></a><h2>RUTWaitForSync</h2>

<pre> RUTWaitForSync();

</pre>
<pre>SUBROUTINE  : RUTWaitForSync
DESCRIPTION : Wait for sync from RBS Master. To be executed after
              configuring the RUT.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='SGAttach'></a><h2>SGAttach</h2>

<pre> SGAttach();

</pre>
<pre>SUBROUTINE  : SGAttach
DESCRIPTION : Attach a Signal Generator by calling TTR.NewTool</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $BTS                   -&gt; Abisco connection object.
      2. $instance            -&gt; SG Instance
      3. $retryCount            -&gt; number of retry
      4. $cb                    -&gt; Callback function
OUT : None</pre>
<a name='SGRejectStatus'></a><h2>SGRejectStatus</h2>

<pre> SGRejectStatus();

</pre>
<pre>CR6492: RUT and SG fault/error/reject routine.
Date: 2010-01-25
CR Fix: 'SGRejectStatus' function sends 'Status' and 'InfoTool' commands.
SUBROUTINE  : SGRejectStatus
DESCRIPTION : Routine to get the SG status when a SG command is rejected</pre>
<pre>IN  : SG Instance No.
OUT : None</pre>
<a name='SGSetAmplitude'></a><h2>SGSetAmplitude</h2>

<pre> SGSetAmplitude();

</pre>
<pre>SUBROUTINE  : SGSetAmplitude
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $BTS                   -&gt; Abisco connection object.
      2. $amplitude             -&gt; Amplitude level in dBm
      3. $tmpinstance            -&gt; SG Instance
      4. $retryCount            -&gt; number of retry
      5. $cb                    -&gt; Callback function
OUT : None</pre>
<a name='SGSetChannel'></a><h2>SGSetChannel</h2>

<pre> SGSetChannel();

</pre>
<pre>SUBROUTINE  : SGSetChannel
DESCRIPTION : Sets SG to a GSM channel on a given GSM band.</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $BTS                 -&gt; Abisco connection object.
      2. $Channel             -&gt; The channel number
      3. $Band                -&gt; The GSM Band
      4. $Instance (Optional) -&gt; SG Instance
      5. $retryCount          -&gt; number of retry
      6. $cb                  -&gt; Callback function
OUT : None</pre>
<a name='SGSetGSMDataPattern'></a><h2>SGSetGSMDataPattern</h2>

<pre> SGSetGSMDataPattern();

</pre>
<pre>HN60002: Test scripts should set signal generator to use I/Q data
Date: 2011-3-29
TR Fix: Create SGSetGSMDataPattern function to send GSMDataPattern
SUBROUTINE  : SGSetGSMDataPattern
DESCRIPTION : Routine to Set the Data Pattern to the SG</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $BTS                   -&gt; Abisco connection object.
      2. $instance            -&gt; SG Instance
      3. $retryCount            -&gt; number of retry
      4. $cb                    -&gt; Callback function
OUT : None</pre>
<a name='SGSetOutput'></a><h2>SGSetOutput</h2>

<pre> SGSetOutput();

</pre>
<pre>SUBROUTINE  : SGSetOutput
DESCRIPTION : Set signal generator output on or off.</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $BTS                   -&gt; Abisco connection object.
      2. $output               -&gt; 'ON' or 'OFF'
      3. $instance            -&gt; SG Instance
      4. $retryCount            -&gt; number of retry
      5. $cb                    -&gt; Callback function
OUT : None</pre>
<a name='SPECGetNoiseLevel'></a><h2>SPECGetNoiseLevel</h2>

<pre> SPECGetNoiseLevel();

</pre>
<pre>SUBROUTINE  : SPECGetNoiseLevel
DESCRIPTION : Returns the noise level. This level is obtained by looking
              at a small window outside the far right side of the band
              (Uplink) and taking a measurement at the center of that
              window. The noise level is obtained in Video Average mode.</pre>
<pre>              Example:
                $NoiseLevel = SPECGetNoiseLevel('GSM800');

</pre>
<pre>IN  : 1. $Band -&gt; the frequency band
OUT : 1. the noise level (floor)</pre>
<a name='SPECGetSignalLevel'></a><h2>SPECGetSignalLevel</h2>

<pre> SPECGetSignalLevel();

</pre>
<pre>SUBROUTINE  : SPECGetSignalLevel
DESCRIPTION : Example:
              $A = SPECGetSignalLevel('CHNR', 4, 'GSM900P');
              $B = SPECGetSignalLevel('Frequency', 831.8);</pre>
<pre>IN  : 1. $Mode  -&gt; CHNR || Frequency
      2. $Input -&gt; a channel number or a frequency depending on 1.
      3. $Band  -&gt; the frequency band. Is undefined if 'Frequency'.
OUT : 1. the signal level</pre>
<a name='SPECSetWindow'></a><h2>SPECSetWindow</h2>

<pre> SPECSetWindow();

</pre>
<pre>SUBROUTINE  : SPECSetWindow
DESCRIPTION : This routine sets the window of the SPEC. If mode is set to
              'CHNR' then $Input is a list of ARFCN's (which has to be in
              an increasing order). This list can contain several channels
              but only the first and the last define the window.
              If mode is set to 'Frequency' then two frequncies are supplied
              and which define exactly the window.</pre>
<pre>              Example:
                SPECSetWindow('CHNR', [5, 11, 15, 19], 'GSM900P');
                  sets window between CHNR 3 and 21, the lowest in the array
                  minus 2 and the highest in the array plus 2. The array
                  is checked at the lowest and highest index since usually
                  this array is a TRX array (consists of several channels).

                SPECSetWindow('CHNR', $TG{TRXListCell}{0}, $TG{FreqBand});

                SPECSetWindow('Frequency', [956.1, 956.8]);
                  when using 'Frequency' only two frequencies shall be
                  supplied.

</pre>
<pre>IN  :
OUT :</pre>
<a name='TSTM_ActivateRACH'></a><h2>TSTM_ActivateRACH</h2>

<pre> TSTM_ActivateRACH();

</pre>
<pre>HQ31594: 20121130 : adding TSTM function to ACM
SUBROUTINE  : TSTM_ActivateRACH
DESCRIPTION : To cofigure and start sending of Channel Request from MSSIM</pre>
<pre>IN          : A hash containing:
              1. IP Adress
              2. Cell in MSSIM configuration
              3. Number of Channel Request per second per CCCH
              4. Number of EGPRS Channel Request per second per CCCH
OUT         : None</pre>
<a name='TSTM_DeactivateRACH'></a><h2>TSTM_DeactivateRACH</h2>

<pre> TSTM_DeactivateRACH();

</pre>
<pre>HQ31594: 20121130 : adding TSTM function to ACM
SUBROUTINE  : TSTM_DeactivateRACH
DESCRIPTION : To cofigure and start sending of Channel Request from MSSIM</pre>
<pre>IN          : A hash containing:
              1. IP Adress
              2. Cell in MSSIM configuration
OUT         : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>IS_ICP_ConvList</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 18/190 55-CAH 161 1290/1 Uen
MODULE      : IS_ICP_ConvList.pm
DESCRIPTION :</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
PA1 20051128  ERADIPE             First revision
P1A 20080319  ERABAHG             New rev
B   20110907  XJMJMJM   XLEIMAR   Updated to new script template
                                   Quality control with PerlCritic.
                                   Added document number.
                                   Fixed include from "Globals".</pre>
<pre>Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Globals'>Globals</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ISStaticList'></a><h2>ISStaticList</h2>

<pre> ISStaticList();

</pre>
<pre>SUBROUTINE  : ISStaticList
DESCRIPTION : Example calls:</pre>
<pre>              ISStaticList($IS, {TRU =&gt; 5, TS =&gt; 7}, 'ICP1');

                 -&gt; Returns ICP1 for TRU5 TS7 on given IS list.

              ISStaticList($IS, {TRU =&gt; 5}, 'ICP2');

                 -&gt; Returns ICP2 for TRU5 SCH on given IS list.
                    NOTE: you could not run TRU_ICP2() since you would
                          have to know if it is a 16 or 64 kbps TRU.
                          TRU_ICP2 just makes a conversion according to
                          the tables, and since no IS list is provided
                          in that function there is no way to obtain
                          the 16/64 since it depends on the information
                          stored in the IS list.

              ISStaticList($IS, {TRU =&gt; 5}, 'KBPS');

                 -&gt; Returns 16 or 64 (kbps) for TRU5 on given IS list.

              ISStaticList($IS, {TRU =&gt; 5, TS =&gt; 7}, 'PCM');

                 -&gt; Returns a hash (refer to function PCM_ICP1).
                    Contains keys {PCM}, {TS}, {SUBTS}, {ICP}.

              ISStaticList($IS, {ICP1 =&gt; 1184}, 'ICP2');

                 -&gt; Returns the ICP2 that is connected to the given ICP1
                    according to the IS list.

              ISStaticList($IS, {ICP2 =&gt; 916}, 'PCM');

                 -&gt; Returns a hash (see previous example requesting PCM).

</pre>
<pre>IN  : See example above.
OUT :</pre>
<a name='PCM_ICP1'></a><h2>PCM_ICP1</h2>

<pre> PCM_ICP1();

</pre>
<pre>SUBROUTINE  : PCM_ICP1
DESCRIPTION : Example calls:</pre>
<pre>              PCM_ICP1(PCM =&gt; 1, TS =&gt; 24, SUBTS =&gt; 0);
                 -&gt;   {PCM =&gt; 1, TS =&gt; 24, SUBTS =&gt; 0, ICP =&gt; 224)

              PCM_ICP1(ICP =&gt; 1217);
                 -&gt;   {PCM =&gt; 2, TS =&gt; 18, SUBTS =&gt; 1, ICP =&gt; 1217)

</pre>
<pre>IN  : See example above.
OUT :</pre>
<a name='TRU_ICP2'></a><h2>TRU_ICP2</h2>

<pre> TRU_ICP2();

</pre>
<pre>SUBROUTINE  : TRU_ICP2
DESCRIPTION : Example calls:</pre>
<pre>              TRU_ICP2(KBPS =&gt; 16, TRU =&gt; 4, CHTYPE =&gt; SCH, SUBTS =&gt; 1);
                 -&gt;   {CHTYPE =&gt; SCH,
                       KBPS   =&gt; 16,
                       TRU    =&gt; 4,
                       ICP    =&gt; 561}

              TRU_ICP2(KBPS =&gt; 64, TRU =&gt; 6);
                 -&gt;   {CHTYPE =&gt; SCH,
                       KBPS   =&gt; 64,
                       TRU    =&gt; 6,
                       ICP    =&gt; 928}

              TRU_ICP2(KBPS =&gt; 64, TRU =&gt; 7, TS =&gt; 3);
                 -&gt;   {CHTYPE =&gt; ATSR,
                       KBPS   =&gt; 64,
                       TRU    =&gt; 7,
                       TS     =&gt; 3,
                       ICP    =&gt; 980}

              TRU_ICP2(ICP =&gt; 652);
                 -&gt;   {CHTYPE =&gt; SCH,
                       KBPS   =&gt; 16,
                       TRU    =&gt; 7,
                       SUBTS  =&gt; 0,
                       ICP    =&gt; 652}

              TRU_ICP2(ICP =&gt; 1097);
                 -&gt;   {CHTYPE =&gt; ATSR,
                       KBPS =&gt; 64,
                       TRU =&gt; 10,
                       TS =&gt; 5,
                       SUBTS =&gt; 1,
                       ICP =&gt; 1097}

</pre>
<pre>IN  : See example above.
OUT :</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>LocalDB</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 19/190 55-CAH 161 1290/1
MODULE      : LocalDB.pm
DESCRIPTION : This package contains the sub functions and variables
              used for SQLite local database function</pre>
<pre>COPYRIGHT &Acirc;&copy; : ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV  DATE      NAME         REVIEW      COMMENT
A    20100920  XDT/XNGUTHU  ESTEMOH     Initial version.
B    20110907  XSOFFRO      XLEIMAR     PerlCritic applied. 
                                         New script template used. 
                                         New document number added.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?constant'>constant</a></i> Ensure DB_VERSION is the same with version in DB</pre>
<pre><i><a href='http://search.cpan.org/perldoc?File::Basename'>File::Basename</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DBI'>DBI</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='new'></a><h2>new</h2>

<pre> $self-&gt;new();

</pre>
<pre>SUBROUTINE  : new
DESCRIPTION : Create new local database object (Constructor subroutine)</pre>
<pre>IN  : None
OUT : Object instance</pre>
<a name='ClearSystemUnderTestIdArray'></a><h2>ClearSystemUnderTestIdArray</h2>

<pre> $self-&gt;ClearSystemUnderTestIdArray();

</pre>
<pre>SUBROUTINE  : ClearSystemUnderTestIdArray
DESCRIPTION : Clear system under test id array</pre>
<pre>IN  : None
OUT : None</pre>
<a name='ClearTestResourceIdArray'></a><h2>ClearTestResourceIdArray</h2>

<pre> $self-&gt;ClearTestResourceIdArray();

</pre>
<pre>SUBROUTINE  : ClearTestResourceIdArray
DESCRIPTION : Clear test resource id array</pre>
<pre>IN  : None
OUT : None</pre>
<a name='CommandResultShow'></a><h2>CommandResultShow</h2>

<pre> $self-&gt;CommandResultShow();

</pre>
<pre>SUBROUTINE  : CommandResultShow
DESCRIPTION : Print out run response result but now does not use</pre>
<pre>IN  : Array of subtc_result_id
OUT : Pass/Fail</pre>
<a name='GetDate'></a><h2>GetDate</h2>

<pre> $self-&gt;GetDate();

</pre>
<pre>SUBROUTINE  : GetDate
DESCRIPTION : Return the current date in string format</pre>
<pre>IN  : None
OUT : Current date in string</pre>
<a name='GetIdAutoIncrement'></a><h2>GetIdAutoIncrement</h2>

<pre> $self-&gt;GetIdAutoIncrement();

</pre>
<pre>SUBROUTINE  : GetIdAutoIncrement
DESCRIPTION : Increase ID value in a database table</pre>
<pre>IN  : table_name, field name
OUT : 1 if table emty or new id after increment</pre>
<a name='GetTestResourceTypeList'></a><h2>GetTestResourceTypeList</h2>

<pre> $self-&gt;GetTestResourceTypeList();

</pre>
<pre>SUBROUTINE  : GetTestResourceTypeList
DESCRIPTION : Get TestResourceTypeList from Program description</pre>
<pre>IN  : None
OUT : Test resource type list</pre>
<a name='GetTime'></a><h2>GetTime</h2>

<pre> $self-&gt;GetTime();

</pre>
<pre>SUBROUTINE  : GetTime
DESCRIPTION : Return the current time in string format</pre>
<pre>IN  : None
OUT : Current time in string</pre>
<a name='InsertRowToTable'></a><h2>InsertRowToTable</h2>

<pre> $self-&gt;InsertRowToTable();

</pre>
<pre>SUBROUTINE  : InsertRowToTable
DESCRIPTION : Insert new record into local database table</pre>
<pre>IN  : tablename: tablename, array of field name and value
OUT : None</pre>
<a name='IsValueTextExist'></a><h2>IsValueTextExist</h2>

<pre> $self-&gt;IsValueTextExist();

</pre>
<pre>SUBROUTINE  : IsValueTextExist
DESCRIPTION : Check a specific record exists or not</pre>
<pre>IN  : table_name, array of fields in the table
OUT : (1, $id) or (0,undef)</pre>
<a name='LocalDBDisConnect'></a><h2>LocalDBDisConnect</h2>

<pre> $self-&gt;LocalDBDisConnect();

</pre>
<pre>SUBROUTINE  : LocalDBDisConnect
DESCRIPTION : Disconnect local database</pre>
<pre>IN  : None
OUT : None</pre>
<a name='LogFileUpdate'></a><h2>LogFileUpdate</h2>

<pre> $self-&gt;LogFileUpdate();

</pre>
<pre>SUBROUTINE  : LogFileUpdate
DESCRIPTION : Insert new record into 'log_file' table</pre>
<pre>IN  : logfile
OUT : log_file_id</pre>
<a name='LogOutputUpdate'></a><h2>LogOutputUpdate</h2>

<pre> $self-&gt;LogOutputUpdate();

</pre>
<pre>SUBROUTINE  : LogOutputUpdate
DESCRIPTION : Insert new record into 'log_output' table</pre>
<pre>IN  : log_file_id,
      log_output_type
      log_output_format</pre>
<pre>OUT : log_output_id</pre>
<a name='MakeAndConditionString'></a><h2>MakeAndConditionString</h2>

<pre> $self-&gt;MakeAndConditionString();

</pre>
<pre>SUBROUTINE  : MakeAndConditionString
DESCRIPTION : Combine two strings with 'AND'</pre>
<pre>IN  : Hash table of strings
OUT : Combined string</pre>
<a name='MakeQuestionMarkString'></a><h2>MakeQuestionMarkString</h2>

<pre> $self-&gt;MakeQuestionMarkString();

</pre>
<pre>SUBROUTINE  : MakeQuestionMarkString
DESCRIPTION : Make a "?,?,?,?,?" string</pre>
<pre>IN  : Number</pre>
<pre>OUT : A string
      ex: ?,?,?   (if input number =3)</pre>
<a name='PACInfoUpdate'></a><h2>PACInfoUpdate</h2>

<pre> $self-&gt;PACInfoUpdate();

</pre>
<pre>SUBROUTINE  : PACInfoUpdate
DESCRIPTION : Update value of pac, feature_number, module_number, tc, subtc, suba in
              'pac_result' table when running a subtc</pre>
<pre>IN  : pac, feature_number, module_number, tc, subtc, suba
OUT : None</pre>
<a name='PACResultUpdate'></a><h2>PACResultUpdate</h2>

<pre> $self-&gt;PACResultUpdate();

</pre>
<pre>SUBROUTINE  : PACResultUpdate
DESCRIPTION : Insert new record into 'pac_result' table</pre>
<pre>IN  : Hash table of {subtc_result_id, result, msg_type, stdout_msg,
      line, log_output_type, achieved_results, expected_results, log_output_id}
OUT : None</pre>
<a name='ReadDataFromFile'></a><h2>ReadDataFromFile</h2>

<pre> $self-&gt;ReadDataFromFile();

</pre>
<pre>SUBROUTINE  : ReadDataFromFile
DESCRIPTION : Read content from file</pre>
<pre>IN  : File name
OUT : Blob data</pre>
<a name='SubTCHasSystemUnderTestUpdate'></a><h2>SubTCHasSystemUnderTestUpdate</h2>

<pre> $self-&gt;SubTCHasSystemUnderTestUpdate();

</pre>
<pre>SUBROUTINE  : SubTCHasSystemUnderTestUpdate
DESCRIPTION : Insert new records into 'subtc_has_system_under_test' table</pre>
<pre>IN  : None
OUT : None</pre>
<a name='SubTCHasTestResourceUpdate'></a><h2>SubTCHasTestResourceUpdate</h2>

<pre> $self-&gt;SubTCHasTestResourceUpdate();

</pre>
<pre>SUBROUTINE  : SubTCHasTestResourceUpdate
DESCRIPTION : Insert new records into 'subtc_has_test_resource' table</pre>
<pre>IN  : None
OUT : None</pre>
<a name='SubTCResultShow'></a><h2>SubTCResultShow</h2>

<pre> $self-&gt;SubTCResultShow();

</pre>
<pre>SUBROUTINE  : SubTCResultShow
DESCRIPTION : Print out Sub Tc result</pre>
<pre>IN  : Array of subtc_result_id
OUT : None</pre>
<a name='SubTCResultUpdate'></a><h2>SubTCResultUpdate</h2>

<pre> $self-&gt;SubTCResultUpdate();

</pre>
<pre>SUBROUTINE  : SubTCResultUpdate
DESCRIPTION : Insert new record into 'subtc_result' table if the record does not exist</pre>
<pre>IN  : Setting parameters in 'tp.conf'
OUT : level, start_date, start_time</pre>
<a name='SubTCResultUpdateLevel'></a><h2>SubTCResultUpdateLevel</h2>

<pre> $self-&gt;SubTCResultUpdateLevel();

</pre>
<pre>SUBROUTINE  : SubTCResultUpdateLevel
DESCRIPTION : Update value of level in 'subtc_result' table</pre>
<pre>IN  : level
OUT : None</pre>
<a name='SubTCResultUpdateResult'></a><h2>SubTCResultUpdateResult</h2>

<pre> $self-&gt;SubTCResultUpdateResult();

</pre>
<pre>SUBROUTINE  : SubTCResultUpdateResult
DESCRIPTION : Update result in 'subtc_result' table</pre>
<pre>IN  : result, status
OUT : subtc_result_id</pre>
<a name='SubTCResultUpdateStartTime'></a><h2>SubTCResultUpdateStartTime</h2>

<pre> $self-&gt;SubTCResultUpdateStartTime();

</pre>
<pre>SUBROUTINE  : SubTCResultUpdateStartTime
DESCRIPTION : Update start time in 'subtc_result' table</pre>
<pre>IN  : None
OUT : None</pre>
<a name='SubTCResultUpdateStopTime'></a><h2>SubTCResultUpdateStopTime</h2>

<pre> $self-&gt;SubTCResultUpdateStopTime();

</pre>
<pre>SUBROUTINE  : SubTCResultUpdateStopTime
DESCRIPTION : Update stop time in 'subtc_result' table</pre>
<pre>IN  : None
OUT : None</pre>
<a name='SystemUnderTestUpdate'></a><h2>SystemUnderTestUpdate</h2>

<pre> $self-&gt;SystemUnderTestUpdate();

</pre>
<pre>SUBROUTINE  : SystemUnderTestUpdate
DESCRIPTION : Insert new record into 'system_under_test' table if the record does not exist</pre>
<pre>IN  : type, serial, revision, manufacturing_date, position, logical_id
OUT : None</pre>
<a name='TestCaseUpdate'></a><h2>TestCaseUpdate</h2>

<pre> $self-&gt;TestCaseUpdate();

</pre>
<pre>SUBROUTINE  : TestCaseUpdate
DESCRIPTION : Insert new record into 'test_case' table if the record dose not exist</pre>
<pre>IN  : Setting parameters in 'tp.conf'
OUT : None</pre>
<a name='TestProgramUpdate'></a><h2>TestProgramUpdate</h2>

<pre> $self-&gt;TestProgramUpdate();

</pre>
<pre>SUBROUTINE  : TestProgramUpdate
DESCRIPTION : Insert new record into 'test_program' table if the record does not exist</pre>
<pre>IN  : Setting parameters in 'tp.conf'
OUT : None</pre>
<a name='TestResourceUpdate'></a><h2>TestResourceUpdate</h2>

<pre> $self-&gt;TestResourceUpdate();

</pre>
<pre>SUBROUTINE  : TestResourceUpdate
DESCRIPTION : Insert new record into 'test_resource' table if the record does not exist</pre>
<pre>IN  : test_resource_type, hardware_id, hardware_revision, software_revision
OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>LogABIStss</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 40/190 55-CAH 161 1290/1 Uen
MODULE      : LogABIStss.pm
DESCRIPTION : TSS monitoring subroutines, such as Tshark logging.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME    REVIEW  COMMENT
 A  20111024  XLEIMAR         Created based on wireshark.pm
 B  20111107  XLEIMAR XSOFFRO Changed TSSOpenWLog to extract more
                               information from the header.
 C  20120330  XLEIMAR EERICSV Updated TSSStartWLog to support newly added
                               elements in the TLM.Start_Tlinks command.
                               Updated DESTROY to remove the log file from
                               the tssXX directory if it was successfully
                               copied to the current directory.
                               Commented out some parts of the code because
                               of Abisco TR HP55198.
 D  20120425  XLEIMAR XAMMELY Restored the code which was commented out
                               because of Abisco TR HP55198.
                              Commented out input elements Output and
                               Format from TSSStartWLog as they are not yet
                               supported in an Abisco release
 E  20120507  XLEIMAR XAMMELY Altered parameter RBLT for LAPD logging
 F  20120530  XLEIMAR XAMMELY Changed RBLT to PCMline and instead retrieve
                               the RBLT (PCMnumber) with InfoTG
 G  20120612  ELEMARE EDAMELI Uncommented commented elements
 H  20120921  XNAVNAS ELEMARE Added extra safety to TSSWaitWLog
 J  20121217  ENASNAV XANSBEM Updated Format-input for TSSStartWLog according
                               to CP HQ59774
 K  20121221  ENASNAV EPRRANA Updated Format-input for TSSStartWLog
PL1 20130704  XHENRMA         Added neccesary package includes to parse new EL2TP-traffic
                              Added new parameters to TSSStartWLog when doing IP-logging
                              Modified the constructor to detect TSS rev Y13+ and will in that case,
                                change the way TSSOpenWLog, TSSCloseWLog and TSSReadWLog behaves.
                                Note that the returnvalues from TSSReadWLog are altered.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?NetPacket::IP'>NetPacket::IP</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?NetPacket::Ethernet'>NetPacket::Ethernet</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Net::TcpDumpLog'>Net::TcpDumpLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?File::Compare'>File::Compare</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?File::Copy'>File::Copy</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Scalar::Util'>Scalar::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='new'></a><h2>new</h2>

<pre> $self-&gt;new();

</pre>
<pre>SUBROUTINE  : new
DESCRIPTION : Constructor</pre>
<pre>IN  : $Class                LogABIStss class
      $Arg{AbisMode}        Either TDM, SC, IP-SIU or IP</pre>
<pre>      Example:
        my $ABISlog = LogABIStss-&gt;new(AbisMode =&gt; $TG{AbisMode});

</pre>
<pre>OUT : The object reference</pre>
<a name='DESTROY'></a><h2>DESTROY</h2>

<pre> $self-&gt;DESTROY();

</pre>
<pre>SUBROUTINE  : DESTROY
DESCRIPTION : Destructor - is automatically called when the object is
              destroyed. This is to make sure that the logging stops
              when the script fails.</pre>
<pre>IN  : $Self         LogABIStss object reference
OUT :</pre>
<a name='TSSCloseWLog'></a><h2>TSSCloseWLog</h2>

<pre> $self-&gt;TSSCloseWLog();

</pre>
<pre>SUBROUTINE  : TSSCloseWLog
DESCRIPTION : To close the opened binary Wireshark log</pre>
<pre>IN  : $Self                 LogABIStss object reference
OUT : $Resp{Result}         Result Code (0=OK)
      $Resp{Reason}         Result Text</pre>
<a name='TSSOpenWLog'></a><h2>TSSOpenWLog</h2>

<pre> $self-&gt;TSSOpenWLog();

</pre>
<pre>SUBROUTINE  : TSSOpenWLog
DESCRIPTION : To open the binary Wireshark log (which was created in the
              last call to TSSStartWLog) and read the Basic Header, Counters
              and Channel Desciptors.</pre>
<pre>IN  : $Self                   LogABIStss object reference
OUT : $Resp{Result}           Result Code (0=OK)
      $Resp{Reason}           Result Text
      $Resp{NoOfChannels}     Number of Channels
      $Resp{NoOfPackets}      Number of Packets (total for all channels)</pre>
<pre>      For all parameters below, see see LSU Ethereal User's manual edition
      1.50 or later, chapter "Channel descriptors"

      $Resp{$Channel}{Domain}
      $Resp{$Channel}{Protocol}
      $Resp{$Channel}{PpuNbr}
      $Resp{$Channel}{SccRate}
      $Resp{$Channel}{UplinkChNbr}
      $Resp{$Channel}{DownlinkChNbr}
      $Resp{$Channel}{InterfaceCode}
      $Resp{$Channel}{ProcObjType}
      $Resp{$Channel}{Spare}
      $Resp{$Channel}{FilterMap}
      $Resp{$Channel}{UplinkPcmNbr}
      $Resp{$Channel}{DownLinkPcmNbr}
      $Resp{$Channel}{UplinkTsMask}
      $Resp{$Channel}{DownLinkTsMask})
      $Resp{$Channel}{UserLabelRxUl}
      $Resp{$Channel}{UserLabelTxDl}
      $Resp{$Channel}{ProcObjDescr}
      $Resp{$Channel}{ProtParamLength}
      $Resp{$Channel}{ProtParam}


</pre>
<a name='TSSReadWLog'></a><h2>TSSReadWLog</h2>

<pre> $self-&gt;TSSReadWLog();

</pre>
<pre>SUBROUTINE  : TSSReadWLog
DESCRIPTION : To read a ABIS record including Common Trace header and SDR
              header from the opened Wireshark log.</pre>
<pre>IN  : $Self                 LogABIStss object reference
OUT : $Resp{Message}        Messaged unpacked
      $Resp{MsgType}        Message Type, see LSU Ethereal User's manual edition 1.50 or later
      $Resp{Direction}      0 = Uplink, 1= Downlink
      $Resp{MsgLength}      Message Type, see LSU Ethereal User's manual edition 1.50 or later
      $Resp{Result}
      $Resp{Reason}</pre>
<pre>      For all parameters below, see see LSU Ethereal User's manual edition 1.50 or later,
      chapter "Additional header for GSM SDR radio Messages"

      $Resp{TimestampSec},
      $Resp{TimestampMic},
      $Resp{NoOfSavedOct},
      $Resp{MsgLength},
      $Resp{ChannelId},
      $Resp{MsgType},
      $Resp{ErrorCode},
      $Resp{Spare10},
      $Resp{LostMsg},
      $Resp{MsgDiscr},

      When using TSSReadWLog to log IP on ABIS, on TSS rev Y13+, the return values are the following:
      $Resp{Message}        Messaged unpacked
      $Resp{Direction}      0 = Uplink, 1= Downlink
      $Resp{MsgLength}
      $Resp{Result}
      $Resp{Reason}
      $Resp{TimestampSec}
      $Resp{TimestampMic}
      $Resp{NoOfSavedOct}


</pre>
<a name='TSSStartWLog'></a><h2>TSSStartWLog</h2>

<pre> $self-&gt;TSSStartWLog();

</pre>
<pre>SUBROUTINE  : TSSStartWLog
DESCRIPTION : Initiates ABIS logging on the TSS</pre>
<pre>IN  : $Self                    LogABIStss object reference
      $Input{BTS}              Mandatory, Abisco Connection
      $Input{Filename}         Mandatory, desired file name of Wireshark log
      $Input{Duration}         Optional, duration in seconds
      $Input{GroupId}          Optional, identifies the file
      $Input{Overwrite}        Optional, =1 overwrite if file already exists
      $Input{Direction}        Optional, =3 both UL and DL, =2 only DL,
                                         =1 only UL</pre>
<pre>      $Input{RSLFrames}        Optional, =1 capture RSL frames. Must be
                               combined with a LAPD channel input
                               (ex. LAPDCh0) on TDM or a APGW channel input
                               (ex. APGWCh0) on SC.
                               RSL - Radio Signalling Link.
      $Input{OMLFrames}        Optional, =1 capture OML frames. Applied in
                               the same way as the RSLFrames element.
                               OML - Operation and Maintenance Link.
      Low-level filetering LAPD:
                               If 'RSLFrames' or 'OMLFrames' is present, all
                               three elements below are set to 1 by default.
                               At least one of them must be set when logging
                               LAPD Frames (RSL and OML frames).
        $Input{IFrames}        Optional, =1 capture this type of LAPD frames
        $Input{UIFrames}       Optional, =1 capture this type of LAPD frames
        $Input{ControlFrames}  Optional, =1 capture this type of LAPD frames

      $Input{PTFGFrames}       Optional, =1 capture PTFG frames (TRAU and
                               CSDATA). Must be combined a APGW channel
                               input (ex. APGWCh0) on SC.
      $Input{PGSLFrames}       Optional, =1 capture PGSL frames (packet
                               data). Applied in the same way as the
                               PTFGFrames element, i.e. only applicable
                               with SC.

      NB! See hash %Config below for the allowed inputs. Note that one or
          more of the specified channels must be set in the function call.

      Example - logging packet data on TDM:
        my %RespTSS = $ABISlog-&gt;TSSStartWLog(BTS      =&gt; $BTS,
                                             Duration =&gt; $Duration,
                                             Filename =&gt; $WLogFile,
                                             GSLCh0   =&gt; {TG   =&gt; $TG,
                                                          TRXC =&gt; $TRXC,
                                                          TS   =&gt; $TS},
                                             );

      Example - logging packet data on SC:
        my %RespTSS = $ABISlog-&gt;TSSStartWLog(BTS        =&gt; $BTS,
                                             Duration   =&gt; $Duration,
                                             Filename   =&gt; $WLogFile,
                                             PGSLFrames =&gt; 1,
                                             APGWCh0    =&gt; {TG   =&gt; $TG,
                                                            TRXC =&gt; $TRXC},
                                             );

</pre>
<pre>OUT : $Resp{Result}        Result Code (0=OK)
      $Resp{Reason}        Result Text</pre>
<a name='TSSWaitWLog'></a><h2>TSSWaitWLog</h2>

<pre> $self-&gt;TSSWaitWLog();

</pre>
<pre>SUBROUTINE  : TSSWaitWLog
DESCRIPTION : To wait for TSS to complete logging</pre>
<pre>IN  : $Self              LogABIStss object reference
OUT : $Resp{Result}      Result Code (0=OK)
      $Resp{Reason}      Result Text</pre>
<a name='createMessageLogFromWLog'></a><h2>createMessageLogFromWLog</h2>

<pre> $self-&gt;createMessageLogFromWLog();

</pre>
<pre>SUBROUTINE  : createMessageLogFromWLog
DESCRIPTION : Create Message log From Wireshark Log</pre>
<pre>IN  : $Self                   LogABIStss object reference
      $Input{PGSLLogFile}     File name of new log to be created
OUT : $Config{PGSLLogFile}    File name of message File containing Hex dump
                              as string, one per Wireshark log line</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>LogFunction</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 20/190 55-CAH 161 1290/1
MODULE      : LogFunction.pm
DESCRIPTION : This package contains the sub functions and variables
              used for logging function</pre>
<pre>COPYRIGHT &Acirc;&copy; : ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV  DATE       NAME         REVIEW    COMMENT
A    20100920   XDT/XNGUTHU  ESTEMOH   Initial version.
B    20110823   XSOFFRO      ETORWIL   Framework maintenance</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?constant'>constant</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?constant'>constant</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?constant'>constant</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?constant'>constant</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?constant'>constant</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?constant'>constant</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?constant'>constant</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?constant'>constant</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?constant'>constant</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?constant'>constant</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Cwd'>Cwd</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?LocalDB'>LocalDB</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Settings'>Settings</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?HelpFunc'>HelpFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='Assert'></a><h2>Assert</h2>

<pre> Assert();

</pre>
<pre>SUBROUTINE  : Assert
DESCRIPTION : Assert with DB logging</pre>
<pre>IN  : $1 - Values to check (scalar or ref to hash or array)
      $2 - Required Values (ditto). If $2 is absent $1 must be true.
      $3 - Force the check regardless of -Alone, -Ignore etc (internal use)</pre>
<pre>OUT : 0</pre>
<a name='BeginPACLogging'></a><h2>BeginPACLogging</h2>

<pre> BeginPACLogging();

</pre>
<pre>SUBROUTINE  : BeginPACLogging
DESCRIPTION : Start PAC logging</pre>
<pre>IN  : $pac,$spec, $tc, $subtc, $suba
OUT : None</pre>
<a name='CloseStdoutLog'></a><h2>CloseStdoutLog</h2>

<pre> CloseStdoutLog();

</pre>
<pre>SUBROUTINE  : CloseStdoutLog
DESCRIPTION : Close stdout log file</pre>
<pre>IN  : None
OUT : None</pre>
<a name='DatabaseUpdateforLogging'></a><h2>DatabaseUpdateforLogging</h2>

<pre> DatabaseUpdateforLogging();

</pre>
<pre>SUBROUTINE  : DatabaseUpdateforLogging
DESCRIPTION : Start Local Database update for manual logging</pre>
<pre>IN  : $pac, $spec, $tc, $subtc, $suba
OUT : None</pre>
<a name='DatabaseUpdateforUpload'></a><h2>DatabaseUpdateforUpload</h2>

<pre> DatabaseUpdateforUpload();

</pre>
<pre>SUBROUTINE  : DatabaseUpdateforUpload
DESCRIPTION : Start Local Database update for manual upload</pre>
<pre>IN  : $pac, $spec, $tc, $subtc, $suba
OUT : None</pre>
<a name='EndPACLogging'></a><h2>EndPACLogging</h2>

<pre> EndPACLogging();

</pre>
<pre>SUBROUTINE  : EndPACLogging
DESCRIPTION : Perform some action when stop PAC logging</pre>
<pre>IN  : None
OUT : None</pre>
<a name='GetResult'></a><h2>GetResult</h2>

<pre> GetResult();

</pre>
<pre>SUBROUTINE  : GetResult
DESCRIPTION : Return the test result for the section.
              If HandleError is used with the parameter AllowCroak set to
              'FALSE', a return command with the value from GetResult()
              should be placed in the action section.</pre>
<pre>IN  : Automated   - 'User', 'Semi', 'Fully'
      Reason      - Reason string overriding default message</pre>
<pre>OUT : If the section has errors:  ('Not_Applicable',
      'Testcase failed due to error')
      If no error detected and Fully automated ('Passed', '')
      If no error detected and Semi/User automated ('Not_Applicable',
      Test execution passed. Check log to verify the result')</pre>
<a name='GetSubTCStartInfo'></a><h2>GetSubTCStartInfo</h2>

<pre> GetSubTCStartInfo();

</pre>
<pre>SUBROUTINE  : GetSubTCStartInfo
DESCRIPTION : Get information when subTC starts</pre>
<pre>IN  : None
OUT : None</pre>
<a name='GetSubTCStopInfo'></a><h2>GetSubTCStopInfo</h2>

<pre> GetSubTCStopInfo();

</pre>
<pre>SUBROUTINE  : GetSubTCStopInfo
DESCRIPTION : Get information when subTC stops</pre>
<pre>IN  : $not_applicable from user.pm
OUT : None</pre>
<a name='GetSystemUnderTestInfo'></a><h2>GetSystemUnderTestInfo</h2>

<pre> GetSystemUnderTestInfo();

</pre>
<pre>SUBROUTINE  : GetSystemUnderTestInfo
DESCRIPTION : Get system_under_test information from real machine</pre>
<pre>IN  : None
OUT : A reference of hash info</pre>
<a name='GetTestResourceInfo'></a><h2>GetTestResourceInfo</h2>

<pre> GetTestResourceInfo();

</pre>
<pre>SUBROUTINE  : GetTestResourceInfo
DESCRIPTION : Get test_resource information from real machine</pre>
<pre>IN  : None
OUT : A reference of hash info</pre>
<a name='Logging'></a><h2>Logging</h2>

<pre> Logging();

</pre>
<pre>SUBROUTINE  : Logging
DESCRIPTION : Write a STDOUT message into local database</pre>
<pre>IN  : MsgType, StdoutMsg, LogFile, LogType, AchRS, ExpRS, StdoutSilent
OUT : None</pre>
<a name='MoveFileToLogDir'></a><h2>MoveFileToLogDir</h2>

<pre> MoveFileToLogDir();

</pre>
<pre>SUBROUTINE  : MoveFileToLogDir
DESCRIPTION : Save log files into LOG_DIR folder</pre>
<pre>IN  : File name
OUT : None</pre>
<a name='MoveToDirLogStdoutLog'></a><h2>MoveToDirLogStdoutLog</h2>

<pre> MoveToDirLogStdoutLog();

</pre>
<pre>SUBROUTINE  : MoveToDirLogStdoutLog
DESCRIPTION : Move  stdout log file to log dir</pre>
<pre>IN  : None
OUT : None</pre>
<a name='OpenStdoutLog'></a><h2>OpenStdoutLog</h2>

<pre> OpenStdoutLog();

</pre>
<pre>SUBROUTINE  : OpenStdoutLog
DESCRIPTION : Open stdout log file</pre>
<pre>IN  : None
OUT : None</pre>
<a name='PackDectoAscii'></a><h2>PackDectoAscii</h2>

<pre> PackDectoAscii();

</pre>
<pre>SUBROUTINE  : PackDectoAscii
DESCRIPTION : Pack from Decimal to Ascii format. Use in getting
              system_under_test information</pre>
<pre>IN  : Serial number, revision number, position number and logical number
      in Decimal format
OUT : Serial number, revision number, position number and logical number
      in Ascii format</pre>
<a name='PrintCommandResult'></a><h2>PrintCommandResult</h2>

<pre> PrintCommandResult();

</pre>
<pre>SUBROUTINE  : PrintCommandResult
DESCRIPTION : Print out run response result but now does not use</pre>
<pre>IN  : Array of sub tc result id
OUT : Pass/Fail</pre>
<a name='PrintSubTCResult'></a><h2>PrintSubTCResult</h2>

<pre> PrintSubTCResult();

</pre>
<pre>SUBROUTINE  : PrintSubTCResult
DESCRIPTION : Print out sub tc result</pre>
<pre>IN  : Array of sub tc result id
OUT : None</pre>
<a name='UnExpectedError'></a><h2>UnExpectedError</h2>

<pre> UnExpectedError();

</pre>
<pre>SUBROUTINE  : UnExpectedError
DESCRIPTION : Write runtime error to Perl log file</pre>
<pre>IN  : Error information
OUT : None</pre>
<a name='WriteStdoutLog'></a><h2>WriteStdoutLog</h2>

<pre> WriteStdoutLog();

</pre>
<pre>SUBROUTINE  : WriteStdoutLog
DESCRIPTION : Write stdoutput to log file</pre>
<pre>IN  : String or array of string
OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>lsuConfig</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 21/190 55-CAH 161 1290/1 Uen
MODULE      : LSUConfig.pm
DESCRIPTION : This package contains the subfunctions and variables
              used for LSU configuration</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE     NAME    REVIEW  COMMENT
A   20110201 XWIKMAR XDAVMEL File created. Added PCM 33-40.
                             Fix for ABIS signaling (PCM TS1) that can not
                             be read from virtual SCC.
B   20110202 XDAVMEL ETORWIL Switched offset DL and UL in %NormalSCCSet and
             ETORWIL         %MinimalSCCSet. Fix for problem with
                             ISConfigRequest in PCMTimeslot. Removed dbLog
                             dependency.
C   20111018 QRADGUT XTOBSEM Updated to new script template
                              Added document number.
                              Changed %Normal/MinimalSCCSet.TDM_5.IsVirtual
                               to 1. Switched offset DL and UL in
                               %NormalSCCSet and %MinimalSCCSet back after
                               decision that lowest PCM number should be
                               uplink.
                              Added lock_keys hash checking on input.
                              Changed 'our' declared variables to 'my'.
                              Added catch of eval error around lock_keys.
                              Corrected erronous printouts to file in
                               subroutine CreateWiresharkCfg.
                              Switched rate for E1 T1 bit rate
D   20111021  XLEIMAR ETORWIL Fixed bug in GetVirtualSCC that made it return
                               the wrong value.
                              Corrected warnings in GetVirtualSCC.
E   20111118  ETORWIL XPRRANA Updated SetupLSU to remove BTS key from input HASH
                               Key not used but fix needed for backward compatibility
                               HO13635</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Net::Telnet'>Net::Telnet</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?IS_ICP_ConvList'>IS_ICP_ConvList</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ConnectLSU'></a><h2>ConnectLSU</h2>

<pre> ConnectLSU();

</pre>
<pre>SUBROUTINE  : ConnectLSU
DESCRIPTION : Connect to the LSU using Telnet</pre>
<pre>IN  : Hash containing the following keys:
      LSU_IP          - IP or host name (ex. 'lsu01')
      TelnetUserName  - Username (default 'user')
      TelnetPassword  - Password (default 'user')
OUT : Telnet connection reference</pre>
<a name='CreateMSSIMWiresharkCfg'></a><h2>CreateMSSIMWiresharkCfg</h2>

<pre> CreateMSSIMWiresharkCfg();

</pre>
<pre>SUBROUTINE  : CreateMSSIMWiresharkCfg
DESCRIPTION : Creates a MSSIM configuration file</pre>
<pre>IN  : Hash containing the following keys:
      Interface             - Specifies the Wireshark cfg file Interface
                              setting.
      AdditionalParameters  - Specifies the Wireshark cfg file Additional
                              Parameter setting.
      FileName              - Specifies the generated cfg file name.
                              ( default 'MSSIM_XX_XX.cfg' where XX_XX is the
                              test program number in the PAR hash ).</pre>
<pre>OUT : Error     - 0 = OK, 1 = Error
      Reason    - Error reason (only valid if Error = 1)
      FileName  - The name of the generated file</pre>
<a name='CreateSCC'></a><h2>CreateSCC</h2>

<pre> CreateSCC();

</pre>
<pre>SUBROUTINE  : CreateSCC
DESCRIPTION : Create a SCC in the LSU. An existsing SCC with the incorrect
              rate will be deleted before creation of the new.</pre>
<pre>IN  : Hash containing the following keys:
      SSCNumber         - SCC number
      SSCRate           - SCC rate
      PPU               - PPU number
      TelnetConnection  - Telnet connection reference
      IsVirtual         - Indicate the SCC should be set as a virtual SCC</pre>
<pre>OUT : 0 - Creation failed
      1 - Successfully created SCC</pre>
<a name='CreateWiresharkCfg'></a><h2>CreateWiresharkCfg</h2>

<pre> CreateWiresharkCfg();

</pre>
<pre>SUBROUTINE  : CreateWiresharkCfg
DESCRIPTION : Create a Wireshark configuration file</pre>
<pre>IN  : Hash containing the following keys:
      Interface            - Specifies the Wireshark cfg file Interface
                             setting.
      AdditionalParameters - Specifies the Wireshark cfg file Additional
                             Parameter setting.
      FileName             - Specifies the generated cfg file name.
                             ( default 'MSSIM_XX_XX.cfg' where XX_XX is the
                             test program number in the PAR hash ).
      LSU_IP               - IP or host name (ex. 'lsu01')
      TcpPort              - LSU tcp/ip port nr (default 1861)
      UChannel             - Uplink channel number
      DChannel             - Downlink channel number
      InterfaceVersion     - Wireshark interface version (default 2)
      PortNr               - Port number (default '000')
      PPU                  - PPU number (default 0)
      Interface            - Interface number
      AdditionalParameters - Interface Additional parameters
      AddToExistingCfg     - Indicate if a new .cfg file should be created
                             (overwrite existing) or the settings should be
                             appended to an existing file.</pre>
<pre>OUT : Error     - 0 = OK, 1 = Error
      Reason    - Error reason (only valid if Error = 1)
      FileName  - The name of the generated file</pre>
<a name='GetLSUSettings'></a><h2>GetLSUSettings</h2>

<pre> GetLSUSettings();

</pre>
<pre>SUBROUTINE  : GetLSUSettings
DESCRIPTION : Read the LSU setting from file</pre>
<pre>IN  : None
OUT : Hash containing the following keys:
      Error     - 0 = OK, 1 = Error
      Reason    - Error reason (only valid if Error = 1)
      Settings  - Reference to the LSU settings hash</pre>
<a name='GetPCMTimeslot'></a><h2>GetPCMTimeslot</h2>

<pre> GetPCMTimeslot();

</pre>
<pre>SUBROUTINE  : GetPCMTimeslot
DESCRIPTION : Return the PCM timeslot associated with a specified UM timeslot</pre>
<pre>IN  : Hash containing the following keys:
      UMTimeslot - UM timeslot
      Rate       - The TCH rate
      TRX        - The TRX nr
OUT : Hash containing the following keys:
      PCMTimeslots - The PCM timeslot
      PCMSubCh     - The PCM sub channel</pre>
<a name='GetSCCBase'></a><h2>GetSCCBase</h2>

<pre> GetSCCBase();

</pre>
<pre>SUBROUTINE  : GetSCCBase
DESCRIPTION : Get the first SCC number associated with a PCM and Area number</pre>
<pre>IN  : Hash containing the following keys:
      PCM_UL - PCM number (uplink)
OUT : The base SCC number</pre>
<a name='GetSCType'></a><h2>GetSCType</h2>

<pre> GetSCType();

</pre>
<pre>SUBROUTINE  : GetSCType
DESCRIPTION : Get the PCM SC type</pre>
<pre>IN  : Rate
OUT : 'E1' or 'T1'</pre>
<a name='GetVirtualSCC'></a><h2>GetVirtualSCC</h2>

<pre> GetVirtualSCC();

</pre>
<pre>SUBROUTINE  : GetVirtualSCC
DESCRIPTION : Get the virtual SCC numbers connected to a SCC</pre>
<pre>IN  : Hash containing the following keys:
      SSCNumber         - SCC number
      SSCRate           - SCC rate (8, 16, 32, 64, 512, ... , 1984)
      PPU               - PPU number
      TelnetConnection  - Telnet connection reference</pre>
<pre>OUT : Hash containing the following keys:
      '8'  =&gt; { 'TS0' =&gt; SCCx
                'TS1' =&gt; SCCx
                ...
                'TS7' =&gt; SCCx },
      '16' =&gt; { 'TS0' =&gt; SCCx
                'TS1' =&gt; SCCx
                ...
                'TS4' =&gt; SCCx },
      '64' =&gt; { 'TS0' =&gt; SCCx }</pre>
<a name='PrintToFile'></a><h2>PrintToFile</h2>

<pre> PrintToFile();

</pre>
<pre>SUBROUTINE  : PrintToFile
DESCRIPTION : Opens a file, prints the input line array, and closes the file</pre>
<pre>IN  : FileName            Filename as a string
      Lines               An array of strings to be printed
OUT : 0                   Ok</pre>
<a name='ReadSwitchMatrix'></a><h2>ReadSwitchMatrix</h2>

<pre> ReadSwitchMatrix();

</pre>
<pre>SUBROUTINE  : ReadSwitchMatrix
DESCRIPTION : Read the LSU switch matrix</pre>
<pre>IN  : Hash containing the following keys:
      SwitchMatrixLocation  - Path to switch matrix on LSU
      TelnetConnection      - Telnet connection reference
OUT : Referense to Array containing the switch matrix</pre>
<a name='SCCExists'></a><h2>SCCExists</h2>

<pre> SCCExists();

</pre>
<pre>SUBROUTINE  : SCCExists
DESCRIPTION : Check if a SCC number exist with a specified rate</pre>
<pre>IN  : Hash containing the following keys:
      SSCNumber         - SCC number
      SSCRate           - SCC rate
      PPU               - PPU number
      TelnetConnection  - Telnet connection reference
OUT : 1 - SCC exists with the specified rate
      0 - SCC do not exists or have an incorrect rate</pre>
<a name='SetLSUSettings'></a><h2>SetLSUSettings</h2>

<pre> SetLSUSettings();

</pre>
<pre>SUBROUTINE  : SetLSUSettings
DESCRIPTION : Write the LSU settings to a file</pre>
<pre>IN  : Hash containing the settings that should be written to file
OUT : Hash containing the following keys:
      Error     - 0 = OK, 1 = Error
      Reason    - Error reason (only valid if Error = 1)
      FileName  - The name of the created settings file</pre>
<a name='SetSwitchMatrix'></a><h2>SetSwitchMatrix</h2>

<pre> SetSwitchMatrix();

</pre>
<pre>SUBROUTINE  : SetSwitchMatrix
DESCRIPTION : Update the switch matrix</pre>
<pre>IN  : Hash containing the following keys:
      SSCNumber             - SCC number
      SSCRate               - SCC rate (8, 16, 32, 64, 512, ... , 1984)
      PCM                   - PCM line number
      Timeslots             - PCM timeslots
      PPU                   - PPU number
      TelnetConnection      - Telnet connection reference
      SwitchMatrixLocation  - Path to switch matrix on LSU</pre>
<pre>OUT : 1 - Switch matrix was updated
      0 - No update was needed</pre>
<a name='SetTG'></a><h2>SetTG</h2>

<pre> SetTG();

</pre>
<pre>SUBROUTINE  : SetTG
DESCRIPTION : To set TCM configuration, updates, disconnects and reconnects</pre>
<pre>IN  : TCH_Configuration
OUT : None</pre>
<a name='SetupLSU'></a><h2>SetupLSU</h2>

<pre> SetupLSU();

</pre>
<pre>SUBROUTINE  : SetupLSU
DESCRIPTION : Subroutine to configure the LSU switch matrix and create a
              corresponding Wireshark/TShark configuration file</pre>
<pre>IN  : Hash containing the following keys:
      ConfigTSType          - Indicate the type of timeslot used for
                              configuration, 'PCM' (over Abis) or 'UM'
                              (over Air).
      Timeslots             - Timeslots. The type of timeslot set here is
                              defined by ConfigTSType.
      PCMSubCh              - PCM sub channel. Only required if ConfigTSType
                              is set to 'PCM'.
      TRX                   - TRX number. Only required if ConfigTSType is
                              set to 'UM'.
      Area                  - SCC TDM area (0-6).
      TCHRate               - TCHRate ( 8 / 16 / 64 / 1536 / 1984 )
      AddToExistingCfg      - Indicate if a new .cfg file should be created
                              (overwrite existing) or the settings should be
                              appended to an existing file.
      PreDefinedInterface   - A pre-defined Wireshark interface in the hash
                              %WiresharkInterface. Valid values for Abis
                              monitoring are: 'TRAU_Frames_3GPP',
                              'Ericsson_PCU_16k,'Ericsson_PCU_64k',
                              'Ericsson_Abis'.
      Interface             - Specify the Wireshark cfg file Interface
                              setting. Not required if PreDefinedInterface
                              is set.
      AdditionalParameters  - Specify the Wireshark cfg file Additional
                              Parameter setting. Not required if
                              PreDefinedInterface is set.
      LSUConfigFile         - Specify the geenrated cfg file name.
      HalfRateChannel       - Only valid on 8 kbps (half-rate)
                              0 = Lm/0, 1 = Lm/1</pre>
<pre>OUT : Hash containing the following keys:
      Error         - 0 = OK, 1 = Error
      Reason        - Error reason (only valid if Error = 1)
      FileName      - The name of the generated file
      PCMTimeslots  - The PCM timeslot
      PCMSubCh      - The PCM sub channel</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>LTSFunc</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 22/190 55-CAH 161 1290/1 Uen
MODULE      : ltsfunc.pm
DESCRIPTION : Contains the helper functions used to simplify creation of the
              backend implementations of the LTS API methods, excluding
              those which are used during initialization.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV    DATE       NAME          REVIEW     COMMENT
PA1    20051128   ERADIPE                  First revision
P2A    20080319   XRSJALI                  Added handling of lost replies in ConfigureLTSLoad
P1A    20080319   ERABAHG                  Merged with \tr5705. New rev
P1B    20080401   XRSJALI                  Implementing CR 5761.
P1C    20080416   ERABAHG                  Merged to main
P1C_1A 20080617   XRSJALI                  Implementing CR 5768.
P1D    20080904   ERABAHG                  Merged to main
P1D_1A 20081020   XRSJALI                  Implementing TR 5935
P1E    20081030   XRSJALI                  Merged to main
P1E_1A 20081121   XRSJALI                  Implementing TR 5991
P1F    20081124   XRSJALI                  Merged to main
P1F_1A 20090311   XYNSTAN                  Implementing TR 6056
P1G    20090311   XYNSTAN                  Merged to main
B      20110907   XLOHFOO       XSOFFRO    Updated to new script template.
                                           Quality control with PerlCritic
                                           Added document number.
C      20120530   XLEAENG                  HP14008: Ported from ACM
                                           Updated to new script template.
D      20120703   XLEAENG                  Removed trailing spaces and hard tabs
E      20120710   XLOHFOO       EDAMELI    Update script by applying PerlCritic
F      20120808   Syntronic AB/ XLOHFOO    Added lock_keys for Code Optimisation 0003027
                  Catherine
G      20120810   XLOHFOO       XTEHKIN    Add hash key for ReadIniFile
H      20120829   XWOOKUN       XLOHFOO    Pass in timing advance from user config
J      20121025   XWOOKUN       XNURMOH    Added debug mode for ConfigureLTSLoad</pre>
<pre>K      20121022   Syntronic AB/ XTEHKIN    Implement HQ45055
                  Catherine
L      20121029   XTEHKIN       XNURMOH    HQ45962, Delete SACCHControlStruct ConfigureCellLoad parameter for CTRU
M      20130222   XWOOKUN       Syntronic AB/ Modified in HP76832
                                Catherine     Rewrite how ConfigureSiteR12 calculate traffics, by calling LoadConfigCalculations
                                              ConfigureLoad2 uses Storable::dclone for deep cloning multi-dimentional hash
                                              ConfigureLTSLoad no longer calculates SGCall, done in CalculateLoadConfig
                                              Rewrite GetNoofTCH to cater for BCCH TRX and configured TRX when calculate TCH 
                                              Modified in HQ47771
                                              Modified in 0003886
                                              Modified for HQ84948 HR14245
N     20130703    Syntronic AB/ XMAROHM       Modified in HR24750
                  Adibah
Note that on 2011-06-20 the revision style was changed back to A, B and so on.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Storable'>Storable</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?feature'>feature</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Time::HiRes'>Time::HiRes</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?HelpFunc'>HelpFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='IMPLEMENTS'></a><h1>IMPLEMENTS</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ConfigureLTSLoad'></a><h2>ConfigureLTSLoad</h2>

<pre> $self-&gt;ConfigureLTSLoad();

</pre>
<pre>HO92107 : 20120307 : Replace ConfigureLoad with ConfigureCellLoad
SUBROUTINE  : ConfigureLTSLoad
DESCRIPTION : Configures the load and resets the counters.</pre>
<pre>IN  : 1. $BTS                -&gt; Abisco connection object.
      2. $rIndata (Optional) -&gt; Additional data. (in hash)
      3. $rTG                -&gt; TG hash reference.
      4. $cb                 -&gt; Callback function implementation.
OUT : -</pre>
<a name='ConfigureLoad'></a><h2>ConfigureLoad</h2>

<pre> $self-&gt;ConfigureLoad();

</pre>
<pre>SUBROUTINE  : ConfigureLoad
DESCRIPTION : Configures the load by calling ConfigureLTSLoad.
              If key PredefinedLoading exists in %Indata, it can have
              values NORMAL, HIGH or OVER, which is a predefined loading
              behavior the LTS can be set to.
              If key PredefinedLoading does not exist, then a default
              set of values is used.</pre>
<pre>IN  : 1. $BTS      -&gt; Abisco connection object.
      2. {%TG}     -&gt; Reference to a TG hash.
      3. {%LTC}    -&gt; Reference to a LTC hash.
      4. {%Indata} -&gt; Reference to a hash containing additional data.
      5. $cb       -&gt; Callback function implementation.
OUT : 1. %TG       -&gt; Updated TG hash.</pre>
<a name='ConfigureLoad2'></a><h2>ConfigureLoad2</h2>

<pre> $self-&gt;ConfigureLoad2();

</pre>
<pre>SUBROUTINE  : ConfigureLoad2
DESCRIPTION : Continuation from ConfigureLoad</pre>
<pre>IN  : 1. $BTS      -&gt; Abisco connection object.
      2. {%TG}     -&gt; Reference to a TG hash.
      3. {%LTC}    -&gt; Reference to a LTC hash.
      4. {%Indata} -&gt; Reference to a hash containing additional data.
      5. $Loading  -&gt; Load type.
      6. $cb       -&gt; Callback function implementation.
OUT : -</pre>
<a name='ConfigureSiteR11'></a><h2>ConfigureSiteR11</h2>

<pre> $self-&gt;ConfigureSiteR11();

</pre>
<pre>SUBROUTINE  : ConfigureSiteR11
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS  -&gt; Abisco connection object.
      2. {%TG} -&gt; Reference to TG hash.
      3. $cb   -&gt; Callback function implementation.
OUT : 1. %TG   -&gt; Updated TG hash.</pre>
<a name='ConfigureSiteR12'></a><h2>ConfigureSiteR12</h2>

<pre> $self-&gt;ConfigureSiteR12();

</pre>
<pre>HP98504 : 20120703 : Removed the reserved timeslot 7 for TS reconfiguration
HO92107 : 20120209 : New command LTS.ConfigureCell (replaced LTS.ConfigureSite)
SUBROUTINE  : ConfigureSiteR12
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS  -&gt; Abisco connection object.
      2. {%TG} -&gt; Reference to TG hash.
      3. $cb   -&gt; Callback function implementation.
OUT : 1. %TG   -&gt; Updated TG hash.</pre>
<a name='ConfigureSiteStaticLoad'></a><h2>ConfigureSiteStaticLoad</h2>

<pre> $self-&gt;ConfigureSiteStaticLoad();

</pre>
<pre>CR6572 : 20100622 : Configure Site for static load
SUBROUTINE  : ConfigureSiteStaticLoad
DESCRIPTION : Configure LTS site for static load cases</pre>
<pre>IN  : 1. $BTS -&gt; Abisco connection object.
      2. $TG  -&gt; Reference to TG
      3. $cb  -&gt; Callback function implementation.
OUT : -</pre>
<a name='ConfigureTS'></a><h2>ConfigureTS</h2>

<pre> $self-&gt;ConfigureTS();

</pre>
<pre>SUBROUTINE  : ConfigureTS
DESCRIPTION : Element 0 in the array means that the time slot is
              reserved by the LTS for the load.</pre>
<pre>IN  : 1. $BTS      -&gt; Abisco connection object.
      2. {%TG}     -&gt; Reference to TG hash, supplied only to
                      extract UFTE revision information.
      3. {%Indata} -&gt; Reference to a hash that alters the
                      content of the sent signal.
      4. $cb       -&gt; Callback function implementation.
OUT : -</pre>
<a name='FMReportRequest'></a><h2>FMReportRequest</h2>

<pre> $self-&gt;FMReportRequest();

</pre>
<pre>SUBROUTINE  : FMReportRequest
DESCRIPTION : send 'FMReportRequest'</pre>
<pre>IN  : 1. $BTS  -&gt; Abisco connection object.
      2. $TGNr -&gt; TG number
      3. $TRXC -&gt; TRXC number
      4. $cb   -&gt; Callback function implementation.
OUT : -</pre>
<a name='GetLtsReport'></a><h2>GetLtsReport</h2>

<pre> $self-&gt;GetLtsReport();

</pre>
<pre>HO92107 : 20120209 : New functions to get LTS.GetReports without blocking
SUBROUTINE  : GetLtsReport
DESCRIPTION : Send LTS.GetReports for all the cells configured in a TG</pre>
<pre>IN  : A hash with the following hash-key(s):
       1. BTS -&gt; Abisco connection object.
       2. TG  -&gt; Reference to TG hash.
       3. CB  -&gt; Callback function implementation.
      In addition, the hash should also contain other optional data.
OUT : 1. $result -&gt; One of:
                     DONE         - Action completed successfully.
                     UNSUCCESSFUL - Action ended but it was unsuccessful.
                     TIMEOUT      - Action aborted due to timeout.</pre>
<a name='GetLtsReportStop'></a><h2>GetLtsReportStop</h2>

<pre> $self-&gt;GetLtsReportStop();

</pre>
<pre>SUBROUTINE  : GetLtsReportStop
DESCRIPTION : Stop LTS.GetReports by setting a global flag, so that
              GetLtsReport() will stop the timer when wake up from sleep event</pre>
<pre>IN  : A hash with the following hash-key(s):
       1. $Option = STOP
OUT : -</pre>
<a name='GetNoofTCH'></a><h2>GetNoofTCH</h2>

<pre> $self-&gt;GetNoofTCH();

</pre>
<pre>HO92107 : 20120426 : To obtain the number of TCH for assigned TRX
SUBROUTINE  : GetNoofTCH
DESCRIPTION : Get the Total TCH for the Assigned TRX</pre>
<pre>IN  : 1. Reference TG hash
      2. Cell number
      3. Array with Assign TRX
OUT : 1. Number of TCH</pre>
<a name='LTSReportCalculations'></a><h2>LTSReportCalculations</h2>

<pre> $self-&gt;LTSReportCalculations();

</pre>
<pre>SUBROUTINE  : LTSReportCalculations
DESCRIPTION :</pre>
<pre>IN  : 1. Report     -&gt; Reference to Report Data
      2. ReportType -&gt; Type of Report
      3. $rTG        -&gt; Reference to TG Hash
OUT : Hash containing result of calculation</pre>
<a name='RecursiveConfigureLoad'></a><h2>RecursiveConfigureLoad</h2>

<pre> $self-&gt;RecursiveConfigureLoad();

</pre>
<pre>SUBROUTINE  : RecursiveConfigureLoad
DESCRIPTION : Function to configure load multiple times in
              recursive fashion.</pre>
<pre>IN  : 1. $BTS     -&gt; Abisco connection object.
      2. {%H}     -&gt; Reference to a message-hash that will be
                     sent to Abisco. It should at least have
                     the following hash-key(s):
                        Server  -&gt; Name of the ABISCO server.
                        Message -&gt; Name of the ABISCO command.
                        Timeout -&gt; Max time to wait for response.
      3. $retries -&gt; Number of retries.
      4. $cb      -&gt; Callback function implementation.
OUT : -</pre>
<a name='ResetLTSCounters'></a><h2>ResetLTSCounters</h2>

<pre> $self-&gt;ResetLTSCounters();

</pre>
<pre>HO92107 : 20120209 : Send LTS.ResetCounters to all cells in TG, from TRXListCell
SUBROUTINE  : ResetLTSCounters
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS -&gt; Abisco connection object.
      2. $cb  -&gt; Callback function implementation.
OUT : -</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>LTSSetup</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 23/190 55-CAH 161 1290/1 Uen
Module      : ltssetup.pm
Description : Specifically contains the helper functions used to simplify
              creation of the backend implementations of the LTS API methods
              which are used during initialization.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV    DATE       NAME          REVIEW    COMMENT
R5Z_1A 20080909   XMATTEK                 Module version of ltssetup.pl (CR5755, 5756)
A      20110823   XLEIMAR       XSOFFRO   Framework maintenance
                                          Added hash reference \ for hashes
                                          within hashes.
B      20120530   XLEAENG                 HP14008: Ported from ACM
                                          Updated to new script template.
C      20120703   XLEAENG                 Removed trailing spaces and hard tabs
D      20120710   XTEHKIN       EDAMELI   Script optimization
E      20120808   Syntronic AB/ XLOHFOO   Added lock_keys for Code Optimisation 0003027
                  Catherine
F      20120828   XLOHFOO       XWOOKUN   New vamos parameter was added for R45
G      20121029   XWOOKUN       XNURMOH   Modified in HQ42662, changed regex to match abisco version of ufte test build in RecursiveLoadConfig
H      20130222   XWOOKUN       Syntronic AB/ Modified in HQ47771
                                Catherine     Modified in HQ47774
                                              Modified for HQ84948 vamos advance
J      20130703   Syntronic AB/ XLOHFOO       Modified in HR23132
                  Adibah
K      20131111   Syntronic AB/ Syntronic AB/ Added lock_keys to Get_TG_List(), modified CheckTG, Prompt
                  Adibah        Catherine
Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?feature'>feature</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?globals_acm'>globals_acm</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?HelpFunc'>HelpFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Term::ReadKey'>Term::ReadKey</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='IMPLEMENTS'></a><h1>IMPLEMENTS</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ARFCNsListSet'></a><h2>ARFCNsListSet</h2>

<pre> $self-&gt;ARFCNsListSet();

</pre>
<pre>SUBROUTINE  : ARFCNsListSet
DESCRIPTION : Set the ARFCNs List with User Input for ARFCN Start and
              ARRCN End</pre>
<pre>IN  : 1. $Frequency Band
      2. ARFCN Start (User)
      3. ARFCN END (User)
OUT : 1. @Array  -&gt; ARFCN list</pre>
<a name='Build_TRXC_And_TS_Hashes'></a><h2>Build_TRXC_And_TS_Hashes</h2>

<pre> $self-&gt;Build_TRXC_And_TS_Hashes();

</pre>
<pre>HP61054: The Automated Test Script (Init()) and manual LTSSetup will change the SDCCCH configuration incorrectly
DATE: 2012-05-28
TR Fix: Readout all the SDCCCH for all the TRXC, and store in TSHash, in order to be used in TS_Reconfig_ChComb to
          Configure the TS for SDCCCH, CCCH and tch correctly
FUNCTION : Build_TRXC_And_TS_Hashes
COMMENT  :</pre>
<pre>IN       : 1. $BTS      -&gt; Abisco connection object.
           2. $TG       -&gt; TG number.
           3. $TRXC     -&gt; TRXC number.
           4. [@ARFCNs] -&gt; Reference to a list of ARFCNs.
           5. $cb       -&gt; Callback function implementation.
OUT      : 1. %TRXCHash (Global)
           2. %TSHash (Global)</pre>
<a name='CheckConfigLoad'></a><h2>CheckConfigLoad</h2>

<pre> $self-&gt;CheckConfigLoad();

</pre>
<pre>SUBROUTINE  : CheckConfigLoad
DESCRIPTION : Checks parameters in a saved Configure Load file for errors.</pre>
<pre>IN  : 1.  %ConfigLoadFiles (Global) -&gt; Hash with loadfiles to check.
      2.  %LoadLevels (Global)
      3.  $FSLevel (Global)
      4.  $SacchControl (Global)
      5.  $Rsul (Global)
      6.  $Rsdl (Global)
      7.  $FacchCtrl (Global)
      8.  $RepeatDLFACCH (Global)
      9.  $SpeechGenMode (Global)
      10. $LoopDelay (Global)
      11. $NoOfActPDCH (Global)
      12. $SwDwLoad (Global)
      13. $ComplStart (Global)
      14. $FASConf (Global)
      15. $ActivateVGCS (Global)
OUT : 1.  $Errors</pre>
<a name='CheckConfigLoads'></a><h2>CheckConfigLoads</h2>

<pre> $self-&gt;CheckConfigLoads();

</pre>
<pre>SUBROUTINE  : CheckConfigLoads
DESCRIPTION : Checks parameters in saved Configure Load files
              for all load levels for errors.</pre>
<pre>IN  : 1. %ConfigLoadFiles (Global) -&gt; Hash with loadfiles to check.
OUT : -
CR6570: Make a standalone version of ltssetup.
Date: 2010-04-14
CR Fix: check single load file if running in ltssetup mode</pre>
<a name='CheckFix_Param'></a><h2>CheckFix_Param</h2>

<pre> $self-&gt;CheckFix_Param();

</pre>
<pre>SUBROUTINE  : CheckFix_Param
DESCRIPTION : Checks a specific TG/Cell parameter (Fix Parameter) for
              errors.</pre>
<pre>IN  : 1. $Type      -&gt; Type for Printout (example TG0/Cell0).
      2. $Indicator -&gt; Indicator for Printout (ERROR or WARNING).
      3. $Param     -&gt; Parameter to be checked.
      4. $Message   -&gt; Reference to message hash.
OUT : 1. $Errors    -&gt; 0=OK, 1=ERROR.</pre>
<a name='CheckPCM_Param'></a><h2>CheckPCM_Param</h2>

<pre> $self-&gt;CheckPCM_Param();

</pre>
<pre>SUBROUTINE  : CheckPCM_Param
DESCRIPTION : Checks PCM parameters in TG for errors.</pre>
<pre>IN  : 1. $Type      -&gt; Type for Printout (example TG0/Cell0).
      2. $Indicator -&gt; Indicator for Printout (ERROR or WARNING).
      3. $Param     -&gt; Parameter to be checked.
      4. $Message   -&gt; Reference to message hash.
OUT : 1. $Errors    -&gt; 0=OK, 1=ERROR.</pre>
<a name='CheckSaved_Param'></a><h2>CheckSaved_Param</h2>

<pre> $self-&gt;CheckSaved_Param();

</pre>
<pre>SUBROUTINE  : CheckSaved_Param
DESCRIPTION : Checks parameters in LTS Config Load file for error.</pre>
<pre>IN  : 1. $Text     -&gt; Text string to Print (if error).
      2. $FSParam  -&gt; Expected value.
      3. $IniParam -&gt; Value from saved file.
OUT : 1. $Error    -&gt; 0=OK, 1=ERROR.</pre>
<a name='CheckTFMode'></a><h2>CheckTFMode</h2>

<pre> $self-&gt;CheckTFMode();

</pre>
<pre>SUBROUTINE  : CheckTFMode
DESCRIPTION : Checks TF Mode parameter for errors.</pre>
<pre>IN  : 1. $Type      -&gt; Type for Printout (example TG0/Cell0), second cell.
      2. $Indicator -&gt; Indicator for Printout (ERROR or WARNING).
      3. $Param     -&gt; Parameter to be checked.
      4. $Message   -&gt; Reference to message hash.
OUT : 1. $Errors    -&gt; 0=OK, 1=ERROR.</pre>
<a name='CheckTG'></a><h2>CheckTG</h2>

<pre> $self-&gt;CheckTG();

</pre>
<pre>SUBROUTINE  : CheckTG
DESCRIPTION : Checks TG and Cell parameters according to Load Level.</pre>
<pre>IN  : 1. $BTS -&gt; Abisco connection object.
      2. $cb  -&gt; Callback function implementation.
OUT : -</pre>
<a name='Check_Array'></a><h2>Check_Array</h2>

<pre> $self-&gt;Check_Array();

</pre>
<pre>SUBROUTINE  : Check_Array
DESCRIPTION : Checks a specific TG/Cell parameter in an array for errors.</pre>
<pre>IN  : 1. $Type      -&gt; Type for Printout (example TG0/Cell0).
      2. $Indicator -&gt; Indicator for Printout (ERROR or WARNING).
      3. $Param     -&gt; Parameter to be checked.
      4. $Fix       -&gt; Reference to fix hash.
      5. $Message   -&gt; Reference to message hash.
OUT : 1. $Errors    -&gt; 0=OK, 1=ERROR.</pre>
<a name='Check_BSPower'></a><h2>Check_BSPower</h2>

<pre> $self-&gt;Check_BSPower();

</pre>
<pre>SUBROUTINE  : Check_BSPower
DESCRIPTION : Checks BS Power BCCH on Neighbour cells for errors.</pre>
<pre>IN  : 1. $Type             -&gt; Type for Printout (example TG0/Cell0).
      2. $Indicator        -&gt; Indicator for Printout (ERROR or WARNING).
      3. $BSPowerFirstCell -&gt; BS Power first cell.
      4. $Message          -&gt; Reference to message hash.
OUT : 1. $Errors           -&gt; 0=OK, 1=ERROR.</pre>
<a name='Check_Dedication'></a><h2>Check_Dedication</h2>

<pre> $self-&gt;Check_Dedication();

</pre>
<pre>SUBROUTINE  : Check_Dedication
DESCRIPTION : Checks Dedication Information for Antenna Hopping for
              errors.</pre>
<pre>IN  : 1. $Type      -&gt; Type for Printout (example TG0/Cell0).
      2. $Indicator -&gt; Indicator for Printout (ERROR or WARNING).
      3. $Param     -&gt; Parameter Name.
      4. $Fix       -&gt; Parameter Value.
      5. $Message   -&gt; Reference to message hash.
OUT : 1. $Errors    -&gt; 0=OK, 1=ERROR.</pre>
<a name='Check_FLAB'></a><h2>Check_FLAB</h2>

<pre> $self-&gt;Check_FLAB();

</pre>
<pre>SUBROUTINE  : Check_FLAB
DESCRIPTION : Checks FLAB configuration according to load level for
              errors. Also checks that FLAB is not configured for cTRU.</pre>
<pre>IN  : 1. $Type      -&gt; Type for Printout (example TG0/Cell0), second cell.
      2. $Indicator -&gt; Indicator for Printout (ERROR or WARNING).
      3. $Message   -&gt; Reference to message hash.
OUT : 1. $Errors    -&gt; 0=OK, 1=ERROR.</pre>
<a name='Check_HoppingARFCN'></a><h2>Check_HoppingARFCN</h2>

<pre> $self-&gt;Check_HoppingARFCN();

</pre>
<pre>SUBROUTINE  : Check_HoppingARFCN
DESCRIPTION : Checks nbr of ARFCNs for SYNTH hopp for errors.</pre>
<pre>IN  : 1. $Type      -&gt; Type for Printout (example TG0/Cell0).
      2. $Indicator -&gt; Indicator for Printout (ERROR or WARNING).
      3. $Param     -&gt; Hopping parameter.
      4. $Message   -&gt; Reference to message hash.
OUT : 1. $Errors    -&gt; 0=OK, 1=ERROR.</pre>
<a name='Check_IRC'></a><h2>Check_IRC</h2>

<pre> $self-&gt;Check_IRC();

</pre>
<pre>SUBROUTINE  : Check_IRC
DESCRIPTION : Checks that IRC is not configured on a cTRU.</pre>
<pre>IN  : 1. $Type      -&gt; Type for Printout (example TG0/Cell0), second cell.
      2. $Indicator -&gt; Indicator for Printout (ERROR or WARNING).
      3. $Message   -&gt; Reference to message hash.
OUT : 1. $Errors    -&gt; 0=OK, 1=ERROR.</pre>
<a name='Check_Neighbour'></a><h2>Check_Neighbour</h2>

<pre> $self-&gt;Check_Neighbour();

</pre>
<pre>SUBROUTINE  : Check_Neighbour
DESCRIPTION : Checks Neighbour ARFCN for errors.</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $Type               -&gt; Type for Printout (example TG0/Cell0),
                                second cell.
      2. $Indicator          -&gt; Indicator for Printout (ERROR or WARNING).
      3. $Type1              -&gt; Type for Printout (example TG0/Cell0), first
                                cell.
      4. $BCCHFirstCell      -&gt; BCCH first cell.
      5. $NeighbourFirstCell -&gt; Neighbour ARFCN first cell.
      6. $Message            -&gt; Reference to message hash.
OUT : 1. $Errors             -&gt; 0=OK, 1=ERROR.</pre>
<a name='Check_SDCCHConfig'></a><h2>Check_SDCCHConfig</h2>

<pre> $self-&gt;Check_SDCCHConfig();

</pre>
<pre>SUBROUTINE  : Check_SDCCHConfig
DESCRIPTION : Checks configuration of SDCCH, on BCCH or non_BCCH TRX
              for errors.</pre>
<pre>IN  : 1. $Type      -&gt; Type for Printout (example TG0/Cell0).
      2. $Indicator -&gt; Indicator for Printout (ERROR or WARNING).
      3. $Message   -&gt; Reference to message hash.
OUT : 1. $Errors    -&gt; 0=OK, 1=ERROR.</pre>
<a name='CloseLog'></a><h2>CloseLog</h2>

<pre> $self-&gt;CloseLog();

</pre>
<pre>SUBROUTINE  : CloseLog
DESCRIPTION : Close the LTSSetup log file.</pre>
<pre>IN  : -
OUT : -</pre>
<a name='ConfigureFAS'></a><h2>ConfigureFAS</h2>

<pre> $self-&gt;ConfigureFAS();

</pre>
<pre>HP62048: FMConfigReq fails in Ltssetup on 1800
Date: 2012-05-25
Fix: delete Rus_Start_ARFCN and RUS_Stop_ARFCN in config
SUBROUTINE  : ConfigureFAS
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS  -&gt; Abisco connection object.
      2. {%TG} -&gt; Reference to TG hash.
      3. $RId  -&gt; Hwinfo-Logical ID
      4. $MCTR_SuppFreqBw -&gt; MCTR Supported Frequency Bandwidth
      5. $cb   -&gt; Callback function implementation.
OUT : -</pre>
<a name='ConnectTG'></a><h2>ConnectTG</h2>

<pre> $self-&gt;ConnectTG();

</pre>
<pre>HQ47774 : 20130218 : added rTG to pass to sub ConnectTG
SUBROUTINE  : ConnectTG
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS -&gt; Abisco connection object.
      2. $rTG -&gt; Reference to TG hash.
      3. $cb  -&gt; Callback function implementation.
OUT : -</pre>
<a name='ConvertToFrequency'></a><h2>ConvertToFrequency</h2>

<pre> $self-&gt;ConvertToFrequency();

</pre>
<pre>SUBROUTINE  : ConvertToFrequency
DESCRIPTION : Converts a list of ARFCNs to a frequency list.</pre>
<pre>IN  : 1. @ARFCNsList    -&gt; List of ARFCNs.
OUT : 1. %FrequencyList -&gt; Hash containing frequency lists.</pre>
<a name='DisconnectTG'></a><h2>DisconnectTG</h2>

<pre> $self-&gt;DisconnectTG();

</pre>
<pre>SUBROUTINE  : DisconnectTG
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS -&gt; Abisco connection object.
      2. $cb  -&gt; Callback function implementation.
OUT : -</pre>
<a name='ExcludeTRXs'></a><h2>ExcludeTRXs</h2>

<pre> $self-&gt;ExcludeTRXs();

</pre>
<pre>SUBROUTINE  : ExcludeTRXs
DESCRIPTION : Exclude TRXs of nTRU type from LTS setup.</pre>
<pre>IN  : 1. $TG                -&gt; TG number from which the TRXs
                               are to be excluded.
      2. @TRXTypeList       -&gt; List of TRX types.
OUT : 1. %TRXCHash (Global) -&gt; TRXC hash.</pre>
<a name='FAS_Reconfig'></a><h2>FAS_Reconfig</h2>

<pre> $self-&gt;FAS_Reconfig();

</pre>
<pre>SUBROUTINE  : FAS_Reconfig
DESCRIPTION : Reconfiguration of FAS for RBS2000.</pre>
<pre>IN  : 1. $BTS      -&gt; Abisco connection object.
      2. $FAS_TRXC -&gt; TRXC for FAS.
      3. $cb       -&gt; Callback function implementation.
OUT : -</pre>
<a name='FixConfig'></a><h2>FixConfig</h2>

<pre> $self-&gt;FixConfig();

</pre>
<pre>SUBROUTINE  : FixConfig
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS -&gt; Abisco connection object.
      2. $cb  -&gt; Callback function implementation.
OUT : -
CR6570: Make a standalone version of ltssetup.
Date: 2010-04-14
CR Fix: set $SendToServer to On if running in ltssetup mode</pre>
<a name='GenerateFrequencyList'></a><h2>GenerateFrequencyList</h2>

<pre> $self-&gt;GenerateFrequencyList();

</pre>
<pre>SUBROUTINE  : GenerateFrequencyList
DESCRIPTION : Generates a valid frequency list based on the frequency
              band, hopping and the employed ARFCNs.</pre>
<pre>IN  : 1. $FrequencyBand -&gt; Frequency band.
      2. $Hopping       -&gt; Hopping.
      3. @UsedARFCNs    -&gt; List of used ARFCNs.
OUT : 1. $NoOfARFCN     -&gt; Number of ARFCNs.
      2. %FrequencyList -&gt; Hash containing the frequency lists.</pre>
<a name='GetAbiscoRevision'></a><h2>GetAbiscoRevision</h2>

<pre> $self-&gt;GetAbiscoRevision();

</pre>
<pre>SUBROUTINE  : GetAbiscoRevision
DESCRIPTION : Retrieves the Abisco revision.</pre>
<pre>IN  : 1. $BTS -&gt; Abisco connection object.
      2. $cb  -&gt; Callback function implementation.
OUT : -</pre>
<a name='Get_Cell'></a><h2>Get_Cell</h2>

<pre> $self-&gt;Get_Cell();

</pre>
<pre>SUBROUTINE  : Get_Cell
DESCRIPTION : Get cell with indicated routing (defaults taken from the
              predefined globals). Returns a CH InfoCellResponse
              message hash (or pointer to it in scalar context).
              Example
                Get_Cell($BTS, TG =&gt; $TG, TRXC =&gt; $TRXC, sub {
                           ...
                         });</pre>
<pre>IN  : 1. $BTS      -&gt; Abisco connection object.
      2. TG        -&gt; Routing parameters - TG
                       (Refer to example above)
      3. TRXC      -&gt; Routing parameters - TRXC
      4. $cb       -&gt; Callback function implementation.
OUT : 1. $InfoCell -&gt; A pointer to a CH InfoCellResponse
                      message hash.
         or
         undef     -&gt; There are no cells with the specified
                      routing TRXC number under the specified
                      routing TG number.</pre>
<a name='Get_FAS_Reconfig_Param'></a><h2>Get_FAS_Reconfig_Param</h2>

<pre> $self-&gt;Get_FAS_Reconfig_Param();

</pre>
<pre>SUBROUTINE  : Get_FAS_Reconfig_Param
DESCRIPTION : Get reconfiguration parameters for FAS.</pre>
<pre>IN  : 1. {%TG}     -&gt; Reference to TG hash that was already
                      initialized (by running GetTGData()
                      in TP_Support).
OUT : 1. $FAS_TRXC -&gt; TRXC for FAS.</pre>
<a name='Get_TG_List'></a><h2>Get_TG_List</h2>

<pre> $self-&gt;Get_TG_List();

</pre>
<pre>SUBROUTINE  : Get_TG_List
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS    -&gt; Abisco connection object.
      2. $cb     -&gt; Callback function implementation.
OUT : 1. @TGList -&gt; List of TGs.</pre>
<a name='Get_TRXC_List'></a><h2>Get_TRXC_List</h2>

<pre> $self-&gt;Get_TRXC_List();

</pre>
<pre>SUBROUTINE  : Get_TRXC_List
DESCRIPTION : Get list of all TRXCs in one TG (all cells). Uses the
              predefined global $TG if no argument is given.
              Example
                Get_TRXC_List($BTS, $TG_Number, sub {
                                @TRXCs = @_;
                              });
IN  : A hash with the following hash-key(s):
      1. $BTS       -&gt; Abisco connection object.
      2. $TG_Number -&gt; TG number from which the TRXC list
                       is to be obtained from.
      3. $cb        -&gt; Callback function implementation.
OUT : 1. @TRXCs     -&gt; List of TRXCs.</pre>
<a name='Get_TRX_ARFCNs'></a><h2>Get_TRX_ARFCNs</h2>

<pre> $self-&gt;Get_TRX_ARFCNs();

</pre>
<pre>SUBROUTINE  : Get_TRX_ARFCNs
DESCRIPTION : Get list of TX ARCFN numbers from indicated TRX (the
              list will have one element unless synth hopping is used).
              Example
                Get_TRX_ARFCNs($BTS, TG =&gt; 0, TRXC =&gt; 0, sub {
                                 @ARFCNs = @_;
                               });
IN  : A hash with the following hash-key(s):
      1. $BTS    -&gt; Abisco connection object.
      2. $TG     -&gt; TG (the routing parameters.)
      3. $TRXC   -&gt; TRXC (the routing parameters.)
      4. $cb     -&gt; Callback function implementation.
OUT : 1. @ARFCNs -&gt; List of ARFCNs.</pre>
<a name='Get_TRX_ARFCNs200'></a><h2>Get_TRX_ARFCNs200</h2>

<pre> $self-&gt;Get_TRX_ARFCNs200();

</pre>
<pre>SUBROUTINE  : Get_TRX_ARFCNs200
DESCRIPTION : Get list of TX ARCFN numbers from indicated TRX (the
              list will have one element unless synth hopping is used).
              Example
                Get_TRX_ARFCNs200($BTS, TG =&gt; 0, TRXC =&gt; 0, sub {
                                    @ARFCNs = @_;
                                  });
IN  : A hash with the following hash-key(s):
      1. $BTS    -&gt; Abisco connection object.
      2. $TG     -&gt; TG (the routing parameters.)
      3. $TRXC   -&gt; TRXC (the routing parameters.)
      4. $cb     -&gt; Callback function implementation.
OUT : 1. @ARFCNs -&gt; List of ARFCNs.</pre>
<a name='Get_TS_Config'></a><h2>Get_TS_Config</h2>

<pre> $self-&gt;Get_TS_Config();

</pre>
<pre>SUBROUTINE  : Get_TS_Config
DESCRIPTION : Sets up a hash of Channel combinations for all TS.</pre>
<pre>IN  : 1. $BTS -&gt; Abisco connection object.
      2. $cb  -&gt; Callback function implementation.
OUT : -</pre>
<a name='MemberOfArray'></a><h2>MemberOfArray</h2>

<pre> $self-&gt;MemberOfArray();

</pre>
<pre>SUBROUTINE  : MemberOfArray
DESCRIPTION : Checks if $Value is member of @Array.</pre>
<pre>IN  : 1. $Value -&gt; Value.
      2. @Array -&gt; Array.
OUT : 1. $1     -&gt; Returns 1 if $Value is member of @Array,
                    0 otherwise.</pre>
<a name='OM2000_Defaults'></a><h2>OM2000_Defaults</h2>

<pre> $self-&gt;OM2000_Defaults();

</pre>
<pre>SUBROUTINE  : OM2000_Defaults
DESCRIPTION : Set OM2000 loop parameters unless they are already set
              (either long or shortname).</pre>
<pre>IN  : 1. \%Msg -&gt; OM2000 message hash (or empty hash if you
                  only want the defaults).
OUT : 1. \%Msg -&gt; Updated message (the original is also
                  updated in place).
         or
         %Msg  -&gt; In list context.</pre>
<a name='OpenConfigLoad'></a><h2>OpenConfigLoad</h2>

<pre> $self-&gt;OpenConfigLoad();

</pre>
<pre>SUBROUTINE  : OpenConfigLoad
DESCRIPTION : Opens LTS Config Load file.</pre>
<pre>IN  : 1. $File -&gt; File path.
OUT : 1. "OK" or "ERROR".
      2. @ConfigLoad (Global).</pre>
<a name='OpenLog'></a><h2>OpenLog</h2>

<pre> $self-&gt;OpenLog();

</pre>
<pre>SUBROUTINE  : OpenLog
DESCRIPTION : Initiate the LTSSetup log file.</pre>
<pre>IN  : 1. $Create -&gt; One of:
                     0 - Append if the log file exists, else create a new one.
                     1 - Overwrite if the log file exists, else create a new one.
OUT : -</pre>
<a name='Prompt'></a><h2>Prompt</h2>

<pre> $self-&gt;Prompt();

</pre>
<pre>SUBROUTINE  : Prompt
DESCRIPTION : Prompts for user response.</pre>
<pre>IN  : 1. $Message   -&gt; Message.
      2. $Default   -&gt; Default answer.
      3. [@Options] -&gt; Reference to a list of options.
      4. $timeOut   -&gt; Timeout in seconds after which the
                       prompt stops waiting for a user input
                       and sets $Answer=$Default.
OUT : 1. $Answer    -&gt; Answer.</pre>
<a name='ReadAndLoadConfig'></a><h2>ReadAndLoadConfig</h2>

<pre> $self-&gt;ReadAndLoadConfig();

</pre>
<pre>SUBROUTINE  : ReadAndLoadConfig
DESCRIPTION : Reads the abisco config from the file specified and
              applies the configuration.</pre>
<pre>IN  : 1. $BTS                 -&gt; Abisco connection object.
      2. $ABISCOConfiguration -&gt; Path to Abisco configuration file.
      3. $cb                  -&gt; Callback function implementation.
OUT : -</pre>
<a name='RecursiveCheckEachTG'></a><h2>RecursiveCheckEachTG</h2>

<pre> $self-&gt;RecursiveCheckEachTG();

</pre>
<pre>SUBROUTINE  : RecursiveCheckEachTG
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS    -&gt; Abisco connection object.
      2. [@TG]   -&gt; Reference to a list of TGs to be checked
                    and verified.
      3. $Errors -&gt; Error count.
      4. $cb     -&gt; Callback function implementation.
OUT : 1. $Errors -&gt; Error count.</pre>
<a name='RecursiveCheckEachTGCell'></a><h2>RecursiveCheckEachTGCell</h2>

<pre> $self-&gt;RecursiveCheckEachTGCell();

</pre>
<pre>SUBROUTINE  : RecursiveCheckEachTGCell
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $BTS                -&gt; Abisco connection object.
      2. $TG        -&gt; Current TG number.
      3. [@Cell]    -&gt; Reference to a list of cells to be
                       checked and verified.
      4. $CellCount -&gt; Number of cells that have been checked so far.
      5. $Errors    -&gt; Error count.
      6. $BSPowerFirstCell   -&gt; the first BS power cell
      7. $BCCHFirstCell      -&gt; the first BCCH cell
      7. $NeighbourFirstCell -&gt; Neighbour ARFCN first cell
      8. $Type1              -&gt; Type for Printout (example TG0/Cell0), first
                                cell.
      9. $cb                 -&gt; Callback function implementation.
OUT : 1. $Errors    -&gt; Error count.</pre>
<a name='RecursiveConnectTG'></a><h2>RecursiveConnectTG</h2>

<pre> $self-&gt;RecursiveConnectTG();

</pre>
<pre>SUBROUTINE  : RecursiveConnectTG
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS  -&gt; Abisco connection object.
      2. [@TG] -&gt; Reference to a list of TGs to be connected.
      3. $cb   -&gt; Callback function implementation.
OUT : -</pre>
<a name='RecursiveDisconnectTG'></a><h2>RecursiveDisconnectTG</h2>

<pre> $self-&gt;RecursiveDisconnectTG();

</pre>
<pre>SUBROUTINE  : RecursiveDisconnectTG
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS  -&gt; Abisco connection object.
      2. [@TG] -&gt; Reference to a list of TGs to be disconnected.
      3. $cb   -&gt; Callback function implementation.
OUT : -</pre>
<a name='RecursiveFindEachTG'></a><h2>RecursiveFindEachTG</h2>

<pre> $self-&gt;RecursiveFindEachTG();

</pre>
<pre>SUBROUTINE  : RecursiveFindEachTG
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS          -&gt; Abisco connection object.
      2. [@TGHashKeys] -&gt; Reference to a list of TG hash-keys.
      3. $cb           -&gt; Callback function implementation.
OUT : -</pre>
<a name='RecursiveFindEachTRXC'></a><h2>RecursiveFindEachTRXC</h2>

<pre> $self-&gt;RecursiveFindEachTRXC();

</pre>
<pre>SUBROUTINE  : RecursiveFindEachTRXC
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS            -&gt; Abisco connection object.
      2. $TG             -&gt; TG number.
      3. [@TRXCHashKeys] -&gt; Reference to a list of TRXC hash-keys.
      4. $cb             -&gt; Callback function implementation.
OUT : -</pre>
<a name='RecursiveLoadConfig'></a><h2>RecursiveLoadConfig</h2>

<pre> $self-&gt;RecursiveLoadConfig();

</pre>
<pre>SUBROUTINE  : RecursiveLoadConfig
DESCRIPTION : Applies the configuration commands line-by-line
              in recursive fashion.</pre>
<pre>IN  : 1. $BTS       -&gt; Abisco connection object.
      2. [@Command] -&gt; Reference to a list of commands read
                       line-by-line from the configuration file.
      3. rTG        -&gt; Reference of TG Hash.
      4. $cb        -&gt; Callback function implementation.
OUT : -</pre>
<a name='Recursive_Get_Cell'></a><h2>Recursive_Get_Cell</h2>

<pre> $self-&gt;Recursive_Get_Cell();

</pre>
<pre>SUBROUTINE  : Recursive_Get_Cell
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS      -&gt; Abisco connection object.
      2. $Msg      -&gt; Reference to a message hash containing
                      defaults taken from the predefined globals.
      3. [@Cell]   -&gt; Reference to a list of cells.
      4. $cb       -&gt; Callback function implementation.
OUT : 1. $InfoCell -&gt; Reference to a CH InfoCellResponse
                      message hash.
      2. $isMatch  -&gt; Boolean indicating whether the specified
                      routing TRXC matches one of the TRXs
                      found in the specified TG and cell number.</pre>
<a name='Recursive_Get_TRXC_List'></a><h2>Recursive_Get_TRXC_List</h2>

<pre> $self-&gt;Recursive_Get_TRXC_List();

</pre>
<pre>SUBROUTINE  : Recursive_Get_TRXC_List
DESCRIPTION : Get list of all TRXCs by recursively checking every cell
              in the specified TG.</pre>
<pre>IN  : 1. $BTS       -&gt; Abisco connection object.
      2. $TG_Number -&gt; TG number from which the TRXC list
                       is to be obtained from.
      3. [@Cells]   -&gt; Reference to a list of cells.
      4. [@TRXCs]   -&gt; Reference to a list of TRXCs.
      5. $cb        -&gt; Callback function implementation.
OUT : 1. @TRXCs     -&gt; List of TRXCs.</pre>
<a name='Recursive_TS_Reconfig_Each_TG'></a><h2>Recursive_TS_Reconfig_Each_TG</h2>

<pre> $self-&gt;Recursive_TS_Reconfig_Each_TG();

</pre>
<pre>SUBROUTINE  : Recursive_TS_Reconfig_Each_TG
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS          -&gt; Abisco connection object.
      2. [@TGHashKeys] -&gt; Reference to a list of TG hash-keys.
      3. $SendToServer -&gt; On or Off.
      4. $cb           -&gt; Callback function implementation.
OUT : -</pre>
<a name='Recursive_TS_Reconfig_Each_TRXC'></a><h2>Recursive_TS_Reconfig_Each_TRXC</h2>

<pre> $self-&gt;Recursive_TS_Reconfig_Each_TRXC();

</pre>
<pre>SUBROUTINE  : Recursive_TS_Reconfig_Each_TRXC
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1.  $BTS            -&gt; Abisco connection object.
      2.  $TG             -&gt; TG number.
      3.  [@TRXCHashKeys] -&gt; Reference to a list of TRXC hash-keys.
      4.  $SendToServer   -&gt; On or Off.
      5.  [@TCH_Config]   -&gt; Reference to a list of TCH configurations.
      6.  [@TRXType]      -&gt; Reference to a list of TRX types.
      7.  $AbisIWDNum     -&gt; Abisco IWD number.
      8.  $JitterSize     -&gt; Jitter size.
      9.  $PackingAlg     -&gt; Packing algorithm.
      10. $cb             -&gt; Callback function implementation.
OUT : -</pre>
<a name='Recursive_TS_Reconfig_Each_TS'></a><h2>Recursive_TS_Reconfig_Each_TS</h2>

<pre> $self-&gt;Recursive_TS_Reconfig_Each_TS();

</pre>
<pre>SUBROUTINE  : Recursive_TS_Reconfig_Each_TS
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1.  $BTS          -&gt; Abisco connection object.
      2.  $TG           -&gt; TG number.
      3.  $TRXC         -&gt; TRXC number.
      4.  [@TSHashKeys] -&gt; Reference to a list of TS hash keys.
      5.  $SendToServer -&gt; On or Off.
      6.  [@TCH_Config] -&gt; Reference to a list of TCH configurations.
      7.  [@TRXType]    -&gt; Reference to a list of TRX types.
      8.  $AbisIWDNum   -&gt; Abisco IWD number.
      9.  $JitterSize   -&gt; Jitter size.
      10. $PackingAlg   -&gt; Packing algorithm.
      11. $IntTLSA      -&gt; Transcoder alarm in active mode.
      12. $cb           -&gt; Callback function implementation.
OUT : -</pre>
<a name='RemoveFromArray'></a><h2>RemoveFromArray</h2>

<pre> $self-&gt;RemoveFromArray();

</pre>
<pre>SUBROUTINE  : RemoveFromArray
DESCRIPTION : Removes the element $Remove from array @Array.</pre>
<pre>IN  : 1. $Remove -&gt; Element to remove.
OUT : 1. @Array  -&gt; The resulting array.</pre>
<a name='ReturnNumeric'></a><h2>ReturnNumeric</h2>

<pre> $self-&gt;ReturnNumeric();

</pre>
<pre>SUBROUTINE  : ReturnNumeric
DESCRIPTION : Filters out numeric digits from a string.</pre>
<pre>IN  : 1. $Line         -&gt; A string.
OUT : 1. $Numeric      -&gt; One of:
                           0 - No numeric characters found.
                           1 - Only numeric characters found.
      2. $NumericValue -&gt; Space filtered out.</pre>
<a name='SendSysInfo'></a><h2>SendSysInfo</h2>

<pre> $self-&gt;SendSysInfo();

</pre>
<pre>SUBROUTINE  : SendSysInfo
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS          -&gt; Abisco connection object.
      2. $TG           -&gt; TG number.
      3. $TRXC         -&gt; TRXC number.
      4. $SendToServer -&gt; On or Off.
      5. $cb           -&gt; Callback function implementation.
OUT : -</pre>
<a name='SendSysInfo2'></a><h2>SendSysInfo2</h2>

<pre> $self-&gt;SendSysInfo2();

</pre>
<pre>SUBROUTINE  : SendSysInfo2
DESCRIPTION : Continuation from SendSysInfo.</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $BTS          -&gt; Abisco connection object.
      2. $TG           -&gt; TG number.
      3. $TRXC         -&gt; TRXC number.
      4. $SendToServer -&gt; On or Off.
      5. $UNACK_Resp   -&gt; The Abisco response message
                          'UNACKNOWLEDGED_MESSAGE_SENT'.
      6. $cb           -&gt; Callback function implementation.
OUT : -</pre>
<a name='SendSysInfoForeachTGNumber'></a><h2>SendSysInfoForeachTGNumber</h2>

<pre> $self-&gt;SendSysInfoForeachTGNumber();

</pre>
<pre>SUBROUTINE  : SendSysInfoForeachTGNumber
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS          -&gt; Abisco connection object.
      2. [@TG]         -&gt; Reference to a list of TGs.
      3. [@TRXC]       -&gt; Reference to a list of TRXCs.
      4. $SendToServer -&gt; On or Off.
      5. $cb           -&gt; Callback function implementation.
OUT : -</pre>
<a name='SendSysInfoForeachTRXCNumber'></a><h2>SendSysInfoForeachTRXCNumber</h2>

<pre> $self-&gt;SendSysInfoForeachTRXCNumber();

</pre>
<pre>SUBROUTINE  : SendSysInfoForeachTRXCNumber
DESCRIPTION :</pre>
<pre>IN  : 1. $BTS          -&gt; Abisco connection object.
      2. $TGNumber     -&gt; TG number.
      3. [@TRXC]       -&gt; Reference to a list of TRXCs.
      4. $SendToServer -&gt; On or Off.
      5. $cb           -&gt; Callback function implementation.
OUT : -</pre>
<a name='SetDefault'></a><h2>SetDefault</h2>

<pre> $self-&gt;SetDefault();

</pre>
<pre>SUBROUTINE  : SetDefault
DESCRIPTION : Set a default from list if parameter is undefined.</pre>
<pre>IN  : 1. $1 -&gt; Parameter to set.
      2. @2 -&gt; Default values, tried left to right until not undef.
OUT : 1. $1 -&gt; Updated if it was undef.</pre>
<a name='Set_BG_Reporting'></a><h2>Set_BG_Reporting</h2>

<pre> $self-&gt;Set_BG_Reporting();

</pre>
<pre>SUBROUTINE  : Set_BG_Reporting
DESCRIPTION : Deactivates BG reporting for RFRI, IAS and TRX.</pre>
<pre>IN  : 1. $BTS -&gt; Abisco connection object.
      2. $cb  -&gt; Callback function implementation.
OUT : -</pre>
<a name='TS_Reconfig'></a><h2>TS_Reconfig</h2>

<pre> $self-&gt;TS_Reconfig();

</pre>
<pre>SUBROUTINE  : TS_Reconfig
DESCRIPTION : Sends TS Config Request and System Information.</pre>
<pre>IN  : Requires that sub Get_TS_Config has been called.
      1. $BTS          -&gt; Abisco connection object.
      2. $SendToServer -&gt; On or Off.
      3. $cb           -&gt; Callback function implementation.
OUT : -</pre>
<a name='TS_Reconfig_ChComb'></a><h2>TS_Reconfig_ChComb</h2>

<pre> $self-&gt;TS_Reconfig_ChComb();

</pre>
<pre>SUBROUTINE  : TS_Reconfig_ChComb
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1.  $BTS          -&gt; Abisco connection object.
      2.  $TG           -&gt; TG number.
      3.  $TRXC         -&gt; TRXC number.
      4.  $TS           -&gt; TS number.
      5.  $SendToServer -&gt; On or Off.
      6.  [@TCH_Config] -&gt; Reference to a list of TCH configurations.
      7.  [@TRXType]    -&gt; Reference to a list of TRX types.
      8.  $AbisIWDNum   -&gt; Abisco IWD number.
      9.  $JitterSize   -&gt; Jitter size.
      10. $PackingAlg   -&gt; Packing algorithm.
      11. $IntTLSA      -&gt; Transcoder alarm in active mode.
      12. $ChComb       -&gt; CH combination.
      13. $cb           -&gt; Callback function implementation.
OUT : -</pre>
<a name='TS_Reconfig_EnableRequest'></a><h2>TS_Reconfig_EnableRequest</h2>

<pre> $self-&gt;TS_Reconfig_EnableRequest();

</pre>
<pre>SUBROUTINE  : TS_Reconfig_EnableRequest
DESCRIPTION :</pre>
<pre>IN  : A hash with the following hash-key(s):
      1. $BTS          -&gt; Abisco connection object.
      2. $TG           -&gt; TG number.
      3. $TRXC         -&gt; TRXC number.
      4. $TS           -&gt; TS number.
      5. $SendToServer -&gt; On or Off.
      6. $cb           -&gt; Callback function implementation.
OUT : -</pre>
<a name='numerically'></a><h2>numerically</h2>

<pre> $self-&gt;numerically();

</pre>
<pre>SUBROUTINE  : numerically
DESCRIPTION : Used for numerical sort.</pre>
<pre>IN  : -
OUT : -</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Msg</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 4/190 55-CAH 161 1290/1 Uen
MODULE      : Msg.pm
DESCRIPTION : Operations on message-hashes which are a native Perl
              representation of a complete ABISCO message. This package
              knows about the ABISCO syntax and can convert into and out of
              it. The mapping is more or less one-to-one: ABISCO parameter
              names become hash keys (N.B. case sensitive), and values
              become hash values. The special keys 'Server' and 'Message'
              refer to the ABISCO server name and the name of the ABISCO
              command/response. Substructures (e.g. Routing) are mapped onto
              sub-hashes. ABISCO arrays become Perl arrays. Integers, enums
              and strings become scalars.  Abisco strings have to be
              explicitly stripped of quotes, see 'Strip'. See any test
              program for numerous examples.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV  DATE       NAME                    REVIEW    COMMENT
P1A  990728     QRAJRHD                           Created from stuff out of User and
                                                  Abisco_Connection.
P1B  990804     QRAJRHD                           Cleaned and shaved for code review
P1C  990805     QRAJRHD                           Updated with review comments
P1D  990815     QRAJRHD                           Pack ruined its input hash
P1E  990824     QRAJRHD                           Temp-fix: allow leading underscore in
                                                  enum.
P1F  991001     QRAJRHD                           List of expected's in Assert and value
                                                  wildcard '*', ...
P1G  991008     QRAJRHD                           Allow spaces around '='
P1H  991015     QRAJRHD                           Migrating from 'Function' to 'Message'
P2H  991021     QRAJRHD                           Preserve input hash in Pack
P2I  991104     QRAJRHD                           Modified messages from Assert
P2J  991214     QRAJRHD                           Assert failed when array element was a
                                                  choice list.
P2K  991214     QRAJRHD                           Assert not exported, use front-end in
                                                  Abisco_Connection.
P2L  000403     QRAJRHD                           Made Strip work on lists
P2M  000413     QRAJRHD                           Pack nested array parameters with
                                                  surrounding quotes.
P2O  000502     QRAJRHD                           No double quotes in strings (MMI
                                                  workaround).
P2P  000512     QRAJRHD                           Pack/unpack nested array parameters
                                                  properly.
P2Q  000605     QRAJRHD                           Strip hashes too
P2R  000616     QRAJRHD                           String-quote un-packable pointers in
                                                  messages.
P2S  000823     QRAJRHD                           Ignore undef in 'Strip' and let
                                                   'Pack_Args' take msg ptr.
P2T  000824     QRAJRHD                            Let 'Str' handle lists
P2U  000922     QRAJRHD                            H'1E parsed as string
P2V  001102     QRAJRHD                            Pack scalar pointer like scalar
                                                   (unsupported by Abisco).
P2X  001204     QRAJRHD                            Let 'Normalize' handle hashes as well
P2Y  010125     QRAJRHD                            Allow msg name "0"
P2Z  010206     ERAABAY                            No more support for 'Function', use
                                                   'Message'.
P2AA 110407     ETORWIL                            Changed Pack_Args to sort keys
                XDAVMEL                            Implemented use strict and use warnings
                                                   (quality improvement).
A    20110905   XLEIMAR                 ETORWIL    Updated according to new template
                                                   Perlcritic.
                                                   Bugfix in Unpack_Value.
B    20130703   Syntronic AB/           EDAMELI    Modified for Code Optimisation
                Adibah</pre>
<pre>Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?letter'>letter</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='Assert'></a><h2>Assert</h2>

<pre> Assert();

</pre>
<pre>SUBROUTINE  : Assert
DESCRIPTION : Take two hashes and make sure all values in the second
              list (required) are equal to the corresponding values in the
              first list (actual). Items only in the actual list are ignored.</pre>
<pre>              A value of '*' matches anything and only the name (hash-key)
              is checked.

              In order to create a logical 'or' you may also submit a list
              of possible expected-patterns within square brackets. This
              notation may also be used anywhere in an 'expected' pattern to
              specify more than one acceptable value shown with  the 'Pn'
              parameter below.

              E.G.:
                %ChactRes = $BTS-&gt;Do(Fun =&gt; Chact_Normal,
                                     Pn  =&gt; 3);
                Assert(\%ChactRes, {Message =&gt; Ack,
                                    Pn      =&gt; [1,2,3],
                                    Status  =&gt; OK}
                      );

</pre>
<pre>IN  : $1 - Values to check (scalar or ref to hash or array)
      $2 - Required Values (ditto). If $2 is absent $1 must be true.
OUT : None (dies on mismatches)</pre>
<a name='Choice'></a><h2>Choice</h2>

<pre> Choice();

</pre>
<pre>SUBROUTINE  : Choice
DESCRIPTION : Determine whether Assert was given a list of choices</pre>
<pre>IN  : $1 - Values to check (scalar or ref to hash or array)
      $2 - Expected Values (ditto)
OUT : True if it was a choice list</pre>
<a name='Is_Str'></a><h2>Is_Str</h2>

<pre> Is_Str();

</pre>
<pre>SUBROUTINE  : Is_Str
DESCRIPTION : Return true iff input is an ABISCO string.
              Not tested yet!</pre>
<pre>IN  : $1 - Scalar which might be an ABISCO string
OUT : $1 - True if and only if input was a string</pre>
<a name='Normalize'></a><h2>Normalize</h2>

<pre> Normalize();

</pre>
<pre>SUBROUTINE  : Normalize
DESCRIPTION : Capitalize first character in all identifiers and words
              within an identifier. ABISCO strings are not affected. E.g:
              'TRAFFRN.mode_modify' becomes 'Traffrn.Mode_Modify'.</pre>
<pre>IN  :     $1 - String
      or \%1 - A hash (string values are left intact)
OUT :     $1 - Converted string,
      or  %1 - A normalized hash ...
      or \%1 - ... a reference to it in scalar context</pre>
<a name='Pack'></a><h2>Pack</h2>

<pre> Pack();

</pre>
<pre>SUBROUTINE  : Pack
DESCRIPTION : Convert call hash to ABISCO command string</pre>
<pre>IN  :  \%1 - Reference to hash representing Abisco call
        $2 - Pretty print if true
OUT : Hash converted to string</pre>
<a name='Pack_Args'></a><h2>Pack_Args</h2>

<pre> Pack_Args();

</pre>
<pre>SUBROUTINE  : Pack_Args
DESCRIPTION : Convert hash of name/value pairs to Abisco argument
              string (auxiliary to Pack). Ignore pseudo-args (Server etc...)</pre>
<pre>IN  : $1 - String to prefix each name with (substructures)
      $2 - Hash representing Abisco call arguments
      $3 - Pretty print if set (to anything)
OUT : None</pre>
<a name='Pack_Value'></a><h2>Pack_Value</h2>

<pre> Pack_Value();

</pre>
<pre>SUBROUTINE  : Pack_Value
DESCRIPTION : Convert the value side of a name=value pair to string,
              (auxiliary to Pack_Args).</pre>
<pre>IN  : \@1 - A value to convert, plain scalar or scalar/array pointer
OUT :  $1 - Input argument in string form</pre>
<a name='Str'></a><h2>Str</h2>

<pre> Str();

</pre>
<pre>SUBROUTINE  : Str
DESCRIPTION : Convert from Perl to ABISCO string</pre>
<pre>IN  :    $1 - One Perl string
      or @1 - List of Perl strings
OUT :    $1 - Converted copy of the input (the original is not changed)
      or @1 - Converted list (the original is unchanged)</pre>
<a name='Strip'></a><h2>Strip</h2>

<pre> Strip();

</pre>
<pre>SUBROUTINE  : Strip
DESCRIPTION : Convert from ABISCO to perl string. Remove surrounding
              and doubled double quotes. Non-strings are returned without
              change. The string is assumed to have been parsed OK.</pre>
<pre>IN  :    $1 - ABISCO string
      or @1 - A list of ABISCO strings
      or %1 - A list of ABISCO strings
OUT : 1 - The input converted to perl string (the input is not changed)</pre>
<a name='Strip_All'></a><h2>Strip_All</h2>

<pre> Strip_All();

</pre>
<pre>SUBROUTINE  : Strip_All
DESCRIPTION : Convert all ABISCO strings to native format</pre>
<pre>IN  : \$1 - Call hash
OUT : \$1 with strings stripped</pre>
<a name='To_Hash'></a><h2>To_Hash</h2>

<pre> To_Hash();

</pre>
<pre>SUBROUTINE  : To_Hash
DESCRIPTION : Concatenate hashes, lists or scalars and return hash.
              Later hash entries will overwrite earlier ones.</pre>
<pre>IN  : Anything, any even no. of arguments
OUT : Resulting hash</pre>
<a name='Unpack'></a><h2>Unpack</h2>

<pre> Unpack();

</pre>
<pre>SUBROUTINE  : Unpack
DESCRIPTION : Convert ABISCO command string to msg hash.  This is
              the exact reverse of Pack.</pre>
<pre>IN  : $1 - Abisco response string
OUT :     %1 - Message hash
      or \%1 - in scalar context</pre>
<a name='Unpack_Value'></a><h2>Unpack_Value</h2>

<pre> Unpack_Value();

</pre>
<pre>DESCRIPTION: Parse an argument value (auxiliary to Unpack).
IN:  $1 - String starting with a value (no spaces)
          The value is consumed in the callers string.
     $2 - Optional radix, 'H', 'O', 'B'. Default is decimal.
OUT: Perl scalar (int, enum or string) or array
     The value is taken off the input string</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>mssim</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 24/190 55-CAH 161 1290/1 Uen
MODULE      : mssim.pm
DESCRIPTION : Interface routines to the PRISMA mssim mobile simulator.
              See MSSIM User's Guide 3/198 17-FCD 201 33 Uen</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
P1A   080526  ESTEMOH             Created
P1B   081117  ESTEMOH             Updated
P1C   081209  ESTEMOH             Added subroutine mssimLogOnOff.
                                   Corrections for "package".
P1D   090313  ESTEMOH             Fixed timeout bug in mssimGetSeveral
P1E   090520  ESTEMOH             Added mssimOpenWLog, mssimReadWLog and
                                   mssimCloseWLog.
P1F   090616  ESTEMOH             Added mssimStartWLog and mssimWaitWLog
P1G   090808  ESTEMOH             Changed Tethereal to Tshark
P1H   091013  ERATZIS             Moved mssimOpenWLog, mssimReadWLog,
                                   mssimCloseWLog, mssimStartWLog,
                                   mssimWaitWLog to module wireshark.pm
                                   (with new names!).
P1J   110408  XDAVMEL             Fixed bug in mssimAssert (for printing
                                   Error code and reason). Updated
                                   mssimLogPref (now you only need to send
                                   HashKey to modify).
A   20110923  XLEIMAR   ETORWIL   Approved for release in Abisco R37A
                                   HO29390: Fixed issues found in mssimPack (how to
                                   pack -1 in unsigned varibles and undefs).
                                   HO43422: PerlCritic
                                            Added use strict
                                            Added use warnings
                                            Added use diagnostics
                                   Removed lexical def of var @Spont in
                                    subroutine mssimGetSeveral.
                                   Added check for an undefined value in
                                    subroutine mssimGet.
B   20111018  ETORWIL   EANSKAT   Enabled diagnostics.
C   20120103  ETORWIL   XTOBSEM   Approved for release in Abisco R38A
                                   Updated mssimUnpack to avoid warnings
                                   Updated ReceiveTCP_IP and mssimGet to improve buffer handling.
D   20120706  XNAVNAS   XSOFFRO   Solved TR HQ17411 (change in mssimPack).</pre>
<pre>Note that on 2011-09-23 the revision style was changed to A, B and so on.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Socket'>Socket</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?IO::Handle'>IO::Handle</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i> Used for Abisco logging</pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='InitRESP'></a><h2>InitRESP</h2>

<pre> InitRESP();

</pre>
<pre>SUBROUTINE  : InitRESP
DESCRIPTION : To initialize the %RESPHash</pre>
<pre>IN  : Primitive
      Result Code
OUT : %RESP hash</pre>
<a name='ReceiveTCP_IP'></a><h2>ReceiveTCP_IP</h2>

<pre> ReceiveTCP_IP();

</pre>
<pre>SUBROUTINE  : ReceiveTCP_IP
DESCRIPTION : To receive a message from MSSIM over TCP/IP.
              If timeout an Error code is returned.</pre>
<pre>IN  : Timeout value
OUT : 0=DataReceived 1=Timeout
      Received buffer</pre>
<a name='mssimAssert'></a><h2>mssimAssert</h2>

<pre> mssimAssert();

</pre>
<pre>SUBROUTINE  : mssimAssert
DESCRIPTION : Check Error response from MSSIM</pre>
<pre>IN  : Addr to RESP Hash
      Addr to Message Hash
OUT : None, croaks if an error is found</pre>
<a name='mssimClearSpont'></a><h2>mssimClearSpont</h2>

<pre> mssimClearSpont();

</pre>
<pre>SUBROUTINE  : mssimClearSpont
DESCRIPTION : Clear spont buffer</pre>
<pre>IN  : None
OUT : None</pre>
<a name='mssimConnect'></a><h2>mssimConnect</h2>

<pre> mssimConnect();

</pre>
<pre>SUBROUTINE  : mssimConnect
DESCRIPTION : Set up TCP/IP connection to LSU/MSSIM.
              Retuns an error code if connect fails</pre>
<pre>IN  : %REQ{IP} (IP address)
      %REQ{Port}
OUT : %RESP{Result}
      %RESP{Reason}</pre>
<a name='mssimConvString'></a><h2>mssimConvString</h2>

<pre> mssimConvString();

</pre>
<pre>SUBROUTINE  : mssimConvString
DESCRIPTION : To convert a string to numeric decimal and numeric hexadecimal</pre>
<pre>IN  : String
OUT : Numeric strig
      Hexadecimal string</pre>
<a name='mssimDisconnect'></a><h2>mssimDisconnect</h2>

<pre> mssimDisconnect();

</pre>
<pre>SUBROUTINE  : mssimDisConnect
DESCRIPTION : Disconnect TCP/IP connection to LSU/MSSIM.</pre>
<pre>IN  : %REQ{IP}  (IP address)
      %REQ{Port}
OUT : %RESP{Result}
      %RESP{Reason}</pre>
<a name='mssimDo'></a><h2>mssimDo</h2>

<pre> mssimDo();

</pre>
<pre>SUBROUTINE  : mssimDo
DESCRIPTION : To send a message to MSSIM over TCP/IP.</pre>
<pre>IN  : %REQ       (Unpacked message to send)
OUT : %RESP      (Received unpacked message)</pre>
<a name='mssimGet'></a><h2>mssimGet</h2>

<pre> mssimGet();

</pre>
<pre>SUBROUTINE  : mssimGet
DESCRIPTION : To receive a message from MSSIM over TCP/IP.
              If timeout an Error code is returned.</pre>
<pre>IN  : %REQ{Timeout}      (Optional)
OUT : %RESP              (Response)</pre>
<a name='mssimGetErrTxt'></a><h2>mssimGetErrTxt</h2>

<pre> mssimGetErrTxt();

</pre>
<pre>SUBROUTINE  : mssimGetErrTxt
DESCRIPTION : To get Error Text for a specific Error Code</pre>
<pre>IN  : Error Code (from any REJECT_IND or ERROR_IND)
      SAP Identifier
OUT : Error Text</pre>
<a name='mssimGetErrTxtLAPDm'></a><h2>mssimGetErrTxtLAPDm</h2>

<pre> mssimGetErrTxtLAPDm();

</pre>
<pre>SUBROUTINE  : mssimGetErrTxtLAPDm
DESCRIPTION : To get Error Text for a specific LAPDm Error Code</pre>
<pre>IN  : Error Code (from lapdm primitive)
OUT : Error Text</pre>
<a name='mssimGetLog'></a><h2>mssimGetLog</h2>

<pre> mssimGetLog();

</pre>
<pre>SUBROUTINE  : mssimGetLog
DESCRIPTION : To get Log Records</pre>
<pre>IN  : Record Number
OUT : Status (0=OK, 1=No record)
      Primitive Name
      Decoded Message
      Hexadecimal message
      Decimal message</pre>
<a name='mssimGetSeveral'></a><h2>mssimGetSeveral</h2>

<pre> mssimGetSeveral();

</pre>
<pre>SUBROUTINE  : mssimGetSeveral
DESCRIPTION : To receive several messages from MSSIM. Returns if timeout or
              when any of the messages defined in the "Until" parameter is
              received. Spontanious messages received are stored and can be
              received later by the mssimGetSpont routine.</pre>
<pre>IN  : %REQ{Timeout}     (Timeout value in seconds)
      %REQ{Until}       (Messages to wwait for)
OUT : $ReceivedSpont    (Number of spontanious messages stored)
      %RESP             (as received from mssimGet)</pre>
<a name='mssimGetSpont'></a><h2>mssimGetSpont</h2>

<pre> mssimGetSpont();

</pre>
<pre>SUBROUTINE  : mssimGetSpont
DESCRIPTION : To receive previously stored spontanious messages</pre>
<pre>IN  : None
OUT : Number of remaining messages
      %RESP (as received from mssimGet)</pre>
<a name='mssimGetTemplateLength'></a><h2>mssimGetTemplateLength</h2>

<pre> mssimGetTemplateLength();

</pre>
<pre>SUBROUTINE  : mssimGetTemplateLength
DESCRIPTION : To return the length of a specific pack template parameter</pre>
<pre>IN  : Template
OUT : Length</pre>
<a name='mssimLog'></a><h2>mssimLog</h2>

<pre> mssimLog();

</pre>
<pre>SUBROUTINE  : mssimLog
DESCRIPTION : To log communication to/from mssim</pre>
<pre>IN  : Text string to log
OUT : None</pre>
<a name='mssimLogMsg'></a><h2>mssimLogMsg</h2>

<pre> mssimLogMsg();

</pre>
<pre>SUBROUTINE  : mssimLogMsg
DESCRIPTION : To log an MSSIM message. It is logged in decoded format,
              in HEX format and in decimal format.</pre>
<pre>IN  : Decoded Log Buffer
      Undecoded Buffer
OUT : None</pre>
<a name='mssimLogOnOff'></a><h2>mssimLogOnOff</h2>

<pre> mssimLogOnOff();

</pre>
<pre>SUBROUTINE  : mssimLogOnOff
DESCRIPTION : To enable or disable logging</pre>
<pre>IN  : Status (On or Off)
OUT : None</pre>
<a name='mssimLogPref'></a><h2>mssimLogPref</h2>

<pre> mssimLogPref();

</pre>
<pre>SUBROUTINE  : mssimLogPref
DESCRIPTION : To set loggging preferences</pre>
<pre>IN  : Record Number
OUT : Status (0=OK, 1=No record)
      Primitive Name
      Decoded Message
      Hexadecimal message
      Decimal message</pre>
<a name='mssimPack'></a><h2>mssimPack</h2>

<pre> mssimPack();

</pre>
<pre>SUBROUTINE  : mssimPack
DESCRIPTION : To pack a message before sending to MSSIM.</pre>
<pre>IN  : $RESP{Server}
      $RESP{Message}
      $RESP{SAP}
      $RESP{Length}
      Other parameters depending on actual message
OUT : Buffer to transmit to MSSIM</pre>
<a name='mssimPrepareUnpack'></a><h2>mssimPrepareUnpack</h2>

<pre> mssimPrepareUnpack();

</pre>
<pre>SUBROUTINE  : mssimPrepareUnpack
DESCRIPTION : To setup the parameters for unpack of an array</pre>
<pre>IN  : Template
      Buffer to unpack (total buffer)
      Actual Start position
      Previous parameter
OUT : Template updated with length
      Buffet including only the parameter to unpack
      Length of variable length field</pre>
<a name='mssimPut'></a><h2>mssimPut</h2>

<pre> mssimPut();

</pre>
<pre>SUBROUTINE  : mssimPut
DESCRIPTION : To send a message to MSSIM over TCP/IP.</pre>
<pre>IN  : %REQ        (Unpacked message to send)
OUT : None</pre>
<a name='mssimUnpack'></a><h2>mssimUnpack</h2>

<pre> mssimUnpack();

</pre>
<pre>SUBROUTINE  : mssimUnpack
DESCRIPTION : To unpack a received message from MSSIM. The routine
              mssimUnpackHeader is called to unpack the header.
              If it is not possible to unpack the messages, the response
              as received from mssimUnpackHeader is returned.</pre>
<pre>IN  : Received Buffer from MSSIM
      Log 0=no logging, 1=logging
OUT : $RESP{Result}
      $RESP{Reason}
      $RESP{Server}
      $RESP{Message}
      $RESP{SAP}
      $RESP{Length}
      Other parameters depending on actual message</pre>
<a name='mssimUnpackHeader'></a><h2>mssimUnpackHeader</h2>

<pre> mssimUnpackHeader();

</pre>
<pre>SUBROUTINE  : mssimUnpackHeader
DESCRIPTION : To unpack the header in a received message from MSSIM</pre>
<pre>IN  : Received Buffer from MSSIM
OUT : $Found (1=Found, 0=Not found)
      $SAP (Test)
      $Primitive (text)
      $Length</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>mssim_def</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 25/190 55-CAH 161 1290/1 Uen
MODULE      : mssim_def.pm
DESCRIPTION : Definitions for MSSIM. The first part of this file is fixed
              and defined in file mssim_def_base.pm. The second part including
              the %Primitives hash is automatically generated by the MSSIM
              pre-processor mssim_pp.pl. See MSSIM User's Guide 3/198 17-FCD 201 33 Uen.</pre>
<pre>              Included in mssim_def.pm package are:
              - $HeaderTemplate
              - $HeaderLength
              - %SAPDef           SAP definitions according to "GSM Base package"
              - %mssimC{gsmbSrv}  Codes for gsmbSRV according to "GSM Base package"
              - %mssimC{lapdm}    Codes for lapdm according to "GSM Base package"
              - %mssimC{gsmph}    Codes for gsmph according to "GSM Base package"
              - %mssimC{gsmapp}   Codes for gsmapp according to "GSM Base package"
              - %mssimEC{gsmbSrv} Error Codes for gsmbSRV according to "GSM Base package"
              - %mssimEC{lapdm}   Error Codes for lapdm according to "GSM Base package"
              - %mssimEC{gsmph}   Error Codes for gsmph according to "GSM Base package"
              - %mssimEC{gsmapp}  Error Codes for gsmapp according to "GSM Base package"
              - %mssimEC_LAPDm    Error Codes for lapdm (3GPP 44.006) according to "GSM Base package"
              - %mssimResult      Internal API Result Codes
              - %Primitives       Primitive definitions according to "GSM Base package"

</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE     NAME     REVIEW    COMMENT
P1A   080526 ESTEMOH            Created
P1B   081117 ESTEMOH            Updated to match rev 0.06 of GSM base package
P1C   081204 ESTEMOH            Added CSText
P1D   081211 ESTEMOH            Changed TxFName and RxFName to a64
P1E   090204 ESTEMOH            Updated to match rev 0.07 of GSM base package
P1F   090324 ESTEMOH            Updated to match rev 1.01 of GSM base package
P1G   090417 ESTEMOH            Updated to match rev 1.10 of GSM base package
P1H   090519 ESTEMOH            Updated with codes for Log analyze
P1J   090615 ESTEMOH            Added error code ParamErr
P1K   090612 ESTEMOH            Changed codes for DAS and UAS
P1L   090623 ESTEMOH            Changed module header
P1M   090625 ESTEMOH            Updated to match rev 1.30 of GSM base package
P1N   090813 ESTEMOH            Updated to match rev 1.40 of GSM base package
P1O   090907 ESTEMOH            Updated to match rev 1.50 of GSM base package
P1P   090909 ESTEMOH            Changed textual definitions of Coding Schemes
P1Q   091014 ESTEMOH            Updated to match rev 1.60 of GSM base package
P1R   091019 ESTEMOH            Removed Wlog definitions
P1S   100908 ESTEMOH            Updated to match rev 2.01 of GSM base package
P1T   110222 ETOBVES            Changed gsmbSrvMS_SETATTR and gsmbSrvCELL_PARM_ACK
A   20110923 XTOBSEM ETORWIL    Approved for use in Abisco R37A
                                 Added gsmphMPH_CHN_SET_OPT_REQ and gsmphMPH_CHN_SET_OPT_CNF
                                 Updated to comply with CR HO43422, strict warnings and diagnostics
                                 Updated according to perlcritic.
B   20111018 ETORWIL EANSKAT    Enabled diagnostics.</pre>
<pre>Note that on 2011-09-23 the revision style was changed to A, B and so on.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='NAME'></a><h1>NAME</h1>

<pre>mssim_sub</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 26/190 55-CAH 161 1290/1 Uen
MODULE      : mssim_sub.pm
DESCRIPTION : High level interface routines to the PRISMA MSSIM mobile simulator.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
P1A 080827    ESTEMOH             Created
P1B 081017    ESTEMOH             Minor update
P1C 081117    ESTEMOH             Added subroutine mssimConnect
P1D 081204    ESTEMOH             Return cell in mssimConfig. Fix for HR speech.
P1E 081215    ESTEMOH             Corrections for "package"
P1F 081215    ESTEMOH             Clean Cell and Trx array
P1G 090227    ESTEMOH             Read InfoMSSIM from Abisco
P1H 090304    ESTEMOH             InfoMSSIM correction
P1J 090316    ERATZIS             mssimGetCHNParam addition; Bm_UNI and
                                   (Bm_BI + 'SecChannelMulti' Assign)
                                    have same ChnComb in MSSIM
P1K 090316    ESTEMOH             More mssimGetCHNParam additions in the Bm_BI/Bm_UNI case
P1L 090325    ESTEMOH             Updated for GSM base version 1.01
P1M 090428    ESTEMOH             Corrections for Frequency Hopping
P1N 090506    ESTEMOH             Changed Arfcn
P1O 090611    ESTEMOH             General refresh. Added mssimSetMSAttr and mssimReconfCCCH.
P1P 090622    ESTEMOH             Added Bm_BI for signalling in mssimGetCHNParam
P1Q 090623    ESTEMOH             Changed print statement in mssimConfig
P1R 090626    ESTEMOH             Changed RepSACCH to SacchOpt
P1S 090813    ESTEMOH             Logging of Type, SwVersion and CalibrationDate
P1T 090819    ESTEMOH             Wrong cell parameter, always zero
P1U 090903    ESTEMOH             Changed default value for Sens and Power
P1V 090928    ESTEMOH             Added Speech for Bm_Bi and Bm_Uni (mssimGetCHNParam)
P1Y 091005    ESTEMOH             Removed gsmphMPH_SET_ARFCN_REQ
P1Z 100112    ESTEMOH             Changed default timeout to 20 seconds
P2A 100420    ESTEMOH             Changed header comment for sub mssimGetCHNParam
P2B 100909    ESTEMOH             Updated to match rev 2.01 of GSM base package
P2C 100929    ESTEMOH             Added call to PrismaVersions
P2C 101006    ESTEMOH             mssimGetCHNParam modified for VAMOS
P2D 101119    XWIKMAR             mssimGetCHNParam modified to solve SDCCH issue
A   20110923  XGUSTPE   XOSKRON   Approved for delivery in Abisco R37A
                                   Updated according to CR HO43422, strict warning and diagnostics
                                   Updated mssimPrinSWVersions according to CR HO40646
                                   Added subroutine waitForCellSync HO63845
B   20111018  ETORWIL   EANSKAT   Enabled diagnostics.
C   20111027  XPRRANA   XNAVNAS   Added subroutine setFrequencyOffset HO44675
D   20111118  XLEIMAR   XNAVNAS   Changed mssimInit to print more readable error messages.
E   20111222  XDAVMEL   XTOBSEM   Release in R38A
                                   HP16117 Implemented catch of eval errors on every mssimAssert
                                    in order to print out more readable error messages.
                                   HP20627 Changed mssimGetARFCN and mssimGetCHNParam to
                                    use Cell number from infoTG
                                   HP24656 Fixed minor bug in mssimChangeMSAttr
F   20120530  EDAMELI   ETORWIL   Fixed bug in mssimGetARFCN and mssimGetCHNParam where CellNumber was hard coded
G   20121121  XANSBEM   XMAREDV   Added subroutine mssimCheckConnection and implemented mssimCheckConnection in
                                   mssimConfig. Ran Perl-Critic
H   20130430  XYNHAKS   XMAROHM   Update to cater for both IP address and host name.</pre>
<pre>Note that on 2011-09-23 the revision style was changed to A, B and so on.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Net::Telnet'>Net::Telnet</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?prismaversions'>prismaversions</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='mssimChangeMSAttr'></a><h2>mssimChangeMSAttr</h2>

<pre> mssimChangeMSAttr();

</pre>
<pre>SUBROUTINE  : ChangeMSAttr
DESCRIPTION : To change the MS attributes</pre>
<pre>IN  : $REQ{MsId}        Mandatory
      $REQ{Cell}        Mandatory
      $REQ{BbAtt}       Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{Imsi}        Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{SacchOpt}    Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{Tmsi}        Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{Power}       Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{PowerSacch}  Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{TaAb}        Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{TaNb}        Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{TaSacch}     Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
OUT : None</pre>
<a name='mssimCheckConnection'></a><h2>mssimCheckConnection</h2>

<pre> mssimCheckConnection();

</pre>
<pre>SUBROUTINE  : mssimCheckConnection
DESCRIPTION : Control that Sensitivity, RFL and RMS values are within
               specified limits
IN  :
OUT :</pre>
<a name='mssimConfig'></a><h2>mssimConfig</h2>

<pre> mssimConfig();

</pre>
<pre>SUBROUTINE  : mssimConfig
DESCRIPTION : To configure MSSIM.
              Read MSSIM Site info from Abisco, call mssimInit and mssimDefineCell
              Default values are used for parameters not defined in the %REQ hash</pre>
<pre>IN  : $MsId             Mandatory, MSSIM Mobile Id
      $TG               Mandatory, TG number in Abisco
      $TRXC             Mandatory, BCCH TRXC number in Abisco</pre>
<pre>      $REQ{Timeout}     Optional
      $REQ{Side}        Optional, see MSSIM gsmbSrvCONFIG command
      $REQ{MaxMs}       Optional, see MSSIM gsmbSrvCONFIG command
      $REQ{MaxPs}       Optional, see MSSIM gsmbSrvCONFIG command
      $REQ{MaxFile}     Optional, see MSSIM gsmbSrvCONFIG command
      $REQ{MaxFrm}      Optional, see MSSIM gsmbSrvCONFIG command
      $REQ{VamosII}     Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{BbAtt}       Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{Imsi}        Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{SacchOpt}    Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{Tmsi}        Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{Power}       Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{PowerSacch}  Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{TaAb}        Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{TaNb}        Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{TaSacch}     Optional, see MSSIM gsmbSrvMS_CREATE_CMD command
      $REQ{CcchConf}    Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command
      $REQ{BsAgBlkRes}  Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command
      $REQ{BsPaMfrms}   Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command
      $REQ{CCauto}      Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command
      $REQ{FltSI}       Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command
      $REQ{FltPg}       Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command
      $REQ{FltLapdm}    Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command
      $REQ{FltUndec}    Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command

</pre>
<pre>OUT : $Cell             MSSIM Cell number</pre>
<a name='mssimDefineCell'></a><h2>mssimDefineCell</h2>

<pre> mssimDefineCell();

</pre>
<pre>SUBROUTINE  : mssimDefineCell
DESCRIPTION : To define a cell in the MSSIM with the following commands
              - gsmbSrvMS_CREATE_CMD
              - gsmphMPH_SET_ARFCN__REQ
              - gsmphMPH_CCCH_OPEN_REQ</pre>
<pre>IN  : %REQ hash including the following MANDATORY parameters:
      - Timeout   (Timeout in seconds to wait for response from MSSIM)
      - Cell      (Cell number)
      - MsId      (Array Mobile Identifier)
      - Trx       (Array with Trx numbers)
      - Arfcn     (Array with Arfcn numbers for each Trx)
      - See mssimConfig for other parameters
OUT : %RESP hash including:
      - Result    (0=OK, 1=Error)
      - Reson     (Reason for Error)</pre>
<a name='mssimGetARFCN'></a><h2>mssimGetARFCN</h2>

<pre> mssimGetARFCN();

</pre>
<pre>SUBROUTINE  : mssimGetARFCN
DESCRIPTION : To get the ARFCN number for a specific TRXC, only for non-hopping</pre>
<pre>IN  : TG
      TRXC
OUT : ARFCN (undef if hopping is used)</pre>
<a name='mssimGetCHNParam'></a><h2>mssimGetCHNParam</h2>

<pre> mssimGetCHNParam();

</pre>
<pre>SUBROUTINE  : mssimGetCHNParam
DESCRIPTION : To get paramaters for the MSSIM Channel Activation requests
              gsmphMPH_CS_CHN_OPEN_REQ and gsmphMPH_PS_CHN_OPEN_REQ</pre>
<pre>IN  : %REQ hash including:
      - TG
      - TRXC
      - TS
      - PDCHMode (BTTI or RTTI)
      - ChActType (Channel Activation type, ActivationType in Abisco)
      - ChannelType   as defined for ChannelNo struct in Abisco ChannelActivation
      - TypeOfCh   as defined for ChannelMode struct in Abisco ChannelActivation
      - AlgOrRate   as defined for ChannelMode struct in Abisco ChannelActivation
      - AMRCodec
        0   = Not defined
        1   = 4.75 (GSM3) or 6.60 (GSM5)
        2   = 5.15 (GSM3) or 8.85 (GSM5)
        4   = 5.9  (GSM3) or 12.65 (GSM5)
        8   = 6.7  (GSM3)
        16  = 7.4  (GSM3)
        32  = 7.95 (GSM3)
        64  = 10.2 (GSM3)
        128 = 12.2 (GSM3)
OUT : %RESP hash including MSSIM Ch Act parameters:
      - Result    (0=OK, 1=Error)
      - Reson     (Reason for Error)
      - ChnComb   (Channel Combination for MSSIM)
      - ChnMain   (Main Channel for MSSIM)
      - Sub       (Subslot for MSSIM)
      - Tsc       (Training Sequence Code)
      - Narfcn    (Number hopping of ARFCN for MSSIM)
      - Fr        (ARFCN or MAIO/HSN for MSSIM)
      - Arfcn1    (ARFCN hopping list for MSSIM)</pre>
<a name='mssimGetDefaults'></a><h2>mssimGetDefaults</h2>

<pre> mssimGetDefaults();

</pre>
<pre>SUBROUTINE  : mssimGetDefaults
DESCRIPTION : To get a parameter value or a default value (internal use only)</pre>
<pre>IN  : %REQ hash
OUT : %REQ hash</pre>
<a name='mssimGetTrx'></a><h2>mssimGetTrx</h2>

<pre> mssimGetTrx();

</pre>
<pre>SUBROUTINE  : mssimGetTrx
DESCRIPTION : To get Trx numbers from MSSIM Cell configuration</pre>
<pre>IN  : Cell number
OUT : @Trx</pre>
<a name='mssimInit'></a><h2>mssimInit</h2>

<pre> mssimInit();

</pre>
<pre>SUBROUTINE  : mssimInit
DESCRIPTION : To connect to MSSIM over TCP/IP and send the follwoing commands
              - gsmbSrvLOGIN_CMD
              - gsmbSrvCONFIG_CMD
              - gsmbSrvSTART_CMD</pre>
<pre>IN  : %REQ hash including the following MANDATORY parameters:
      - Timeout   (Timeout in seconds to wait for response from MSSIM)
      - IP        (IP address)
      - Port      (Port Number)
      - CliName   (Client Log Name)
      - CellList  (Array Cell numbers)
      - See mssimConfig for other parameters
OUT : %RESP hash including:
      - Result    (0=OK, 1=Error)
      - Reson     (Reason for Error)</pre>
<a name='mssimMakeAscii'></a><h2>mssimMakeAscii</h2>

<pre> mssimMakeAscii();

</pre>
<pre>SUBROUTINE  : mssimMakeAscii
DESCRIPTION : Convert an array with chacters to printable Ascii. Quit if null found</pre>
<pre>IN  : Character array
OUT : Printable ascii string</pre>
<a name='mssimPrintSWVersions'></a><h2>mssimPrintSWVersions</h2>

<pre> mssimPrintSWVersions();

</pre>
<pre>SUBROUTINE  : mssimPrintSWVersions
DESCRIPTION : To print SW versions of MSSIM modules</pre>
<pre>IN  : %REQ hash including the following MANDATORY parameters:
      - IP    (IP address)
OUT : None</pre>
<a name='mssimReconfCCCH'></a><h2>mssimReconfCCCH</h2>

<pre> mssimReconfCCCH();

</pre>
<pre>SUBROUTINE  : mssimReconfCCCH
DESCRIPTION : To reconfigure CCCH</pre>
<pre>IN  : $REQ{Cell}        Mandatory
      $REQ{CcchConf}    Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command
      $REQ{BsAgBlkRes}  Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command
      $REQ{BsPaMfrms}   Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command
      $REQ{CCauto}      Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command
      $REQ{FltSI}       Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command
      $REQ{FltPg}       Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command
      $REQ{FltLapdm}    Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command
      $REQ{FltUndec}    Optional, see MSSIM gsmphMPH_CCCH_OPEN_REQ command
OUT : None</pre>
<a name='setFrequencyOffset'></a><h2>setFrequencyOffset</h2>

<pre> setFrequencyOffset();

</pre>
<pre>SUBROUTINE  : setFrequencyOffset
DESCRIPTION :
IN  :
OUT :</pre>
<a name='waitForCellSync'></a><h2>waitForCellSync</h2>

<pre> waitForCellSync();

</pre>
<pre>SUBROUTINE  : waitForCellSync
DESCRIPTION : Return when cell is synchronized, or return error if timeout.
              The MSSIM messages and their corresponding parameters can be
              found in the MSSIM user's manual.</pre>
<pre>IN  : %Input containing
        Cell                  Cell number
OUT : %Output containing
        Error                 If cell syncronized = 0, otherwise = 1
        ErrorMsg              Contains the error message if Error = 1,
                              otherwise = ''</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>packetfunc</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 27/190 55-CAH 161 1290/1 Uen
MODULE      : packetfunc.pm
DESCRIPTION : Support functions for handling of packet data. Functions to
              control both TSS and MSSIM. For more information, see document:
              User Guide Payload testing with Abisco 2/198 17-FCD 201 33 Uen
              (The document comes with the Abisco installation)</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE     NAME    REVIEW  COMMENT
P1A 20081029 ESTEMOH         Created, functions moved from psdatafunc.pm
P1B 20081107 ESTEMOH         New parameter in MSSIM statistics
P1C 20081117 ESTEMOH         Changed Log on to MSSIM
P1D 20081204 ESTEMOH         Added SaveStatistics, SaveStatisticsToFile and
                              SaveFreeText.
P1E 20081215 ESTEMOH         Corrections for "package"
P1F 20090330 ESTEMOH         Updated for GSM base version 1.01
P1G 20090420 ESTEMOH         Changed Access Burst definition in
                              smphMPH_PS_DATA_REQ.
P1H 20090428 ERATZIS         Some additions to ChActMSSIM_P
                              (added $RxTrfcOn).
P1J 20090428 ERATZIS         Some minor corrections. Added $Timeout
                              to ChRelMSSIM_P.
P1K 20090501 ESTEMOH         Updated for Edge Evolution
P1L 20090526 ESTEMOH         Prepared for Edge Evolution. Requires UFTE R30A
                              or later.
P1M 20090618 ESTEMOH         Corrections for Edge Evolution.
P1N 20090817 ESTEMOH         Changed GetLoopParamMSSIM for three puncturing
                              schemes.
P1P 20090817 ERATZIS         Changed SaveStatistics, SaveFreeTest. Changed
                              to "append file" i.e. &gt;&gt; instead of &gt;.
                              Added Close on files.
P1Q 20090819 ESTEMOH         Changed SaveStatisticsToFile
P2R 20091012 ESTEMOH         Changed CPS handling according to
                              Abisco CR 6135.
P2Q 20091013 ESTEMOH         Changed for multiple gsmappLOOP_PS_CFG_SET_CMD
P2R 20091109 ESTEMOH         Subroutine CreateMACHeader, correction for PAN
P2S 20091113 ESTEMOH         More corrections for PAN
P2T 20091120 ESTEMOH         Changes for 16QAM and PRBS
P2U 20091126 ESTEMOH         Changed calc of success rate for PRBS_LOOP
P2V 20091202 ESTEMOH         Changed $MaxFiles and $MaxFrm
P2W 20091207 ESTEMOH         Changed calc of success rate for PRBS
P2X 20100125 ESTEMOH         Changed CPS Startbit for DAS-11 and DAS-12
P2Y 20100301 ESTEMOH         Changed my to our for %PRBSHash, %UCMHash,
                              %CPSHash, %EncHash.
P2Z 20100812 ESTEMOH         Changed to call subroutine DifferentEncoding
                              every time.
 A  20110706 XGUSTPE XTOBSEM Updated to new script template
                              Added document number.
                              Added lock_keys hash checking on input.
                              Added 'our' declared variables to @EXPORT_OK.
                              Fixed imports and exports. Removed "Str" and
                              "Strip" from Abisco_Connection include.
                              Added catch of eval error around lock_keys.
                              Changed wrong printouts in SaveStatisticsToFile
                              Fixed filehandle bug in AppendToFile
                              Added import of Hash::Util and Carp
 B  20111107 XLEIMAR XSOFFRO Added the possibility of setting the element
                              NumberOfFrames in AvtivateGSL.
 C  20111220 XNAVNAS XTOBSEM Release in R38A
                              HP27474 Updated ActivateGSL to accept ULPANIndicator
                               input for StartGslLink</pre>
<pre>Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?integer'>integer</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ActivateGSL'></a><h2>ActivateGSL</h2>

<pre> ActivateGSL();

</pre>
<pre>SUBROUTINE  : ActivateGSL
DESCRIPTION : Start Sending GSL or PGSL data from TSS</pre>
<pre>IN  : $Param{TG}
      $Param{TRXC}
      $Param{TS}
      $Param{DLEncoding}      Downlink encoding
      $Param{ICP}             Only applicabale in TDM mode
      $Param{CI}              Only applicabale in TDM mode
      $Param{PTA}             Only applicabale in SC mode
      $Param{PAL}             Only applicabale in SC mode
      $Param{ULMode}          Uplink mode BTTI/RTTI
      $Param{DLMode}          Downlink mode BTTI/RTTI
      $Param{SecTS}           Secondary timeslot, only applicable for RTTI
      $Param{Power}
      $Param{UCM}             Uplink Channel Mode
      $Param{ULEncoding}      Uplink Encoding
      $Param{ULPANIndicator}  Uplink PAN Indicator, default = 1
      $Param{SendPAN}         0=No, 1= Yes
      $Param{PAN}             PAN value, applicable only when $Param{SendPAN}=1
      $Param{TFI}             TFI value, applicable only when $Param{SendPAN}=1
      $Param{TimingOffset}    Timing Offset
      $Param{TLINK}           TLINK timer value
      $Param{TSUP}            TSUP supervision timer
      $Param{OpMode}          TSS Operational mode
      $Param{PRBSMode}        PRBS mode, only applicable when $OPMode include PRBS
      @{$Param{PacketData}}   Data including RLC/MAC header
      $Param{MACHdrStruct}{MACHdrData0}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData1}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData1}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData2}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData2}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData3}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData3}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData4}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData4}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData5}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData5}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData6}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData6}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData7}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData7}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData8}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData8}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData9}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData9}{Retransmission}   Optional TRUE or FALSE
OUT : 0=Ok, 1=Error</pre>
<a name='ActivatePDCH'></a><h2>ActivatePDCH</h2>

<pre> ActivatePDCH();

</pre>
<pre>SUBROUTINE  : ActivatePDCH
DESCRIPTION : Channel Activation, PDCH Channel</pre>
<pre>IN  : $TG
      $TRXC
      $TS
      $AbisMode
      $ICP
      $CI
      $PTA
      $PAL
OUT : 0=Ok, 1=Error</pre>
<a name='AppendToFile'></a><h2>AppendToFile</h2>

<pre> AppendToFile();

</pre>
<pre>SUBROUTINE  : AppendToFile
DESCRIPTION : Opens a file, appends the input line array, and closes the file</pre>
<pre>IN  : FileName            Filename as a string
      Lines               An array of strings to be printed
OUT : 0                   Ok</pre>
<a name='CPSManipulation'></a><h2>CPSManipulation</h2>

<pre> CPSManipulation();

</pre>
<pre>SUBROUTINE  : CPSManipulation
DESCRIPTION : To store a CPS value in a RLC/MAC header
              or to fetch a CPS value from a RLC/MAC header</pre>
<pre>IN  : $Type (Fetch or Store)
      $CPSValue ( value to store, only used if Type=Store)
      $StartBit (in RLC/MAC header)
      $Length (Number of bits in RLC/MAC header)
      @Header (RLC/MAC Header)
OUT : $CPSValue (Fetched value, only if Type=Fetch)
      @Header (Updated RLC/MAC header, only if Type=Store)</pre>
<a name='ChActMSSIM_P'></a><h2>ChActMSSIM_P</h2>

<pre> ChActMSSIM_P();

</pre>
<pre>SUBROUTINE  : ChActMSSIM_P
DESCRIPTION : To activate a packet channel in the MSSIM</pre>
<pre>IN  : $Ref       (MSSIM Channel reference)
      $Cell      (MSSIM Cell)
      $TG
      $TRXC
      $TS
      $SecTS     (Secondary timeslot, only applicable for RTTI)
      $Mode      (BTTI/RTTI)
      $UCM       (Uplink Channel Mode)
      $SendAB    (Send Access Burts, 0=No, 1=Yes)
      $TypeOfAB  (Type of Access Burst, 0=Single AB, 1=Four AB)
      $RxTrfcOn  (1 or 0)
OUT : Error      (0=OK, 1= Error)
      CcId       (MSSIM channel id)</pre>
<a name='ChRelMSSIM_P'></a><h2>ChRelMSSIM_P</h2>

<pre> ChRelMSSIM_P();

</pre>
<pre>SUBROUTINE  : ChRelMSSIM_P
DESCRIPTION : To release a channel in the MSSIM</pre>
<pre>IN  : $CcId      (MSSIM channel id)
      $Timeout
OUT : 0=OK</pre>
<a name='CheckCPS'></a><h2>CheckCPS</h2>

<pre> CheckCPS();

</pre>
<pre>SUBROUTINE  : CheckCPS
DESCRIPTION : To check CPS parameter</pre>
<pre>IN  : $Encoding
      $CPS
OUT : 0 = OK, 1 = Error</pre>
<a name='CheckEncoding'></a><h2>CheckEncoding</h2>

<pre> CheckEncoding();

</pre>
<pre>SUBROUTINE  : CheckEncoding
DESCRIPTION : To check Encoding parameter</pre>
<pre>IN  : $Encoding
OUT : 0 = OK, 1 = Error</pre>
<a name='CloseCCCH'></a><h2>CloseCCCH</h2>

<pre> CloseCCCH();

</pre>
<pre>SUBROUTINE  : CloseCCCH
DESCRIPTION : To close the CCCH channel in MSSIM. To avoid receiving too many
              pagings during Load test</pre>
<pre>IN  : None
OUT : 0=OK</pre>
<a name='ConfigMSSIM_P'></a><h2>ConfigMSSIM_P</h2>

<pre> ConfigMSSIM_P();

</pre>
<pre>SUBROUTINE  : ConfigMSSIM_P
DESCRIPTION : To configure MSSIM</pre>
<pre>IN  : $MsId    (MSSIM Mobile Id)
      $TG      (BTS TG)
      $TRXC    (BTS TRXC)
OUT : $Cell    (MSSIM Cell number)</pre>
<a name='CreateMACHeader'></a><h2>CreateMACHeader</h2>

<pre> CreateMACHeader();

</pre>
<pre>SUBROUTINE  : CreateMACHeader
DESCRIPTION : To create a number of MAC headers to be included in
              StartGSL Command.</pre>
<pre>IN  : %Param hash (See ActivateGSL)
OUT : %AbiscoREQ updated with MACHdrData1-MACHdrData9</pre>
<a name='DeactivateGSL'></a><h2>DeactivateGSL</h2>

<pre> DeactivateGSL();

</pre>
<pre>SUBROUTINE  : DeactivateGSL
DESCRIPTION : Stop Sending GSL or P_GSL data from TSS</pre>
<pre>IN  : $TG
      $TRXC
      $TS
OUT : 0=Ok, 1=Error</pre>
<a name='DifferentEncoding'></a><h2>DifferentEncoding</h2>

<pre> DifferentEncoding();

</pre>
<pre>SUBROUTINE  : DifferentEncoding
DESCRIPTION : To prepare MSSIM for different encoding in downlin/uplink</pre>
<pre>IN  : $Action         Action
      $DLEncoding     Downlink encoding
      $DL_CPS         Downlink CPS
      $ULEncoding     Uplink encoding
      $UL_CPS         Uplink CPS
OUT : 0=OK</pre>
<a name='GetCPSValue'></a><h2>GetCPSValue</h2>

<pre> GetCPSValue();

</pre>
<pre>SUBROUTINE  : GetCPSValue
DESCRIPTION : To get the numeric representation of CPS</pre>
<pre>IN  : Encoding
      CPS (text format)
OUT : CPS (numeric value)</pre>
<a name='GetLoopParamMSSIM'></a><h2>GetLoopParamMSSIM</h2>

<pre> GetLoopParamMSSIM();

</pre>
<pre>SUBROUTINE  : GetLoopParamMSSIM
DESCRIPTION : To start the loop function in MSSIM</pre>
<pre>IN  : $Encoding
      $CPS
OUT : $CodSch       (Coding Schema)
      $Padding      (Padding, 0=No, 1=Yes)
      @PnctB        (Punturing array 0, 1 or 2)</pre>
<a name='GetStatisticsTSS'></a><h2>GetStatisticsTSS</h2>

<pre> GetStatisticsTSS();

</pre>
<pre>SUBROUTINE  : GetStatisticsTSS
DESCRIPTION : Get GSL or P-GSL statistics from TSS</pre>
<pre>IN  : $TG,
      $TRXC
      $TS
      $ExpectedAB   (Expected number of Access bursts)
      %Result hash  (will be returned updated)</pre>
<pre>OUT : 0=Ok, 1=Error
      %Result hash including:
        SentDLFrames   Sent frames downlink from TSS
        ReceULFrames   Received frames uplink in TSS
        ReceUnexp      Received frames in TSS with unexpected contents
        ReceExp        Received frames in TSS with expected contents
        RecePAN        Received frames in TSS with PAN
        ExpPAN         Received frames in TSS with expected PAN contents
        ReceAB         Received number of Access Burts in TSS
        ReceABUnexp    Received number of Access Burts in TSS with
                       unexpected contents.
        ExpAB          Expected number of Access Burts in TSS
        RTT_Min        Roundtrip Delay minimum
        RTT_Avg        Roundtrip Delay average
        RTT_Max        Roundtrip Delay maximum
        BitErrCnt      PRBS Bit Error cound
        Status</pre>
<a name='PrepareData'></a><h2>PrepareData</h2>

<pre> PrepareData();

</pre>
<pre>SUBROUTINE  : PrepareData
DESCRIPTION : Prepare Packet data with RLC/MAC header</pre>
<pre>IN  : $Encoding
      $CPSValue
      $SendPAN (0 or 1)
OUT : 0=OK, 1=Error
      @PacketData (Data including RLC/MAC header)</pre>
<a name='ReleasePDCH'></a><h2>ReleasePDCH</h2>

<pre> ReleasePDCH();

</pre>
<pre>SUBROUTINE  : ReleasePDCH
DESCRIPTION : RF Channel Release, PDCH Channel</pre>
<pre>IN  : $TG
      $TRXC
      $TS
OUT : 0=OK, 1=Error</pre>
<a name='SaveFreeText'></a><h2>SaveFreeText</h2>

<pre> SaveFreeText();

</pre>
<pre>SUBROUTINE  : SaveFreeText
DESCRIPTION : To save free text in summary file</pre>
<pre>IN  : Path Statistics file
      Path Summary file        (may be undef if not used)
      Free Text to write to SUMMARY File
OUT : 0=OK</pre>
<a name='SaveStatistics'></a><h2>SaveStatistics</h2>

<pre> SaveStatistics();

</pre>
<pre>SUBROUTINE  : SaveStatistics
DESCRIPTION : To save statistics to file</pre>
<pre>IN  : Path Statistics file
      Path Summary file       (may be undef if not used)
      Result Number           (may be undef if summary file is not used)
      Modulation              (may be undef)
      Downlink Encoding
      Downlink Mode           (BTTI or RTTI)
      Uplink Encoding
      Uplink Mode             (BTTI or RTTI)
      SendPAN                 (0=No, 1=Yes)
      SendAB                   (0=No, 1=Yes)
        BitsInAB                (0 = 8 bits, 1 = 11 bits)
        TS_AB                    (Training sequence for AB 0, 1 or 2)
        TypeOfAB                (0 = single AB, 1 = four ABs, 2 = repeated)
        TimeToRun
      Result hash with TSS and MSSIM statistics
OUT : Success rate</pre>
<a name='SaveStatisticsToFile'></a><h2>SaveStatisticsToFile</h2>

<pre> SaveStatisticsToFile();

</pre>
<pre>SUBROUTINE  : SaveStatisticsToFile
DESCRIPTION : To save statistics to file</pre>
<pre>IN  : Result Text
      Success Rate
      Path Statistics file
      Reference to hash Result (TSS and MSSIM statistics)
OUT : None</pre>
<a name='SendAccessBurstsMSSIM'></a><h2>SendAccessBurstsMSSIM</h2>

<pre> SendAccessBurstsMSSIM();

</pre>
<pre>SUBROUTINE  : SendAccessBurstsMSSIM
DESCRIPTION :</pre>
<pre>IN  : $MsId         (MSSIM mobile Id)
      $CcId         (MSSIM channel id)
      $BitsInAB     (0 = 8 bits, 1 = 11 bits)
      $TS_AB        (Training sequence for AB 0, 1 or 2)
      $TypeOfAB     (0 = single AB, 1 = four ABs)
      $ULEncoding   (Ulink encoding)
      @AB           (Access burst contents, 8 bits one octet, 11 bits two octets)
OUT : 0=OK
      $Burst        (Type of burst)</pre>
<a name='StartLoopMSSIM'></a><h2>StartLoopMSSIM</h2>

<pre> StartLoopMSSIM();

</pre>
<pre>SUBROUTINE  : StartLoopMSSIM
DESCRIPTION : To start the loop function in MSSIM
              If the same Encoding/CPS is used in both directions, the $CcId
              and $LoopCcId shall have the same value</pre>
<pre>IN  : $CcId        (MSSIM downlink channel id)
      $LoopCcId    (MSSIM uplink channel id)
      %Param       (Parameter hash)
OUT : 0=OK</pre>
<a name='StartPRBS_MSSIM'></a><h2>StartPRBS_MSSIM</h2>

<pre> StartPRBS_MSSIM();

</pre>
<pre>SUBROUTINE  : StartPRBS_MSSIM
DESCRIPTION : To start the PRBS function in MSSIM</pre>
<pre>IN  : $CcId               CcId
      $DLEncoding         Downlink Encoding
      $ULEncoding         Uplink Encoding
      $PatternFile        Pattern File Name
      $PRBSMode           PRBS Mode
OUT : 0=OK</pre>
<a name='StopLoopMSSIM'></a><h2>StopLoopMSSIM</h2>

<pre> StopLoopMSSIM();

</pre>
<pre>SUBROUTINE  : StopLoopMSSIM
DESCRIPTION : To stop the loop function in MSSIM</pre>
<pre>IN  : $CcId         (MSSIM downlink channel id)
      $LoopCcId     (MSSIM uplink channel id)
      %Result       (Will be returned updated)</pre>
<pre>OUT : 0=Ok
      %Result hash including statistics:
        NotTX                  See LSU V3, GSM Base Package, User's Manual
        RxDisc                 See LSU V3, GSM Base Package, User's Manual
        CntRxErrTot            See LSU V3, GSM Base Package, User's Manual
        CntRxErrHdrUsf         See LSU V3, GSM Base Package, User's Manual
        CntRxErrData           See LSU V3, GSM Base Package, User's Manual
        CntRxErrPan            See LSU V3, GSM Base Package, User's Manual
        Arrays with variable length including:
          CntCs                See LSU V3, GSM Base Package, User's Manual
          CntCsText            Coding Scheme text
          CntRxPkt             See LSU V3, GSM Base Package, User's Manual
          CntTxPkt             See LSU V3, GSM Base Package, User's Manual</pre>
<pre>        Optional, included only when CcId and LoopCcId are different:
          LoopCntRxErrTor      See LSU V3, GSM Base Package, User's Manual
          LoopCntRxErrHdrUsf   See LSU V3, GSM Base Package, User's Manual
          LoopCntRxErrData     See LSU V3, GSM Base Package, User's Manual
          LoopCntRxErrPan      See LSU V3, GSM Base Package, User's Manual
        Arrays with variable length including:
          LoopCntCs            See LSU V3, GSM Base Package, User's Manual
          LoopCntCsText        Coding Scheme text
          LoopCntRxPkt         See LSU V3, GSM Base Package, User's Manual
          LoopCntTxPkt         See LSU V3, GSM Base Package, User's Manual


</pre>
<a name='StopPRBS_MSSIM'></a><h2>StopPRBS_MSSIM</h2>

<pre> StopPRBS_MSSIM();

</pre>
<pre>SUBROUTINE  : StopPRBS_MSSIM
DESCRIPTION : To stop the PRBS function in MSSIM</pre>
<pre>IN  : $CcId       (MSSIM downlink channel id)
      %Result     (Will be returned updated)</pre>
<pre>OUT : 0=OK
      %Result hash, updated with
        NotTx             See LSU V3, GSM Base Package, User's Manual
        InvMs             See LSU V3, GSM Base Package, User's Manual
        TxFilled          See LSU V3, GSM Base Package, User's Manual
        TxNotFilled       See LSU V3, GSM Base Package, User's Manual
        RxHdrCorr         See LSU V3, GSM Base Package, User's Manual
        RxHdrChkErr       See LSU V3, GSM Base Package, User's Manual
        RxHdrIdErr        See LSU V3, GSM Base Package, User's Manual
        RxSeqSync         See LSU V3, GSM Base Package, User's Manual
        RxSeqLossCnt      See LSU V3, GSM Base Package, User's Manual
        RxLatMin          See LSU V3, GSM Base Package, User's Manual
        RxLatMax          See LSU V3, GSM Base Package, User's Manual
        RxLatAvg          See LSU V3, GSM Base Package, User's Manual
        RxLatVar          See LSU V3, GSM Base Package, User's Manual
        RxFrmErr          See LSU V3, GSM Base Package, User's Manual
        RxBitErr          See LSU V3, GSM Base Package, User's Manual
        RxSlips           See LSU V3, GSM Base Package, User's Manual
        Arrays with variable length including:
          CntCs           See LSU V3, GSM Base Package, User's Manual
          CntCsText       Coding Scheme text
          CntRxPkt        See LSU V3, GSM Base Package, User's Manual
          CntTxPkt        See LSU V3, GSM Base Package, User's Manual</pre>
<a name='UnpackCnt'></a><h2>UnpackCnt</h2>

<pre> UnpackCnt();

</pre>
<pre>SUBROUTINE  : UnpackCnt
DESCRIPTION : To unpack the Cnt field received from MSSIM</pre>
<pre>IN  : $Cnt            Cnt
      $Prefix         Parameter prefix
      %Result         (Will be returned updated)
OUT : %Result         (Updated)</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>PerlFunc</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 28/190 55-CAH 161 1290/1 Uen
MODULE      : PerlFunc.pm
DESCRIPTION : This module contains functions to facilitate handling with
              arrays, hashes, frequency consistencies, numeric conversions
              and unit conversions (primarily used by rbsstab.abi) and of
              course, the almighty, in-house PrettyPrint.</pre>
<pre>              A function that is placed under this module may not have any
              dependencies on any other "\pm" package except for Globals.
              (and this IS a demand!)

              Packing and unpacking Perl structures will have to be revised,
              since it is not done properly (although it works fine). See if
              PrettyPrint can be used instead of PackArrayOrHash or check to
              see if a third party function exists.

</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME           REVIEW    COMMENT
PA1 20051128  ERADIPE                  First revision
PA2 20051207  ERADIPE                  Added GetLocalTime
PA3 20060104  ERADIPE                  UnpackArrayOrHash returns undef and does
                                       not die if what to be unpacked is not a
                                       reference to array or hash.
PA4 20060127  ERADIPE                  MergeHashes not comletely "tight". Check
                                       the case where there are similar keys but
                                       in the first hash the key is a scalar and
                                       in the second hash it is a ref to a hash.
P1A 20080319  ERABAHG                  Merged with \dev_08a. New rev
B   20110831  XJMJMJM        XLEIMAR   Updated to new script template
                                       Quality control with PerlCritic.
                                       Added document number.
                                       Placed the previously internal subs of
                                       MergeHashes on the outside (GetLeaves and
                                       MakeIndex). Fixed includes from "Globals".
C   20111220  EDAMELI        XPRRANA   PrettyPrint_X: do not try to print
                                       undefined value
D   20120530  XLEAENG                  HP14008: Merged with ACM libraries
E   20120612  EDAMELI        XNAVNAS   PrettyPrint_X: do not try to print
                                       undefined value
                                       Removed trailing spaces and hard tabs
F   20130703  Syntronic AB/  EDAMELI   Script optimization
              Adibah                   Implemented lock_keys()</pre>
<pre>Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Time::Local'>Time::Local</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?feature'>feature</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Time::HiRes'>Time::HiRes</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Scalar::Util'>Scalar::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Globals'>Globals</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ARFCN_to_Frequency'></a><h2>ARFCN_to_Frequency</h2>

<pre> ARFCN_to_Frequency();

</pre>
<pre>SUBROUTINE  : ARFCN_to_Frequency
DESCRIPTION : Converts a channel number to a frequency.</pre>
<pre>              Example:
               $F_dl = ARFCN_to_Frequency(81, 'Downlink', 'GSM900P');

</pre>
<pre>IN  : 1. $CHNR -&gt; the channel number
      2. $Direction -&gt; 'Downlink' || 'Uplink'
      3. $Band -&gt; the frequency band
OUT : the frequency in MHz</pre>
<a name='Arfcn2TrxMap'></a><h2>Arfcn2TrxMap</h2>

<pre> Arfcn2TrxMap();

</pre>
<pre>HN31188  : Allow ACM to use BCCH on other TRX than 0 (zero)
Date     : 2012-5-12
TR Fix   : Map the AFRCN number to TRX number
FUNCTION : Arfcn2TrxMap
COMMENT  : Convert the Req</pre>
<pre>IN       : 1. @ARFCNList
           2. $ARFCNno = the target ARFCN number
           3. @TRXList</pre>
<pre>OUT      : $targetTRX</pre>
<a name='Ceil'></a><h2>Ceil</h2>

<pre> Ceil();

</pre>
<pre>SUBROUTINE  : Ceil
DESCRIPTION : This function is incomplete.
              How roundings are implemented for negative numbers is not
              yet clear.</pre>
<pre>IN  :
OUT :</pre>
<a name='CheckKeyExistence'></a><h2>CheckKeyExistence</h2>

<pre> CheckKeyExistence();

</pre>
<pre>SUBROUTINE  : CheckKeyExistence
DESCRIPTION : Checks the existence of a hash entry. E.g.
              CheckKeyExistence(\%Car, ['Engine', 'Volume'])
              checks that $Car{Engine}{Volume} exists.</pre>
<pre>              Observe that by testing:
              if (exists($Car{Engine}{Volume})
              a correct behavior may not be obtained.

</pre>
<pre>IN  : 1. $rH   -&gt; reference to a hash
      2. $Keys -&gt; reference to an array containing the keys
OUT : 1. -&gt; 1/0</pre>
<a name='CopyArray'></a><h2>CopyArray</h2>

<pre> CopyArray();

</pre>
<pre>SUBROUTINE  : CopyArray
DESCRIPTION : Copies from one array, from a start index to an end index,
              to another array.</pre>
<pre>IN  : 1. $rA  -&gt; reference to array to copy from
      2. $I   -&gt; start copying from index $I in $rA
      3. $J   -&gt; stop copying at index $J (included) in $rA
      4. $rrB -&gt; reference to reference to array to copy to
OUT :</pre>
<a name='DHM_to_Minutes'></a><h2>DHM_to_Minutes</h2>

<pre> DHM_to_Minutes();

</pre>
<pre>SUBROUTINE  : DHM_to_Minutes
DESCRIPTION : Takes a day, hour and minute and returns minutes.
              0 counting for days.</pre>
<pre>              Example:
              DHM_to_Minutes(1, 7, 41) gives 1901.
IN  :
OUT :


</pre>
<a name='DelaySec'></a><h2>DelaySec</h2>

<pre> DelaySec();

</pre>
<pre>SUBROUTINE  : DelaySec
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='DeleteNonUnderscoredKeys'></a><h2>DeleteNonUnderscoredKeys</h2>

<pre> DeleteNonUnderscoredKeys();

</pre>
<pre>SUBROUTINE  : DeleteNonUnderscoredKeys
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='DeleteUnderscoredKeys'></a><h2>DeleteUnderscoredKeys</h2>

<pre> DeleteUnderscoredKeys();

</pre>
<pre>SUBROUTINE  : DeleteUnderscoredKeys
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='ExistsInArray'></a><h2>ExistsInArray</h2>

<pre> ExistsInArray();

</pre>
<pre>SUBROUTINE  : ExistsInArray
DESCRIPTION : Checks the existence of an element in an array.</pre>
<pre>IN  : 1. $E -&gt; element to search for in the array
      2. $A -&gt; reference to the array
OUT : 1. -&gt; 0/1</pre>
<a name='Floor'></a><h2>Floor</h2>

<pre> Floor();

</pre>
<pre>SUBROUTINE  : Floor
DESCRIPTION : This function is incomplete.
              How roundings are implemented for negative numbers is not
              yet clear.</pre>
<pre>IN  :
OUT :</pre>
<a name='FormatNumber'></a><h2>FormatNumber</h2>

<pre> FormatNumber();

</pre>
<pre>SUBROUTINE  : FormatNumber
DESCRIPTION : Example:</pre>
<pre>              '27'     -&gt;  '0027'
              'dummy7' -&gt;  'dummy0007'
              'abisco' -&gt;  'abisco'

              Only the first occurance of a numeral is formatted.

</pre>
<pre>IN  : 1. $X -&gt; a string
OUT : 1. the string formatted</pre>
<a name='Frac'></a><h2>Frac</h2>

<pre> Frac();

</pre>
<pre>SUBROUTINE  : Frac
DESCRIPTION : This function is incomplete.
              How roundings are implemented for negative numbers is not
              yet clear.</pre>
<pre>IN  :
OUT :</pre>
<a name='GetARFCNHighLow'></a><h2>GetARFCNHighLow</h2>

<pre> GetARFCNHighLow();

</pre>
<pre>SUBROUTINE  : GetARFCNHighLow
DESCRIPTION : Gets High and Low values of an ARFCN number</pre>
<pre>              Example:
               $rH = GetARFCNHighLow(625);

               gives: $rH-&gt;{High} = 2
               $rH-&gt;{Low}  = 113

</pre>
<pre>IN  : 1. $Channel -&gt; The channel number
OUT : 1. Reference to hash with keys High and Low</pre>
<a name='GetARFCNOffset'></a><h2>GetARFCNOffset</h2>

<pre> GetARFCNOffset();

</pre>
<pre>SUBROUTINE  : GetARFCNOffset
DESCRIPTION : Example
              GetARFCNOffset('GSM900P')      yields 0
              GetARFCNOffset('GSM900E')      yields 0
              GetARFCNOffset('GSM900E', 0)   yields 974</pre>
<pre>IN  : $Band
      $Region   If region is not supplied, then the last region
                is meant. Band 900E for example is regions 975
                thru 1023 (first) and 1 thru 124 (second).
OUT : The offset, i.e. the first channel minus one.</pre>
<a name='GetLeaves'></a><h2>GetLeaves</h2>

<pre> GetLeaves();

</pre>
<a name='GetLocalTime'></a><h2>GetLocalTime</h2>

<pre> GetLocalTime();

</pre>
<pre>SUBROUTINE  : GetLocalTime
DESCRIPTION : Example:</pre>
<pre>              scalar    -&gt; "Thu Feb 23 04:54:34 2006"
              date_time -&gt; 20060223_045434
              dt_sep    -&gt; [20060223, 045434]
              hash      -&gt; {Year  =&gt; 2006,
                            Month =&gt; 1,   i.e. 0 counted
                            Day   =&gt; 23,  i.e. NOT 0 counted
                            Hour  =&gt; 4,
                            Minute =&gt; 54,
                            Second =&gt; 34,
                            DayText =&gt; THU,
                            MonthText =&gt; FEB}

</pre>
<pre>IN  : $Type -&gt; see example above
OUT :</pre>
<a name='GetSecondsSinceEpoch'></a><h2>GetSecondsSinceEpoch</h2>

<pre> GetSecondsSinceEpoch();

</pre>
<pre>CR6333: 405:005 File Loading Time.
Date: 2010-03-31
CR Fix: Created GetSecondsSinceEpoch() to parse the time value from a
       log entry retrieved from the RBS.
SUBROUTINE  : GetSecondsSinceEpoch
DESCRIPTION : Parses out the time from a line retrieved from the RBS
              log. Then, uses the parsed time to compute and return the
              number of seconds since the epoch. For example, the line
              below</pre>
<pre>              [10-01-30 01:45:35.276] P_LOADER  csm_loader.c:1678 ...

              returns 1264787135.276.

</pre>
<pre>IN  : 1. $Line              -&gt; Line of text to be parsed.
OUT : 1. $SecondsSinceEpoch -&gt; Number of seconds since the epoch.</pre>
<a name='MakeIndex'></a><h2>MakeIndex</h2>

<pre> MakeIndex();

</pre>
<a name='MaxValue'></a><h2>MaxValue</h2>

<pre> MaxValue();

</pre>
<pre>SUBROUTINE  : MaxValue
DESCRIPTION :</pre>
<pre>IN  : 1. rA -&gt; ref to list where to search the maximum value
OUT :</pre>
<a name='MergeHashes'></a><h2>MergeHashes</h2>

<pre> MergeHashes();

</pre>
<pre>GetLeaves($A, $rH1, $rH2);
return;
}</pre>
<a name='MinValue'></a><h2>MinValue</h2>

<pre> MinValue();

</pre>
<pre>SUBROUTINE  : MinValue
DESCRIPTION :</pre>
<pre>IN  : 1. rA -&gt; ref to list where to search for the minimum value
OUT :</pre>
<a name='Minutes_to_DHM'></a><h2>Minutes_to_DHM</h2>

<pre> Minutes_to_DHM();

</pre>
<pre>SUBROUTINE  : Minutes_to_DHM
DESCRIPTION : Takes a number of minutes and returns:
              - week number
              - day number
              - hour
              - minute
              - a text in the form HH:MM
              - an abbreviation of the day, e.g. TUE</pre>
<pre>              Zero counting always applies.

              Example:
              Minutes_to_DHM(1901) gives
              [0, 1, 7, 41, '07:41', 'MON', 'MON 07:41']
IN  :
OUT :


</pre>
<a name='MyPack_Array'></a><h2>MyPack_Array</h2>

<pre> MyPack_Array();

</pre>
<pre>SUBROUTINE  : MyPack_Array
DESCRIPTION : Used in MyPack_X</pre>
<pre>IN  :
OUT :</pre>
<a name='MyPack_Hash'></a><h2>MyPack_Hash</h2>

<pre> MyPack_Hash();

</pre>
<pre>SUBROUTINE  : MyPack_Hash
DESCRIPTION : Used in MyPack_X</pre>
<pre>IN  :
OUT :</pre>
<a name='MyPack_X'></a><h2>MyPack_X</h2>

<pre> MyPack_X();

</pre>
<pre>SUBROUTINE  : MyPack_X
DESCRIPTION : Used in PackArrayOrHash</pre>
<pre>IN  :
OUT :</pre>
<a name='PackArrayOrHash'></a><h2>PackArrayOrHash</h2>

<pre> PackArrayOrHash();

</pre>
<pre>SUBROUTINE  : PackArrayOrHash
DESCRIPTION : Packs a legal Perl array or hash into a string. The
              following is practiced.</pre>
<pre>              - Strings, whether they are key names or scalars, may
                not contain whitespace or a mixture between numbers,
                letters and characters, unless enclosed by " and ".
                If only letters, it's OK without ".

              - Numerical values, either integer or floats, are
                identified by using looks_like_number.
                Exponentiation is allowed, e.g. -5.2e-2 = -0.052

              As can be seen in the code when processing a scalar,
              check is done to see if the scalar is a numeric value.
              If it is numeric everything is fine.
              If it is not, it has to be string, and is enclosed by '.

              OBS! No check is done to see if the string already is
                   enclosed by ' or ". If it is by " it is OK. But if it is
                   by ' then we have a problem. To be solved later.

              When packing is finished all strings except for key names
              will be enclosed by '.

              NOTE:
              The code here is actually the same as in PrettyPrint.
              Maybe someone could look into merging this function into
              PrettyPrint.

</pre>
<pre>IN  :
OUT :</pre>
<a name='PositionInArray'></a><h2>PositionInArray</h2>

<pre> PositionInArray();

</pre>
<pre>SUBROUTINE  : PositionInArray
DESCRIPTION : Returns the position of an element in an array or undef.</pre>
<pre>IN  : 1. $E -&gt; element to search the position for in the array
      2. $A -&gt; reference to the array
OUT : 1. -&gt; undef || position</pre>
<a name='PrettyPrint'></a><h2>PrettyPrint</h2>

<pre> PrettyPrint();

</pre>
<pre>SUBROUTINE  : PrettyPrint
DESCRIPTION : Makes a formatted printout of an array or a hash.
              Each key/value pair of a hash is displayed in one row.
              The elements of an array are displayed in one row.
              PrettyPrint(\%SomeHash); could e.g. give:</pre>
<pre>              {Message =&gt; Greetings,
              Sender =&gt; John,
              Receiver =&gt; Mom,
              Data =&gt; {Part1 =&gt; [0, 31 deg, 3, Hawaii, 16, 4, -99],
                       Part2 =&gt; {Subpart1 =&gt; [0, [5, -1]],
                                 Subpart2 =&gt; Not applicable}},
              Status =&gt; OK}

              Example:
               PrettyPrint(\@Array1);
               PrettyPrint(\%Hash14, {FileHandle =&gt; *FH,
                                      Print      =&gt; 'no head'}
                          );
               PrettyPrint(\%Hash15, {Caption =&gt; 'Hash 15 version A2'});

              A file handle to an already opened file can be given,
              redirecting the output to that file. Default is STDOUT.

</pre>
<pre>IN  : 1. $X      -&gt; reference to an array || hash
      2. $Option -&gt; Optional 'No head'
OUT :</pre>
<a name='PrettyPrint_Array'></a><h2>PrettyPrint_Array</h2>

<pre> PrettyPrint_Array();

</pre>
<pre>SUBROUTINE  : PrettyPrint_Array
DESCRIPTION : Used in PrettyPrint_X</pre>
<pre>IN  : $X - reference to an array.
OUT : None. Changes global variable @Rows.</pre>
<a name='PrettyPrint_Hash'></a><h2>PrettyPrint_Hash</h2>

<pre> PrettyPrint_Hash();

</pre>
<pre>SUBROUTINE  : PrettyPrint_Hash
DESCRIPTION : Used in PrettyPrint_X</pre>
<pre>IN  : $X - reference to a hash.
OUT : None. Changes global variable @Rows and @IND.</pre>
<a name='PrettyPrint_X'></a><h2>PrettyPrint_X</h2>

<pre> PrettyPrint_X();

</pre>
<pre>SUBROUTINE  : PrettyPrint_X
DESCRIPTION : Used in PrettyPrint</pre>
<pre>IN  : $X - reference to an array or hash.
OUT : None. Changes global variable @Rows.</pre>
<a name='Print'></a><h2>Print</h2>

<pre> Print();

</pre>
<a name='PrintVec'></a><h2>PrintVec</h2>

<pre> PrintVec();

</pre>
<pre>SUBROUTINE  : PrintVec
DESCRIPTION : Print a vector as used when selecting filehandles.
              e.g.
              vec($Rout, 5, 1) = 1;
              PrintVec($Rout, "fileno 5 gives");
IN  :
OUT :</pre>
<a name='RandomizedArrayElements'></a><h2>RandomizedArrayElements</h2>

<pre> RandomizedArrayElements();

</pre>
<pre>SUBROUTINE  : RandomizedArrayElements
DESCRIPTION : Example:
               input  -&gt; [0, 1, 2, 3, 4, 5]
               output -&gt; [4, 2, 5, 0, 1, 3]</pre>
<pre>               BTSCompleteStart(TRXList
                                  =&gt; RandomizedArrayElements($TG{TRXList}));

</pre>
<pre>IN  : 1. rA -&gt; reference to a list
OUT : 1. reference to a list</pre>
<a name='RemoveFromArray'></a><h2>RemoveFromArray</h2>

<pre> RemoveFromArray();

</pre>
<pre>SUBROUTINE  : RemoveFromArray
DESCRIPTION : Removes an element from an array, if it exists.</pre>
<pre>IN  : 1. $E -&gt; element to remove from array $A
      2. $A -&gt; reference to array
OUT :</pre>
<a name='Round'></a><h2>Round</h2>

<pre> Round();

</pre>
<pre>SUBROUTINE  : Round
DESCRIPTION : This function is incomplete.
              How roundings are implemented for negative numbers is not
              yet clear.</pre>
<pre>IN  :
OUT :</pre>
<a name='SD'></a><h2>SD</h2>

<pre> SD();

</pre>
<pre>HO47384 : ACM shall supervise the traffic levels for the whole periods
Date    : 2011-10-25
CR Fix  : Edit the algorithm to allow all the results displayed in 2 decimal points
SUBROUTINE  : SD
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='Seconds_to_HMS'></a><h2>Seconds_to_HMS</h2>

<pre> Seconds_to_HMS();

</pre>
<pre>SUBROUTINE  : Seconds_to_HMS
DESCRIPTION :</pre>
<pre>IN  : 1. $T -&gt; time in seconds
OUT : 1. reference to hash with entries Hours, Minutes and Seconds.</pre>
<a name='Trunc'></a><h2>Trunc</h2>

<pre> Trunc();

</pre>
<pre>SUBROUTINE  : Trunc
DESCRIPTION : This function is incomplete.
              How roundings are implemented for negative numbers is not
              yet clear.</pre>
<pre>IN  :
OUT :</pre>
<a name='UnpackArrayOrHash'></a><h2>UnpackArrayOrHash</h2>

<pre> UnpackArrayOrHash();

</pre>
<pre>SUBROUTINE  : UnpackArrayOrHash
DESCRIPTION : Unpacks what was packed (preferably) with PackArrayOrHash.
              Since packing packed so that the ouput would be a reference
              to an array or hash, we have to replace the initial [ or {
              with an ( and the final ] or } with an ).
              This is done in order to unpack by a simple eval (which
              does not want a reference to something).</pre>
<pre>              OBSERVE:
              No initial or final whitespaces in the string.

</pre>
<pre>IN  : A string being a valid reference to an array or hash
OUT : A reference to an array or hash.</pre>
<a name='ValidARFCN'></a><h2>ValidARFCN</h2>

<pre> ValidARFCN();

</pre>
<pre>SUBROUTINE  : ValidARFCN
DESCRIPTION : Returns 1 if CHNR is a valid channel number in the band,
              otherwise 0.</pre>
<pre>              Example:
               $Valid = ValidARFCN(127, 'GSM900P');

               yields 0 since GSM900P goes from 1 to 124.
IN  :
OUT :



</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>prismaversions</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 29/190 55-CAH 161 1290/1 Uen
MODULE      : prismaversions.pm
DESCRIPTION : Retrive SW versions for Prisma modules</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
P1A 100930    ESTEMOH             Created
A   20110923  ETORWIL   XLEIMAR   Approved for use in Abisco R37A
                                   Updated according to CR HO43422
                                   Used IO::Socket::INET for creation of socket
                                   Removed use of Socket and IO::Handle
B   20111018  ETORWIL   EANSKAT   Enabled diagnostics
C   20131216  ESTEMOH             Catch failed TCP/IP connection</pre>
<pre>Note that on 2011-09-23 the revision style was changed to A, B and so on.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='PrismaVersions'></a><h2>PrismaVersions</h2>

<pre> PrismaVersions();

</pre>
<pre>SUBROUTINE  : PrismaSwVersion
DESCRIPTION : Read SW versions of SW modules in MSSIM or LSU
              The available module names are:
              'lapd', 'abis-edge', 'abis-trau', 'vscsrv', 'monsrv',
              'www_ui', 'sdrCal', 'sdrGsm', 'gsmb', 'basic-env', 'lsuv3-base'</pre>
<pre>IN  : $REQ{IP}            IP address or DHCP name
      $REQ{Port}          Port number (normally 8200)
      $REQ{Timeout}       Timeout value in seconds
      @{$REQ{Modules}}    Array with module names
OUT : $RESP{Result}       0=Ok, 1= Fail
      @{$RESP{Versions}}  Array with module names and versions, example "lsuv3-base 7.11.20"</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>psdatafunc</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 30/190 55-CAH 161 1290/1 Uen
MODULE      : psdatafunc.pm
DESCRIPTION : Support functions for sending PS Data from TSS.</pre>
<pre>             Perl module Telnet.pm must be stored in the perl installation
              library c:\perl\lib\Net. The module can be found in the
              CPAN home page, www.cpan.org

              The Telnet connection to Lanforge is hardcoded to
              host='lanforge.rbs.rnd.ki.sw.ericsson.se', port=4001.

              The program works for all Coding Schemas and all Abis Modes.

              For more information, see document:
              User Guide Payload testing with Abisco
              2/198 17-FCD 201 33 Uen
             (The document comes with the Abisco installation)

</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
P1A 070522    ESTEMOH             Created after splitting psdata.pl
P1B 071019    ESTEMOH             Updated for Abisco R24A
P1C 080303    ESTEMOH             Added Remote Control of Lanforge
P1D 080422    ESTEMOH             Added RTTI
P1E 080429    ESTEMOH             Added CPS 15 for MCS-0
P1F 080513    ESTEMOH             Changed length in LLC header MCS-2 - MCS-9
P1G 080513    ESTEMOH             Changed RLC/MAC header for MCS-0
P1H 080521    ESTEMOH             Set UCM NB-unkn for MCS-6 with padding
P1I 080521    ESTEMOH             Changed Validation parameters for MCS-6
                                   with padding.
P1I 080527    ESTEMOH             Added padding for MCS-6 with padding.
                                   Export of CPSManipulation.
P1J 080610    ESTEMOH             Modified for control of Racal
    080723    EDAVBOO             In ReadLanforgeInput() clear the hash
                                   before reading in the file otherwise
                                   new/changed files just get mixed in with
                                   earlier ones. In ProcessLanforge() sort
                                   the outer loop (Number) numerically
                                   otherwise line 10 comes between 1 and 2.
                                   Added sun numerically() for above sort.
                                   In SendPSData() corrected error in timing loop.
                                   was...                if ($TimeToRun &gt; $LanforgeTime) {SLEEP ($TimeToRun &gt; $LanforgeTime);}
                                   should be...       if ($TimeToRun &gt; $LanforgeTime) {SLEEP ($TimeToRun - $LanforgeTime);}
P1K 081003    ESTEMOH             Modified for control of Prisma MSSIM.
                                   Added PAN and AB.
P2A 081104    ESTEMOH             A number of subroutines moved to
                                   packetfunc.pm.
P2B 081117    ESTEMOH             Changed Access Burst handling and Log on
                                   to MSSIM.
P2C 081204    ESTEMOH             Changed MSSIM statistics handling
P2D 081215    ESTEMOH             Corrections for "package"
P2E 090303    ESTEMOH             Added dynamic ICP handling
P2F 090428    ERATZIS             Exported AllocateICP and  DeallocateICP
P2G 090514    ESTEMOH             Prepared for Edge Evolution.
                                   Requires UFTE P30A.2 or later.
P2H 090526    ESTEMOH             Prepared for PRBS. Requires UFTE R30A or
                                   later.
P2J 090622    ESTEMOH             Corrections for Edge Evolution.
P2K 091012    ESTEMOH             Changed CPS handling according to
                                   Abisco CR 6135.
P2L 091013    ESTEMOH             StartLoopMSSIM changed to use
                                   parameter hash.
P2M 091120    ESTEMOH             Changed start order TSS/MSSIM in
                                   Sub SendPSData.
P2N 091130    ESTEMOH             Changed description of sub SendPSData
P2O 100105    ESTEMOH             Added safety release of CS data channel
                                   in TSS. Requires Abisco R32A or later.
P2Q 110408    ETORWIL             Removed new Abisco_Connection due to
                                   HN67845 and HN65860.
A   20110923  XJMJMJM   XSOFFRO   Updated to new script template.
                                    Quality control with PerlCritic.
                                    Fixed imports and exports. Removed "Str"
                                     and "Strip" from Abisco_Connection include
                                    Exported SendPSData().
                                    Removed extra import of Net::Telnet.
B   20120521  XPRRANA   XSOFFRO   Deleted unused keys from input hash to ActivateGSL
                                    in subroutine SendPSData</pre>
<pre>Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Net::Telnet'>Net::Telnet</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?packetfunc'>packetfunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='AllocateICP'></a><h2>AllocateICP</h2>

<pre> AllocateICP();

</pre>
<pre>SUBROUTINE  : AllocateICP
DESCRIPTION : To allocate ICP and CI numbers</pre>
<pre>IN  : TG
      TRXC
      TS
      Downlink Encoding
      Uplink Encoding
OUT : ICP
      CI</pre>
<a name='CheckCHConfig'></a><h2>CheckCHConfig</h2>

<pre> CheckCHConfig();

</pre>
<pre>SUBROUTINE  : CheckCHConfig
DESCRIPTION : To check GSL/PGSL mode in the Commandd Handler</pre>
<pre>IN  : None
OUT : 0=OK, 1=Error
      Error Text</pre>
<a name='CheckTCHConfig'></a><h2>CheckTCHConfig</h2>

<pre> CheckTCHConfig();

</pre>
<pre>SUBROUTINE  : CheckTCHConfig
DESCRIPTION : To check that TCH configuration (16 or 64 Kbit/S) is
              applicable for the select coding scheme.</pre>
<pre>IN  : AbisMode
      TCH Configuration
      Downlink Encoding
      Uplink Encoding
OUT : 0=OK, 1=Error
      Error Reason</pre>
<a name='DeallocateICP'></a><h2>DeallocateICP</h2>

<pre> DeallocateICP();

</pre>
<pre>SUBROUTINE  : DeallocateICP
DESCRIPTION : To allocate ICP and CI number</pre>
<pre>IN  : TG
      TRXC
      TS
OUT : None</pre>
<a name='ProcessLanforge'></a><h2>ProcessLanforge</h2>

<pre> ProcessLanforge();

</pre>
<pre>SUBROUTINE  : ProcessLanforge
DESCRIPTION : To send Latency and Jitter to Lanforge</pre>
<pre>IN  : LanforgeEndpoint (global)
      LanforgeHash (global)
OUT : Time Spent</pre>
<a name='ReadAbiscoConfig'></a><h2>ReadAbiscoConfig</h2>

<pre> ReadAbiscoConfig();

</pre>
<pre>SUBROUTINE  : ReadAbiscoConfig
DESCRIPTION : To fetch AbisMode and TCH Configuration for a specific TRXC</pre>
<pre>IN  : None
OUT : $AbisMode (according to Abisco TG)
      $TCH Configuration (according to Abisco TG)</pre>
<a name='ReadLanforgeInput'></a><h2>ReadLanforgeInput</h2>

<pre> ReadLanforgeInput();

</pre>
<pre>SUBROUTINE  : ReadLanforgeInput
DESCRIPTION : To read input file with Lanforge parameters</pre>
<pre>IN  : File Name, Lanforge input file
OUT : %LanforgeHash (global)</pre>
<a name='SLEEP'></a><h2>SLEEP</h2>

<pre> SLEEP();

</pre>
<pre>SUBROUTINE  : SLEEP
DESCRIPTION : Special sleep routine. The normal sleep does not work
              with TK GUI.</pre>
<pre>IN  : Time in seconds
OUT : None</pre>
<a name='SendAB'></a><h2>SendAB</h2>

<pre> SendAB();

</pre>
<pre>SUBROUTINE  : SendAB
DESCRIPTION : To send Access Bursts</pre>
<pre>IN  : $TS_AB        0 =TS0,    1 = TS1, 2=TS2 (TS = Training Sequence code)
      $BitsInAB     0 =8 bits, 1 = 11 bits
      $TypeOfAB     0=Single,  1=Four,  2=Continous
      $UlEncoding   Uplink Encoding/CPS
      $TimeToRun    Time to run in seconds
OUT : None</pre>
<a name='SendPSData'></a><h2>SendPSData</h2>

<pre> SendPSData();

</pre>
<pre>SUBROUTINE  : SendPSData
DESCRIPTION :</pre>
<pre>IN  :    $Param{TG}
         $Param{TRXC}
         $Param{TS}
         $Param{ULMode}              Uplink mode (BTTI/RTTI)
         $Param{DLMode}              Uplink mode (BTTI/RTTI)
         $Param{SecTS}               Secondary TS (only for RTTI)
         $Param{PTA}                 Only applicabale in SC mode
         $Param{PAL}                 Only applicabale in SC mode
         $Param{Power}
         $Param{UCM}                 Uplink Channel Mode
         $Param{DLEncoding}          Downlink Encoding/CPS
         $Param{UlEncoding}          Uplink Encoding/CPS
         $Param{TimeToRun}           Time to run in seconds
         $Param{UseLanforge}         0=No, 1=Yes
         $Param{LanforgePath}        Path to Lanforge configuration file
         $Param{UseMSSIM}            0=No, 1=Yes
         $Param{SendAB}              0=No, 1=Yes  (Send Access burst yes/no)
         $Param{BitsInAB}            0 =8 bits, 1 = 11 bits
         $Param{TS_AB}               0=TS0, 1=TS1, 2=TS2
                                     (TS = Training Sequence code)
         $Param{TypeOfAB}            0=Single, 1=Four, 2=Continous
         $Param{SendPAN}             0=No, 1=Yes
         $Param{PAN}                 PAN value
         $Param{TFI}                 TFI value
         $Param{OpMode}              0=Loop, 1=PRBS_Loop,
                                     2=PRBS_Transmit, 3=PRBS_Receive
         $Param{PatternFile}         MSSIM pattern file, applicable
                                     only when using PRBS
         $Param{PRBSMode}
         $Param{MACHdrStruct}{MACHdrData0}{CPS}              Optional CPS value
         $Param{MACHdrStruct}{MACHdrData1}{CPS}              Optional CPS value
         $Param{MACHdrStruct}{MACHdrData1}{Retransmission}   Optional TRUE or FALSE
         $Param{MACHdrStruct}{MACHdrData2}{CPS}              Optional CPS value
         $Param{MACHdrStruct}{MACHdrData2}{Retransmission}   Optional TRUE or FALSE
         $Param{MACHdrStruct}{MACHdrData3}{CPS}              Optional CPS value
         $Param{MACHdrStruct}{MACHdrData3}{Retransmission}   Optional TRUE or FALSE
         $Param{MACHdrStruct}{MACHdrData4}{CPS}              Optional CPS value
         $Param{MACHdrStruct}{MACHdrData4}{Retransmission}   Optional TRUE or FALSE
         $Param{MACHdrStruct}{MACHdrData5}{CPS}              Optional CPS value
         $Param{MACHdrStruct}{MACHdrData5}{Retransmission}   Optional TRUE or FALSE
         $Param{MACHdrStruct}{MACHdrData6}{CPS}              Optional CPS value
         $Param{MACHdrStruct}{MACHdrData6}{Retransmission}   Optional TRUE or FALSE
         $Param{MACHdrStruct}{MACHdrData7}{CPS}              Optional CPS value
         $Param{MACHdrStruct}{MACHdrData7}{Retransmission}   Optional TRUE or FALSE
         $Param{MACHdrStruct}{MACHdrData8}{CPS}              Optional CPS value
         $Param{MACHdrStruct}{MACHdrData8}{Retransmission}   Optional TRUE or FALSE
         $Param{MACHdrStruct}{MACHdrData9}{CPS}              Optional CPS value
         $Param{MACHdrStruct}{MACHdrData9}{Retransmission}   Optional TRUE or FALSE</pre>
<pre>OUT :    Error 0=OK, 1=error
         Error Reason (text string)
         Result hash (Statistics)</pre>
<pre>         The Result hash includes:

           TSS Statistics:
             $Result{SentDLFrames}   Sent frames downlink from TSS
             $Result{ReceULFrames}   Received frames uplink in TSS
             $Result{ReceUnexp}      Received frames in TSS with
                                     unexpected contents.
             $Result{ReceExp}        Received frames in TSS with
                                     expected contents.
             $Result{RecePAN}        Received frames in TSS with PAN
             $Result{ExpPAN}         Received frames in TSS with
                                     expected PAN contents.
             $Result{ReceAB}         Received number of Access Burts in TSS
             $Result{ReceABUnexp}    Received number of Access Burts in TSS
                                     with unexpected contents.
             $Result{ExpAB}          Expected number of Access Burts in TSS
             $Result{RTT_Min}        Roundtrip Delay minimum
             $Result{RTT_Avg}        Roundtrip Delay average
             $Result{RTT_Max}        Roundtrip Delay maximum
             $Result{BitErrCnt}      PRBS Bit Error cound
             $Result{Status}

           MSSIM PRBS Statistics:
             $Result{Filled}               See doc. LSUv3, GSM Base Package, User's Manual
             $Result{TxNotFilled}          See doc. LSUv3, GSM Base Package, User's Manual
             $Result{RxHdrCorr}            See doc. LSUv3, GSM Base Package, User's Manual
             $Result{RxHdrChkErr}          See doc. LSUv3, GSM Base Package, User's Manual
             $Result{RxHdrIdErr}           See doc. LSUv3, GSM Base Package, User's Manual
             $Result{RxSeqSync}            See doc. LSUv3, GSM Base Package, User's Manual
             $Result{RxSeqLossCnt}         See doc. LSUv3, GSM Base Package, User's Manual
             $Result{RxLatMin}             See doc. LSUv3, GSM Base Package, User's Manual
             $Result{RxLatMax}             See doc. LSUv3, GSM Base Package, User's Manual
             $Result{RxLatAvg}             See doc. LSUv3, GSM Base Package, User's Manual
             $Result{RxLatVar}             See doc. LSUv3, GSM Base Package, User's Manual
             $Result{RxFrmErr}             See doc. LSUv3, GSM Base Package, User's Manual
             $Result{RxBitErr}             See doc. LSUv3, GSM Base Package, User's Manual
             $Result{RxSlips}              See doc. LSUv3, GSM Base Package, User's Manual

           MSSIM Statistics main channel:
             $Result{NotTX}                See doc. LSUv3, GSM Base Package, User's Manual
             $Result{RxDisc}               See doc. LSUv3, GSM Base Package, User's Manual
             $Result{CntRxErrTot}          See doc. LSUv3, GSM Base Package, User's Manual
             $Result{CntRxErrHdrUsf}       See doc. LSUv3, GSM Base Package, User's Manual
             $Result{CntRxErrData}         See doc. LSUv3, GSM Base Package, User's Manual
             $Result{CntRxErrPan}          See doc. LSUv3, GSM Base Package, User's Manual
            Arrays for each coding scheme sent and received:
             @$Result{CntCs}}              See doc. LSUv3, GSM Base Package, User's Manual
             @$Result{CntCsText}}          Coding Scheme translated to text
             @$Result{CntRxPkt}}           See doc. LSUv3, GSM Base Package, User's Manual
             @$Result{CntTxPkt}}           See doc. LSUv3, GSM Base Package, User's Manual

           MSSIM Statistics secondary channel, used only when different mode (BTTI/RTTI) in UL and DL:
             $Result{LoopCntRxErrTot}      See doc. LSUv3, GSM Base Package, User's Manual
             $Result{LoopCntRxErrHdrUsf}   See doc. LSUv3, GSM Base Package, User's Manual
             $Result{LoopCntRxErrData}     See doc. LSUv3, GSM Base Package, User's Manual
             $Result{LoopCntRxErrPan}      See doc. LSUv3, GSM Base Package, User's Manual
            Arrays for each coding scheme sent and received:
             @$Result{LoopCntCs}}          See doc. LSUv3, GSM Base Package, User's Manual
             @$Result{LoopCntCsText}}      Coding Scheme translated to text
             @$Result{LoopCntRxPkt}}       See doc. LSUv3, GSM Base Package, User's Manual
             @$Result{LoopCntTxPkt}}       See doc. LSUv3, GSM Base Package, User's Manual


</pre>
<a name='SplitEnc'></a><h2>SplitEnc</h2>

<pre> SplitEnc();

</pre>
<pre>SUBROUTINE  : SplitEnc
DESCRIPTION : To split Encoding from CPS</pre>
<pre>IN  : Encoding:CPS
OUT : Encoding
      CPS</pre>
<a name='numerically'></a><h2>numerically</h2>

<pre> numerically();

</pre>
<pre>SUBROUTINE  : numerically
DESCRIPTION : Used for numerical sort</pre>
<pre>IN  : None
OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>roundtripdelay</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 31/190 55-CAH 161 1290/1 Uen
MODULE      : roundtripdelay.pm
DESCRIPTION : Author: Stefan Mohlin
              Calculation of Round Trip Delay for speech, psdata and csdata based
              on Abis and Um LSU log files.
              The log files shall be created during a test session with Abisco in
              Loopback mode and MSSIM in PRBS mode. Due to LSUMSSIM-143, csdata is still
              not possible to verify.
              The subroutine to be called is "RoundTripDelay", all others at only for internal use.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
A   20101018  ESTEMOH   XSOFFRO   Created
B   20111206  XTOBSEM   XSOFFRO   HP21303 Fixed bug in ReadWiresharkAbis (HP21303)
                                   and made small changes to FindMatch to avoid warnings</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?integer'>integer</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?wireshark'>wireshark</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='BitAlignFrame'></a><h2>BitAlignFrame</h2>

<pre> BitAlignFrame();

</pre>
<pre>SUBROUTINE  : BitAlignFrame
DESCRIPTION : To bit shift (left) a frame</pre>
<pre>IN  : $REQ{Frame} 	      Frame from wireshark log
      $REQ{StartPos} 			StartPosition
      $REQ{HeaderType}		Header type according to P-GSL IWD
      $REQ{Direction}			UL or DL</pre>
<pre>OUT : $RESP{Frame}		    Frame bit alignet
      $RESP{StartPos}			Updated Start position</pre>
<a name='CalcLength'></a><h2>CalcLength</h2>

<pre> CalcLength();

</pre>
<pre>SUBROUTINE  : CalcLength
DESCRIPTION : To calculate the length of a frame excluding the starting octets
              and two octets at the end.</pre>
<pre>IN  : Start position
      Expected length
      Data</pre>
<pre>OUT : Calculated length</pre>
<a name='CalcStartPosUmPsdata'></a><h2>CalcStartPosUmPsdata</h2>

<pre> CalcStartPosUmPsdata();

</pre>
<pre>SUBROUTINE  : CalcStartPosUmPsdata
DESCRIPTION : To calculate the Start position for psdata Um interface</pre>
<pre>IN  : %REQ
OUT : None, global hash %SearchHash updated</pre>
<a name='ConvertWiresharkTimeStamp'></a><h2>ConvertWiresharkTimeStamp</h2>

<pre> ConvertWiresharkTimeStamp();

</pre>
<pre>SUBROUTINE  : ConvertWiresharkTimeStamp
DESCRIPTION : Routine to make seconds and microseconds into a timestamp</pre>
<pre>IN  : Seconds and Microseconds from LSU log file
OUT : Complete timestamp</pre>
<a name='FindMatch'></a><h2>FindMatch</h2>

<pre> FindMatch();

</pre>
<pre>SUBROUTINE  : FindMatch
DESCRIPTION : To compare Master with Slave and find matching messages.
              To calculate Round Trip delay based on Timestamp.
              Master could be either @Uplink or @Downlink
              Slave could be either @Uplink or @Downlink</pre>
<pre>IN  : None (Globals @Uplink and @Downlink)
OUT : None (Globals @Matched, @Unmatched and @Skipped created)</pre>
<a name='HandleSC'></a><h2>HandleSC</h2>

<pre> HandleSC();

</pre>
<pre>SUBROUTINE  : HandleSC
DESCRIPTION : To make special preparations for Super Channel</pre>
<pre>IN  : Payload Type
      %RESP hash from lsuReadAbisWLog</pre>
<pre>OUT : %RESP hash updated</pre>
<a name='InvalidFileType'></a><h2>InvalidFileType</h2>

<pre> InvalidFileType();

</pre>
<pre>SUBROUTINE  : InvalidFileType
DESCRIPTION : Routine to check that the LSU file type (Interface) is the expected</pre>
<pre>IN  : InterfaceCode parameter from LSU log file
      REQ hash, see subroutine RoundTripDelay</pre>
<pre>OUT : 0 = Expected File Type
      1 = Not expected File Type</pre>
<a name='ProcessOutput'></a><h2>ProcessOutput</h2>

<pre> ProcessOutput();

</pre>
<pre>SUBROUTINE  : ProcessOutput
DESCRIPTION : To write the result into an output file</pre>
<pre>IN  : RESULT hash
OUT : None</pre>
<a name='ReadWiresharkAbis'></a><h2>ReadWiresharkAbis</h2>

<pre> ReadWiresharkAbis();

</pre>
<pre>SUBROUTINE  : ReadWiresharkAbis
DESCRIPTION : To read a Wireshark file for the Abis interface and filter out
              Uplink and downlink messages</pre>
<pre>IN  : REQ hash, see subroutine RoundTripDelay
OUT : None (Globals @Uplink and @Downlink created)</pre>
<a name='ReadWiresharkUm'></a><h2>ReadWiresharkUm</h2>

<pre> ReadWiresharkUm();

</pre>
<pre>SUBROUTINE  : ReadWiresharkUm
DESCRIPTION : To read a Wireshark file for the Um interface and filter out
              Uplink and downlink messages</pre>
<pre>IN  : REQ hash, see subroutine RoundTripDelay
OUT : None (Globals @Uplink and @Downlink created)</pre>
<a name='RoundTripDelay'></a><h2>RoundTripDelay</h2>

<pre> RoundTripDelay();

</pre>
<pre>SUBROUTINE  : RoundTripDelay
DESCRIPTION : To calculate Round Trip Delay based on an Abis or Um LSU log file.
              The result is written in and output file.</pre>
<pre>IN  : $REQ{InFile}            Input file
      $REQ{OutFile}           Output file
      $REQ{InterfaceCode}     "ABIS_TDM", "ABIS_SC" or Um"
      $REQ{PayloadType}       "speech8", "speech16", "csdata" or "psdata"
      $REQ{Encoding}          Mandatory only for psdata (both Abis and Um)</pre>
<pre>OUT : $RESULT{Result}         Result Code, 0=OK
      $RESULT{Reason}         Error text, applicable only if Result is not zero
      $RESULT{Domain}         Domain (from LSU file)
      $RESULT{Protocol}       Protocol (from LSU file)
      $RESULT{SccRate}        SccRate (from LSU file)
      $RESULT{InterfaceCode}  InterfaceCode (from LSU file)
      $RESULT{Match}          Number of matching frames
      $RESULT{UnMatch}        Number of unmatching frames
      $RESULT{Skipped}        Number of skipped frames
      $RESULT{MaxTime}        Maximum Round Trip Delay
      $RESULT{MinTime}        Minimum Round Trip Delay
      $RESULT{AvgTime}        Average Round Trip Delay</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Sercom</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 32/190 55-CAH 161 1290/1 Uen
MODULE      : Sercom.pm
DESCRIPTION : This module contains functions for serial port communication.
              Only asynchronous mode is used. There is any handshaking or
              signal checking functions</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
PA1 20070906  ERAHEIK             First revision
P1A 0080319   ERABAHG             New rev
B   20110907  XLEIMAR   ETORWIL   Updated document header with doc number</pre>
<pre>Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Win32::SerialPort'>Win32::SerialPort</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Win32API::CommPort'>Win32API::CommPort</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?threads::shared'>threads::shared</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?threads'>threads</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Win32::API'>Win32::API</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='PortInit'></a><h2>PortInit</h2>

<pre> PortInit();

</pre>
<pre>---FUNCTION    : PortInit
DESCRIPTION :</pre>
<pre>SYNTAX      : PortInit();</pre>
<pre>---</pre>
<a name='ReadFromPort'></a><h2>ReadFromPort</h2>

<pre> ReadFromPort();

</pre>
<pre>---FUNCTION    : ReadFromPort
DESCRIPTION : Port is COM1 or COM2 ...</pre>
<pre>SYNTAX      : ReadFromPort($Port);</pre>
<pre>---</pre>
<a name='WriteToPort'></a><h2>WriteToPort</h2>

<pre> WriteToPort();

</pre>
<pre>---FUNCTION    : WriteToPort
DESCRIPTION : Port is COM1 or COM2 ...</pre>
<pre>SYNTAX      : WriteToPort($SendString);</pre>
<pre>---</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Settings</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 33/190 55-CAH 161 1290/1
MODULE      : Settings.pm
DESCRIPTION : This package contains the subfunctions
              used for reading information from configuration file</pre>
<pre>COPYRIGHT ? ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME         REVIEW    COMMENT
A   20100920  XDT/XNGUTHU  ESTEMOH   Initial version.
B   20110908  XSOFFRO      XLEIMAR   Pelrcritic applied.
                                      Added new document number.
                                      Fixed infinite loop
                                       when new() input is non-existant file.
                                      Replaced // with m{} and s///</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?File::Copy'>File::Copy</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?File::Basename'>File::Basename</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?File::Spec'>File::Spec</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Cwd'>Cwd</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='new'></a><h2>new</h2>

<pre> $self-&gt;new();

</pre>
<pre>SUBROUTINE  : new
DESCRIPTION : Create new local database object (Constructor subroutine)</pre>
<pre>IN  : Configuration file name
OUT : Object instance</pre>
<a name='CreateDefaultConfFile'></a><h2>CreateDefaultConfFile</h2>

<pre> $self-&gt;CreateDefaultConfFile();

</pre>
<pre>SUBROUTINE  : CreateDefaultConfFile
DESCRIPTION : Create a default configuration file if the file does not exist</pre>
<pre>IN  : Optional file name
OUT : 0 if success and 1 if fail</pre>
<a name='Get'></a><h2>Get</h2>

<pre> $self-&gt;Get();

</pre>
<pre>SUBROUTINE  : Get
DESCRIPTION : Get value from setting file by key</pre>
<pre>IN  : key
OUT : value</pre>
<a name='Keys'></a><h2>Keys</h2>

<pre> $self-&gt;Keys();

</pre>
<pre>SUBROUTINE  : Keys
DESCRIPTION : Get array of key in setting</pre>
<pre>IN  : None
OUT : Ref of key array</pre>
<a name='Print'></a><h2>Print</h2>

<pre> $self-&gt;Print();

</pre>
<pre>SUBROUTINE  : Print
DESCRIPTION : Print all key and value in setting file</pre>
<pre>IN  : None
OUT : string output</pre>
<a name='ReadConfFile'></a><h2>ReadConfFile</h2>

<pre> $self-&gt;ReadConfFile();

</pre>
<pre>SUBROUTINE  : ReadConfFile
DESCRIPTION : Read data of 'tp.conf' file</pre>
<pre>IN  : Configuration file name
OUT : Result 0/1</pre>
<a name='ReadConfFiles'></a><h2>ReadConfFiles</h2>

<pre> $self-&gt;ReadConfFiles();

</pre>
<pre>SUBROUTINE  : ReadConfFiles
DESCRIPTION : Read 'tp.conf' file</pre>
<pre>IN  : None
OUT : -</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>SF2</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 34/190 55-CAH 161 1290/1 Uen
MODULE      : SF2.pm
DESCRIPTION : Contains only MGetSeveral, a multi-threaded version of
              GetSeveral.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
PA1 20051128  ERADIPE             First revision
P1A 20080319  ERABAHG             New rev
B   20110812  XSOFFRO   XLEIMAR   Copied entire body from abiscofunc3.pm
                                  (rev B) as the files were identical
                                  prior to  HO43422. Added document number.</pre>
<pre>Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Win32'>Win32</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Thread::Semaphore'>Thread::Semaphore</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Thread::Queue'>Thread::Queue</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?threads'>threads</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='CheckDoubleSignals'></a><h2>CheckDoubleSignals</h2>

<pre> CheckDoubleSignals();

</pre>
<pre>SUBROUTINE  : CheckDoubleSignals
DESCRIPTION : Two signals are considered duplicates if they are identical
              and they occur across threads within 50 ms. (In practice I
              haven't seen them to occur more than 20 ms in between.)
IN  :
OUT :</pre>
<a name='GreaterOrEqual'></a><h2>GreaterOrEqual</h2>

<pre> GreaterOrEqual();

</pre>
<pre>SUBROUTINE  : GreaterOrEqual
DESCRIPTION :
IN  :
OUT :</pre>
<a name='MGetSeveral'></a><h2>MGetSeveral</h2>

<pre> MGetSeveral();

</pre>
<pre>SUBROUTINE :MGetSeveral
DESCRIPTION:There is essentially only one reason to use this function:
           The ability to send a signal while waiting for another signal.
           As an example, wait until signal X is received and if, in between,
           signal Y is received, send signal Z. Sending signal Z requires
           the second BTS connection which for us is a new thread of execution.</pre>
<pre>           The process that called MGetSeveral is called the "main thread"
           as it executes the main loop in this module.
           The threads started by the main thread to handle each BTS connection
           are called just "threads". Each BTS connection supports its own input
           queue of signals. The thread handling the BTS connection will put
           these signals in its hash entry of received signals. Function
           MGetSeveral returns a reference to a hash that has at the top level
           entries for each BTS connection, called '0', '1', or more, plus entry 'B'.
           There are also some more entries to display statistics.

           The CH is only aware of a number of BTS connections, not any threads.
           Responses received from the CH that are tagged as RESP can be addressed
           to the correct BTS connection, while all other messages tagged as
           e.g. SPONT are broadcasted to all active BTS connections. This is because
           the CH cannot decide which BTS connection is the recipient of the signal,
           and results in duplicated signals in the input queues of the different
           BTS connections.

           When the exit criteria are met and the function is about to exit,
           a routine is called to check if signals are duplicated across the
           different BTS connections. The mechanism is fairly simple and it will
           put the duplicate signals under entry 'B' and also remove these signals
           from the BTS connections queue where they occur.


           EXAMPLES:
           $L = MGetSeveral(BTSConn =&gt; [$BTS, $BTS1],
                            Expect  =&gt; [[{Message =&gt; 'Accept'},
                                         {Message =&gt; 'RFResourceIndication'}],
                                        [{Message =&gt; 'ABORT_SP_CFM'}]],
                            CheckDouble =&gt; 'YES',
                            Upto    =&gt; [[1, 3], [1]],
                            Timeout =&gt; [30, 30],
                            Until   =&gt; [{Message =&gt; 'Reject'}, {Message =&gt; 'PROMPT'}]);

           $BTS-&gt;Put(restart TG);
           $L = MGetSeveral(BTSConn =&gt; [$BTS, $BTS1],
                            Send    =&gt; {When =&gt; {Conn =&gt; 0,
                                                 Message =&gt; 'FaultReport',
                             Routing =&gt; {TRXC =&gt; 1},
                          MOClass =&gt; 'RX',
                          IntFaultMapClass2A =&gt; {FaultMap =&gt; [2, 0, 0, 0, 0, 0]}},
                                        What =&gt; {Conn =&gt; 1,
                                                 List =&gt; [{Server =&gt; 'DVT', Message =&gt; 'Command', String =&gt; Str('TRX0:PPC')},
                                                          {Server =&gt; 'DVT', Message =&gt; 'Command', String =&gt; Str('cma read 10590')},
                                                          {Server =&gt; 'DVT', Message =&gt; 'Command', String =&gt; Str('cma read 10990')}]},
                            Timeout =&gt; [3 * 60, 3 * 60],
                            Until   =&gt; [{Message =&gt; 'PROMPT'}, {}]);

           Here we make a restart, and when a specific FaultReport is received, a certain sequence
           shall be executed. Every command stated in the sending sequence must result in a PROMPT
           in order for the subsequent command to be sent.


           NOTE:
           - Do not use a {Send} on a thread that is used for any other purpose. That BTS connection
             blocks at Do/Put and can not be used.

           - If Abis logging is enabled during MGetSeveral, the execution can be suffering if a lot
             signaling is ongoing.


           OUTPUT:
           Returned from MGetSeveral is a reference to a hash containing
           following keys (as example):

            {NrBTSConn}: Number of BTS connections (in the examples above it is 2)

            {Status}   : [status code for first BTS connection, status code for second BTS connection, ...]
                         The status code is one of:
                            'Unknown' || 'Timed out' || 'Until signal received' || 'All signals received'

            {Signals}  : {S1 =&gt; [a1, b1, ...],
                          ...
                          S2 =&gt; [a2, b2, ...]}

                         where Sn are signals, and an, bn etc are occurences on each thread.
                         Background thread is last.

            {Sequence} : [[S1, occurance, thread],
                          ...
                          [S2, occurance, thread]]

            {0}{RFResourceIndication}{001}{Sig}  : ref to first signal RFResourceIndication (first BTS conn).
                                                   The whole signal hash is found here.
            {0}{RFResourceIndication}{001}{Time} : time stamp for first signal RFResourceIndication (first BTS conn).
                                                   The time stamp is relative to the time when MGetSeveral was
                                                   entered and is given in milliseconds.
            etc

            In {0}{RFResourceIndication}{001}{Sig}, the first key  indicates the BTS connection,
            0 counting is used. There exists also thread "B" where all background signals are put.

</pre>
<pre>IN     :
OUT     :</pre>
<a name='PrepareArguments'></a><h2>PrepareArguments</h2>

<pre> PrepareArguments();

</pre>
<pre>SUBROUTINE  :PrepareArguments
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='Receive'></a><h2>Receive</h2>

<pre> Receive();

</pre>
<pre>SUBROUTINE  : Receive
DESCRIPTION :
IN  :
OUT :</pre>
<a name='TempStoreSignal'></a><h2>TempStoreSignal</h2>

<pre> TempStoreSignal();

</pre>
<pre>SUBROUTINE  : TempStoreSignal
DESCRIPTION :
IN  :
OUT :</pre>
<a name='UpdateStatistics'></a><h2>UpdateStatistics</h2>

<pre> UpdateStatistics();

</pre>
<pre>SUBROUTINE  : UpdateStatistics
DESCRIPTION :
IN  :
OUT :</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>speechfunc</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 35/190 55-CAH 161 1290/1 Uen
MODULE      : speechfunc.pl
DESCRIPTION : Support functions for sending speech frames.
              The only routine needed to call from an external program
              is SendSpeech</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
P1A 090206    ESTEMOH             Created
P1B 090211    ESTEMOH             Cleanup of comments
P1C 090402    ESTEMOH             Close CCCH
P1C 090403    ESTEMOH             Turned on DTX and TFO in ActivateSpeech
P1D 090420    ESTEMOH             Updated for GSM base version 1.10
P1E 090424    ESTEMOH             Added Encryption
P1F 090601    ESTEMOH             Correction for Dynamic ICP. Increased to
                                  4 CodecMode patterns.
P1G 090622    ESTEMOH             Changed module header
P1H 090909    ESTEMOH             Made more subroutines available
                                  @EXPORT_OK = qw.
P1I 100105    ESTEMOH             Added safety release of Speech channel in
                                  TSS. Requires Abisco R32A or later.
P1J 100929    ESTEMOH             Added support for VAMOS
P1K 101006    ESTEMOH             Corrections for VAMOS
P1L 101110    ESTEMOH             Added MsId and Meas as parameters
P1M 110408    ETORWIL             Removed new Abisco_Connection due to
                                  HN67845 and HN65860.
A   20111018  XTOBSEM   ETORWIL   Updated to new script template
                                   Quality control with PerlCritic.
                                   Added document number.
                                   Fixed imports and exports. Removed "Str"
                                    and "Strip" from Abisco_Connection
                                    include.
                                   Fixed exists bug with OPT2 hash in ActivateChannel
                                   Removed undef from hash in SendSpeech</pre>
<pre>Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ActivateChannel'></a><h2>ActivateChannel</h2>

<pre> ActivateChannel();

</pre>
<pre>SUBROUTINE  : ActivateChannel
DESCRIPTION : To make Channel Activation Normal Assign for speech.</pre>
<pre>IN  : Parameter Hash
OUT : 0=OK, 1=Error</pre>
<a name='ActivateSpeech'></a><h2>ActivateSpeech</h2>

<pre> ActivateSpeech();

</pre>
<pre>SUBROUTINE  : ActivateSpeech
DESCRIPTION : To activate speech in TSS, either "Frames" or "LoopBack"</pre>
<pre>IN  : Parameter hash
OUT : 0=OK, 1=Error</pre>
<a name='AllocateICP'></a><h2>AllocateICP</h2>

<pre> AllocateICP();

</pre>
<pre>SUBROUTINE  : AllocateICP
DESCRIPTION : To allocate ICP and CI number</pre>
<pre>IN  : Param Hash
OUT : ICP
      CI</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>SUBROUTINE  : ChActMSSIM
DESCRIPTION : To activate a channel in the MSSIM</pre>
<pre>IN  : Parameter Hash
OUT : CcId</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>SUBROUTINE  : ChRelMSSIM
DESCRIPTION : To release a channel in the MSSIM</pre>
<pre>IN  : Parameter Hash
OUT : None</pre>
<a name='CreateAcs'></a><h2>CreateAcs</h2>

<pre> CreateAcs();

</pre>
<pre>SUBROUTINE  : CreateAcs
DESCRIPTION : Create the Acs parameter used in MSSIM commands</pre>
<pre>IN  : Param Hash
OUT : Param Hash updated with Acs</pre>
<a name='DeactivateSpeech'></a><h2>DeactivateSpeech</h2>

<pre> DeactivateSpeech();

</pre>
<pre>SUBROUTINE  : DeactivateSpeech
DESCRIPTION : To deactivate speech in TSS</pre>
<pre>IN  : Statistics (On, Off)
      Parameter Hash
OUT : 0=OK, 1= Error
      Result hash including statistics</pre>
<a name='DeallocateICP'></a><h2>DeallocateICP</h2>

<pre> DeallocateICP();

</pre>
<pre>SUBROUTINE  : DeallocateICP
DESCRIPTION : To allocate ICP and CI number</pre>
<pre>IN  : Param Hash
OUT : None</pre>
<a name='DefinePattern'></a><h2>DefinePattern</h2>

<pre> DefinePattern();

</pre>
<pre>SUBROUTINE  : DefinePattern
DESCRIPTION : To define pattern file to MSSIM</pre>
<pre>IN  : Parameter Hash
OUT : 0=OK</pre>
<a name='Encr'></a><h2>Encr</h2>

<pre> Encr();

</pre>
<pre>SUBROUTINE  : Encr
DESCRIPTION : To activate encryption in MSSIM</pre>
<pre>IN  : Parameter Hash
OUT : None</pre>
<a name='GetStatistics'></a><h2>GetStatistics</h2>

<pre> GetStatistics();

</pre>
<pre>SUBROUTINE  : GetStatistics
DESCRIPTION : To get TSS speech statistics returned in
              DeactivateSpeech command.</pre>
<pre>IN  : Response hash from Abisco
      Speech Rate
OUT : Result hash including statistics</pre>
<a name='ReadAbiscoConfig'></a><h2>ReadAbiscoConfig</h2>

<pre> ReadAbiscoConfig();

</pre>
<pre>SUBROUTINE  : ReadAbiscoConfig
DESCRIPTION : To get AbisMode and TCH Configuration for a specific TRXC</pre>
<pre>IN  : Param Hash
OUT : AbisMode
      TCH_Type</pre>
<a name='ReleaseChannel'></a><h2>ReleaseChannel</h2>

<pre> ReleaseChannel();

</pre>
<pre>SUBROUTINE  : ReleaseChannel
DESCRIPTION : To make RF Channel Release in BTS</pre>
<pre>IN  : Parameter Hash
OUT : 0=OK, 1=Error</pre>
<a name='SLEEP'></a><h2>SLEEP</h2>

<pre> SLEEP();

</pre>
<pre>SUBROUTINE  : SLEEP
DESCRIPTION : Special sleep routine.
              The normal sleep does not work with TK GUI.</pre>
<pre>IN  : Time in seconds
OUT : None</pre>
<a name='SendSpeech'></a><h2>SendSpeech</h2>

<pre> SendSpeech();

</pre>
<pre>SUBROUTINE  : SendSpeech
DESCRIPTION : To activate sending of speech, either from MSSIM or from TSS</pre>
<pre>IN  : Param hash including:
             $Param{TG}
             $Param{TRXC}
             $Param{TS}
             $Param{SubCh}          TCH sub channel (0/1)
             $Param{DTX}            DTX Downlink (On/Off)
        See IWD Browser:
             $Param{TypeOfCh}       According to Abisco Ch Activation
             $Param{AlgOrRate}      According to Abisco Ch Activation
             $Param{ChRate}         According to Abisco Ch Activation
             $Param{ChannelType}    According to Abisco Ch Activation
             $Param{MRVersion}      According to Abisco Ch Activation
             $Param{ICMI}           According to Abisco Ch Activation
             $Param{StartMode}      According to Abisco Ch Activation
             @{$Param{AMR}}         According to Abisco Ch Activation
             $Param{TFO}            According to Abisco Ch Activation
             $Param{SCS}            According to Abisco Ch Activation
             $Param{MACS}           According to Abisco Ch Activation
             $Param{SimTypeTSS}     TSS simulation type "Frames" or
                                    "LoopBack".
             $Param{StartCodec}     According to Abisco ActivateSpeech
                                    OPT1.CodecMode.
          SpeechPatternStruct:
             $Param{SPType1}        According to Abisco ActivateSpeech
             $Param{SPTime1}        According to Abisco ActivateSpeech
             $Param{SPType2}        According to Abisco ActivateSpeech
             $Param{SPTime2}        According to Abisco ActivateSpeech
          CodecModePatternStruct:
             $Param{CodecDL1}       According to Abisco ActivateSpeech
             $Param{CodecUL1}       According to Abisco ActivateSpeech
             $Param{CodecTime1}     According to Abisco ActivateSpeech
             $Param{CodecDL2}       According to Abisco ActivateSpeech
             $Param{CodecUL2}       According to Abisco ActivateSpeech
             $Param{CodecTime2}     According to Abisco ActivateSpeech
             $Param{CodecDL3}       According to Abisco ActivateSpeech
             $Param{CodecUL3}       According to Abisco ActivateSpeech
             $Param{CodecTime3}     According to Abisco ActivateSpeech
             $Param{CodecDL4}       According to Abisco ActivateSpeech
             $Param{CodecUL4}       According to Abisco ActivateSpeech
             $Param{CodecTime4}     According to Abisco ActivateSpeech</pre>
<pre>             $Param{LoopDelay}      According to Abisco ActivateSpeech OPT3
             $Param{SimTypeMSSIM}   "LOOP", "PRBS", "PLAY_CHK" or "PLAY_REC"
             $Param{TxFile}         TxFile for MSSIM, see Prisma GSM base
             $Param{RxFile}         RxFile for MSSIM, see Prisma GSM base
             $Param{RxMax}          Rxmax for MSSIM, see Prisma GSM base
             @{$Param{Codec}}       Used Codecs, MSSIM format example:
                                    ["AFS4_75", "AFS5_15", "AFS5_9",
                                     "AFS6_7"].
             $Param{TimeToRun}      Time to run (in seconds)
             $Param{VAMOS}          Optional, defined = VAMOS
             $Param{MSCapability}   Optional, MS Capability
             $Param{MixingOrder}    Optional, Mixing Order
             $Param{TSCSet}         Optional, TSC Set}
             $Param{TSC}            Optional, TSC
             $Param{BP2}            Optional, BS Power 2
             $Param{VAMOS_SubCh}    Optional, VAMOS SubChannel

</pre>
<pre>OUT : Error 0=OK, 1=error
      Error Reason
      Result hash including:
             @{$Result{Statistic1}}   MSSIM fixed counters
             @{$Result{Statistic2}}   MSSIM variable counters from
                                      Cnt parameter.
             @{$Result{Statistic3}})  TSS counters
        Optional MSSIM variable counters from Cnt parameter,
        for GUI presentation:
             @{$Result{CntRow0}})
             @{$Result{CntRow1}})
             @{$Result{CntRow2}})
             @{$Result{CntRow3}})
             @{$Result{CntRow4}})
             @{$Result{CntRow5}})</pre>
<a name='StartLoopMSSIM'></a><h2>StartLoopMSSIM</h2>

<pre> StartLoopMSSIM();

</pre>
<pre>SUBROUTINE  : StartLoopMSSIM
DESCRIPTION : To start the loop function in MSSIM</pre>
<pre>IN  : Parameter Hash
OUT : 0=OK</pre>
<a name='StartPLAY'></a><h2>StartPLAY</h2>

<pre> StartPLAY();

</pre>
<pre>SUBROUTINE  : StartPLAY
DESCRIPTION : To start the play function in MSSIM</pre>
<pre>IN  : Parameter Hash
OUT : 0=OK</pre>
<a name='StartPRBS'></a><h2>StartPRBS</h2>

<pre> StartPRBS();

</pre>
<pre>SUBROUTINE  : StartPRBS
DESCRIPTION : To start the PRBS function in MSSIM</pre>
<pre>IN  : Parameter Hash
OUT : 0=OK</pre>
<a name='StopLoopMSSIM'></a><h2>StopLoopMSSIM</h2>

<pre> StopLoopMSSIM();

</pre>
<pre>SUBROUTINE  : StopLoopMSSIM
DESCRIPTION : To stop the loop function in MSSIM and prepare statistics</pre>
<pre>IN  : Parameter Hash
OUT : Result Hash</pre>
<a name='StopPLAY'></a><h2>StopPLAY</h2>

<pre> StopPLAY();

</pre>
<pre>SUBROUTINE  : StopPLAY
DESCRIPTION : To stop the play function in MSSIM and prepare statistics</pre>
<pre>IN  : Parameter Hash
OUT : Result hash including statistics</pre>
<a name='StopPRBS'></a><h2>StopPRBS</h2>

<pre> StopPRBS();

</pre>
<pre>SUBROUTINE  : StopPRBS
DESCRIPTION : To stop the PRBS function in MSSIM and prepare statistics</pre>
<pre>IN  : Parameter Hash
OUT : Result Hash</pre>
<a name='UnpackCnt'></a><h2>UnpackCnt</h2>

<pre> UnpackCnt();

</pre>
<pre>SUBROUTINE  : UnpackCnt
DESCRIPTION : To unpack statistics in the Cnt parameter</pre>
<pre>IN  : RESP (Response hash from MSSIM)
      Result Hash
OUT : Result Hash updated with Cnt parameters</pre>
<a name='numerically'></a><h2>numerically</h2>

<pre> numerically();

</pre>
<pre>SUBROUTINE  : numerically
DESCRIPTION : Numerical sorting</pre>
<pre>IN  : None
OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>StabFunc</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>--------Document number: 36/190 55-CAH 161 1290/1 Uen
MODULE      : StabFunc.pm
DESCRIPTION :
AUTHOR      : ERADIPE</pre>
<pre>COPYRIGHT (C) 2005 Ericsson AB</pre>
<pre>Rev      Date       Name      Comment
PA1      20060111   ERADIPE   First revision
PA2      20070301
P1A      20080319   ERABAHG   New rev
P1B      20080401   XRSJALI   Implementing CR 5761.
P1C      20090416   ERABAHG   Merged to main
P1D      20080609   XRSJALI   Updated for CR 5758. Merged to main
P1E_1A   20080902   XMATTEK   Updated for CR 5759
P1F      20080903   ERABAHG   Merge to main
P1F_1A   20080929   XMATTEK   Implementing CR 5904.
P1F_1B   20080929   XRSJALI   Implementing CR 5771.
P1F_1C   20080929   XRSJALI   Implementing CR 5888.
P1G      20081008   XRSJALI   Merge to main
P1G_1A   20081014   XMATTEK   Implemented CR 5764.
P1H      20081020   XRSJALI   Merge to main
P1H_1A   20081111   XRSJALI   Implemented TR 5951.
P1J      20081111   XRSJALI   Merge to main
P1J_1A   20090203   XYNSTAN   Implemented TR5984
P1K      20090203   XYNSTAN   Merge to main
B        20110907   XSOFFRO   Added new document number</pre>
<pre>Note that on 2011-06-20 the revision style was changed back to A, B and so on.
This is a document, not a product!</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc(PrettyPrint,'>PerlFunc(PrettyPrint,</a></i></pre>
<pre><i>Globals()</i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Spreadsheet::WriteExcel'>Spreadsheet::WriteExcel</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ConnectToServer'></a><h2>ConnectToServer</h2>

<pre> ConnectToServer();

</pre>
<pre>FUNCTION : ConnectToServer
COMMENT  :</pre>
<pre>IN	   :
OUT	   :</pre>
<a name='DisconnectFromServer'></a><h2>DisconnectFromServer</h2>

<pre> DisconnectFromServer();

</pre>
<pre>FUNCTION : DisconnectFromServer
COMMENT  :</pre>
<pre>IN	   :
OUT	   :</pre>
<a name='GenerateMeasurements'></a><h2>GenerateMeasurements</h2>

<pre> GenerateMeasurements();

</pre>
<pre>FUNCTION : GenerateMeasurements
COMMENT  : A measurement contains following parts:
             [[data log #1], [data log #2], .., [LTS success rates], [[fault report #1], ..], Code]</pre>
<pre>              data log #nr is data aquired for every monitor e.g. DX, TRU0
              data logs are repeated for every log e.g. IDLE, POOL
              Code is:
                 '&lt;' : nothing
                 'L' : loading has commenced
                 'R' : restart has commenced
                 'F' : FAS has commenced

              Code is marked only when starting the activity. After that it is '&lt;'.
              This routing fills everything except for the Code.

</pre>
<pre>IN	   :
OUT	   :</pre>
<a name='GetLogIndicator'></a><h2>GetLogIndicator</h2>

<pre> GetLogIndicator();

</pre>
<pre>FUNCTION : GetLogIndicator
COMMENT  :</pre>
<pre>IN	   :
OUT	   :</pre>
<a name='InitAcc'></a><h2>InitAcc</h2>

<pre> InitAcc();

</pre>
<pre>FUNCTION : InitAcc
COMMENT  :</pre>
<pre>IN	   :
OUT	   :</pre>
<a name='InitMeas'></a><h2>InitMeas</h2>

<pre> InitMeas();

</pre>
<pre>FUNCTION : InitMeas
COMMENT  :</pre>
<pre>IN	   :
OUT	   :</pre>
<a name='PrepareData'></a><h2>PrepareData</h2>

<pre> PrepareData();

</pre>
<pre>FUNCTION : PrepareData
COMMENT  :</pre>
<pre>IN	   :
OUT	   :</pre>
<a name='PrintAcc'></a><h2>PrintAcc</h2>

<pre> PrintAcc();

</pre>
<pre>FUNCTION : PrintAcc
COMMENT  :</pre>
<pre>IN	   :
OUT	   :</pre>
<a name='PrintData'></a><h2>PrintData</h2>

<pre> PrintData();

</pre>
<pre>FUNCTION : PrintData
COMMENT  :</pre>
<pre>IN	   :
OUT	   :</pre>
<a name='ReadMessage'></a><h2>ReadMessage</h2>

<pre> ReadMessage();

</pre>
<pre>FUNCTION : ReadMessage
COMMENT  :
IN	   :
OUT	   :</pre>
<a name='SaveResults'></a><h2>SaveResults</h2>

<pre> SaveResults();

</pre>
<pre>FUNCTION : SaveResults
COMMENT  :</pre>
<pre>IN	   :
OUT	   :</pre>
<a name='SearchForErrors'></a><h2>SearchForErrors</h2>

<pre> SearchForErrors();

</pre>
<pre>FUNCTION : SearchForErrors
COMMENT  :</pre>
<pre>IN	   :
OUT	   :</pre>
<a name='SendMessage'></a><h2>SendMessage</h2>

<pre> SendMessage();

</pre>
<pre>FUNCTION : SendMessage
COMMENT  :
IN	   :
OUT	   :</pre>
<a name='SendToServer'></a><h2>SendToServer</h2>

<pre> SendToServer();

</pre>
<pre>FUNCTION : SendToServer
COMMENT  :</pre>
<pre>IN	   :
OUT	   :</pre>
<a name='UpdateAcc'></a><h2>UpdateAcc</h2>

<pre> UpdateAcc();

</pre>
<pre>FUNCTION : UpdateAcc
COMMENT  :</pre>
<pre>IN	   :
OUT	   :</pre>
<a name='UpdateData'></a><h2>UpdateData</h2>

<pre> UpdateData();

</pre>
<pre>FUNCTION : UpdateData
COMMENT  :</pre>
<pre>IN	   :
OUT	   :</pre>
<a name='UpdateMeas'></a><h2>UpdateMeas</h2>

<pre> UpdateMeas();

</pre>
<pre>FUNCTION : UpdateMeas
COMMENT  :</pre>
<pre>IN	   :
OUT	   :</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>SupportFunc</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 37/190 55-CAH 161 1290/1 Uen
MODULE      : SupportFunc.pm
DESCRIPTION :</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
PA1 20050419  ERADIPE
    20050906  ERADIPE             Workaround for DVT logs.
                                  Added Cabinet type.
    20060227  ERADIPE             GetTGData updated for UFTE R18B
P1A 20080319  ERABAHG             New rev
B   20110830  XJMJMJM   XLEIMAR   Updated to new script template,
                                   Quality control with PerlCritic
                                   Included Strip from Msg.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DVTFunc'>DVTFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Msg'>Msg</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='GetSeveral'></a><h2>GetSeveral</h2>

<pre> GetSeveral();

</pre>
<pre>SUBROUTINE  : GetSeveral
DESCRIPTION : An example call:</pre>
<pre>             $SignalList =
               GetSeveral(BTSConn =&gt; $BTS1,
                          Expect  =&gt; [{Message =&gt; Accept},
                                      {Message =&gt; RFResourceIndication},
                                      PROMPT],
                          Upto    =&gt; [1, 3, 1],
                          Timeout =&gt; 30,
                          Until   =&gt; {Message =&gt; Reject});

             {Expect} can contain a list of signal names or hashes
             (for assert). Entry {Upto} must exist if {Expect} exists.
             Timeout defaults to 10 minutes.

             Returned from GetSeveral is a reference to a hash with entry
             names the signal names that were received. Three additional
             entries are given:

               {Status}   : 'Timed out' || 'All signals received' ||
                            'Until signal received'
               {Signals}  : e.g. {Accept =&gt; 1, RFResourceIndication =&gt; 3,
                            FaultReport =&gt; 2} indicating the number of
                            signals of each sort that were received.
               {Sequence} : [[RFResourceIndication, 1],
                             [FaultReport, 1],
                             [Accept, 1],
                             [FaultReport, 2],
                             [RFResourceIndication, 2],
                             [RFResourceIndication, 3]]

             The signals look like this:
               {Accept}{001}
               {FaultReport}{001}
               {FaultReport}{002}
               {RFResourceIndication}{001}
               {RFResourceIndication}{002}
               {RFResourceIndication}{003}

             The first entry is $ReceivedSignal (e.g. Accept, FaultReport,
             ACK). Each entry above is a hash having two entries: Sig and
             Time. Entry Sig is the signal as received with a little
             modification done for Abis signals, PROMPT's etc. This is done
             for simplification, we would like for instance to be able to
             say:

                 Expect =&gt; [{Message =&gt; ChannelActAck__ABIS_UL},
                            {Message =&gt; PROMPT}]

             Messages tagged as RESP, ERR, SPONT and REPORT will set
             $ReceivedSignal to $Resp-&gt;{Message}.

             Messages tagged as ABIS_DL and ABIS_UL will set $ReceivedSignal
             to the signal name extracted from $Resp-&gt;{Message} and
             concatenated with the tag, e.g. 'NegotiationRequest__ABIS_DL'.
             Under {Sig} there are only three keys: 'TimeStamp(ms)',
             'Data (Hex)' and 'Data (Text)' which are extracted from
             $Resp-&gt;{Message}. All other keys are deleted and {Message} is
             set to $ReceivedSignal (to be able to do Assert).

             All other tags, e.g. ACK or ECHO, set $ReceivedSignal to
             $Resp-&gt;{Tag}. No relevant data is saved under {Sig}.
             {Message} is set to the tag.

</pre>
<pre>IN  : See example above.
OUT :</pre>
<a name='GetTGData'></a><h2>GetTGData</h2>

<pre> GetTGData();

</pre>
<pre>SUBROUTINE  : GetTGData
DESCRIPTION : Fills %TG with TG and cell data used throughout this program.
              Data is read from the TG itself, from the DVT and from the OMT</pre>
<pre>IN  : 1. $TG   -&gt; A reference to %TG
      2. $rP   -&gt; e.g. ['DVT']
                  Any combination of 'DVT', 'OMT' and 'Site'.
OUT :</pre>
<a name='GreaterOrEqual'></a><h2>GreaterOrEqual</h2>

<pre> GreaterOrEqual();

</pre>
<pre>SUBROUTINE  : GreaterOrEqual
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>SwitchBox</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number : 38/190 55-CAH 161 1290/1
MODULE          : SwitchBox.pm
DESCRIPTION     : Provides some APIs to control a switchbox.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE      NAME            REVIEW     COMMENT
A     20110930  XTANGHE         XTOBSEM    Imported from ACM project
B     20120530  XLEAENG                    HP14008: Updated with ACM libraries
                                           Updated to new script template.
                                           Quality control with PerlCritic
C     20130703  Syntronic AB/   XWOOKUN    Removed trailing spaces and hard tabs</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?MIME::Base64'>MIME::Base64</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?POSIX'>POSIX</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Socket'>Socket</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='new'></a><h2>new</h2>

<pre> $self-&gt;new();

</pre>
<pre>SUBROUTINE  : new
DESCRIPTION : Create an instance of the SwitchBox object that can be
              used by the TP to control and query the status of the
              switchbox.</pre>
<pre>IN  : A hash with the following hash-key(s)
      1. Address  -&gt; Hostname or IP address of the switchbox.
      2. Port     -&gt; Port number of the switchbox.
      3. Username -&gt; Name that is used to login when
                     establishing a connection to the
                     switchbox.
      4. Password -&gt; Password that is used to login when
                     establishing a connection to the
                     switchbox.
      5. Timeout (Optional) -&gt;
           Time (in seconds) to wait for a response after
           sending a request to the switchbox before retrying.
      6. Retries (Optional) -&gt;
           Number of times to resend requests after a previous
           request did not respond due to timeout.
OUT : 1. $rObj -&gt; Reference to the newly instantiated SwitchBox
                  object.</pre>
<a name='CancelReset'></a><h2>CancelReset</h2>

<pre> $self-&gt;CancelReset();

</pre>
<pre>SUBROUTINE  : CancelReset
DESCRIPTION : Breaks or cancels an ongoing reset sequence. If the
              switchbox is not currently performing an active reset,
              this function does nothing.</pre>
<pre>IN  : -
OUT : -</pre>
<a name='IsSwitchedOn'></a><h2>IsSwitchedOn</h2>

<pre> $self-&gt;IsSwitchedOn();

</pre>
<pre>SUBROUTINE  : IsSwitchedOn
DESCRIPTION : Checks to determine whether the switchbox is currently
              powered on.</pre>
<pre>IN  : -
OUT : 1. $Answer -&gt; One of:
           1 - The switchbox is on.
           0 - The switchbox is off.</pre>
<a name='Off'></a><h2>Off</h2>

<pre> $self-&gt;Off();

</pre>
<pre>SUBROUTINE  : Off
DESCRIPTION : Power off the switchbox.</pre>
<pre>IN  : -
OUT : -</pre>
<a name='On'></a><h2>On</h2>

<pre> $self-&gt;On();

</pre>
<pre>SUBROUTINE  : On
DESCRIPTION : Power on the switchbox.</pre>
<pre>IN  : -
OUT : -</pre>
<a name='Print'></a><h2>Print</h2>

<pre> $self-&gt;Print();

</pre>
<pre>SUBROUTINE  : Print
DESCRIPTION : Display the value of one of the SwitchBox object's
              attributes (hash-keys that were set during the object's
              construction) on the screen. For example,</pre>
<pre>                $SB-&gt;Print('Address');

              will print,

                Address is 10.0.100.0

</pre>
<pre>IN  : 1. $Attribute -&gt; A SwitchBox object's attribute name.
                       This could be: 'Address', 'Port',
                       'Username', 'Password', 'Timeout',
                       or 'Retries'.
OUT : -</pre>
<a name='Read'></a><h2>Read</h2>

<pre> $self-&gt;Read();

</pre>
<pre>SUBROUTINE  : Read
DESCRIPTION : Display the current status of the switchbox on the screen.
              The output should look something like this:</pre>
<pre>                SWITCH  INRESET  -W-    -R-
                   1       0      1      1

              The first column tells whether the switch is on/off.
              The second column tells whether it is doing a reset
              sequence. The -W- and -R- tells whether you have write
              and read permissions respectively.

</pre>
<pre>IN  : -
OUT : -</pre>
<a name='Reset'></a><h2>Reset</h2>

<pre> $self-&gt;Reset();

</pre>
<pre>SUBROUTINE  : Reset
DESCRIPTION : Start a reset sequence, whereby the switchbox will power
              off for a preconfigured time. You can find out the current
              reset delay by logging on to
                http://$rX-&gt;{Address}/config.htm</pre>
<pre>IN  : -
OUT : -</pre>
<a name='Write'></a><h2>Write</h2>

<pre> $self-&gt;Write();

</pre>
<pre>SUBROUTINE  : Write
DESCRIPTION : (This function has no use.)</pre>
<pre>IN  : -
OUT : -</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Trig</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 5/190 55-CAH 161 1290/1 Uen
MODULE      : Trig.pm
DESCRIPTION : Utility functions for working with the 'Trig' routine provided
              by the 'Abisco_Connection' package. Remember that trigs that
              are set later override earlier ones.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
P1A 000927    QRAJRHD             Created, trig patterns from user.pm
P1Y 000911    QRAJRHD             Accept local to remote while link lost
P1Z 001108    QRAJRHD             Modified error messages
P2A 001109    QRAJRHD             Do not accept L/R SWI (BTS In Local Mode)
P2B 010411    QRAJRHD             'Trig_Set' example was too complicated
P2C 010521    QRAFRYS             Change of semantics in Trig_Set
P2D 010810    QRAJRHD             Suppress PCU failures
P2E 010903    QRAFRYS             Improved Trig_Set documentation
P2F 010911    QRAFRYS             Added revision information to trig.html
P2G 060601    QMIKHEL             &lt;&gt; changed to () due to Perl upgrade
                                  to 5.8 .
A   070607    XYNHAKS             Approved for UFTE R23A.
B 20110810    ETORWIL   XLEIMAR   Moved code into new template.
                                   Implemeted use strict, warnings and
                                    diagnostics (Quality improvement).
                                   Imported Untrig from Abisco_Connection
                                    since not existing in user.pm.</pre>
<pre>Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Msg'>Msg</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='Error'></a><h2>Error</h2>

<pre> Error();

</pre>
<pre>SUBROUTINE  : Error
DESCRIPTION : Set result to 'Error'. Can be used as trig handler for message
              patterns that indicate an error in the test system itself (and
              not in the SUT). The TP support does not really distinguish
              between 'Error' and 'Fail', but Texas does make a distinction
              by applying heuristics on the error message. See also L(Fail).</pre>
<pre>IN  : $1 - Abisco_Connection instance
      $2 - Matching message
OUT : None (raises an exception)</pre>
<a name='Fail'></a><h2>Fail</h2>

<pre> Fail();

</pre>
<pre>SUBROUTINE  : Fail
DESCRIPTION : Set result to 'Fail'. Can be used as trig handler for message
              patterns that indicate a failure in the system under test
              (SUT). Throws an exception that stops the test immediately.
              See also L(Not_Applicable).</pre>
<pre>IN  : $1 - Abisco_Connection instance
      $2 - Matching message
OUT : None (raises an exception)</pre>
<a name='Not_Applicable'></a><h2>Not_Applicable</h2>

<pre> Not_Applicable();

</pre>
<pre>SUBROUTINE  : Not_Applicable
DESCRIPTION : Set result to 'Not_Applicable'. Can be used as trig handler
              for message patterns that make the test outcome uncertain
              (manual evaluation needed). If the trig occurs after a test it
              will be booked to the next test (if there is one).
              See also L(Pass).</pre>
<pre>IN  : $1 - Abisco_Connection instance
      $2 - Matching message
OUT : None (stops search for more triggers)</pre>
<a name='Pass'></a><h2>Pass</h2>

<pre> Pass();

</pre>
<pre>SUBROUTINE  : Pass
DESCRIPTION : Trig handler for acceptable message patterns. The routine does
              nothing, but the trig search is stopped (since it matched).
              The handler is normally inserted last in the trig list, so
              that it can shaddow higher severity levels (Not_Applicable,
              Fail, Error). The message is not skipped, so the normal TP
              code can have a second opinion on it.</pre>
<pre>IN  : $1 - Abisco_Connection instance
      $2 - Matching message
OUT : None (stops search for more triggers)</pre>
<a name='Trig_Clear'></a><h2>Trig_Clear</h2>

<pre> Trig_Clear();

</pre>
<pre>SUBROUTINE  : Trig_Clear
DESCRIPTION : @Triggers = Trig_Set;
               Trig_Clear(@Triggers);</pre>
<pre>              Cancel triggers. Input is a list of trig identities as
              returned from L(Trig_Set) and/or individual Id's returned from
              Abisco_Connection::Trig.

</pre>
<pre>IN  : @1 - See POD
OUT : None</pre>
<a name='Trig_Set'></a><h2>Trig_Set</h2>

<pre> Trig_Set();

</pre>
<pre>SUBROUTINE  : Trig_Set
DESCRIPTION : Set up trig handlers for the four test outcomes. The right
              sides are message patterns, the same as in 'Assert'. An
              'undef' message pattern means no trigger.</pre>
<pre>              Returns a list of trig Ids which can be used with L(Trig_Clear)

              Examples:
              Specify all parameters explicitly

                Trig_Set( Pass           =&gt; $Trig::Pass,
                          Not_Applicable =&gt; $Trig::Not_Applicable,
                          Fail           =&gt; $Trig::Fail,
                          Error          =&gt; $Trig::Error);

              The parameters above are the defaults,
              so this is the same thing:

                Trig_Set;

              If less than all four parameters are specified only the
              specified triggers will be set

                Trig_Set(Pass           =&gt; $Trig::Pass,
                         Not_Applicable =&gt; $Trig::Not_Applicable);

              Memorize trig Ids (for Trig_Clear):

                @Trig = Trig_Set;

              More examples:

              Do not use any pass trigger. Set TC to fail on
              'ABORT_LINK_ERROR', or if there is a message from BG with
              Class2 FaultMap of [2,0]:

                Trig_Set(Pass =&gt; undef,
                         Fail =&gt; [{Message =&gt; ABORT_LINK_ERROR},
                                  {Server =&gt; BG,
                                   ExtConditionMapClass2
                                     =&gt; {FaultMap =&gt; [ 2, 0 ]}
                                  }]
                        );

              Using 'Pass' subroutine provided by 'Trig.pm' in a low level
              call to 'Abisco_Connection::Trig'. Allow
              'ConnectionFailureIndication' by letting the 'Pass' handler
              intercept the message (register this trig after the default
              trig setup):

                Abisco_Connection::Trig({Message
                                           =&gt; ConnectionFailureIndication},
                                        &amp;Trig::TrigPass);

</pre>
<pre>IN  : %1 - See POD
OUT : @1 - List of handles to be used when deleting the triggers</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>tstm</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 242/190 55-CAH 161 1607/1 Uen
MODULE      : tstm.pm
DESCRIPTION : Interface routines to the Prisma Test Manager. Routines in this program 
              can be used to control RACH load from MSSIM.
							More information can be found in:
								- Remote Control of Prisma Test Manager, 6/198 17-FCD 201 33 (CDM)</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV 	DATE      NAME      REVIEW    COMMENT
P1A   120820  	ESTEMOH             Created
P1B   121123  	ESTEMOH             Minor bugs corrected
P1C   130909  	ESTEMOH             Updated for TTR and AirMosaic 2.0
P1D   130916    ESTEMOH             Removed the temporary code for POOL_SESSION_CMD
P1E   130924    ESTEMOH             Correction for multiple Test Managers
P1F   131104    ESTEMOH             Avoid division with zero if RACH rate is zer0</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i> Used for Abisco logging</pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='RACHActivate'></a><h2>RACHActivate</h2>

<pre> RACHActivate();

</pre>
<pre>FUNCTION : RACHActivate
COMMENT  : To activate sending of Channel Request from the Test Manager</pre>
<pre>							Note! The number of Channel Request per sec and EGPRS Channel Request per sec
              shall be given for one CCCH. MSSIM Test Manager  will automatically
              generate the same load on all configured CCCH in a cell.

							The cell number shall be the cell in the MSSIM configuraion. It is not
							necessarily the same as in the Abisco TG configuration.

</pre>
<pre>IN       : 	$REQ{IP} 								IP addr to the Test Manager
       	 : 	$REQ{Cell} 							Cell number in MSSIM
         :  $REQ{InstanceNo}    Only when TTR is used
       	 : 	$REQ{ChReqPerSec} 			Number of Channel Request/s for one CCH
       	 : 	$REQ{EGPRSChReqPerSec} 	Number of EGPRS Channel Request/s for one CCH
OUT      :  $RESP{Code}							Reslut Code (0=OK)
         :  $RESP{Reason}						Text
         :  $RESP{Response}					Response received from the Test Manager</pre>
<a name='RACHActivateTTR'></a><h2>RACHActivateTTR</h2>

<pre> RACHActivateTTR();


</pre>
<pre>RACHActivate using the TTR</pre>
<a name='RACHClose'></a><h2>RACHClose</h2>

<pre> RACHClose();

</pre>
<pre>FUNCTION : RACHClose
COMMENT  : To close the socket to the Test Manager</pre>
<pre>IN       :  $REQ{InstanceNo}    Only when TTR is used
OUT      :  None</pre>
<a name='RACHCloseTTR'></a><h2>RACHCloseTTR</h2>

<pre> RACHCloseTTR();


</pre>
<pre>RACHClose using the TTR</pre>
<a name='RACHDeactivate'></a><h2>RACHDeactivate</h2>

<pre> RACHDeactivate();

</pre>
<pre>FUNCTION : RACHDeactivate
COMMENT  : To deactivate sending of Channel Request from the Test Manager</pre>
<pre>IN       : 	$REQ{IP} 						IP addr to the Test Manager
       	 : 	$REQ{Cell} 					Cell number in MSSIM
         :  $REQ{InstanceNo}    Only when TTR is used
OUT      :  $RESP{Code}				  Reslut Code (0=OK)
         :  $RESP{Reason}				Text
         :  $RESP{Response}			Response received from the Test Manager</pre>
<a name='RACHDeactivateTTR'></a><h2>RACHDeactivateTTR</h2>

<pre> RACHDeactivateTTR();


</pre>
<pre>RACHDeactivate using the TTR</pre>
<a name='RACHOpen'></a><h2>RACHOpen</h2>

<pre> RACHOpen();

</pre>
<pre>FUNCTION : RACHOpen
COMMENT  : To open the Query port and send a QUERY_CMD to the Test Manager</pre>
<pre>IN       : 	$REQ{IP} 						IP address to the Test Manager
OUT      :  $RESP{Code}					Reslut Code (0=OK)
         :  $RESP{Reason}				Text
         :  $REQ{InstanceNo}    Only when TTR is used</pre>
<a name='RACHOpenTTR'></a><h2>RACHOpenTTR</h2>

<pre> RACHOpenTTR();


</pre>
<pre>RACHOpen using the TTR</pre>
<a name='RACHStart'></a><h2>RACHStart</h2>

<pre> RACHStart();

</pre>
<pre>FUNCTION : RACHStart
COMMENT  : To activate the Test Manager</pre>
<pre>IN       : 	$REQ{IP} 						IP address to the Test Manager
         :  $REQ{InstanceNo}    Only when TTR is used
OUT      :  $RESP{Code}					Reslut Code (0=OK)
         :  $RESP{Reason}				Text</pre>
<a name='RACHStartTTR'></a><h2>RACHStartTTR</h2>

<pre> RACHStartTTR();


</pre>
<pre>RACHStart using the TTR</pre>
<a name='numerically'></a><h2>numerically</h2>

<pre> numerically();

</pre>
<a name='tstmConfig'></a><h2>tstmConfig</h2>

<pre> tstmConfig();

</pre>
<pre>FUNCTION : tstmConfig
COMMENT  : To configure the Test Manager</pre>
<pre>IN       :  Parameter hash, see document 6/198 17-FCD 201 33 (CDM)
OUT      :  Result hash</pre>
<a name='tstmGet'></a><h2>tstmGet</h2>

<pre> tstmGet();

</pre>
<pre>FUNCTION : tstmGet
COMMENT  : To receive a response from the Test Manager</pre>
<pre>IN       : 	$REQ{IPServer} 			IP Handel returned from Connect
																(Only if previous put message was "Command")</pre>
<pre>Out      :	Accept
							IPServer		IP Handel returned from Connect
							Response		If previous message was "Command"
						Reject
							Code				Error Code
							Reason			Error Reason (text)</pre>
<a name='tstmPut'></a><h2>tstmPut</h2>

<pre> tstmPut();

</pre>
<pre>FUNCTION : tstmPut
COMMENT  : To send a Command to the Test Manager</pre>
<pre>IN       : 	$REQ{Message} 			Connect, Disconnect or Command
						Connect
							IP					IP address for Test Manager
							Port				Port
							Timeout			Timeout value in seconds
						Disconnect
							IPServer		IP Handel returned from Connect
						Command
							IPServer		IP Handel returned from Connect
							String			Command String</pre>
<pre>OUT      :  None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>ttr</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 243/190 55-CAH 161 1607/1 Uen
MODULE      : ttr.pm
DESCRIPTION : Connect and Disconnect to the TTR  
              Connect and Disconnect to a Tool.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV 	DATE      NAME      REVIEW    COMMENT
P1A   131212    ESTEMOH             Created</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Cwd'>Cwd</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Win32::TieRegistry'>Win32::TieRegistry</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Win32::Process'>Win32::Process</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Win32'>Win32</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ConnectTTR'></a><h2>ConnectTTR</h2>

<pre> ConnectTTR();

</pre>
<pre>SUBROUTINE  : ConnectTTR
DESCRIPTION : Routine to connect the Command Handler to the TTR.</pre>
<pre>IN  : None
OUT : Status =&gt; 0=OK, &gt;0=Error
      Reason =&gt; Error reason
      Host   =&gt; Host Name
      Port   =&gt; Port number</pre>
<a name='ConnectTool'></a><h2>ConnectTool</h2>

<pre> ConnectTool();

</pre>
<pre>SUBROUTINE  : ConnectTool
DESCRIPTION : To connect a tool in the TTR.</pre>
<pre>IN  : Tool =&gt; Tool Name
OUT : InstanceNo =&gt; Instance number
      Status     =&gt; 0=OK, &gt;0=Error
      Reason     =&gt; Error reason</pre>
<a name='DisconnectTTR'></a><h2>DisconnectTTR</h2>

<pre> DisconnectTTR();

</pre>
<pre>SUBROUTINE  : DisconnectTTR
DESCRIPTION : Routine to disconnect the Command Handler from the TTR.</pre>
<pre>IN  : None
OUT : Status =&gt; 0=OK, &gt;0=Error
      Reason =&gt; Error reason
      Host   =&gt; Host Name
      Port   =&gt; Port number</pre>
<a name='DisconnectTool'></a><h2>DisconnectTool</h2>

<pre> DisconnectTool();

</pre>
<pre>SUBROUTINE  : DisconnectTool
DESCRIPTION : To disconnect a tool from the TTR.</pre>
<pre>IN  : Tool =&gt; Tool Name
      InstanceNo =&gt; Instance number
OUT : InstanceNo =&gt; Instance number
      Status     =&gt; 0=OK, &gt;0=Error
      Reason     =&gt; Error reason</pre>
<a name='StartTTR'></a><h2>StartTTR</h2>

<pre> StartTTR();

</pre>
<pre>SUBROUTINE  : StartTTR
DESCRIPTION : Routine to start the TTR.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>User</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 6/190 55-CAH 161 1290/1 Uen
MODULE      : user.pm
DESCRIPTION : User (client) interface</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
PA1 980929    QRAJRHD             Development started
PA2 981127    QRAJRHD             Ready for test
PA3 981214    QRAJRHD             Ready for Octopus (R8)
PA4 981216    QRAJRHD             Improved overrides. Pass-thru unknown servers
PA5 981217    QRAJRHD             Lis file to wordpad instead of fti
PA6 980107    QRAJRHD             Minor adaptions to install-script
PA7 980111    QRAJRHD             Lis file renamed ftx, help corrected
 A  990309    QRAJRHD             Several minor improvements (use diff)
PB1 990318    QRAJRHD             Never prompt for spec, pick lowest no.
PB2 990524    QRAJRHD             One ftx per spec, '-echo', '-ftx', more help
P2B 990816    QRAJRHD             'main::' =&gt; '::', more PAR handling, 'Check_Keys' gone
P2C 990816    QRAJRHD             Respond with server TP unless Tex
P2D 990827    QRAJRHD             Update default spec frequently
P2E 990829    QRAJRHD             List replaces first_abisco_connection.
P2F 990913    QRAJRHD             FTI and FTX in subdirectories
P2G 990921    QRAJRHD             Tool report
P2H 990922    QRAJRHD             Timeout option
P2J 991010    QRAJRHD             Rudimentary cmd line parameters working
P2K 991011    QRAJRHD             Print_Hash was not exported
P2L 991011    QRAJRHD             Quit needs to cleanup input
P2M 991012    QRAJRHD             Echo and Tagging did not see eye to eye
P2N 991012    QRAJRHD             Keyboard interrupt
P2P 991014    QRAJRHD             Command line parameter consistency check
P2Q 991101    QRAJRHD             Handle spec 0, more log padding needed
P2R 991109    QRAJRHD             Propagate BTS error messages
P2S 991110    QRAJRHD             Biafra needed newlines in FTI strings
P2T 991114    QRAJRHD             -Ignore
P2U 991205    QRAJRHD             FTS-&gt;TS, SDS-&gt;FTI (backward compatible)
P2V 991210    QRAJRHD             SUBT -&gt; SUBTC in id's, detect missing SUB-TC in Run_Leaf
P2X 000104    QRAJRHD             SPONT when interrupted
P2Y 000113    QRAJRHD             Cancel replaces quit in alerts
P2Z 000121    QRAJRHD             Cleaned up sockets and termination
P2A 000127    QRAJRHD             'In Sub' removed, no good first, now we have line numbers
P2B 000202    QRAJRHD             'Prompt-&gt;Alert', exception handler around Quit
P2C 000205    QRAJRHD             'Config option='
P2D 000218    QRAJRHD             Eval around untrig when tool set to manual
P2E 000223    QRAJRHD             Return log fetch declaration with help on=&lt;TC&gt;
P2F 000223    QRAJRHD             Support TC revision number (after the letter)
P2G 000308    QRAJRHD             Product split
P2H 000411    QRAJRHD             Cleaned up user IO handling
P2I 000508    QRAJRHD             Don't do retry in Read
P2J 000505    QRAJRHD             Init to command loop and Init_Globals at 'use'-time
P2K 000515    QRAJRHD             Step modified: config option=step/nostep
P2L 000518    QRAJRHD             Crash on PGM/file name mismatch
P2M 000518    QRAJRHD             Checking cmd line parameters again
P2N 000526    QRAJRHD             Loop parameters
P2O 000616    QRAJRHD             Help On=Program_Description
P2P 000622    QRAJRHD             Step mode C-x, parameter bug, subtc "" set when no subtc
P2Q 000814    QRAJRHD             Handle CR LF in log-routine
P2S 000828    QRATHRA             Added Term i.e. calling for a TP's Term routine at 'quit'
P2T 000911    QRAJRHD             Clean input queue before every user command
P2U 000922    QRAJRHD             Reason with Not_Applicable
P2V 001002    QRAJRHD             Manual instances
P2X 001017    QRAJRHD             Logging proper messages, FTI/FTX removed
P2Y 001101    QRAJRHD             Delete trailing '\n' for Print+String
P2Z 001106    QRAJRHD             Edit P2U lost during merge
P3A 001205    QRAJRHD             Removed registry dependency, added 'Cleanup'
P3B 001220    QRAJRHD             Corrected parameter save, percent of loops
P3C 001221    ERAABAY             Corrected loop exclude counter
P3D 010118    ERAABAY             Alert TR is fixed
P3E 010121    QRAJRHD             Step mode improved
P3F 010124    QRAJRHD             Make sure Reason is cleared after each TC
P3G 010206    ERAABAY             No more support for 'Function', use 'Message'
P3G 010314    ERAABAY             CPY =&gt; 0 does not work
P3G 010320    ERAABAY             Prompt routine crashes is fixed
P3H 010329    QRAJRHD             Excluded TC could have $@ set
P3J 010329    QRAJRHD             Clear out sub-action before running cleanup (&amp;Clean)
P3K 011023    QRAFRYS             Introduced check of PAR array in Program_Description
P3L 011112    QRAFRYS             Improved error message in Init_Command Loop
P3M 020129    QRAFRYS             Improved check of PAR array
P3N 070625    ERABAHG             Possible to handle TCid starting with letters
P3P 080529    ERABAHG             Changed print out when calling an invalid TC id
P3Q 090508    XYNSTAN             Removed TS, TXT from @TC_List in sub Get_TC_List
P3R 090520    ERATZIS             Replaced "die" in Call_With_Parameters (fix for TR 6090)
P3S 090820    ERATZIS             Added Option '-gui' in order to run with GUI (if exists). Added CreateGUI.
P3T 110322    ETORWIL             Updated lastResult reporting, now defaulting to 'Not_Applicable' instead of 'Pass'
                                   Implemented Glob_RunResult parameter to keep track of aggregated result since last commandline call
                                   Removed Not_Applicable counter and updated Respond() in Run()
                                   General code cleanup (removed use of TAB, identation cleaned trailing spaces etc)
                                   Converted script to use strict and use warnings (quality improvement)
                                   Implemented GetRunResult() function to return RunResult.
                                   Minor bugfix in Get_Exists()
                                   Fix in Crack_Test() ReqExp returning undef
                                   Fixed bug in Init_Command_Loop with option -debug
                                   Save all Fail-reasons......
C   20110114  ETORWIL             Updated to comply better with Perl Best Practices
                                   Implemented use diagnostics
                                   HO43422
                                   HO29809: Fixed function Restore_Parameters
                                    so it actually restores parameters,
                                    but sets undef to parameters that were
                                    not defined in the %Saved hash.
                                   HO29341: Fixed Set_Effective_Parameters
                                    where $ did not append to variable name
                                    string.
                                   Fixed bugs in Run_Test, while-loop +
                                    Get_TC_List - remove duplicates. Added
                                    run command line switch.
                                   Updated Cracktest
                                   Sorted TC list in Get_TC_List.
                                   Several and numerous updates please use diff
D   20120329  XSOFFRO   XNAVNAS    Fixed bug where script had to have a
                                    defined Init subroutine to run (TR HP64480).
              EDAMELI   XNAVNAS    Updates in Command_Loop due to CR HP65864
Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?charnames'>charnames</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?IO::Handle'>IO::Handle</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i> Lib with readable names</pre>
<pre><i><a href='http://search.cpan.org/perldoc?Trig'>Trig</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Complex'>Complex</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Msg'>Msg</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?File::Basename'>File::Basename</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Cwd'>Cwd</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?IO::Socket'>IO::Socket</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Getopt::Long'>Getopt::Long</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='Adjust_Case'></a><h2>Adjust_Case</h2>

<pre> Adjust_Case();

</pre>
<pre>SUBROUTINE  : Adjust_Case
DESCRIPTION : Check parameter list against program description. Also modify the
              letter case in parameter names.</pre>
<pre>IN  : \%1 - Hash where the keys should be corrected (only the top level)
      \%2 - Casing table, keys are all lowercase, values are in correct case</pre>
<pre>OUT : None</pre>
<a name='Alert'></a><h2>Alert</h2>

<pre> Alert();

</pre>
<pre>SUBROUTINE  : Alert
DESCRIPTION : Give client a set of choices (for GUI alert box).
              The first choice is selected on empty line.
              The array of choices should be packed in strings
              in tag mode too, but the MMI parser can't cope
              (restricts the button text to one word).</pre>
<pre>IN  : $0 - Optional 1st argument 'No_Log' means do not log (internal use?)
      $1 - Prompt string, default is 'Continue?'
      @2 - List of choices (max 10 according to SRS), default is (OK, Cancel)</pre>
<pre>OUT : One of @2</pre>
<a name='Break_Handler'></a><h2>Break_Handler</h2>

<pre> Break_Handler();

</pre>
<pre>SUBROUTINE  : Break_Handler
DESCRIPTION : Handle SIGURG (from ABISCO_Connection). Used for client
              interrupts while waiting for an ABISCO response.</pre>
<pre>IN  : $1 - File handle
OUT : One line of input</pre>
<a name='Call_With_Parameters'></a><h2>Call_With_Parameters</h2>

<pre> Call_With_Parameters();

</pre>
<pre>SUBROUTINE  : Call_With_Parameters
DESCRIPTION : Set standard parameters and parameters from program
              description in the main program, then call the subroutine.</pre>
<pre>IN  : $1 - Subroutine name
      $2 - SubTC index, i.e. relative position in SUBT array</pre>
<pre>OUT : None</pre>
<a name='Clean'></a><h2>Clean</h2>

<pre> Clean();

</pre>
<pre>SUBROUTINE  : Clean
DESCRIPTION : Run the cleanup for the most recently executed test, with the
              parameters set for the right loop iteration (which may be hard
              to work out manually).</pre>
<pre>IN  : $1 - Command hash
OUT : None</pre>
<a name='Cleanup_Error_Message'></a><h2>Cleanup_Error_Message</h2>

<pre> Cleanup_Error_Message();

</pre>
<pre>SUBROUTINE  : Cleanup_Error_Message
DESCRIPTION : Take away the file handle/chunk info from $@</pre>
<pre>IN  : $1 - $@ or similarly formatted string (default is $@)
OUT : $1 - A presentable version of $@</pre>
<a name='Command_Loop'></a><h2>Command_Loop</h2>

<pre> Command_Loop();

</pre>
<pre>SUBROUTINE  : Command_Loop
DESCRIPTION : Main loop</pre>
<pre>IN  : None
OUT : Never returns</pre>
<a name='Config'></a><h2>Config</h2>

<pre> Config();

</pre>
<pre>SUBROUTINE  : Config
DESCRIPTION : Reconfigure</pre>
<pre>IN  : %1 - Command hash
OUT : Current/None</pre>
<a name='Crack_Test'></a><h2>Crack_Test</h2>

<pre> Crack_Test();

</pre>
<pre>SUBROUTINE  : Crack_Test
DESCRIPTION : Parse test name and set context globals accordingly.</pre>
<pre>IN  : $1 - Test name - same format as in ordinary
      commands + spec no. only</pre>
<pre>OUT : None (dies on bad formats - globals intact)</pre>
<a name='CreateGUI'></a><h2>CreateGUI</h2>

<pre> CreateGUI();

</pre>
<pre>SUBROUTINE  : CreateGUI
DESCRIPTION : If Option -gui will be used, there must be a subroutine called
              CreateGUI in Main ( or in subs_xxx.pm)</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Exception'></a><h2>Exception</h2>

<pre> Exception();

</pre>
<pre>SUBROUTINE  : Exception
DESCRIPTION : General exception handler. $@ is assumed to be set.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Exclude'></a><h2>Exclude</h2>

<pre> Exclude();

</pre>
<pre>SUBROUTINE  : Exclude
DESCRIPTION : See help text for corresponding user command.</pre>
<pre>IN  : $1 - Command hash
OUT : None</pre>
<a name='Find_Leaf'></a><h2>Find_Leaf</h2>

<pre> Find_Leaf();

</pre>
<pre>SUBROUTINE  : Find_Leaf
DESCRIPTION : Look for implementation of current test. Try
              wildcards too. Die if no implementation found.</pre>
<pre>IN  : None
OUT : The name of the routine found</pre>
<a name='General_TP_Info'></a><h2>General_TP_Info</h2>

<pre> General_TP_Info();

</pre>
<pre>SUBROUTINE  : General_TP_Info
DESCRIPTION : Set message hash parameters with general TP information</pre>
<pre>IN  : None
OUT : \%1 - Some message parameters</pre>
<a name='GetLastResult'></a><h2>GetLastResult</h2>

<pre> GetLastResult();

</pre>
<pre>SUBROUTINE  : GetLastResult
DESCRIPTION : Returns LastResult (result returned from section p a or c)</pre>
<pre>IN  : None
OUT : The value of $Glob_LastResult</pre>
<a name='GetRunResult'></a><h2>GetRunResult</h2>

<pre> GetRunResult();

</pre>
<pre>COMMENT: Returns RunResult (aggregated result since commandline)
IN: None
OUT: The value of $Glob_RunResult</pre>
<a name='Get_CPY_SPEC'></a><h2>Get_CPY_SPEC</h2>

<pre> Get_CPY_SPEC();

</pre>
<pre>SUBROUTINE  : Get_CPY_SPEC
DESCRIPTION : Access functions for the Program description. Relies
              on the context globals.</pre>
<pre>IN  : None
OUT : Reference to SPEC sub-hash</pre>
<a name='Get_Exists'></a><h2>Get_Exists</h2>

<pre> Get_Exists();

</pre>
<pre>SUBROUTINE  : Get_Exists
DESCRIPTION : Return given hash item if it exists, so that the caller doesn't
              have to reference the key twice to avoid a warning. Doesn't unpack
              to save time.</pre>
<pre>IN  : \%1 - Hash
       $2 - Hash key to check/return.
OUT :  $1 - The value of indicated key, or undef if it doesn't exist</pre>
<a name='Get_Logs'></a><h2>Get_Logs</h2>

<pre> Get_Logs();

</pre>
<pre>SUBROUTINE  : Get_Logs
DESCRIPTION : Get log list</pre>
<pre>IN  : None (using context globals)
OUT : \%1 - log list</pre>
<a name='Get_No_Of_SUBA'></a><h2>Get_No_Of_SUBA</h2>

<pre> Get_No_Of_SUBA();

</pre>
<pre>SUBROUTINE  : Get_No_Of_SUBA
DESCRIPTION : Access functions for the Program description. Relies
              on the context globals.</pre>
<pre>IN  : None
OUT : No. of subactions for current TC</pre>
<a name='Get_PAR'></a><h2>Get_PAR</h2>

<pre> Get_PAR();

</pre>
<pre>SUBROUTINE  : Get_PAR
DESCRIPTION : Get parameters</pre>
<pre>IN  : None (using context globals)
OUT : \%1 - Parameter list</pre>
<a name='Get_SPEC'></a><h2>Get_SPEC</h2>

<pre> Get_SPEC();

</pre>
<pre>SUBROUTINE  : Get_SPEC
DESCRIPTION : Access functions for the Program description. Relies
              on the context globals.</pre>
<pre>IN  : None
OUT : Reference to SPEC sub-hash</pre>
<a name='Get_SUBTC_Index'></a><h2>Get_SUBTC_Index</h2>

<pre> Get_SUBTC_Index();

</pre>
<pre>SUBROUTINE  : Get_SUBTC_Index
DESCRIPTION : Find the current subtest in the SUBTC array and
              return its index.</pre>
<pre>IN  : None  (to keep it fast)
OUT : The array index</pre>
<a name='Get_SUBTC_List'></a><h2>Get_SUBTC_List</h2>

<pre> Get_SUBTC_List();

</pre>
<pre>SUBROUTINE  : Get_SUBTC_List
DESCRIPTION : Return list of subtests</pre>
<pre>IN  : None (using context globals)
OUT : \@1 - List of subtests</pre>
<a name='Get_Search_List'></a><h2>Get_Search_List</h2>

<pre> Get_Search_List();

</pre>
<pre>SUBROUTINE  : Get_Search_List
DESCRIPTION : Generate list of names for a test with increasing
              number of wildcards.
              Needs global context variables to be set</pre>
<pre>IN  : $1 - Prefix to prepend to each name
OUT : An array of names to try</pre>
<a name='Get_Specs'></a><h2>Get_Specs</h2>

<pre> Get_Specs();

</pre>
<pre>SUBROUTINE  : Get_Specs
DESCRIPTION : Return list of supported specs</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Get_TC'></a><h2>Get_TC</h2>

<pre> Get_TC();

</pre>
<pre>SUBROUTINE  : Get_TC
DESCRIPTION : Access functions for the Program description. Relies
              on the context globals.
              If a TC is not found a retry is made with a version of TC with
              initial zeros stripped</pre>
<pre>IN  : None
OUT : Reference to TC sub-hash</pre>
<a name='Get_TC_List'></a><h2>Get_TC_List</h2>

<pre> Get_TC_List();

</pre>
<pre>SUBROUTINE  : Get_TC_List
DESCRIPTION : Generate list of testcases in correct order.</pre>
<pre>IN  : $1 - Reference to hash of testcases (as pointed
      out by SPEC in %Program_Description).
      $2 - Take out old revisions if set</pre>
<pre>OUT : \@1 - TC's with revision in execution order</pre>
<a name='Get_Test_String'></a><h2>Get_Test_String</h2>

<pre> Get_Test_String();

</pre>
<pre>SUBROUTINE  : Get_Test_String
DESCRIPTION : Pack a test name string using global context variables</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Get_Timeout'></a><h2>Get_Timeout</h2>

<pre> Get_Timeout();

</pre>
<pre>SUBROUTINE  : Get_Timeout
DESCRIPTION : Get timeout</pre>
<pre>IN  : None (using context globals)
OUT : $1 - Timeout</pre>
<a name='Get_Tools'></a><h2>Get_Tools</h2>

<pre> Get_Tools();

</pre>
<pre>SUBROUTINE  : Get_Tools
DESCRIPTION : Get needed test instruments</pre>
<pre>IN  : None (using context globals)
OUT : \%1 - log list</pre>
<a name='Get_Tries'></a><h2>Get_Tries</h2>

<pre> Get_Tries();

</pre>
<pre>SUBROUTINE  : Get_Tries
DESCRIPTION : Generate list of values to try for a particular
              context global. If the global is undefined or null
              then a null list is returned.</pre>
<pre>IN  : $1 - Name of a context global
OUT : List of names to try</pre>
<a name='Help'></a><h2>Help</h2>

<pre> Help();

</pre>
<pre>SUBROUTINE  : Help
DESCRIPTION : Print requested help info</pre>
<pre>IN  : %1 - Command hash
OUT : None</pre>
<a name='Help_Context'></a><h2>Help_Context</h2>

<pre> Help_Context();

</pre>
<pre>SUBROUTINE  : Help_Context
DESCRIPTION : Describe run-time context</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Help_Doc'></a><h2>Help_Doc</h2>

<pre> Help_Doc();

</pre>
<pre>SUBROUTINE  : Help_Doc
DESCRIPTION : Give general program information (only available
              at run-time)</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Help_Test'></a><h2>Help_Test</h2>

<pre> Help_Test();

</pre>
<pre>SUBROUTINE  : Help_Test
DESCRIPTION : Print out info about test on different levels</pre>
<pre>IN  : $1 - Test name - same format as in ordinary
      commands + spec no. only
OUT : True if correct/supported test name, false otherwise</pre>
<a name='Help_Test_Get_PAC'></a><h2>Help_Test_Get_PAC</h2>

<pre> Help_Test_Get_PAC();

</pre>
<pre>SUBROUTINE  : Help_Test_Get_PAC
DESCRIPTION : Generate PAC list (Auxiliary to Help_Test)
              Needs global context variables to be set</pre>
<pre>IN  : None
OUT : Array of values representing the PAC and sub-actions</pre>
<a name='Init'></a><h2>Init</h2>

<pre> Init();

</pre>
<pre>SUBROUTINE  : Init
DESCRIPTION : See help text for corresponding user command.</pre>
<pre>IN  : $1 - Command hash
OUT : None</pre>
<a name='Init_ABISCO'></a><h2>Init_ABISCO</h2>

<pre> Init_ABISCO();

</pre>
<pre>SUBROUTINE  : Init_ABISCO
DESCRIPTION : Bend ABISCO into shape for function test</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Init_Client_Socket'></a><h2>Init_Client_Socket</h2>

<pre> Init_Client_Socket();

</pre>
<pre>SUBROUTINE  : Init_Client_Socket
DESCRIPTION : Make this program a socket server instead
              of using STDIO for the client interface
              The client must be started between the 'new' and
              the accept to avoid a race condition between the
              socket setup and the client startup.</pre>
<pre>IN  : $1 - IP host name (the name of this computer)
      $2 - IP port number that this program serves</pre>
<pre>OUT : None</pre>
<a name='Init_Command_Loop'></a><h2>Init_Command_Loop</h2>

<pre> Init_Command_Loop();

</pre>
<pre>SUBROUTINE  : Init_Command_Loop
DESCRIPTION : Set up defaults and call Program Init routine.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Init_Globals'></a><h2>Init_Globals</h2>

<pre> Init_Globals();

</pre>
<pre>SUBROUTINE  : Init_Globals
DESCRIPTION : Set up defaults for TP global ((loop) parameters, and some
              locally used globals</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Init_Spec'></a><h2>Init_Spec</h2>

<pre> Init_Spec();

</pre>
<pre>SUBROUTINE  : Init_Spec
DESCRIPTION : Pick a default SPEC (TS). Use the one with the
              lowest number. The UG says to favour RS2000, but
              that's the same thing.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Int_Handler'></a><h2>Int_Handler</h2>

<pre> Int_Handler();

</pre>
<pre>SUBROUTINE  : Int_Handler
DESCRIPTION : Handle SIGINT</pre>
<pre>IN  : $1 - File handle
OUT : One line of input</pre>
<a name='Log'></a><h2>Log</h2>

<pre> Log();

</pre>
<pre>SUBROUTINE  : Log
DESCRIPTION : Put string in ABISCO log file. Newlines are re-
              moved and converted since they mean end of comment
              in ABISCO (an improvement would be to make one log
              call per line). 'Do' is used instead of 'Put' to
              get rid of the new CH prompt. A period is added last
              in case it ends with ',', the CH otherwise waits
              for more without issuing a new prompt (the dot felt
              cheaper than substitution, this routine is called a lot).</pre>
<pre>IN  : $1 - String to log,
      or \%1 - Message hash</pre>
<pre>OUT : None</pre>
<a name='Log_Test'></a><h2>Log_Test</h2>

<pre> Log_Test();

</pre>
<pre>SUBROUTINE  : Log_Test
DESCRIPTION : Log test started/stopped</pre>
<pre>IN  : $1 - A prefix character to use as marker
      $2 - The name of the object to log
      $3 - The action (Start or End)</pre>
<pre>OUT : None</pre>
<a name='Loop_Exclude'></a><h2>Loop_Exclude</h2>

<pre> Loop_Exclude();

</pre>
<pre>SUBROUTINE  :Loop_Exclude
DESCRIPTION : Return true if the current iteration should be
              excluded. Currently checks all values, set by TP, PD, predef
              or command line. To only check values set per iteration, use
              the 'Saved' hash.</pre>
<pre>IN  : None (looks at the current variable settings in main::)
OUT : $1 - True if this iteration should be skipped (i.e. forbidden
      combination or not in random pick)</pre>
<a name='Loop_Init'></a><h2>Loop_Init</h2>

<pre> Loop_Init();

</pre>
<pre>SUBROUTINE  : Loop_Init
DESCRIPTION : Initialize indices for loop parameters. This must be done after
              the TC is selected, since the parameters must be case-corrected
              first.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Loop_Step'></a><h2>Loop_Step</h2>

<pre> Loop_Step();

</pre>
<pre>SUBROUTINE  : Loop_Step
DESCRIPTION : Advance loop parameter indices. If one wraps around then goto
              the next one.</pre>
<pre>IN  : None
OUT : $1 - False on overflow (all came to zero again), true otherwise</pre>
<a name='Manual_Prompt'></a><h2>Manual_Prompt</h2>

<pre> Manual_Prompt();

</pre>
<pre>SUBROUTINE  : Manual_Prompt
DESCRIPTION : Transform a tool command into a user prompt</pre>
<pre>IN  : $1 - Intercepting Abisco_Connection instance
      \%2 - Message hash</pre>
<pre>OUT : None</pre>
<a name='Manual_UL'></a><h2>Manual_UL</h2>

<pre> Manual_UL();

</pre>
<pre>SUBROUTINE  : Manual_UL
DESCRIPTION : Intercepts Get calls that expect input from a manual tool</pre>
<pre>IN  : $1 - Intercepting Abisco_Connection instance
      \%2 - Expected message</pre>
<pre>OUT : None</pre>
<a name='Opt_Step'></a><h2>Opt_Step</h2>

<pre> Opt_Step();

</pre>
<pre>SUBROUTINE  : Opt_Step
DESCRIPTION : Switch step mode on or off.</pre>
<pre>IN  : $1 - 'Step'
      $2 - Perl true/false depending on whether the option is set on or off</pre>
<pre>OUT : None</pre>
<a name='Override'></a><h2>Override</h2>

<pre> Override();

</pre>
<pre>SUBROUTINE  : Override
DESCRIPTION : Register a parameter override. This is just a
              simplified interface to Replace. Parameters are
              taken to be literal.</pre>
<pre>IN  : $1 - Pointer to call hash, tag names as in user command</pre>
<pre>OUT : If no args return pointer to hash of all
      replacements (old=&gt;new pairs)</pre>
<a name='Pad'></a><h2>Pad</h2>

<pre> Pad();

</pre>
<pre>SUBROUTINE  : Pad
DESCRIPTION : Pad string with blanks upto indicated length.
              Longer strings are left intact.</pre>
<pre>IN  : $1 - Length to pad to
      $2 - String to pad</pre>
<pre>OUT : Padded string</pre>
<a name='Parse_Parameters'></a><h2>Parse_Parameters</h2>

<pre> Parse_Parameters();

</pre>
<pre>SUBROUTINE  : Parse_Parameters
DESCRIPTION : Check parameter list against program description. Also modify the
              letter case in parameter names. Also case correct the exclude lists
              (the casing may be different to the previous TC).</pre>
<pre>IN  : $1 - Parameter list from the program description
      $2 - The current command (with parameters)</pre>
<pre>OUT : None</pre>
<a name='Print'></a><h2>Print</h2>

<pre> Print();

</pre>
<pre>SUBROUTINE  : Print
DESCRIPTION : Write a string to the client. Also put string
              in ABISCO log (unless $3).</pre>
<pre>IN  : $1 - Tag (see CH for general info)
      $2 - String to output, line-feed must be set by the caller
      or \%2 - Message hash
      $3 - If set then do not log
      $4 - Raw mode, output raw text without (much) editing</pre>
<pre>OUT : None</pre>
<a name='Print_Array'></a><h2>Print_Array</h2>

<pre> Print_Array();

</pre>
<pre>SUBROUTINE  : Print_Array
DESCRIPTION : Print array. The tag is set for the whole block.</pre>
<pre>IN  : $1 - Tag
      $2 - Pointer to an array of text lines
OUT : None</pre>
<a name='Print_Hash'></a><h2>Print_Hash</h2>

<pre> Print_Hash();

</pre>
<pre>SUBROUTINE  : Print_Hash
DESCRIPTION : Print a standard call hash to client</pre>
<pre>IN  : $1 - Tag (see option -tag in the UG)
      $2 - Pointer to standard ABISCO call hash
           (same as in 'Do')
      $3 - Pretty print if true
      $4 - Log</pre>
<pre>OUT : None</pre>
<a name='Prompt'></a><h2>Prompt</h2>

<pre> Prompt();

</pre>
<pre>SUBROUTINE  : Prompt
DESCRIPTION : Ask client for input. If no args then ask for 'enter'</pre>
<pre>IN  : $1 - Prompt string
      $2 - Must stop if set (overrides -nonstop)
      $3 - Idle, turn off ABISCO input if set (avoid input
      buffer overflow)
      $4 - Reduced formatting (internal use)
      $5 - No logging if true (internal?), do not log UL if 'UL'</pre>
<pre>OUT : The client input line</pre>
<a name='Purify'></a><h2>Purify</h2>

<pre> Purify();

</pre>
<pre>SUBROUTINE  : Purify
DESCRIPTION : Normalize test name and remove unnecessary delimiters</pre>
<pre>IN  : $1 - A test name that may have extraneous delimiters
OUT : A corrected name</pre>
<a name='Quit'></a><h2>Quit</h2>

<pre> Quit();

</pre>
<pre>SUBROUTINE  : Quit
DESCRIPTION : Terminate processing.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Quit_Handler'></a><h2>Quit_Handler</h2>

<pre> Quit_Handler();

</pre>
<pre>SUBROUTINE  : Quit_Handler
DESCRIPTION : Handle SIGQUIT</pre>
<pre>IN  : $1 - File handle
OUT : One line of input</pre>
<a name='Read'></a><h2>Read</h2>

<pre> Read();

</pre>
<pre>SUBROUTINE  : Read
DESCRIPTION : Read from client. Also emulate interrupts. This could have
              been a simple readline if it hadn't been for the interrupt
              handling.</pre>
<pre>IN  : $1 - File handle to read from
OUT : One line of input, or 0 if EOF, or undef on error</pre>
<a name='Replace'></a><h2>Replace</h2>

<pre> Replace();

</pre>
<pre>SUBROUTINE  : Replace
DESCRIPTION : Register a regular expression replacement request.
              The data is used just before transmission to Abisco</pre>
<pre>IN  : $1 - Command hash
OUT : If no args print all replacements</pre>
<a name='Respond'></a><h2>Respond</h2>

<pre> Respond();

</pre>
<pre>SUBROUTINE  : Respond
DESCRIPTION : Give the client a message.</pre>
<pre>IN  : \%1 - Command hash, default tag is "RESP"
      or   %1 - see previous line
      $2 - No_Log if set (to anything)</pre>
<pre>OUT : None</pre>
<a name='Restore_Parameters'></a><h2>Restore_Parameters</h2>

<pre> Restore_Parameters();

</pre>
<pre>SUBROUTINE  : Restore_Parameters
DESCRIPTION : Restore the main programs original values, so that command
              line overrides are not remembered, or in case the TP PAR list
              was overriding globals in main.</pre>
<pre>IN  : \%1 - A hash with variables/values to restore
OUT : None</pre>
<a name='Run'></a><h2>Run</h2>

<pre> Run();

</pre>
<pre>SUBROUTINE  : Run
DESCRIPTION : See help text for corresponding user command.</pre>
<pre>IN  : $1 - Command hash
OUT : None</pre>
<a name='Run_Leaf'></a><h2>Run_Leaf</h2>

<pre> Run_Leaf();

</pre>
<pre>SUBROUTINE  : Run_Leaf
DESCRIPTION : Log and run leaf, i e PAC</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Run_PAC'></a><h2>Run_PAC</h2>

<pre> Run_PAC();

</pre>
<pre>SUBROUTINE  : Run_PAC
DESCRIPTION : Run prerequisite, action or cleanup</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Run_SUBA'></a><h2>Run_SUBA</h2>

<pre> Run_SUBA();

</pre>
<pre>SUBROUTINE  : Run_SUBA
DESCRIPTION : Run subactions</pre>
<pre>IN  : Arg1 - No. of subactions
OUT : None</pre>
<a name='Run_SUBTC'></a><h2>Run_SUBTC</h2>

<pre> Run_SUBTC();

</pre>
<pre>SUBROUTINE  : Run_SUBTC
DESCRIPTION : Set up parameters and run PACs</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Run_Spec'></a><h2>Run_Spec</h2>

<pre> Run_Spec();

</pre>
<pre>SUBROUTINE  : Run_Spec
DESCRIPTION : Run all tests for one spec. If there are more than
              one revision of a testcase then pick the latest.</pre>
<pre>IN  : None
OUT : None</pre>
<a name='Run_TC'></a><h2>Run_TC</h2>

<pre> Run_TC();

</pre>
<pre>SUBROUTINE  : Run_TC
DESCRIPTION : Run all subtests of one testcase. Also works if
              subtest level is missing.</pre>
<pre>IN  : None, context globals must be set
OUT : None</pre>
<a name='Run_Test'></a><h2>Run_Test</h2>

<pre> Run_Test();

</pre>
<pre>SUBROUTINE  : Run_Test
DESCRIPTION : Run a test - any level except SPEC
              Global context variables must be set first</pre>
<pre>IN  : $1 - User command
OUT : None</pre>
<a name='Save_Par'></a><h2>Save_Par</h2>

<pre> Save_Par();

</pre>
<pre>SUBROUTINE  : Save_Par
DESCRIPTION : Save command line parameters for later check and use. Stores
              lowercased, the case can be restored with the TC parameter,
              we might not have a TC yet if it's spec level execution.</pre>
<pre>IN  : \%1 - Parameter msg sub-hash
OUT : None</pre>
<a name='Set_Effective_Parameters'></a><h2>Set_Effective_Parameters</h2>

<pre> Set_Effective_Parameters();

</pre>
<pre>SUBROUTINE  : Set_Effective_Parameters
DESCRIPTION : Set globals in main for this SUBTC/Loop, either from the
              program description or the command line.</pre>
<pre>IN  : \%1 - Parameter list from program declaration
      \%2 - The user command (letter case corrected)
      $3 - Parameter index (relative position) of current SUBTC (0 if none)</pre>
<pre>OUT : \%1 - Names/Values of all original values</pre>
<a name='Set_Options'></a><h2>Set_Options</h2>

<pre> Set_Options();

</pre>
<pre>SUBROUTINE  : Set_Options
DESCRIPTION : Parse command line options and set corresponding
              globals in package main (to make other packages
              independent of this package). Must be called before</pre>
<pre>IN  : @ARGV (or similar)
OUT : None</pre>
<a name='Split_TC'></a><h2>Split_TC</h2>

<pre> Split_TC();

</pre>
<pre>SUBROUTINE  : Split_TC
DESCRIPTION : Split string of test case number and revision into
              two separate items, eg: "99Z" to (99Z,"").</pre>
<pre>IN  : String to split
OUT : List of format (No, Rev)</pre>
<a name='Step'></a><h2>Step</h2>

<pre> Step();

</pre>
<pre>SUBROUTINE  : Step
DESCRIPTION : Trig routine for handling of debug-step mode</pre>
<pre>IN  : $1 - Intercepting Abisco_Connection instance
      \%2 - Message hash</pre>
<pre>OUT : $1 - 'Next' not to shaddow other triggers</pre>
<a name='Try'></a><h2>Try</h2>

<pre> Try();

</pre>
<pre>SUBROUTINE  : Try
DESCRIPTION : See help text for corresponding user command.</pre>
<pre>IN  : $1 - Command hash
OUT : If no args print all replacements</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Util</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 7/190 55-CAH 161 1290/1 Uen
MODULE      : Util.pm
DESCRIPTION : Miscellaneous auxiliary routines to do with perl
              and the computer system (not with the BTS).</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
P1A 991101    QRAJRHD             Created from texas support (complete
                                  needed by util.c).
P1B 000104    QRAJRHD             Canonicalize paths in 'Complete'
P1C 000221    QRAJRHD             use Carp;
P1D 000221    QRAJRHD             Remove "\.\" from paths
P1E 011107    QRAJRHD             Moving in time string routines from Texas
A   20110810  ETORWIL   XLEIMAR   Converted script using strict warnings and
                                   diagnostics, this is a quality improvment.
                                   Moved code into new code template.</pre>
<pre>Please note from 2011-06-20 this is a document not a product</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?File::Spec'>File::Spec</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?File::Basename'>File::Basename</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Cwd'>Cwd</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='Complete'></a><h2>Complete</h2>

<pre> Complete();

</pre>
<pre>SUBROUTINE  : Complete
DESCRIPTION : Complete file name into full path (if needed)</pre>
<pre>IN  : $1 - Possibly incomplete file name
      $2 - Default type
      @3 - List of directories to search, don't verify presence if not set.
OUT : $1 - Full absolute path or
      @1 - Name, path and suffix</pre>
<a name='Date_String'></a><h2>Date_String</h2>

<pre> Date_String();

</pre>
<pre>SUBROUTINE  : Date_String
DESCRIPTION : Compose a date-time string the way VASS likes it.</pre>
<pre>IN  : $1 - Time as returned from 'time'  (default is current time)
OUT : $1 - YYYY-MM-DD</pre>
<a name='Date_Time'></a><h2>Date_Time</h2>

<pre> Date_Time();

</pre>
<pre>SUBROUTINE  : Date_Time
DESCRIPTION : Compose date-time string</pre>
<pre>IN  : $1 - Time as returned from 'time' (default is current time)
OUT : $1 - YYYY-MM-DD HH:MM:SS</pre>
<a name='Join'></a><h2>Join</h2>

<pre> Join();

</pre>
<pre>SUBROUTINE  : &lt;Template example row, please remove if not applicable&gt;
DESCRIPTION : Compile file name parts (as returned by Complete or
              fileparse) into file name.</pre>
<pre>IN  : $1 - Name
      $2 - Directory
      $3 - Suffix
OUT : $1 - Full path</pre>
<a name='Time_String'></a><h2>Time_String</h2>

<pre> Time_String();

</pre>
<pre>SUBROUTINE  : Time_String
DESCRIPTION : Compose a time of day string.</pre>
<pre>IN  : $1 - Time as returned from 'time' (default is current time)
OUT : $1 - HH:MM:SS</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>wireshark</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 39/190 55-CAH 161 1290/1 Uen
MODULE      : wireshark.pm
DESCRIPTION : LSU monitoring subroutines, such as Tshark logging.</pre>
<pre>COPYRIGHT ?: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE     NAME    REVIEW  COMMENT
P1A 20091013 ERATZIS         Created based on mssim.pm
P1B 20091021 ERATZIS         Added lsuOpenAbisWLog, lsuReadAbisWLog, createMessageLogFromWLog
P1C 20091112 ERATZIS         Added checkIfParameterInLog, createMSSIMMessageLogFromWLog, convLittleEndianToBigEndian
P1D 20100218 UABJAES         Added CodecControlIndex in pgslC-hash.
P1E 20100305 ESTEMOH         Return ProcessObj from lsuStartWlog
P1F 20100531 ESTEMOH         Changed to handle multiple channels
P1G 20100611 ESTEMOH         Changed handling of ProcessObj in lsuWaitWLog
P1H 20100907 ESTEMOH         Added %REQ in lsuWaitWLog
A   20110704 XGUSTPE XLEIMAR Updated to new script template.
                              Added document number.
                              Added lock_keys hash checking on input
                              Removed unused variables MsgLength, Buffer1, Buffer2
                              Removed Abisco_Connection and User unused code.
                              Imported missing Hash::Util
                              Made filehandle $Handle global within this package scope.
                               $Handle is still passed as an argument between functions
                               within this package to avoid issues when functions in
                               this packet are called externally.
                              Added check for undef value in subroutine lsuOpenWLog.
                              Exported variables needed in Subs_PacketData.pm
                              Added support for pe_tshark and backwards
                               compatibility.
B   20111020 XLEIMAR ETORWIL Improved lsuStartWLog.
C   20111222 XNAVNAS EDAMELI HP22348 Edited lsuStartWLog to accept another command,
                              abis_or_um, used for automatically defining filenames.
D   20120615 EDAMELI XANSBEM Corrected bug in lsuReadWLog (HP99452)
E   20120827 ETORWIL EDAMELI Implemented workaround in lsuStartWLog due to threading issue in Perl</pre>
<pre>Note that on 2011-06-20 the revision style was changed back to A, B and so on.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?threads'>threads</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='checkIfParameterInLog'></a><h2>checkIfParameterInLog</h2>

<pre> checkIfParameterInLog();

</pre>
<pre>SUBROUTINE  : checkIfParameterInLog
DESCRIPTION : Check if a parameter exists in a Log</pre>
<pre>IN  : $Input{Parameter}
      $Input{LogFile}               Message file containing Hex dump as string
      $Input{SameAsPreviousFN}      Sametimes the modified FN may be the same as the previous, correct one. For instance if aFN-4.
OUT : $Resp{Result}                 Result =&gt; '1' if found or Result =&gt; '0' if not found"
      $Resp{ResultText}             ResultText =&gt; "Found" or ResultText =&gt; "Not Found"
      $Resp{FoundSameAsPreviousFN}  '1' if same FN is the same as previous one</pre>
<a name='convLittleEndianToBigEndian'></a><h2>convLittleEndianToBigEndian</h2>

<pre> convLittleEndianToBigEndian();

</pre>
<pre>SUBROUTINE  : convLittleEndianToBigEndian
DESCRIPTION : To convert a string with Hex in LittleEndian to Big Endian
              Example: String 1F F4 CC is converted to CCF41F (also, spaces are removed)</pre>
<pre>IN  : $Str                String to be converted
      $NbrOfOctets        Number of octets, in the example above: 3
OUT : $ShiftedStr         Converted string</pre>
<a name='createLoggingThr'></a><h2>createLoggingThr</h2>

<pre> createLoggingThr();

</pre>
<a name='createMSSIMMessageLogFromWLog'></a><h2>createMSSIMMessageLogFromWLog</h2>

<pre> createMSSIMMessageLogFromWLog();

</pre>
<pre>SUBROUTINE  : createMSSIMMessageLogFromWLog
DESCRIPTION : Create Message log From Wireshark Log</pre>
<pre>IN  : $Input{WLogFile}        Wireshark MSSIM Log File
      $Input{PGSLLogFile}     Message file name
OUT : $Config{PGSLLogFile}    Message File containing Frame number and Hex dump as string, one per Wireshark log line</pre>
<a name='createMessageLogFromWLog'></a><h2>createMessageLogFromWLog</h2>

<pre> createMessageLogFromWLog();

</pre>
<pre>SUBROUTINE  : createMessageLogFromWLog
DESCRIPTION : Create Message log From Wireshark Log</pre>
<pre>IN  : $Input{WLogFile}        Wireshark Log File
      $Input{PGSLLogFile}     Message file containing Hex dump as string, one per Wireshark log line
OUT : $Config{PGSLLogFile}    Message File containing containing Hex dump as string, one per Wireshark log line</pre>
<a name='lsuCloseWLog'></a><h2>lsuCloseWLog</h2>

<pre> lsuCloseWLog();

</pre>
<pre>SUBROUTINE  : lsuCloseWLog
DESCRIPTION : To close a binary Wireshark log</pre>
<pre>IN  : $Input{FileHandle}    File Handle
OUT : $Resp{Result}         Result Code (0=OK)
      $Resp{Reason}         Result Text</pre>
<a name='lsuOpenAbisWLog'></a><h2>lsuOpenAbisWLog</h2>

<pre> lsuOpenAbisWLog();

</pre>
<pre>SUBROUTINE  : lsuOpenAbisWLog
DESCRIPTION : To open a binary LSU log and read the Basic Header,
              Counters and Channel Desciptors</pre>
<pre>IN  : $Input{FileHandle}      File Handle
      $Input{FilePath}        File path including file name
OUT : $Resp{Result}           Result Code (0=OK)
      $Resp{Reason}           Result Text
      $Resp{NoOfChannels}     Number of Channels
      $Resp{NoOfPackets}      Number of Packets (total for all channels)</pre>
<pre>      For all parameters below, see see LSU Ethereal User's manual edition 1.50 or later,
      chapter "Channel descriptors"

      $Resp{$Channel}{Domain}
      $Resp{$Channel}{Protocol}
      $Resp{$Channel}{PpuNbr}
      $Resp{$Channel}{SccRate}
      $Resp{$Channel}{UplinkChNbr}
      $Resp{$Channel}{DownlinkChNbr}
      $Resp{$Channel}{InterfaceCode}
      $Resp{$Channel}{ProcObjType}
      $Resp{$Channel}{Spare}
      $Resp{$Channel}{FilterMap}
      $Resp{$Channel}{UplinkPcmNbr}
      $Resp{$Channel}{DownLinkPcmNbr}
      $Resp{$Channel}{UplinkTsMask}
      $Resp{$Channel}{DownLinkTsMask})
      $Resp{$Channel}{UserLabelRxUl}
      $Resp{$Channel}{UserLabelTxDl}
      $Resp{$Channel}{ProcObjDescr}
      $Resp{$Channel}{ProtParamLength}
      $Resp{$Channel}{ProtParam}


</pre>
<a name='lsuOpenWLog'></a><h2>lsuOpenWLog</h2>

<pre> lsuOpenWLog();

</pre>
<pre>SUBROUTINE  : lsuOpenWLog
DESCRIPTION : To open a binary LSU created by MSSIM
              This subroutine will use lsuOpenAbisWLog</pre>
<pre>IN  : $Input{FileHandle}      File Handle
      $Input{FilePath}        File path including file name
OUT : See lsuOpenAbisWLog</pre>
<a name='lsuReadAbisWLog'></a><h2>lsuReadAbisWLog</h2>

<pre> lsuReadAbisWLog();

</pre>
<pre>SUBROUTINE  : lsuReadAbisWLog
DESCRIPTION : To read a ABIS record including Common Trace header and SDR header from a Wireshark log</pre>
<pre>IN  : $Input{FileHandle}    File Handle
OUT : $Resp{Message}        Messaged unpacked
      $Resp{MsgType}        Message Type, see LSU Ethereal User's manual edition 1.50 or later
      $Resp{Direction}      0 = Uplink, 1= Downlink
      $Resp{MsgLength}      Message Type, see LSU Ethereal User's manual edition 1.50 or later
      $Resp{Result}
      $Resp{Reason}</pre>
<pre>      For all parameters below, see see LSU Ethereal User's manual edition 1.50 or later,
      chapter "Additional header for GSM SDR radio Messages"

      $Resp{TimestampSec},
      $Resp{TimestampMic},
      $Resp{NoOfSavedOct},
      $Resp{MsgLength},
      $Resp{ChannelId},
      $Resp{MsgType},
      $Resp{ErrorCode},
      $Resp{Spare10},
      $Resp{LostMsg},
      $Resp{MsgDiscr},


</pre>
<a name='lsuReadWLog'></a><h2>lsuReadWLog</h2>

<pre> lsuReadWLog();

</pre>
<pre>SUBROUTINE  : lsuReadWLog
DESCRIPTION : To read a record including Common Trace header and SDR header from a Wireshark log</pre>
<pre>IN  : $Input{FileHandle}    File Handle
OUT : $Resp{Message}        Messaged unpacked
      $Resp{MsgType}        Message Type, see LSU Ethereal User's manual edition 1.50 or later
      $Resp{Direction}      0 = Uplink, 1= Downlink
      $Resp{MsgLength}      Message Type, see LSU Ethereal User's manual edition 1.50 or later
      $Resp{Result}
      $Resp{Reason}</pre>
<pre>      For all parameters below, see see LSU Ethereal User's manual edition 1.50 or later,
      chapter "Additional header for GSM SDR radio Messages"

      $Resp{TimestampSec},
      $Resp{TimestampMic},
      $Resp{NoOfSavedOct},
      $Resp{MsgLength},
      $Resp{ChannelId},
      $Resp{MsgType},
      $Resp{ErrorCode},
      $Resp{Spare10},
      $Resp{LostMsg},
      $Resp{MsgDiscr},
      $Resp{FN},
      $Resp{TRX},
      $Resp{Timeslot},
      $Resp{SubTimeslot},
      $Resp{ChannelType},
      $Resp{BurstType},
      $Resp{TimeDelay},
      $Resp{CodingScheme},
      $Resp{CodecType},
      $Resp{Power0},
      $Resp{Power1},
      $Resp{Power2},
      $Resp{Power3},
      $Resp{SNR0},
      $Resp{SNR1},
      $Resp{SNR2},
      $Resp{SNR3},
      $Resp{RfLevel0},
      $Resp{RfLevel1},
      $Resp{RfLevel2},
      $Resp{RfLevel3},
      $Resp{DemodulationMask},
      $Resp{RxStatus},
      $Resp{PagingGroup},
      $Resp{Spare1},
      $Resp{Spare2},
      $Resp{USF},
      $Resp{BitLength}


</pre>
<a name='lsuStartWLog'></a><h2>lsuStartWLog</h2>

<pre> lsuStartWLog();

</pre>
<pre>SUBROUTINE  : lsuStartWLog
DESCRIPTION : To create a log file by use of Tshark
              Note! Either duration or Filesize must be given</pre>
<pre>IN  : $Input{interface}    Mandatory, name of the cfg file
      $Input{savefile}     Mandatory, path and file save file
      $Input{duration}     Optional, duration in seconds
      $Input{Filesize}     Optional, filesize in KB
      $Input{files}        Optional, Number of Ring files
      $Input{abis_or_um}   Optional, state whether Interface is ABIS or UM
OUT : $Resp{Result}        Result Code (0=OK)
      $Resp{Reason}        Result Text
      $Resp{ProcessObj}    Process Object</pre>
<a name='lsuWaitWLog'></a><h2>lsuWaitWLog</h2>

<pre> lsuWaitWLog();

</pre>
<pre>SUBROUTINE  : lsuWaitWLog
DESCRIPTION : To wait for Tshark to complete</pre>
<pre>IN  : $Input{ProcessObj}    ProcessObj returned from lsuStartWLog
OUT : $Resp{Result}         Result Code (0=OK)
      $Resp{Reason}         Result Text</pre>


<div></div></body></html>
