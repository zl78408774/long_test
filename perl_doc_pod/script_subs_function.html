<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Pod::HtmlEasy/0.07 Perl/5.016003 [MSWin32]">
<title>out.pod</title>
<style type="text/css">
<!--

BODY {
  background: white;
  color: black;
  font-family: arial,sans-serif;
  margin: 0;
  padding: 1ex;
}
TABLE {
  border-collapse: collapse;
  border-spacing: 0;
  border-width: 0;
  color: inherit;
}
IMG { border: 0; }
FORM { margin: 0; }
input { margin: 2px; }
A.fred {
  text-decoration: none;
}
A:link, A:visited {
  background: transparent;
  color: #006699;
}
TD {
  margin: 0;
  padding: 0;
}
DIV {
  border-width: 0;
}
DT {
  margin-top: 1em;
}
TH {
  background: #bbbbbb;
  color: inherit;
  padding: 0.4ex 1ex;
  text-align: left;
}
TH A:link, TH A:visited {
  background: transparent;
  color: black;
}
A.m:link, A.m:visited {
  background: #006699;
  color: white;
  font: bold 10pt Arial,Helvetica,sans-serif;
  text-decoration: none;
}
A.o:link, A.o:visited {
  background: #006699;
  color: #ccffcc;
  font: bold 10pt Arial,Helvetica,sans-serif;
  text-decoration: none;
}
A.o:hover {
  background: transparent;
  color: #ff6600;
  text-decoration: underline;
}
A.m:hover {
  background: transparent;
  color: #ff6600;
  text-decoration: underline;
}
table.dlsip     {
  background: #dddddd;
  border: 0.4ex solid #dddddd;
}
.pod PRE     {
  background: #eeeeee;
  border: 1px solid #888888;
  color: black;
  padding-top: 1em;
  white-space: pre;
}
.pod H1      {
  background: transparent;
  color: #006699;
  font-size: large;
}
.pod H2      {
  background: transparent;
  color: #006699;
  font-size: medium;
}
.pod IMG     {
  vertical-align: top;
}
.pod .toc A  {
  text-decoration: none;
}
.pod .toc LI {
  line-height: 1.2em;
  list-style-type: none;
}

--></style>
</head>
<body alink="#FF0000" bgcolor="#FFFFFF" link="#000000" text="#000000" vlink="#000066"><a name='_top'></a>

<div class="toc">
<ul>
<li><a href='#NAME'>NAME subs_adaptiveframealignment</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChCleanBTS'>ChCleanBTS</a>
<li><a href='#ChRelBTS'>ChRelBTS</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#ChannelRequestTA'>ChannelRequestTA</a>
<li><a href='#CheckBCCHConfig'>CheckBCCHConfig</a>
<li><a href='#ConvertTAValue'>ConvertTAValue</a>
<li><a href='#GetActiveCell'>GetActiveCell</a>
<li><a href='#GetFreqBand'>GetFreqBand</a>
<li><a href='#GetMeasurementReport'>GetMeasurementReport</a>
<li><a href='#GetTAValueMSSIM'>GetTAValueMSSIM</a>
<li><a href='#RestartBTS'>RestartBTS</a>
<li><a href='#RestoreARFCN'>RestoreARFCN</a>
<li><a href='#SetArfcn'>SetArfcn</a>
<li><a href='#SetArfcnMSSIM'>SetArfcnMSSIM</a>
<li><a href='#SetAttrMSSIM'>SetAttrMSSIM</a>
<li><a href='#resetMSSIM'>resetMSSIM</a>
</ul><li><a href='#NAME'>NAME Subs_ATraSup</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ActivateCSData'>ActivateCSData</a>
<li><a href='#ActivateSpeech'>ActivateSpeech</a>
<li><a href='#AdjustTG'>AdjustTG</a>
<li><a href='#ChActImmediateAssignBTS'>ChActImmediateAssignBTS</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChActNormalAssignBTS'>ChActNormalAssignBTS</a>
<li><a href='#ChActSecChMulti'>ChActSecChMulti</a>
<li><a href='#ChModeModify'>ChModeModify</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#ClearMSSIMBuffer'>ClearMSSIMBuffer</a>
<li><a href='#CompleteStartRBS'>CompleteStartRBS</a>
<li><a href='#CorruptDLDataFrames'>CorruptDLDataFrames</a>
<li><a href='#CorruptDLFrames'>CorruptDLFrames</a>
<li><a href='#DeactivatePayload'>DeactivatePayload</a>
<li><a href='#DelayDLFrames'>DelayDLFrames</a>
<li><a href='#DoTSConfigRequest'>DoTSConfigRequest</a>
<li><a href='#FindMsgInLog'>FindMsgInLog</a>
<li><a href='#GetTG'>GetTG</a>
<li><a href='#HexToBinary'>HexToBinary</a>
<li><a href='#RadioChRel'>RadioChRel</a>
<li><a href='#ReceiveAbiscoMessage'>ReceiveAbiscoMessage</a>
<li><a href='#SetSpeechLoopback'>SetSpeechLoopback</a>
<li><a href='#SetTG'>SetTG</a>
<li><a href='#TSConfigRequest'>TSConfigRequest</a>
</ul><li><a href='#NAME'>NAME Subs_AuxEq</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#AbisLoggingBTS'>AbisLoggingBTS</a>
<li><a href='#ClearLogFile'>ClearLogFile</a>
<li><a href='#GetMOStatus'>GetMOStatus</a>
<li><a href='#RenameStoreLogFile'>RenameStoreLogFile</a>
<li><a href='#RestartBTS'>RestartBTS</a>
<li><a href='#UpdateCellBTS'>UpdateCellBTS</a>
</ul><li><a href='#NAME'>NAME subs_bcchpower</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#AbisLoggingBTS'>AbisLoggingBTS</a>
<li><a href='#BSPowerControl'>BSPowerControl</a>
<li><a href='#BTSChannelAct'>BTSChannelAct</a>
<li><a href='#BTSChannelRelease'>BTSChannelRelease</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#CheckBCCHResult'>CheckBCCHResult</a>
<li><a href='#CheckBCCHResult2'>CheckBCCHResult2</a>
<li><a href='#CheckBSPowerWithMSSIMLog'>CheckBSPowerWithMSSIMLog</a>
<li><a href='#CheckCombNcomb'>CheckCombNcomb</a>
<li><a href='#CheckFACCHPowerWithMSSIMLog'>CheckFACCHPowerWithMSSIMLog</a>
<li><a href='#ClearMSSIMbuffer'>ClearMSSIMbuffer</a>
<li><a href='#ConfigureFreqHopping'>ConfigureFreqHopping</a>
<li><a href='#ConnectMO'>ConnectMO</a>
<li><a href='#CreateParameterHash'>CreateParameterHash</a>
<li><a href='#DisableMO'>DisableMO</a>
<li><a href='#DisableTX'>DisableTX</a>
<li><a href='#EnableMO'>EnableMO</a>
<li><a href='#EnableTX'>EnableTX</a>
<li><a href='#EstReqBTS'>EstReqBTS</a>
<li><a href='#GetActiveCell'>GetActiveCell</a>
<li><a href='#GetBCCHMonData'>GetBCCHMonData</a>
<li><a href='#GetBCCHReports'>GetBCCHReports</a>
<li><a href='#GetMCTRInfo'>GetMCTRInfo</a>
<li><a href='#GetMCTRRecords'>GetMCTRRecords</a>
<li><a href='#GetMCTRmaxTRXs'>GetMCTRmaxTRXs</a>
<li><a href='#GetTXMonData'>GetTXMonData</a>
<li><a href='#ImmediateAssignInfoP2'>ImmediateAssignInfoP2</a>
<li><a href='#MCTRConfig'>MCTRConfig</a>
<li><a href='#MOState'>MOState</a>
<li><a href='#MSSIMChannelAct'>MSSIMChannelAct</a>
<li><a href='#MSSIMPacketChannelAct'>MSSIMPacketChannelAct</a>
<li><a href='#MakeAscii'>MakeAscii</a>
<li><a href='#ReleaseReqBTS'>ReleaseReqBTS</a>
<li><a href='#ResetMO'>ResetMO</a>
<li><a href='#RestartRBS'>RestartRBS</a>
<li><a href='#RoundFloat'>RoundFloat</a>
<li><a href='#SendSIInformation'>SendSIInformation</a>
<li><a href='#SendTSConfigRequest'>SendTSConfigRequest</a>
<li><a href='#StartLoopMSSIM'>StartLoopMSSIM</a>
<li><a href='#StartMO'>StartMO</a>
<li><a href='#StopLoopMSSIM'>StopLoopMSSIM</a>
<li><a href='#TXConfig'>TXConfig</a>
<li><a href='#UpdateGslData'>UpdateGslData</a>
</ul><li><a href='#NAME'>NAME Subs_Broadcast</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#BCCHInfoP2'>BCCHInfoP2</a>
<li><a href='#BCCHInfoP2_Off'>BCCHInfoP2_Off</a>
<li><a href='#BCCHInfoP2_unexpected'>BCCHInfoP2_unexpected</a>
<li><a href='#BackupOldTimeslotConfigurations'>BackupOldTimeslotConfigurations</a>
<li><a href='#BitstreamBCCHInfoP1'>BitstreamBCCHInfoP1</a>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChActBTSSetSetSIParam'>ChActBTSSetSetSIParam</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChCleanBTS'>ChCleanBTS</a>
<li><a href='#ChRelBTS'>ChRelBTS</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#CheckBCCHTypeBTS'>CheckBCCHTypeBTS</a>
<li><a href='#CheckCell'>CheckCell</a>
<li><a href='#CheckCellSettings'>CheckCellSettings</a>
<li><a href='#CheckLoggedMultiframePositionsAndTimeslots'>CheckLoggedMultiframePositionsAndTimeslots</a>
<li><a href='#CheckSysInfo'>CheckSysInfo</a>
<li><a href='#CheckSysInfoSeq'>CheckSysInfoSeq</a>
<li><a href='#CheckSysInfoSeqSACCH'>CheckSysInfoSeqSACCH</a>
<li><a href='#ClearMSSIMBuffer'>ClearMSSIMBuffer</a>
<li><a href='#CompareArrays'>CompareArrays</a>
<li><a href='#CompareArraysUncertainLength'>CompareArraysUncertainLength</a>
<li><a href='#CompareHash'>CompareHash</a>
<li><a href='#CompleteStart'>CompleteStart</a>
<li><a href='#ConfigureTimeslotsFromPARValues'>ConfigureTimeslotsFromPARValues</a>
<li><a href='#ConnectTG'>ConnectTG</a>
<li><a href='#CountFcchFrames'>CountFcchFrames</a>
<li><a href='#CountSchFrames'>CountSchFrames</a>
<li><a href='#DeactivateSACCH'>DeactivateSACCH</a>
<li><a href='#DeactivateSACCH2'>DeactivateSACCH2</a>
<li><a href='#DisableConfigEnable'>DisableConfigEnable</a>
<li><a href='#DisableConfigEnableTimeslot_Extended'>DisableConfigEnableTimeslot_Extended</a>
<li><a href='#DisableDVTMonitor'>DisableDVTMonitor</a>
<li><a href='#DisconnectTG'>DisconnectTG</a>
<li><a href='#EmptyBufferMSSIM'>EmptyBufferMSSIM</a>
<li><a href='#EnableDVTMonitor'>EnableDVTMonitor</a>
<li><a href='#EnableTS'>EnableTS</a>
<li><a href='#EstablishReqMSSim'>EstablishReqMSSim</a>
<li><a href='#FindFirstSMSCBMessage'>FindFirstSMSCBMessage</a>
<li><a href='#FormatTestcaseName'>FormatTestcaseName</a>
<li><a href='#GetActiveCell'>GetActiveCell</a>
<li><a href='#GetCellParameters_MSSIM'>GetCellParameters_MSSIM</a>
<li><a href='#GetDVTMonitorValue'>GetDVTMonitorValue</a>
<li><a href='#GetLastNoOfSentMessages'>GetLastNoOfSentMessages</a>
<li><a href='#GetSMSBroadcastCmdPoll'>GetSMSBroadcastCmdPoll</a>
<li><a href='#InitiateTsharkLogging'>InitiateTsharkLogging</a>
<li><a href='#LAPDmReceive'>LAPDmReceive</a>
<li><a href='#PrintDebug'>PrintDebug</a>
<li><a href='#ProcessTsharkLogfileAndCheckMessageType2Values'>ProcessTsharkLogfileAndCheckMessageType2Values</a>
<li><a href='#RadioChReleaseCommand'>RadioChReleaseCommand</a>
<li><a href='#Receive2SMSCB'>Receive2SMSCB</a>
<li><a href='#ReceiveAbiscoData'>ReceiveAbiscoData</a>
<li><a href='#ReceiveAbiscoMessage'>ReceiveAbiscoMessage</a>
<li><a href='#ReceiveMSSIM'>ReceiveMSSIM</a>
<li><a href='#ReceiveMSSIMData'>ReceiveMSSIMData</a>
<li><a href='#ReceiveSIType'>ReceiveSIType</a>
<li><a href='#ReceiveSMSCB'>ReceiveSMSCB</a>
<li><a href='#ReceiveSMSCBSequence'>ReceiveSMSCBSequence</a>
<li><a href='#ResetTG'>ResetTG</a>
<li><a href='#RestartBTS'>RestartBTS</a>
<li><a href='#SACCHFilling'>SACCHFilling</a>
<li><a href='#SACCHFillingOff'>SACCHFillingOff</a>
<li><a href='#SACCHFillingSetParam'>SACCHFillingSetParam</a>
<li><a href='#SACCHFillingWrongType'>SACCHFillingWrongType</a>
<li><a href='#SACCHInfoModify'>SACCHInfoModify</a>
<li><a href='#SACCHInfoModifyMIStart'>SACCHInfoModifyMIStart</a>
<li><a href='#SACCHInfoModifyOff'>SACCHInfoModifyOff</a>
<li><a href='#SACCHInfoModifySetParam'>SACCHInfoModifySetParam</a>
<li><a href='#SMSBroadcastRequest'>SMSBroadcastRequest</a>
<li><a href='#SearchErrorReport'>SearchErrorReport</a>
<li><a href='#SendBCCHInformation'>SendBCCHInformation</a>
<li><a href='#SendBitStream'>SendBitStream</a>
<li><a href='#SendSMSBTS'>SendSMSBTS</a>
<li><a href='#SendSMSBroadcastCommand'>SendSMSBroadcastCommand</a>
<li><a href='#SendSMSBroadcastRequest'>SendSMSBroadcastRequest</a>
<li><a href='#SendStoredMessages'>SendStoredMessages</a>
<li><a href='#SendSysinfoMessages_SI3SpecialConfiguresMSSIM'>SendSysinfoMessages_SI3SpecialConfiguresMSSIM</a>
<li><a href='#Send_SysInfo'>Send_SysInfo</a>
<li><a href='#SeqNrBuilder'>SeqNrBuilder</a>
<li><a href='#SetAllSIMSSIM'>SetAllSIMSSIM</a>
<li><a href='#SetBCCH'>SetBCCH</a>
<li><a href='#SetBCCHType'>SetBCCHType</a>
<li><a href='#SetBehaviourMode'>SetBehaviourMode</a>
<li><a href='#SetSMSCBReporting'>SetSMSCBReporting</a>
<li><a href='#StoreTG'>StoreTG</a>
<li><a href='#SysInfoOff'>SysInfoOff</a>
<li><a href='#UpdateCell'>UpdateCell</a>
<li><a href='#UpdateTG'>UpdateTG</a>
</ul><li><a href='#NAME'>NAME subs_bspower</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ActivateCSData'>ActivateCSData</a>
<li><a href='#BSPowerControl'>BSPowerControl</a>
<li><a href='#CCCHReconfMSSIM'>CCCHReconfMSSIM</a>
<li><a href='#CalcFreqList'>CalcFreqList</a>
<li><a href='#CalcFreqListElement'>CalcFreqListElement</a>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChActMSSIMVamos'>ChActMSSIMVamos</a>
<li><a href='#ChRelBTS'>ChRelBTS</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#CheckBSPowerWithMSSIMLog'>CheckBSPowerWithMSSIMLog</a>
<li><a href='#CheckL3Data'>CheckL3Data</a>
<li><a href='#CheckSIDCodeWord'>CheckSIDCodeWord</a>
<li><a href='#ClearMSSIMBuffer'>ClearMSSIMBuffer</a>
<li><a href='#CompareArrays'>CompareArrays</a>
<li><a href='#CompareHash'>CompareHash</a>
<li><a href='#ConfigReadMO'>ConfigReadMO</a>
<li><a href='#CreateMS'>CreateMS</a>
<li><a href='#DataRequestMulti'>DataRequestMulti</a>
<li><a href='#DeactivateCSData'>DeactivateCSData</a>
<li><a href='#DeleteMS'>DeleteMS</a>
<li><a href='#DisableMO'>DisableMO</a>
<li><a href='#EnableMO'>EnableMO</a>
<li><a href='#EstReqBTS'>EstReqBTS</a>
<li><a href='#EstablishReqMSSIM'>EstablishReqMSSIM</a>
<li><a href='#GetBSPower'>GetBSPower</a>
<li><a href='#GetFreqBand'>GetFreqBand</a>
<li><a href='#GetPowerLevel'>GetPowerLevel</a>
<li><a href='#GetTCHRefPower'>GetTCHRefPower</a>
<li><a href='#GetTRXValuesMSSIM'>GetTRXValuesMSSIM</a>
<li><a href='#GetTRXValuesMSSIM_VAMOS'>GetTRXValuesMSSIM_VAMOS</a>
<li><a href='#GetTRXValues_Parser'>GetTRXValues_Parser</a>
<li><a href='#GetTSCparameters'>GetTSCparameters</a>
<li><a href='#GetVPO'>GetVPO</a>
<li><a href='#IsInSIDPosition'>IsInSIDPosition</a>
<li><a href='#LAPDmCheckReceived'>LAPDmCheckReceived</a>
<li><a href='#LAPDmEstablishRequestMSSIM'>LAPDmEstablishRequestMSSIM</a>
<li><a href='#LAPDmReceive'>LAPDmReceive</a>
<li><a href='#LAPDmSend'>LAPDmSend</a>
<li><a href='#RadioChReleaseCommand'>RadioChReleaseCommand</a>
<li><a href='#ReadPowerSettingsFile'>ReadPowerSettingsFile</a>
<li><a href='#ReceiveAbisco'>ReceiveAbisco</a>
<li><a href='#ReceiveAbiscoMessage'>ReceiveAbiscoMessage</a>
<li><a href='#ReceiveMSSimMsg'>ReceiveMSSimMsg</a>
<li><a href='#ReleaseAllOpenChannels'>ReleaseAllOpenChannels</a>
<li><a href='#ResetTG'>ResetTG</a>
<li><a href='#RestartBTS'>RestartBTS</a>
<li><a href='#RoundFloat'>RoundFloat</a>
<li><a href='#SelectARFCN'>SelectARFCN</a>
<li><a href='#SetNominalMaxPower'>SetNominalMaxPower</a>
<li><a href='#SetNominalMinPower'>SetNominalMinPower</a>
<li><a href='#StoreTG'>StoreTG</a>
<li><a href='#TSConfig'>TSConfig</a>
<li><a href='#VerifyDownlinkSpeech'>VerifyDownlinkSpeech</a>
<li><a href='#VerifyNoDownlinkSpeech'>VerifyNoDownlinkSpeech</a>
<li><a href='#VerifySIDTCHPowerLevel'>VerifySIDTCHPowerLevel</a>
<li><a href='#changeTSonBTSforSDCCH'>changeTSonBTSforSDCCH</a>
<li><a href='#changeTSonBTSforTCH'>changeTSonBTSforTCH</a>
<li><a href='#makeAscii'>makeAscii</a>
<li><a href='#resetMSSIM'>resetMSSIM</a>
<li><a href='#resetNominalPower'>resetNominalPower</a>
</ul><li><a href='#NAME'>NAME Subs_Caco</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ActivateAndEstablishExistingChannel'>ActivateAndEstablishExistingChannel</a>
<li><a href='#ActivateSpeech'>ActivateSpeech</a>
<li><a href='#AllocateICP'>AllocateICP</a>
<li><a href='#AllocateICPifTDMmode'>AllocateICPifTDMmode</a>
<li><a href='#CalcRoundTripDelayAbis'>CalcRoundTripDelayAbis</a>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChActBTS_PDCHOptions'>ChActBTS_PDCHOptions</a>
<li><a href='#ChActBTS_PDCH_PTCCH'>ChActBTS_PDCH_PTCCH</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChActPacketMSSIM'>ChActPacketMSSIM</a>
<li><a href='#ChActPacketMSSIM_PTCCH'>ChActPacketMSSIM_PTCCH</a>
<li><a href='#ChCleanBTS'>ChCleanBTS</a>
<li><a href='#ChRelBTS'>ChRelBTS</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#ChangeTG'>ChangeTG</a>
<li><a href='#CheckCauseValue'>CheckCauseValue</a>
<li><a href='#CheckFillBitsInMessage'>CheckFillBitsInMessage</a>
<li><a href='#CheckIfMeasReportInMeasResult'>CheckIfMeasReportInMeasResult</a>
<li><a href='#CheckIfMeasResultOnABIS'>CheckIfMeasResultOnABIS</a>
<li><a href='#CheckIfPayloadDataInMSSIM'>CheckIfPayloadDataInMSSIM</a>
<li><a href='#CheckIfSysInfoMessages'>CheckIfSysInfoMessages</a>
<li><a href='#CheckL3Data'>CheckL3Data</a>
<li><a href='#CheckSysInfoSACCH'>CheckSysInfoSACCH</a>
<li><a href='#CheckUMTraffic'>CheckUMTraffic</a>
<li><a href='#ClearMSSIMBuffer'>ClearMSSIMBuffer</a>
<li><a href='#ClearMSSIMbuffer'>ClearMSSIMbuffer</a>
<li><a href='#ConfigMORX'>ConfigMORX</a>
<li><a href='#ConnectTG'>ConnectTG</a>
<li><a href='#ConvertMSSIMstatistics'>ConvertMSSIMstatistics</a>
<li><a href='#CreateMS'>CreateMS</a>
<li><a href='#CreateParamHashSpeech'>CreateParamHashSpeech</a>
<li><a href='#CreateSpeechPatternFile'>CreateSpeechPatternFile</a>
<li><a href='#DeactivateSpeech'>DeactivateSpeech</a>
<li><a href='#DeallocateICP'>DeallocateICP</a>
<li><a href='#DecodeWiresharkLog'>DecodeWiresharkLog</a>
<li><a href='#DeleteMS'>DeleteMS</a>
<li><a href='#DisconnectTG'>DisconnectTG</a>
<li><a href='#DoTSConfigRequest'>DoTSConfigRequest</a>
<li><a href='#EmptyBufferMSSIM'>EmptyBufferMSSIM</a>
<li><a href='#Encr'>Encr</a>
<li><a href='#EstablishRequestMSSIM'>EstablishRequestMSSIM</a>
<li><a href='#FormatFileName'>FormatFileName</a>
<li><a href='#GetAbisModeAndConfig'>GetAbisModeAndConfig</a>
<li><a href='#GetActiveCell'>GetActiveCell</a>
<li><a href='#GetChan'>GetChan</a>
<li><a href='#GetChannelInfoHash'>GetChannelInfoHash</a>
<li><a href='#GetMSSIMTRXValues'>GetMSSIMTRXValues</a>
<li><a href='#GetRoundTripDelayAbis'>GetRoundTripDelayAbis</a>
<li><a href='#GetSapiAndChan'>GetSapiAndChan</a>
<li><a href='#GetSysInfoType'>GetSysInfoType</a>
<li><a href='#GetTRXValues_Parser'>GetTRXValues_Parser</a>
<li><a href='#GetTSCparameters'>GetTSCparameters</a>
<li><a href='#HandoverAccessMSSIM'>HandoverAccessMSSIM</a>
<li><a href='#LAPDmReceive'>LAPDmReceive</a>
<li><a href='#MSSIMTransferFile'>MSSIMTransferFile</a>
<li><a href='#MeasurementReporting'>MeasurementReporting</a>
<li><a href='#PrepareChActData'>PrepareChActData</a>
<li><a href='#PrintDebug'>PrintDebug</a>
<li><a href='#RFChannelRelease'>RFChannelRelease</a>
<li><a href='#RadioChRel'>RadioChRel</a>
<li><a href='#RadioChReleaseCommand'>RadioChReleaseCommand</a>
<li><a href='#ReceiveAbisco'>ReceiveAbisco</a>
<li><a href='#ReceiveAbiscoData'>ReceiveAbiscoData</a>
<li><a href='#ReceiveMSSIM'>ReceiveMSSIM</a>
<li><a href='#ReceiveMeasurmentResultNormal'>ReceiveMeasurmentResultNormal</a>
<li><a href='#ReceiveSpontMSSIM'>ReceiveSpontMSSIM</a>
<li><a href='#ReleaseRequestMSSIM'>ReleaseRequestMSSIM</a>
<li><a href='#ResetTG'>ResetTG</a>
<li><a href='#RestartBTS'>RestartBTS</a>
<li><a href='#RoundFloat'>RoundFloat</a>
<li><a href='#SendBitstream'>SendBitstream</a>
<li><a href='#SendData'>SendData</a>
<li><a href='#SetAbisMode'>SetAbisMode</a>
<li><a href='#SetAttrMSSIM'>SetAttrMSSIM</a>
<li><a href='#SetMeasurementReporting'>SetMeasurementReporting</a>
<li><a href='#SetTG'>SetTG</a>
<li><a href='#SetTG_TCHConfig'>SetTG_TCHConfig</a>
<li><a href='#StartLoopMSSIM'>StartLoopMSSIM</a>
<li><a href='#StopLoopMSSIM'>StopLoopMSSIM</a>
<li><a href='#StoreTG'>StoreTG</a>
<li><a href='#TimeSlotConfigure'>TimeSlotConfigure</a>
<li><a href='#TurnOnTetherealLogging'>TurnOnTetherealLogging</a>
<li><a href='#bin2dec'>bin2dec</a>
<li><a href='#bin2hex'>bin2hex</a>
</ul><li><a href='#NAME'>NAME Subs_ccch</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#AbisLoggingBTS'>AbisLoggingBTS</a>
<li><a href='#CalculateIMSIForAGivenPagingGroup'>CalculateIMSIForAGivenPagingGroup</a>
<li><a href='#CalculateIMSIForAGivenPagingGroup_Helper_StepUp'>CalculateIMSIForAGivenPagingGroup_Helper_StepUp</a>
<li><a href='#CalculateTMSIForAGivenPagingGroup'>CalculateTMSIForAGivenPagingGroup</a>
<li><a href='#CcchDataIndMSSIM'>CcchDataIndMSSIM</a>
<li><a href='#CcchDataReqMSSIM'>CcchDataReqMSSIM</a>
<li><a href='#ChangeMssimCellPower'>ChangeMssimCellPower</a>
<li><a href='#CompareArrays'>CompareArrays</a>
<li><a href='#DecodeIMSI'>DecodeIMSI</a>
<li><a href='#DisableConfigEnableBTS'>DisableConfigEnableBTS</a>
<li><a href='#DisableMO'>DisableMO</a>
<li><a href='#EmptyBufferMSSIM'>EmptyBufferMSSIM</a>
<li><a href='#EnableMO'>EnableMO</a>
<li><a href='#FindOctetsInLogFrame'>FindOctetsInLogFrame</a>
<li><a href='#FormatTestcaseName'>FormatTestcaseName</a>
<li><a href='#GetActiveCell'>GetActiveCell</a>
<li><a href='#GetBCCHTrx'>GetBCCHTrx</a>
<li><a href='#ImmAssignExtP2'>ImmAssignExtP2</a>
<li><a href='#ImmAssignInfoP2'>ImmAssignInfoP2</a>
<li><a href='#ImmAssignInfoP2TwoMsg'>ImmAssignInfoP2TwoMsg</a>
<li><a href='#ImmAssignRejectP2'>ImmAssignRejectP2</a>
<li><a href='#ImmediateAssignInfoP2'>ImmediateAssignInfoP2</a>
<li><a href='#ImmediateAssignInfoP2BTS'>ImmediateAssignInfoP2BTS</a>
<li><a href='#InfoCellBTS'>InfoCellBTS</a>
<li><a href='#InitiateTsharkLogging'>InitiateTsharkLogging</a>
<li><a href='#NotificationCommandBTS'>NotificationCommandBTS</a>
<li><a href='#Paging2BTS'>Paging2BTS</a>
<li><a href='#PagingBTS'>PagingBTS</a>
<li><a href='#PagingCommand'>PagingCommand</a>
<li><a href='#PagingCommand2'>PagingCommand2</a>
<li><a href='#ProcessTsharkLogfileAndCheckMessageType2Values'>ProcessTsharkLogfileAndCheckMessageType2Values</a>
<li><a href='#ProcessTsharkLogfileAndLookForSpecifiedValues'>ProcessTsharkLogfileAndLookForSpecifiedValues</a>
<li><a href='#RachTabActReqMSSIM'>RachTabActReqMSSIM</a>
<li><a href='#RadioChReleaseCommand'>RadioChReleaseCommand</a>
<li><a href='#ReceivePagingRequest'>ReceivePagingRequest</a>
<li><a href='#ResetTG'>ResetTG</a>
<li><a href='#RestartBTS'>RestartBTS</a>
<li><a href='#SendSysinfoMessages_SI3SpecialConfiguresMSSIM'>SendSysinfoMessages_SI3SpecialConfiguresMSSIM</a>
<li><a href='#Send_SysInfo'>Send_SysInfo</a>
<li><a href='#SetAllSIMSSIM'>SetAllSIMSSIM</a>
<li><a href='#SetIASOnOff'>SetIASOnOff</a>
<li><a href='#SetupAndStartTsharkLoggingOnAbis'>SetupAndStartTsharkLoggingOnAbis</a>
<li><a href='#StoreTG'>StoreTG</a>
<li><a href='#TRXReportCtrl'>TRXReportCtrl</a>
<li><a href='#UpdateCCCHList'>UpdateCCCHList</a>
</ul><li><a href='#NAME'>NAME Subs_Cdf</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ActivatePGSLData'>ActivatePGSLData</a>
<li><a href='#ActivateSpeech'>ActivateSpeech</a>
<li><a href='#CallSetUp'>CallSetUp</a>
<li><a href='#CfgDiamuxDefault'>CfgDiamuxDefault</a>
<li><a href='#ChangePCM'>ChangePCM</a>
<li><a href='#ChannelActPacketChannel'>ChannelActPacketChannel</a>
<li><a href='#CheckPCMWithDVT'>CheckPCMWithDVT</a>
<li><a href='#CheckTSSStatistics'>CheckTSSStatistics</a>
<li><a href='#CompareArrays'>CompareArrays</a>
<li><a href='#CompareHashes'>CompareHashes</a>
<li><a href='#CompleteStart'>CompleteStart</a>
<li><a href='#ConfigMCTR'>ConfigMCTR</a>
<li><a href='#ConfigReadMO'>ConfigReadMO</a>
<li><a href='#ConfigureCON'>ConfigureCON</a>
<li><a href='#ConfigureIS'>ConfigureIS</a>
<li><a href='#ConfigureTS'>ConfigureTS</a>
<li><a href='#ConnectMO'>ConnectMO</a>
<li><a href='#ConnectResetStartConfigEnableOpinfo'>ConnectResetStartConfigEnableOpinfo</a>
<li><a href='#ConnectTG'>ConnectTG</a>
<li><a href='#DVTMonitorSCConfig'>DVTMonitorSCConfig</a>
<li><a href='#DVTMonitorSCQuality'>DVTMonitorSCQuality</a>
<li><a href='#DefinePCM_CF'>DefinePCM_CF</a>
<li><a href='#DiamuxReset'>DiamuxReset</a>
<li><a href='#DisableMO'>DisableMO</a>
<li><a href='#DisconnectCall'>DisconnectCall</a>
<li><a href='#DisconnectTG'>DisconnectTG</a>
<li><a href='#EnableMO'>EnableMO</a>
<li><a href='#EstablishCFLink'>EstablishCFLink</a>
<li><a href='#EstablishLinks'>EstablishLinks</a>
<li><a href='#EstablishResetStart'>EstablishResetStart</a>
<li><a href='#FormatTestcaseName'>FormatTestcaseName</a>
<li><a href='#GetGmtTime--'>GetGmtTime()</a>
<li><a href='#GetLast'>GetLast</a>
<li><a href='#GetMCTRRecords'>GetMCTRRecords</a>
<li><a href='#GetMaxKbpsValue'>GetMaxKbpsValue</a>
<li><a href='#GetOMTTrafficCounterLog'>GetOMTTrafficCounterLog</a>
<li><a href='#InitResult'>InitResult</a>
<li><a href='#InterCellhandoverTCH'>InterCellhandoverTCH</a>
<li><a href='#ReallocateConnection'>ReallocateConnection</a>
<li><a href='#ReceiveAbiscoMessage'>ReceiveAbiscoMessage</a>
<li><a href='#RedirectAbiscoLog'>RedirectAbiscoLog</a>
<li><a href='#ReleaseCFLink'>ReleaseCFLink</a>
<li><a href='#ResetMO'>ResetMO</a>
<li><a href='#RestoreAbiscoLog'>RestoreAbiscoLog</a>
<li><a href='#RestoreDefaultTG'>RestoreDefaultTG</a>
<li><a href='#SCQualityReportII'>SCQualityReportII</a>
<li><a href='#SendCONToBTS'>SendCONToBTS</a>
<li><a href='#SendISToBTS'>SendISToBTS</a>
<li><a href='#SetTG'>SetTG</a>
<li><a href='#SetTG_SC'>SetTG_SC</a>
<li><a href='#SplitString'>SplitString</a>
<li><a href='#StartMO'>StartMO</a>
<li><a href='#UpdatePGSLData'>UpdatePGSLData</a>
<li><a href='#UpdateSpeech'>UpdateSpeech</a>
<li><a href='#WaitPCMIsConFinished'>WaitPCMIsConFinished</a>
</ul><li><a href='#NAME'>NAME Subs_ChanMeas</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ActivateCSData'>ActivateCSData</a>
<li><a href='#CheckIfBSP2InMeasResult'>CheckIfBSP2InMeasResult</a>
<li><a href='#CheckIfMeasResultOnABIS'>CheckIfMeasResultOnABIS</a>
<li><a href='#CreateDataPatternFile'>CreateDataPatternFile</a>
<li><a href='#CreateSpeechParamHash'>CreateSpeechParamHash</a>
<li><a href='#CreateSpeechPatternFile'>CreateSpeechPatternFile</a>
<li><a href='#DeactivateCSData'>DeactivateCSData</a>
<li><a href='#HandoverAccessMSSIM'>HandoverAccessMSSIM</a>
<li><a href='#InitSG'>InitSG</a>
<li><a href='#MSSIMChAct'>MSSIMChAct</a>
<li><a href='#MSSIMChRel'>MSSIMChRel</a>
<li><a href='#MSSIMTransferFile'>MSSIMTransferFile</a>
<li><a href='#MeasurementReporting'>MeasurementReporting</a>
<li><a href='#RadioChRel'>RadioChRel</a>
<li><a href='#ReceiveAbisco'>ReceiveAbisco</a>
<li><a href='#ReceiveAbiscoMessage'>ReceiveAbiscoMessage</a>
<li><a href='#ResetTG'>ResetTG</a>
<li><a href='#SendData'>SendData</a>
<li><a href='#SendSpeech'>SendSpeech</a>
<li><a href='#SetBCCHType'>SetBCCHType</a>
<li><a href='#SetBSPowerLevel'>SetBSPowerLevel</a>
<li><a href='#StartMeasRep'>StartMeasRep</a>
<li><a href='#StartRepChReq'>StartRepChReq</a>
<li><a href='#StartTestData'>StartTestData</a>
<li><a href='#StartTestSpeech'>StartTestSpeech</a>
<li><a href='#StopMeasRep'>StopMeasRep</a>
<li><a href='#StopRepChReq'>StopRepChReq</a>
<li><a href='#StoreTG'>StoreTG</a>
<li><a href='#TSConfigReq'>TSConfigReq</a>
<li><a href='#TSDisableReq'>TSDisableReq</a>
<li><a href='#TSEnableReq'>TSEnableReq</a>
<li><a href='#checkSDCCHMeasurementResultsScheduling'>checkSDCCHMeasurementResultsScheduling</a>
<li><a href='#transformRequestReferenceToPosssibleFrameNumbers'>transformRequestReferenceToPosssibleFrameNumbers</a>
</ul><li><a href='#NAME'>NAME subs_combcell</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ActivateCSData'>ActivateCSData</a>
<li><a href='#BSPowerControl'>BSPowerControl</a>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChRelBTS'>ChRelBTS</a>
<li><a href='#ChannelTypeTxFile'>ChannelTypeTxFile</a>
<li><a href='#CheckCauseValue'>CheckCauseValue</a>
<li><a href='#DeactivateCSData'>DeactivateCSData</a>
<li><a href='#GetTSCparameters'>GetTSCparameters</a>
<li><a href='#StartLoopMSSIM'>StartLoopMSSIM</a>
</ul><li><a href='#NAME'>NAME Subs_CSData</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ButtonNext'>ButtonNext</a>
<li><a href='#ButtonPrev'>ButtonPrev</a>
<li><a href='#ChangePatternFile'>ChangePatternFile</a>
<li><a href='#ClearStatistics'>ClearStatistics</a>
<li><a href='#CreateGUI'>CreateGUI</a>
<li><a href='#DisplayStatistics'>DisplayStatistics</a>
<li><a href='#GetStatistics'>GetStatistics</a>
<li><a href='#PopUp'>PopUp</a>
<li><a href='#ReadPatternConfigFile'>ReadPatternConfigFile</a>
<li><a href='#SaveStatistics'>SaveStatistics</a>
<li><a href='#SaveStatisticsLog'>SaveStatisticsLog</a>
<li><a href='#SaveStatisticsToFile'>SaveStatisticsToFile</a>
<li><a href='#StartTest'>StartTest</a>
</ul><li><a href='#NAME'>NAME Subs_CSServices</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ActivateFERMeasurement'>ActivateFERMeasurement</a>
<li><a href='#ActivateHandoverPendingChannel'>ActivateHandoverPendingChannel</a>
<li><a href='#ActivateTLSI'>ActivateTLSI</a>
<li><a href='#ChannelActAsyncHandover'>ChannelActAsyncHandover</a>
<li><a href='#ConnectToMSSIM'>ConnectToMSSIM</a>
<li><a href='#CorruptDLFrames_CSData'>CorruptDLFrames_CSData</a>
<li><a href='#CorruptDLFrames_Speech'>CorruptDLFrames_Speech</a>
<li><a href='#CreateParamHash'>CreateParamHash</a>
<li><a href='#DeactivateFERMeasurement'>DeactivateFERMeasurement</a>
<li><a href='#FindBFIInfoInLog'>FindBFIInfoInLog</a>
<li><a href='#FindEmptyDLInfoInLog'>FindEmptyDLInfoInLog</a>
<li><a href='#FindFrameClassificationInfoInLog'>FindFrameClassificationInfoInLog</a>
<li><a href='#FindMsgInLog'>FindMsgInLog</a>
<li><a href='#FindRIFInLog'>FindRIFInLog</a>
<li><a href='#FindSIDInfoInLog'>FindSIDInfoInLog</a>
<li><a href='#FindUmPatternInLog'>FindUmPatternInLog</a>
<li><a href='#GetAMRParam'>GetAMRParam</a>
<li><a href='#GetAbsFreqSG'>GetAbsFreqSG</a>
<li><a href='#GetCodec'>GetCodec</a>
<li><a href='#HexToBinary'>HexToBinary</a>
<li><a href='#InitSG'>InitSG</a>
<li><a href='#ReadPatternConfigFile'>ReadPatternConfigFile</a>
<li><a href='#ReadPatternFile'>ReadPatternFile</a>
<li><a href='#ScanLog'>ScanLog</a>
<li><a href='#ScanLogNot'>ScanLogNot</a>
<li><a href='#SendTSConfigRequest'>SendTSConfigRequest</a>
<li><a href='#SendTSDisableRequest'>SendTSDisableRequest</a>
<li><a href='#SendTSEnableRequest'>SendTSEnableRequest</a>
<li><a href='#SetAmpSG'>SetAmpSG</a>
<li><a href='#SetFreqSG'>SetFreqSG</a>
<li><a href='#SetMSSIMPowerControl'>SetMSSIMPowerControl</a>
<li><a href='#SetOutputSG'>SetOutputSG</a>
<li><a href='#SetSSQIUinDVT'>SetSSQIUinDVT</a>
<li><a href='#SetTLS'>SetTLS</a>
<li><a href='#UpdateCSData'>UpdateCSData</a>
<li><a href='#UpdateSpeech'>UpdateSpeech</a>
<li><a href='#UpdateSpeechAND'>UpdateSpeechAND</a>
<li><a href='#UpdateSpeechORMask'>UpdateSpeechORMask</a>
<li><a href='#UpdateSpeechXOR'>UpdateSpeechXOR</a>
</ul><li><a href='#NAME'>NAME Subs_divsuper</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#AbisLoggingBTS'>AbisLoggingBTS</a>
<li><a href='#CallSetUp'>CallSetUp</a>
<li><a href='#ChannelActNormal'>ChannelActNormal</a>
<li><a href='#ChannelRelease'>ChannelRelease</a>
<li><a href='#CheckDiverSupImbalance'>CheckDiverSupImbalance</a>
<li><a href='#CheckRDiv'>CheckRDiv</a>
<li><a href='#ClearLogFile'>ClearLogFile</a>
<li><a href='#CompleteStart'>CompleteStart</a>
<li><a href='#CompleteStartWithParamters'>CompleteStartWithParamters</a>
<li><a href='#ConfigMO'>ConfigMO</a>
<li><a href='#ConfigMORX'>ConfigMORX</a>
<li><a href='#ConfigRUT'>ConfigRUT</a>
<li><a href='#ConfigRxDiversity'>ConfigRxDiversity</a>
<li><a href='#ConfigTS'>ConfigTS</a>
<li><a href='#ConnectMO'>ConnectMO</a>
<li><a href='#ConnectResetStart'>ConnectResetStart</a>
<li><a href='#ConnectTG'>ConnectTG</a>
<li><a href='#ConvertToFloat'>ConvertToFloat</a>
<li><a href='#DbCheckTable'>DbCheckTable</a>
<li><a href='#DbReport'>DbReport</a>
<li><a href='#DealocateLAPD'>DealocateLAPD</a>
<li><a href='#DecodeAttribute'>DecodeAttribute</a>
<li><a href='#DefineCellBTS'>DefineCellBTS</a>
<li><a href='#DeleteTGBTS'>DeleteTGBTS</a>
<li><a href='#DisableAllTS'>DisableAllTS</a>
<li><a href='#DisableMO'>DisableMO</a>
<li><a href='#DisconnectCall'>DisconnectCall</a>
<li><a href='#DisconnectMO'>DisconnectMO</a>
<li><a href='#DisconnectTG'>DisconnectTG</a>
<li><a href='#EnableAllTS'>EnableAllTS</a>
<li><a href='#EnableMO'>EnableMO</a>
<li><a href='#EstablishLAPD'>EstablishLAPD</a>
<li><a href='#EstablishResetStart'>EstablishResetStart</a>
<li><a href='#FetchAttribute'>FetchAttribute</a>
<li><a href='#FormatTestcaseName'>FormatTestcaseName</a>
<li><a href='#GetDateTime'>GetDateTime</a>
<li><a href='#GetDateTimeForFileName'>GetDateTimeForFileName</a>
<li><a href='#GetLast'>GetLast</a>
<li><a href='#GetMOStatus'>GetMOStatus</a>
<li><a href='#GetResult'>GetResult</a>
<li><a href='#GetTrxArray'>GetTrxArray</a>
<li><a href='#HandleError'>HandleError</a>
<li><a href='#HandleLogg'>HandleLogg</a>
<li><a href='#InfoCellBTS'>InfoCellBTS</a>
<li><a href='#InfoTGBTS'>InfoTGBTS</a>
<li><a href='#InitResult'>InitResult</a>
<li><a href='#MakeBin'>MakeBin</a>
<li><a href='#NewTGBTS'>NewTGBTS</a>
<li><a href='#Octets'>Octets</a>
<li><a href='#ReceiveAbiscoMsg'>ReceiveAbiscoMsg</a>
<li><a href='#ReleaseLAPD'>ReleaseLAPD</a>
<li><a href='#ResetMO'>ResetMO</a>
<li><a href='#SplitString'>SplitString</a>
<li><a href='#StartConfigEnable'>StartConfigEnable</a>
<li><a href='#StartMO'>StartMO</a>
<li><a href='#StartStopLoggingDVT'>StartStopLoggingDVT</a>
<li><a href='#UndefineCellBTS'>UndefineCellBTS</a>
<li><a href='#UpdateCell'>UpdateCell</a>
<li><a href='#UpdateTG'>UpdateTG</a>
</ul><li><a href='#NAME'>NAME Subs_DTX</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ActivateCh'>ActivateCh</a>
<li><a href='#BPSplit'>BPSplit</a>
<li><a href='#ChActAsynchHO'>ChActAsynchHO</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChActSecChannelMulti'>ChActSecChannelMulti</a>
<li><a href='#CheckFillingOption'>CheckFillingOption</a>
<li><a href='#CheckL3Data'>CheckL3Data</a>
<li><a href='#CheckL3Data2'>CheckL3Data2</a>
<li><a href='#CheckSIDCodeWord'>CheckSIDCodeWord</a>
<li><a href='#CloseCCCHMSSIM'>CloseCCCHMSSIM</a>
<li><a href='#CompleteStartRBS'>CompleteStartRBS</a>
<li><a href='#CountOnes'>CountOnes</a>
<li><a href='#CreateSpeechParamHash'>CreateSpeechParamHash</a>
<li><a href='#CreateSpeechPatternFile'>CreateSpeechPatternFile</a>
<li><a href='#DeleteErrorAgent'>DeleteErrorAgent</a>
<li><a href='#EstablishReqMSSIM'>EstablishReqMSSIM</a>
<li><a href='#FindMessagesInLog'>FindMessagesInLog</a>
<li><a href='#GenerateSpeechAndABISLogNoTXPower'>GenerateSpeechAndABISLogNoTXPower</a>
<li><a href='#GetChannelTypeTDMAOffset'>GetChannelTypeTDMAOffset</a>
<li><a href='#GetMSSIMSNR'>GetMSSIMSNR</a>
<li><a href='#GetMeasurementReports'>GetMeasurementReports</a>
<li><a href='#GetValuesFromLogMessage'>GetValuesFromLogMessage</a>
<li><a href='#HandoverAccessMSSIM'>HandoverAccessMSSIM</a>
<li><a href='#IPTemplateModify'>IPTemplateModify</a>
<li><a href='#InitSG'>InitSG</a>
<li><a href='#IsInSIDPosition'>IsInSIDPosition</a>
<li><a href='#JoinArrays'>JoinArrays</a>
<li><a href='#MSSIMTransferFile'>MSSIMTransferFile</a>
<li><a href='#MinFrameNumberDifference'>MinFrameNumberDifference</a>
<li><a href='#ReceiveAbisco'>ReceiveAbisco</a>
<li><a href='#RelReqMSSIM'>RelReqMSSIM</a>
<li><a href='#ReleaseAllOpenChannels'>ReleaseAllOpenChannels</a>
<li><a href='#ReleaseCh'>ReleaseCh</a>
<li><a href='#SendDataReqReleaseMessages'>SendDataReqReleaseMessages</a>
<li><a href='#SendModeModify'>SendModeModify</a>
<li><a href='#SendSpeech'>SendSpeech</a>
<li><a href='#SendSysInfo3'>SendSysInfo3</a>
<li><a href='#SetAbisAndTCHMode'>SetAbisAndTCHMode</a>
<li><a href='#SetAmpSG'>SetAmpSG</a>
<li><a href='#SetFreqSG'>SetFreqSG</a>
<li><a href='#SetMeasurementReporting'>SetMeasurementReporting</a>
<li><a href='#SetOutputSG'>SetOutputSG</a>
<li><a href='#SetSSQIUinDVT'>SetSSQIUinDVT</a>
<li><a href='#SetTG'>SetTG</a>
<li><a href='#SimulateSilenceAndVerifyFrames'>SimulateSilenceAndVerifyFrames</a>
<li><a href='#StartLoopMSSIM'>StartLoopMSSIM</a>
<li><a href='#StartPRBS_data'>StartPRBS_data</a>
<li><a href='#StartTestSpeech'>StartTestSpeech</a>
<li><a href='#StopLoopMSSIM'>StopLoopMSSIM</a>
<li><a href='#StopSpeech'>StopSpeech</a>
<li><a href='#TFPModify'>TFPModify</a>
<li><a href='#UpdateCSData'>UpdateCSData</a>
<li><a href='#UpdateSpeech'>UpdateSpeech</a>
<li><a href='#VerifyABISFrames'>VerifyABISFrames</a>
<li><a href='#VerifyDownlinkCSData'>VerifyDownlinkCSData</a>
<li><a href='#VerifyDownlinkSID'>VerifyDownlinkSID</a>
<li><a href='#VerifyDownlinkSpeech'>VerifyDownlinkSpeech</a>
<li><a href='#VerifyTRAU'>VerifyTRAU</a>
</ul><li><a href='#NAME'>NAME subs_encr</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChRelBTS'>ChRelBTS</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#CheckL3Data'>CheckL3Data</a>
<li><a href='#CreateSpeechParamHash'>CreateSpeechParamHash</a>
<li><a href='#EstablishReqMSSIM'>EstablishReqMSSIM</a>
<li><a href='#FindSpeechInd'>FindSpeechInd</a>
<li><a href='#FindSpeechIndMSSIM'>FindSpeechIndMSSIM</a>
<li><a href='#HexToBinary'>HexToBinary</a>
<li><a href='#Init'>Init</a>
<li><a href='#LAPDmSend'>LAPDmSend</a>
<li><a href='#ReadPatternConfigFile'>ReadPatternConfigFile</a>
<li><a href='#ReceiveAbisco'>ReceiveAbisco</a>
<li><a href='#ReceiveAbiscoData'>ReceiveAbiscoData</a>
<li><a href='#ReceiveAbiscoMessage'>ReceiveAbiscoMessage</a>
<li><a href='#ReceiveMSSIM'>ReceiveMSSIM</a>
<li><a href='#ReceiveMSSIMData'>ReceiveMSSIMData</a>
<li><a href='#RelReqMSSIM'>RelReqMSSIM</a>
<li><a href='#SendCSData'>SendCSData</a>
<li><a href='#SendDataMSSIM'>SendDataMSSIM</a>
<li><a href='#SendHandoverAccess'>SendHandoverAccess</a>
<li><a href='#SendModeModifyEncr'>SendModeModifyEncr</a>
<li><a href='#SendMultiPurposeReq'>SendMultiPurposeReq</a>
<li><a href='#SendSpeech'>SendSpeech</a>
<li><a href='#SetEncryptionBTS'>SetEncryptionBTS</a>
<li><a href='#SetEncryptionBTSBitstream'>SetEncryptionBTSBitstream</a>
<li><a href='#SetEncryptionMSSIM'>SetEncryptionMSSIM</a>
<li><a href='#SetTSConfig'>SetTSConfig</a>
<li><a href='#StartTestData'>StartTestData</a>
<li><a href='#StartTestSpeech'>StartTestSpeech</a>
<li><a href='#VerifyActiveEncryption'>VerifyActiveEncryption</a>
</ul><li><a href='#NAME'>NAME subs_extrange</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChActMSSIM_PTCCH'>ChActMSSIM_PTCCH</a>
<li><a href='#ChRelBTS'>ChRelBTS</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#ChannelRequestTA'>ChannelRequestTA</a>
<li><a href='#CheckL3Data'>CheckL3Data</a>
<li><a href='#ClearMSSIMbuffer'>ClearMSSIMbuffer</a>
<li><a href='#CompareArrays'>CompareArrays</a>
<li><a href='#CompareHash'>CompareHash</a>
<li><a href='#ConvertTAValue'>ConvertTAValue</a>
<li><a href='#CreateParameterHash'>CreateParameterHash</a>
<li><a href='#GetAccessDelayFromABISMessage'>GetAccessDelayFromABISMessage</a>
<li><a href='#GetMeasurementReport'>GetMeasurementReport</a>
<li><a href='#GetMeasurementResult'>GetMeasurementResult</a>
<li><a href='#GetTAFromMSSim'>GetTAFromMSSim</a>
<li><a href='#GetTAValue'>GetTAValue</a>
<li><a href='#GetTAValueMSSIM'>GetTAValueMSSIM</a>
<li><a href='#GetTAValueMSSIM_PTCCH'>GetTAValueMSSIM_PTCCH</a>
<li><a href='#LAPDmSend'>LAPDmSend</a>
<li><a href='#PrintDebug'>PrintDebug</a>
<li><a href='#PrintMessageArray'>PrintMessageArray</a>
<li><a href='#ReceiveABISMessage'>ReceiveABISMessage</a>
<li><a href='#ReceiveAbiscoMessage'>ReceiveAbiscoMessage</a>
<li><a href='#ReceiveAbiscoMsg'>ReceiveAbiscoMsg</a>
<li><a href='#ReceiveMSSimMsg'>ReceiveMSSimMsg</a>
<li><a href='#RestartBTS'>RestartBTS</a>
<li><a href='#SendAccessBurstsMSSIM_ext'>SendAccessBurstsMSSIM_ext</a>
<li><a href='#SendHandoverAccess'>SendHandoverAccess</a>
<li><a href='#SendNormalBurstsMSSIM'>SendNormalBurstsMSSIM</a>
<li><a href='#SetArfcn'>SetArfcn</a>
<li><a href='#SetAttrMSSIM'>SetAttrMSSIM</a>
<li><a href='#SetCellTGSettings'>SetCellTGSettings</a>
<li><a href='#SetTSExtendedRange'>SetTSExtendedRange</a>
<li><a href='#SetTSSProcesses'>SetTSSProcesses</a>
<li><a href='#findMessagesInLog'>findMessagesInLog</a>
</ul><li><a href='#NAME'>NAME subs_FC</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#Debug'>Debug</a>
<li><a href='#FileSizeToList'>FileSizeToList</a>
<li><a href='#List2Str'>List2Str</a>
<li><a href='#ParseDVTResponse'>ParseDVTResponse</a>
<li><a href='#RaiseError'>RaiseError</a>
<li><a href='#Run'>Run</a>
<li><a href='#Str2List'>Str2List</a>
<li><a href='#TimeStamp'>TimeStamp</a>
<li><a href='#abCompleteStart'>abCompleteStart</a>
<li><a href='#abConnectResetStartConfigEnableOpinfo'>abConnectResetStartConfigEnableOpinfo</a>
<li><a href='#abEstablishLinks'>abEstablishLinks</a>
<li><a href='#abFilePackageEndCommand'>abFilePackageEndCommand</a>
<li><a href='#abFileRelationRequest'>abFileRelationRequest</a>
<li><a href='#abHWInfoRequest'>abHWInfoRequest</a>
<li><a href='#abListLoadfileNames'>abListLoadfileNames</a>
<li><a href='#abLoadDataEnd'>abLoadDataEnd</a>
<li><a href='#abLoadDataInit'>abLoadDataInit</a>
<li><a href='#abLoadOneSoftwareFile'>abLoadOneSoftwareFile</a>
<li><a href='#abLoadSoftware'>abLoadSoftware</a>
<li><a href='#abRequestLoadfiles'>abRequestLoadfiles</a>
<li><a href='#abResetCommand'>abResetCommand</a>
<li><a href='#abStartRequest'>abStartRequest</a>
<li><a href='#doAbisLog'>doAbisLog</a>
<li><a href='#doCRCCheck'>doCRCCheck</a>
<li><a href='#doCheckBTSSoftware'>doCheckBTSSoftware</a>
<li><a href='#doChecksumErrorOnFile'>doChecksumErrorOnFile</a>
<li><a href='#doConnectDVT'>doConnectDVT</a>
<li><a href='#doConnectTTR'>doConnectTTR</a>
<li><a href='#doCorruptFile'>doCorruptFile</a>
<li><a href='#doCorruption'>doCorruption</a>
<li><a href='#doFormatNegRecIIList'>doFormatNegRecIIList</a>
<li><a href='#doFormatNegRecIList'>doFormatNegRecIList</a>
<li><a href='#doGenerateFRR'>doGenerateFRR</a>
<li><a href='#doGetBTSGen'>doGetBTSGen</a>
<li><a href='#doGetBTSRev'>doGetBTSRev</a>
<li><a href='#doGetFaultReport'>doGetFaultReport</a>
<li><a href='#doGetFileSize'>doGetFileSize</a>
<li><a href='#doGetFirstTRXCLocation'>doGetFirstTRXCLocation</a>
<li><a href='#doGetIWD'>doGetIWD</a>
<li><a href='#doGetNegotiationRecord'>doGetNegotiationRecord</a>
<li><a href='#doGetOMLMaps'>doGetOMLMaps</a>
<li><a href='#doGetOMLRSL'>doGetOMLRSL</a>
<li><a href='#doGetPlatform'>doGetPlatform</a>
<li><a href='#doGetRSLMaps'>doGetRSLMaps</a>
<li><a href='#doGetRusVersion'>doGetRusVersion</a>
<li><a href='#doGetSoftwareVersion'>doGetSoftwareVersion</a>
<li><a href='#doHardwareReset'>doHardwareReset</a>
<li><a href='#doLFValidCheck'>doLFValidCheck</a>
<li><a href='#doLoadDeltaSoftware'>doLoadDeltaSoftware</a>
<li><a href='#doLoadSoftware'>doLoadSoftware</a>
<li><a href='#doPowerOffRBS'>doPowerOffRBS</a>
<li><a href='#doPowerOnRBS'>doPowerOnRBS</a>
<li><a href='#doSetAbisIWD'>doSetAbisIWD</a>
<li><a href='#doSetupAbisIWDVersion'>doSetupAbisIWDVersion</a>
<li><a href='#doSetupFunctionMaps'>doSetupFunctionMaps</a>
<li><a href='#doSetupLoadFiles'>doSetupLoadFiles</a>
<li><a href='#doSoftwareAnalyse'>doSoftwareAnalyse</a>
<li><a href='#doStartRequestExtra'>doStartRequestExtra</a>
<li><a href='#doWait'>doWait</a>
<li><a href='#extractAbiscoKeys'>extractAbiscoKeys</a>
<li><a href='#getCRCMatrix'>getCRCMatrix</a>
<li><a href='#getCompatibilityMatrix'>getCompatibilityMatrix</a>
<li><a href='#getCorruptList'>getCorruptList</a>
<li><a href='#getCorruptionMatrix'>getCorruptionMatrix</a>
<li><a href='#getDestInFileInfo'>getDestInFileInfo</a>
<li><a href='#getRBSHWUsed'>getRBSHWUsed</a>
<li><a href='#getSymbInFileInfo'>getSymbInFileInfo</a>
<li><a href='#isArrayMatch'>isArrayMatch</a>
<li><a href='#isBTSInitiatedRequest'>isBTSInitiatedRequest</a>
<li><a href='#isCorrupted'>isCorrupted</a>
<li><a href='#isDVTConnected'>isDVTConnected</a>
<li><a href='#isNoBTSInitiatedRequest'>isNoBTSInitiatedRequest</a>
<li><a href='#isReset'>isReset</a>
<li><a href='#isStarted'>isStarted</a>
<li><a href='#isSwitchBoxOn'>isSwitchBoxOn</a>
<li><a href='#isTTRConnected'>isTTRConnected</a>
</ul><li><a href='#NAME'>NAME Subs_FreqHopp</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#AddInstr'>AddInstr</a>
<li><a href='#BCCHFreqOnly'>BCCHFreqOnly</a>
<li><a href='#CheckInterferenceLevel'>CheckInterferenceLevel</a>
<li><a href='#FetchCDUType'>FetchCDUType</a>
<li><a href='#FormatTestcaseName'>FormatTestcaseName</a>
<li><a href='#GetHWInfoResult'>GetHWInfoResult</a>
<li><a href='#HoppingCheck'>HoppingCheck</a>
<li><a href='#NoiseOn'>NoiseOn</a>
<li><a href='#ReceiveAbiscoMsg'>ReceiveAbiscoMsg</a>
<li><a href='#ResetTG'>ResetTG</a>
<li><a href='#SetErrorFreqHopp'>SetErrorFreqHopp</a>
<li><a href='#SetHoppingMode'>SetHoppingMode</a>
<li><a href='#SetICM'>SetICM</a>
<li><a href='#StoreTG'>StoreTG</a>
<li><a href='#TSFreqSpec'>TSFreqSpec</a>
</ul><li><a href='#NAME'>NAME Subs_FuncAdm</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#IMPLEMENTS'>IMPLEMENTS</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#AbisIWDVersionSwitch'>AbisIWDVersionSwitch</a>
<li><a href='#AbisLoggingBTS'>AbisLoggingBTS</a>
<li><a href='#ActivateRxTx'>ActivateRxTx</a>
<li><a href='#AnalyzeInfo'>AnalyzeInfo</a>
<li><a href='#ButtonLocal'>ButtonLocal</a>
<li><a href='#CalcFreqList'>CalcFreqList</a>
<li><a href='#CalcFreqListElement'>CalcFreqListElement</a>
<li><a href='#ChangeTG'>ChangeTG</a>
<li><a href='#CheckDiffARFCNOnDVT'>CheckDiffARFCNOnDVT</a>
<li><a href='#CheckMCTR'>CheckMCTR</a>
<li><a href='#CheckMOStateOnDVT'>CheckMOStateOnDVT</a>
<li><a href='#CheckMOStatus'>CheckMOStatus</a>
<li><a href='#CheckPower'>CheckPower</a>
<li><a href='#CheckRDiv'>CheckRDiv</a>
<li><a href='#CheckSameARFCNOnDVT'>CheckSameARFCNOnDVT</a>
<li><a href='#CompareArrays'>CompareArrays</a>
<li><a href='#CompleteStartBTS'>CompleteStartBTS</a>
<li><a href='#CompleteStartWithParamters'>CompleteStartWithParamters</a>
<li><a href='#ConfigAntennaHoppingOff'>ConfigAntennaHoppingOff</a>
<li><a href='#ConfigAntennaHoppingOn'>ConfigAntennaHoppingOn</a>
<li><a href='#ConfigMO'>ConfigMO</a>
<li><a href='#ConfigMOAndExpectAlarm'>ConfigMOAndExpectAlarm</a>
<li><a href='#ConfigMORX'>ConfigMORX</a>
<li><a href='#ConfigReadMO'>ConfigReadMO</a>
<li><a href='#ConfigTCC'>ConfigTCC</a>
<li><a href='#ConfigTxAntennaHopp'>ConfigTxAntennaHopp</a>
<li><a href='#ConfigTxDiversity'>ConfigTxDiversity</a>
<li><a href='#ConnectMO'>ConnectMO</a>
<li><a href='#ConnectResetStart'>ConnectResetStart</a>
<li><a href='#ConvertDBMtoWatt'>ConvertDBMtoWatt</a>
<li><a href='#ConvertOctToTRXList'>ConvertOctToTRXList</a>
<li><a href='#ConvertToFloat'>ConvertToFloat</a>
<li><a href='#ConvertWattToDBM'>ConvertWattToDBM</a>
<li><a href='#DeConfigTCC'>DeConfigTCC</a>
<li><a href='#DecodeAttribute'>DecodeAttribute</a>
<li><a href='#DecodeMCTRRecord'>DecodeMCTRRecord</a>
<li><a href='#DecodeTGRecord'>DecodeTGRecord</a>
<li><a href='#DefineCell'>DefineCell</a>
<li><a href='#DisableAllTS'>DisableAllTS</a>
<li><a href='#DisableConfigEnable'>DisableConfigEnable</a>
<li><a href='#DisableMO'>DisableMO</a>
<li><a href='#DisconnectConnectTG'>DisconnectConnectTG</a>
<li><a href='#DisconnectMO'>DisconnectMO</a>
<li><a href='#DisplayAntennaHoppingOnDVT'>DisplayAntennaHoppingOnDVT</a>
<li><a href='#EnableAllTS'>EnableAllTS</a>
<li><a href='#EnableMO'>EnableMO</a>
<li><a href='#EnableMOTXWhileConfigure'>EnableMOTXWhileConfigure</a>
<li><a href='#EstablishLAPD'>EstablishLAPD</a>
<li><a href='#EstablishResetStart'>EstablishResetStart</a>
<li><a href='#FeatureControl'>FeatureControl</a>
<li><a href='#FetchAttribute'>FetchAttribute</a>
<li><a href='#FindOctetsInLogFrame'>FindOctetsInLogFrame</a>
<li><a href='#FindPowerMinMaxValue'>FindPowerMinMaxValue</a>
<li><a href='#FormatTestcaseName'>FormatTestcaseName</a>
<li><a href='#FoundHwType'>FoundHwType</a>
<li><a href='#GetARFCNvalid'>GetARFCNvalid</a>
<li><a href='#GetActiveCell'>GetActiveCell</a>
<li><a href='#GetAttributes'>GetAttributes</a>
<li><a href='#GetAvailableTFSyncSources'>GetAvailableTFSyncSources</a>
<li><a href='#GetCapabilities'>GetCapabilities</a>
<li><a href='#GetDateTimeForFileName'>GetDateTimeForFileName</a>
<li><a href='#GetFreqSpec'>GetFreqSpec</a>
<li><a href='#GetFrequencyBandwidthCapability'>GetFrequencyBandwidthCapability</a>
<li><a href='#GetLEDStatus'>GetLEDStatus</a>
<li><a href='#GetLast'>GetLast</a>
<li><a href='#GetMCTRInstances'>GetMCTRInstances</a>
<li><a href='#GetMCTRRecords'>GetMCTRRecords</a>
<li><a href='#GetMCTRSupportedARFCN'>GetMCTRSupportedARFCN</a>
<li><a href='#GetMOStatus'>GetMOStatus</a>
<li><a href='#GetPlatform'>GetPlatform</a>
<li><a href='#GetRecordOnTRXC'>GetRecordOnTRXC</a>
<li><a href='#GetSlaveMasterPair'>GetSlaveMasterPair</a>
<li><a href='#GetStartcause'>GetStartcause</a>
<li><a href='#GetTRXCInstances'>GetTRXCInstances</a>
<li><a href='#GetTSFreqList'>GetTSFreqList</a>
<li><a href='#HWInfoReqBTS'>HWInfoReqBTS</a>
<li><a href='#HWInfoReqNakBTS'>HWInfoReqNakBTS</a>
<li><a href='#HardwareReset'>HardwareReset</a>
<li><a href='#InfoCellBTS'>InfoCellBTS</a>
<li><a href='#InfoTGBTS'>InfoTGBTS</a>
<li><a href='#MakeBin'>MakeBin</a>
<li><a href='#ModifyFreqList'>ModifyFreqList</a>
<li><a href='#MonitorTrxcMctrTablesOnDVT'>MonitorTrxcMctrTablesOnDVT</a>
<li><a href='#PowerBackOffControl'>PowerBackOffControl</a>
<li><a href='#PrepareOcts'>PrepareOcts</a>
<li><a href='#ReadPCMType'>ReadPCMType</a>
<li><a href='#ReceiveAbiscoMsg'>ReceiveAbiscoMsg</a>
<li><a href='#ReceiveMessage'>ReceiveMessage</a>
<li><a href='#ReleaseLAPD'>ReleaseLAPD</a>
<li><a href='#ResetMO'>ResetMO</a>
<li><a href='#ResetMOAndExpectAlarm'>ResetMOAndExpectAlarm</a>
<li><a href='#ResetTG'>ResetTG</a>
<li><a href='#RestoreTG'>RestoreTG</a>
<li><a href='#SaveCapabilitiesInFile'>SaveCapabilitiesInFile</a>
<li><a href='#SelectARFCN'>SelectARFCN</a>
<li><a href='#SendDVTCommand'>SendDVTCommand</a>
<li><a href='#SendData'>SendData</a>
<li><a href='#SendOperationalInfo'>SendOperationalInfo</a>
<li><a href='#SendStatusRequest'>SendStatusRequest</a>
<li><a href='#SetMCTRReporting'>SetMCTRReporting</a>
<li><a href='#SetRightBI_Q1'>SetRightBI_Q1</a>
<li><a href='#SetTG'>SetTG</a>
<li><a href='#SetWrongBI_Q1'>SetWrongBI_Q1</a>
<li><a href='#SplitLargeIntIntoByteArrayInIntFormat'>SplitLargeIntIntoByteArrayInIntFormat</a>
<li><a href='#SplitString'>SplitString</a>
<li><a href='#StartConfigEnable'>StartConfigEnable</a>
<li><a href='#StartMO'>StartMO</a>
<li><a href='#StoreTG'>StoreTG</a>
<li><a href='#TSConfig'>TSConfig</a>
<li><a href='#ValidateCurrentFreqList'>ValidateCurrentFreqList</a>
</ul><li><a href='#NAME'>NAME subs_handover</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChCleanBTS'>ChCleanBTS</a>
<li><a href='#ChRelBTS'>ChRelBTS</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#CheckBCCHTypeBTS'>CheckBCCHTypeBTS</a>
<li><a href='#GetActiveCell'>GetActiveCell</a>
<li><a href='#LAPDmSend'>LAPDmSend</a>
<li><a href='#MeasurementReporting'>MeasurementReporting</a>
<li><a href='#ReceiveAbiscoMessage'>ReceiveAbiscoMessage</a>
<li><a href='#ReceiveMSSIMData'>ReceiveMSSIMData</a>
<li><a href='#RestartBTS'>RestartBTS</a>
<li><a href='#SendHandoverAccess'>SendHandoverAccess</a>
</ul><li><a href='#NAME'>NAME subs_lapdm</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChRelBTS'>ChRelBTS</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#CheckL3Data'>CheckL3Data</a>
<li><a href='#CheckReceivedLAPDm'>CheckReceivedLAPDm</a>
<li><a href='#EmptyBufferMSSIM'>EmptyBufferMSSIM</a>
<li><a href='#EmptyMMSIMBuffer'>EmptyMMSIMBuffer</a>
<li><a href='#EstReqAbisco'>EstReqAbisco</a>
<li><a href='#EstablishRequestMSSIM'>EstablishRequestMSSIM</a>
<li><a href='#GetTSCparameters'>GetTSCparameters</a>
<li><a href='#QueueDLMsg'>QueueDLMsg</a>
<li><a href='#RadioChReleaseCommand'>RadioChReleaseCommand</a>
<li><a href='#ReceiveAbisco'>ReceiveAbisco</a>
<li><a href='#ReceiveAbiscoData'>ReceiveAbiscoData</a>
<li><a href='#ReceiveErrInd'>ReceiveErrInd</a>
<li><a href='#ReceiveErrorIndication'>ReceiveErrorIndication</a>
<li><a href='#ReceiveErrorReport'>ReceiveErrorReport</a>
<li><a href='#ReceiveLAPDm'>ReceiveLAPDm</a>
<li><a href='#ReceiveSABM'>ReceiveSABM</a>
<li><a href='#ReleaseRequestAbisco'>ReleaseRequestAbisco</a>
<li><a href='#ResetTG'>ResetTG</a>
<li><a href='#RestartBTS'>RestartBTS</a>
<li><a href='#SendDLRelReq'>SendDLRelReq</a>
<li><a href='#SendDataReq'>SendDataReq</a>
<li><a href='#SendEstReqSAPI2Abisco'>SendEstReqSAPI2Abisco</a>
<li><a href='#SendLAPDm'>SendLAPDm</a>
<li><a href='#SendModeModify'>SendModeModify</a>
<li><a href='#SendModifiedLAPDm'>SendModifiedLAPDm</a>
<li><a href='#SendMultiPurposeReq'>SendMultiPurposeReq</a>
<li><a href='#StoreTG'>StoreTG</a>
<li><a href='#SwitchChComb'>SwitchChComb</a>
<li><a href='#UpdateCellBTS'>UpdateCellBTS</a>
<li><a href='#resetMSSIM'>resetMSSIM</a>
</ul><li><a href='#NAME'>NAME subs_link</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#CheckL3Data'>CheckL3Data</a>
<li><a href='#CompareHash'>CompareHash</a>
<li><a href='#DeactivatePayload'>DeactivatePayload</a>
<li><a href='#EstReqBTS'>EstReqBTS</a>
<li><a href='#EstablishReqMSSIM'>EstablishReqMSSIM</a>
<li><a href='#FindMsgInLog'>FindMsgInLog</a>
<li><a href='#FindMsgInLog2'>FindMsgInLog2</a>
<li><a href='#HexToBinary'>HexToBinary</a>
<li><a href='#ModeModify'>ModeModify</a>
<li><a href='#RadioChReleaseCommand'>RadioChReleaseCommand</a>
<li><a href='#ReceiveAbiscoMessage'>ReceiveAbiscoMessage</a>
<li><a href='#ReceiveMSSIM'>ReceiveMSSIM</a>
<li><a href='#ReceiveMSSimMsg'>ReceiveMSSimMsg</a>
<li><a href='#ReleaseAllPayload'>ReleaseAllPayload</a>
<li><a href='#SendAssignmentCommand'>SendAssignmentCommand</a>
<li><a href='#SendAssignmentCommand_N'>SendAssignmentCommand_N</a>
<li><a href='#SetSpeechLoopback'>SetSpeechLoopback</a>
<li><a href='#StartLoggingUm'>StartLoggingUm</a>
<li><a href='#resetMSSIM'>resetMSSIM</a>
</ul><li><a href='#NAME'>NAME Subs_modemodify</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ActivateCSData'>ActivateCSData</a>
<li><a href='#CalcFreqList'>CalcFreqList</a>
<li><a href='#CalcFreqListElement'>CalcFreqListElement</a>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChActMSSIMVamos'>ChActMSSIMVamos</a>
<li><a href='#ChRelBTS'>ChRelBTS</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#CheckBSPowerWithMSSIMLog'>CheckBSPowerWithMSSIMLog</a>
<li><a href='#CheckL3Data'>CheckL3Data</a>
<li><a href='#ConfigReadMO'>ConfigReadMO</a>
<li><a href='#CreateMS'>CreateMS</a>
<li><a href='#CreateSpeechPatternFile'>CreateSpeechPatternFile</a>
<li><a href='#DeleteMS'>DeleteMS</a>
<li><a href='#DisableMO'>DisableMO</a>
<li><a href='#EnableMO'>EnableMO</a>
<li><a href='#EstablishReqMSSIM'>EstablishReqMSSIM</a>
<li><a href='#GetFreqBand'>GetFreqBand</a>
<li><a href='#GetMsgArrayFromUm'>GetMsgArrayFromUm</a>
<li><a href='#GetPowerLevel'>GetPowerLevel</a>
<li><a href='#GetTCHRefPower'>GetTCHRefPower</a>
<li><a href='#GetTSCparameters'>GetTSCparameters</a>
<li><a href='#GetVPO'>GetVPO</a>
<li><a href='#MSSIMTransferFile'>MSSIMTransferFile</a>
<li><a href='#ModeModify'>ModeModify</a>
<li><a href='#RadioChRel'>RadioChRel</a>
<li><a href='#RadioChReleaseCommand'>RadioChReleaseCommand</a>
<li><a href='#ReceiveAbisco'>ReceiveAbisco</a>
<li><a href='#ReceiveMSSIM'>ReceiveMSSIM</a>
<li><a href='#RelReqMSSIM'>RelReqMSSIM</a>
<li><a href='#ReleaseAllOpenChannels'>ReleaseAllOpenChannels</a>
<li><a href='#RestartBTS'>RestartBTS</a>
<li><a href='#RoundFloat'>RoundFloat</a>
<li><a href='#SetEncryptionBTS'>SetEncryptionBTS</a>
<li><a href='#SetEncryptionMSSIM'>SetEncryptionMSSIM</a>
<li><a href='#SetNominalMaxPower'>SetNominalMaxPower</a>
<li><a href='#SetTG'>SetTG</a>
<li><a href='#SetTLS'>SetTLS</a>
<li><a href='#StartAbisLog'>StartAbisLog</a>
<li><a href='#StartPlayTest'>StartPlayTest</a>
<li><a href='#StopAbisLog'>StopAbisLog</a>
<li><a href='#StopPlayTest'>StopPlayTest</a>
<li><a href='#TSConfig'>TSConfig</a>
<li><a href='#VerifyModeModifyOnUm'>VerifyModeModifyOnUm</a>
<li><a href='#resetNominalPower'>resetNominalPower</a>
</ul><li><a href='#NAME'>NAME subs_mspower</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChActBTSLowPWRLvl'>ChActBTSLowPWRLvl</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChCleanBTS'>ChCleanBTS</a>
<li><a href='#ChReActMSSIM'>ChReActMSSIM</a>
<li><a href='#ChReactBTS'>ChReactBTS</a>
<li><a href='#ChRelBTS'>ChRelBTS</a>
<li><a href='#ChRelBTSSDCCH'>ChRelBTSSDCCH</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#ChRelReActBTS'>ChRelReActBTS</a>
<li><a href='#CheckCBCH'>CheckCBCH</a>
<li><a href='#CheckTestBandBTS'>CheckTestBandBTS</a>
<li><a href='#ClearMSSIMBuffer'>ClearMSSIMBuffer</a>
<li><a href='#EstReqBTS'>EstReqBTS</a>
<li><a href='#LAPDmSend'>LAPDmSend</a>
<li><a href='#ReceiveAbiscoMessage'>ReceiveAbiscoMessage</a>
<li><a href='#ReceiveMSSIM'>ReceiveMSSIM</a>
<li><a href='#ReceiveSystemInfo'>ReceiveSystemInfo</a>
<li><a href='#RestartBTS'>RestartBTS</a>
<li><a href='#SendDataRequest'>SendDataRequest</a>
<li><a href='#SendMeas'>SendMeas</a>
<li><a href='#SetMSPowerBTS'>SetMSPowerBTS</a>
</ul><li><a href='#NAME'>NAME Subs_PacketData</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#IMPLEMENTS'>IMPLEMENTS</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ActivateGSLData'>ActivateGSLData</a>
<li><a href='#ActivateGSLData_EPAS'>ActivateGSLData_EPAS</a>
<li><a href='#ActivateGSL_EPAS'>ActivateGSL_EPAS</a>
<li><a href='#ActivateMCPAOverbooking'>ActivateMCPAOverbooking</a>
<li><a href='#AllocateGslLink'>AllocateGslLink</a>
<li><a href='#BPSplit'>BPSplit</a>
<li><a href='#CalcRoundTripDelayAbis'>CalcRoundTripDelayAbis</a>
<li><a href='#ChActPacketMSSIM'>ChActPacketMSSIM</a>
<li><a href='#ChActPacketMSSIM_EPAS'>ChActPacketMSSIM_EPAS</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#ChangeTG'>ChangeTG</a>
<li><a href='#ChannelActPacket'>ChannelActPacket</a>
<li><a href='#ChannelRelease'>ChannelRelease</a>
<li><a href='#CheckCCUDiscardFrames'>CheckCCUDiscardFrames</a>
<li><a href='#CheckCPSParameterInLog'>CheckCPSParameterInLog</a>
<li><a href='#CheckDLFlowTN'>CheckDLFlowTN</a>
<li><a href='#CheckIfPANinULDATA'>CheckIfPANinULDATA</a>
<li><a href='#CheckL3Data'>CheckL3Data</a>
<li><a href='#CheckRLCBlockQuality'>CheckRLCBlockQuality</a>
<li><a href='#CheckTSCParameterInLog'>CheckTSCParameterInLog</a>
<li><a href='#CheckTimeBetweenRTTI_IND'>CheckTimeBetweenRTTI_IND</a>
<li><a href='#ClearMSSIMbuffer'>ClearMSSIMbuffer</a>
<li><a href='#CompleteStartRBS'>CompleteStartRBS</a>
<li><a href='#ConfigureLanforge'>ConfigureLanforge</a>
<li><a href='#CreateParameterHash'>CreateParameterHash</a>
<li><a href='#CreateParameterHashMultiMS'>CreateParameterHashMultiMS</a>
<li><a href='#DeactivateGslData'>DeactivateGslData</a>
<li><a href='#DeactivateMCPAOverbooking'>DeactivateMCPAOverbooking</a>
<li><a href='#DeallocateGSLLink'>DeallocateGSLLink</a>
<li><a href='#DifferentEncoding'>DifferentEncoding</a>
<li><a href='#FilterMessageArray'>FilterMessageArray</a>
<li><a href='#FindMinMaxInMessageArray'>FindMinMaxInMessageArray</a>
<li><a href='#FindModifiedDLPGSLMsg'>FindModifiedDLPGSLMsg</a>
<li><a href='#FindPGSLMessagesInLog'>FindPGSLMessagesInLog</a>
<li><a href='#GeneratePSPatternFile'>GeneratePSPatternFile</a>
<li><a href='#GetCPSValueFromRLCMACHeader'>GetCPSValueFromRLCMACHeader</a>
<li><a href='#GetMaxPwr'>GetMaxPwr</a>
<li><a href='#GetRoundTripDelayAbis'>GetRoundTripDelayAbis</a>
<li><a href='#IPTemplateModify'>IPTemplateModify</a>
<li><a href='#JoinArrays'>JoinArrays</a>
<li><a href='#MSSIMTransferFile'>MSSIMTransferFile</a>
<li><a href='#PrintMessageArray'>PrintMessageArray</a>
<li><a href='#ReadLanforgeSettings'>ReadLanforgeSettings</a>
<li><a href='#ReleaseOpenChannels'>ReleaseOpenChannels</a>
<li><a href='#ResetTG'>ResetTG</a>
<li><a href='#SCQualityReportII'>SCQualityReportII</a>
<li><a href='#SCReporting'>SCReporting</a>
<li><a href='#SendABMSSIM'>SendABMSSIM</a>
<li><a href='#SendISConfig'>SendISConfig</a>
<li><a href='#SetAbisAndTCHMode'>SetAbisAndTCHMode</a>
<li><a href='#SetTLSFilteringTime'>SetTLSFilteringTime</a>
<li><a href='#StartGSLLink_EPAS'>StartGSLLink_EPAS</a>
<li><a href='#StartGslLink'>StartGslLink</a>
<li><a href='#StartLoopMSSIM'>StartLoopMSSIM</a>
<li><a href='#StartPRBS_MSSIM'>StartPRBS_MSSIM</a>
<li><a href='#StopGslLink'>StopGslLink</a>
<li><a href='#StopLoopMSSIM'>StopLoopMSSIM</a>
<li><a href='#StoreTG'>StoreTG</a>
<li><a href='#TXConfigMaxPower'>TXConfigMaxPower</a>
<li><a href='#TscUpdate'>TscUpdate</a>
<li><a href='#UpdateGslData'>UpdateGslData</a>
<li><a href='#VerifyCCUDownlinkBlockError'>VerifyCCUDownlinkBlockError</a>
<li><a href='#findMessagesInLog'>findMessagesInLog</a>
</ul><li><a href='#PH4--20131211---XPATHIL----------XAMMELY--------------Re-added-a-necessary-check-in-SetAbisAndTCHMode-'>PH4  20131211   XPATHIL          XAMMELY              Re-added a necessary check in SetAbisAndTCHMode.</a>
<li><a href='#NAME'>NAME Subs_PSData</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#CreateList'>CreateList</a>
<li><a href='#Execute'>Execute</a>
<li><a href='#NotSupportedEncoding'>NotSupportedEncoding</a>
<li><a href='#PrepareCPS'>PrepareCPS</a>
<li><a href='#PrepareReq'>PrepareReq</a>
<li><a href='#PrintError'>PrintError</a>
<li><a href='#PrintHeading'>PrintHeading</a>
<li><a href='#SaveEncoding'>SaveEncoding</a>
<li><a href='#VerifyAB'>VerifyAB</a>
<li><a href='#VerifyNB'>VerifyNB</a>
</ul><li><a href='#NAME'>NAME subs_radiotransmission</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#CheckL3Data'>CheckL3Data</a>
<li><a href='#DisableConfigEnableBTS'>DisableConfigEnableBTS</a>
<li><a href='#GetActiveCell'>GetActiveCell</a>
<li><a href='#GetMSSIM_RxBlkCnt'>GetMSSIM_RxBlkCnt</a>
<li><a href='#RestartBTS'>RestartBTS</a>
<li><a href='#SendDisableRequest'>SendDisableRequest</a>
<li><a href='#SendEnableRequest'>SendEnableRequest</a>
<li><a href='#SendTXConfigRequest'>SendTXConfigRequest</a>
<li><a href='#SetBCC_BTS'>SetBCC_BTS</a>
</ul><li><a href='#NAME'>NAME Subs_regtraff</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#AllocateICP'>AllocateICP</a>
<li><a href='#Allocated'>Allocated</a>
<li><a href='#BSPowerControl'>BSPowerControl</a>
<li><a href='#CallSetupMT'>CallSetupMT</a>
<li><a href='#CheckCapabilities'>CheckCapabilities</a>
<li><a href='#CheckForChangedMsg'>CheckForChangedMsg</a>
<li><a href='#CheckMeasurements'>CheckMeasurements</a>
<li><a href='#Cleanup'>Cleanup</a>
<li><a href='#CloseTlmLogging'>CloseTlmLogging</a>
<li><a href='#CloseTsharkLogging'>CloseTsharkLogging</a>
<li><a href='#ConfigAndStartBTS'>ConfigAndStartBTS</a>
<li><a href='#CopySetupParam'>CopySetupParam</a>
<li><a href='#DeallocateICP'>DeallocateICP</a>
<li><a href='#DisconnectCallMT'>DisconnectCallMT</a>
<li><a href='#GetSetupParam'>GetSetupParam</a>
<li><a href='#InitiateTlmLogging'>InitiateTlmLogging</a>
<li><a href='#InitiateTsharkLogging'>InitiateTsharkLogging</a>
<li><a href='#IntercellhandoverTCH'>IntercellhandoverTCH</a>
<li><a href='#IntracellhandoverTCH'>IntracellhandoverTCH</a>
<li><a href='#MSPowerControl'>MSPowerControl</a>
<li><a href='#OnOffMeasurements'>OnOffMeasurements</a>
<li><a href='#PowerCheck'>PowerCheck</a>
<li><a href='#ReadAbiscoConfig'>ReadAbiscoConfig</a>
<li><a href='#SACCHInfoModify'>SACCHInfoModify</a>
<li><a href='#SMSSetupMT'>SMSSetupMT</a>
<li><a href='#StartBTS'>StartBTS</a>
<li><a href='#UsedInList'>UsedInList</a>
<li><a href='#VamosPowerOffset'>VamosPowerOffset</a>
<li><a href='#VerifySysInfo'>VerifySysInfo</a>
<li><a href='#didHopping'>didHopping</a>
<li><a href='#getPrbsStatistics'>getPrbsStatistics</a>
<li><a href='#initSetupParamHash'>initSetupParamHash</a>
<li><a href='#ltsActivateRACH'>ltsActivateRACH</a>
<li><a href='#ltsBuildCellHash'>ltsBuildCellHash</a>
<li><a href='#ltsCalcCallRate'>ltsCalcCallRate</a>
<li><a href='#ltsCalcLoadRate'>ltsCalcLoadRate</a>
<li><a href='#ltsConfigureCell'>ltsConfigureCell</a>
<li><a href='#ltsConfigureCellLoad'>ltsConfigureCellLoad</a>
<li><a href='#ltsConfigureOther'>ltsConfigureOther</a>
<li><a href='#ltsConfigureSim'>ltsConfigureSim</a>
<li><a href='#ltsConfigureVamos'>ltsConfigureVamos</a>
<li><a href='#ltsDeactivateRACH'>ltsDeactivateRACH</a>
<li><a href='#ltsGetPeriodicReport'>ltsGetPeriodicReport</a>
<li><a href='#ltsGetSetupParam'>ltsGetSetupParam</a>
<li><a href='#ltsRunTest'>ltsRunTest</a>
<li><a href='#ltsVerifyLoadResult'>ltsVerifyLoadResult</a>
<li><a href='#numerically'>numerically</a>
<li><a href='#releaseTstm'>releaseTstm</a>
</ul><li><a href='#NAME'>NAME subs_rehandling</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#CompareArrays'>CompareArrays</a>
<li><a href='#CompleteStartBTS'>CompleteStartBTS</a>
<li><a href='#ConfigReadMO'>ConfigReadMO</a>
<li><a href='#ConnectMO'>ConnectMO</a>
<li><a href='#ConnectResetStart'>ConnectResetStart</a>
<li><a href='#DecodeMCTRRecord'>DecodeMCTRRecord</a>
<li><a href='#DisableMO'>DisableMO</a>
<li><a href='#EnableMO'>EnableMO</a>
<li><a href='#EstablishResetStart'>EstablishResetStart</a>
<li><a href='#GetMCTRRecords'>GetMCTRRecords</a>
<li><a href='#MonitorTrxcMctrTablesOnDVT'>MonitorTrxcMctrTablesOnDVT</a>
<li><a href='#ResetMO'>ResetMO</a>
<li><a href='#SplitString'>SplitString</a>
<li><a href='#StartMO'>StartMO</a>
</ul><li><a href='#NAME'>NAME subs_repsacch</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChRelBTS'>ChRelBTS</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#CheckAbiscoConfig'>CheckAbiscoConfig</a>
<li><a href='#CheckL3Data'>CheckL3Data</a>
<li><a href='#CheckTable'>CheckTable</a>
<li><a href='#EstablishReqMSSIM'>EstablishReqMSSIM</a>
<li><a href='#GetDateTime'>GetDateTime</a>
<li><a href='#GetResult'>GetResult</a>
<li><a href='#HandleError'>HandleError</a>
<li><a href='#InitResult'>InitResult</a>
<li><a href='#ReceiveAbisco'>ReceiveAbisco</a>
<li><a href='#ReceiveMeasurmentResultNormal'>ReceiveMeasurmentResultNormal</a>
<li><a href='#ReceiveMeasurmentResultRepeated'>ReceiveMeasurmentResultRepeated</a>
<li><a href='#ReceiveSystemInfo'>ReceiveSystemInfo</a>
<li><a href='#ReceiveSystemInfoAllNormal'>ReceiveSystemInfoAllNormal</a>
<li><a href='#ReceiveSystemInfoAllNormalLapdm'>ReceiveSystemInfoAllNormalLapdm</a>
<li><a href='#ReceiveSystemInfoAllRepeated'>ReceiveSystemInfoAllRepeated</a>
<li><a href='#ReceiveSystemInfoAllRepeatedLapdm'>ReceiveSystemInfoAllRepeatedLapdm</a>
<li><a href='#RepeatedSACCHControlSub'>RepeatedSACCHControlSub</a>
<li><a href='#Report'>Report</a>
<li><a href='#SACCHInfoModify5bis'>SACCHInfoModify5bis</a>
<li><a href='#SACCHInfoModify5ter'>SACCHInfoModify5ter</a>
<li><a href='#SACCHInfoModifyOff'>SACCHInfoModifyOff</a>
<li><a href='#SendDeliveryReportAbisco'>SendDeliveryReportAbisco</a>
<li><a href='#SendDeliveryReportWithoutRepsacch'>SendDeliveryReportWithoutRepsacch</a>
<li><a href='#SendMeas'>SendMeas</a>
<li><a href='#SendMultiPurposeReq'>SendMultiPurposeReq</a>
<li><a href='#SendSMSWithoutRepsacch'>SendSMSWithoutRepsacch</a>
<li><a href='#SendShortMessageMSSIM'>SendShortMessageMSSIM</a>
<li><a href='#SetMeasurementReportingBTS'>SetMeasurementReportingBTS</a>
<li><a href='#WriteLog'>WriteLog</a>
</ul><li><a href='#NAME'>NAME Subs_RFPower</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ActivateSpeech'>ActivateSpeech</a>
<li><a href='#AllocateGslLink'>AllocateGslLink</a>
<li><a href='#BSPowerControl'>BSPowerControl</a>
<li><a href='#CalculateBackoffStatistics'>CalculateBackoffStatistics</a>
<li><a href='#CalculateMCTROcts'>CalculateMCTROcts</a>
<li><a href='#CallSetUp'>CallSetUp</a>
<li><a href='#Cases'>Cases</a>
<li><a href='#ChActImmAssignBTS'>ChActImmAssignBTS</a>
<li><a href='#ChActNormalAssignBTS'>ChActNormalAssignBTS</a>
<li><a href='#ChannelActPacketChannel'>ChannelActPacketChannel</a>
<li><a href='#CheckAvailMCTR'>CheckAvailMCTR</a>
<li><a href='#CheckBackOffInLog'>CheckBackOffInLog</a>
<li><a href='#CheckBackOffMeasOnDVT'>CheckBackOffMeasOnDVT</a>
<li><a href='#CheckBackOffReport'>CheckBackOffReport</a>
<li><a href='#CheckMonitorByNameOnDVT'>CheckMonitorByNameOnDVT</a>
<li><a href='#CheckNumberOfTRXC'>CheckNumberOfTRXC</a>
<li><a href='#CheckPowerUtilsMeasOnDVT'>CheckPowerUtilsMeasOnDVT</a>
<li><a href='#CheckPowerUtilsReport'>CheckPowerUtilsReport</a>
<li><a href='#CheckStatisticsContent'>CheckStatisticsContent</a>
<li><a href='#CompareArrays'>CompareArrays</a>
<li><a href='#CompleteStartBTS'>CompleteStartBTS</a>
<li><a href='#CompleteStartTG'>CompleteStartTG</a>
<li><a href='#ConfigMCTR'>ConfigMCTR</a>
<li><a href='#ConfigReadMO'>ConfigReadMO</a>
<li><a href='#ConfigureBCCHTSandTX'>ConfigureBCCHTSandTX</a>
<li><a href='#ConnectAllMCTRs'>ConnectAllMCTRs</a>
<li><a href='#ConnectMO'>ConnectMO</a>
<li><a href='#ConnectResetStartConfigEnableOpinfo'>ConnectResetStartConfigEnableOpinfo</a>
<li><a href='#CreateResultFile'>CreateResultFile</a>
<li><a href='#DeactivateGslData'>DeactivateGslData</a>
<li><a href='#DeactivateSpeech'>DeactivateSpeech</a>
<li><a href='#DecodeMCTRRecord'>DecodeMCTRRecord</a>
<li><a href='#DisableMO'>DisableMO</a>
<li><a href='#DoTSConfigRequest'>DoTSConfigRequest</a>
<li><a href='#EnableMO'>EnableMO</a>
<li><a href='#EstablishResetStart'>EstablishResetStart</a>
<li><a href='#EstablishResetStartAllCFs'>EstablishResetStartAllCFs</a>
<li><a href='#FetchMCTRInstancesUnderTest'>FetchMCTRInstancesUnderTest</a>
<li><a href='#FormatTestcaseName'>FormatTestcaseName</a>
<li><a href='#GetAndCheckMCTRStatistics'>GetAndCheckMCTRStatistics</a>
<li><a href='#GetDateTimeForFileName'>GetDateTimeForFileName</a>
<li><a href='#GetLast'>GetLast</a>
<li><a href='#GetMCTRRecords'>GetMCTRRecords</a>
<li><a href='#HardwareReset'>HardwareReset</a>
<li><a href='#ModifySpeech'>ModifySpeech</a>
<li><a href='#PowerBackOffControl'>PowerBackOffControl</a>
<li><a href='#PrepareConfigureTX'>PrepareConfigureTX</a>
<li><a href='#PrepareMCTRConfigurations'>PrepareMCTRConfigurations</a>
<li><a href='#RFChReleaseOnAllChannels'>RFChReleaseOnAllChannels</a>
<li><a href='#RadioChRel'>RadioChRel</a>
<li><a href='#ReceiveAbiscoMessage'>ReceiveAbiscoMessage</a>
<li><a href='#ReleaseAllChannels'>ReleaseAllChannels</a>
<li><a href='#ReleaseChannel'>ReleaseChannel</a>
<li><a href='#ResetMO'>ResetMO</a>
<li><a href='#RevertCCCHTS'>RevertCCCHTS</a>
<li><a href='#SaveInResultFile'>SaveInResultFile</a>
<li><a href='#SaveMCTRConfigurations'>SaveMCTRConfigurations</a>
<li><a href='#SendStatusRequest'>SendStatusRequest</a>
<li><a href='#SetCell'>SetCell</a>
<li><a href='#SetMCTRReporting'>SetMCTRReporting</a>
<li><a href='#SetTG'>SetTG</a>
<li><a href='#SetupPDCHandSDCCHTraffic'>SetupPDCHandSDCCHTraffic</a>
<li><a href='#SetupTCHTraffic'>SetupTCHTraffic</a>
<li><a href='#SplitString'>SplitString</a>
<li><a href='#StartGslLink'>StartGslLink</a>
<li><a href='#StartMO'>StartMO</a>
<li><a href='#StopGslLink'>StopGslLink</a>
<li><a href='#UpdateAllTGs'>UpdateAllTGs</a>
<li><a href='#rev_by_date'>rev_by_date</a>
</ul><li><a href='#NAME'>NAME subs_smsp2p</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChRelBTS'>ChRelBTS</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#CheckCellSettings'>CheckCellSettings</a>
<li><a href='#CompareArrays'>CompareArrays</a>
<li><a href='#CompareHash'>CompareHash</a>
<li><a href='#EstReqBTS'>EstReqBTS</a>
<li><a href='#EstablishReqMSSIM'>EstablishReqMSSIM</a>
<li><a href='#ReceiveAbiscoMsg'>ReceiveAbiscoMsg</a>
<li><a href='#ReceiveMSSimMsg'>ReceiveMSSimMsg</a>
<li><a href='#RelReqBTS'>RelReqBTS</a>
<li><a href='#RelReqMSSim'>RelReqMSSim</a>
<li><a href='#RestartBTS'>RestartBTS</a>
<li><a href='#SendMultiPurposeReqBTS'>SendMultiPurposeReqBTS</a>
<li><a href='#SendSMSBTS'>SendSMSBTS</a>
<li><a href='#SendSMSMSSim'>SendSMSMSSim</a>
</ul><li><a href='#NAME'>NAME Subs_Speech</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ButtonNext'>ButtonNext</a>
<li><a href='#ButtonPrev'>ButtonPrev</a>
<li><a href='#ChangePatternFile'>ChangePatternFile</a>
<li><a href='#ChangeStateAMRFR_NB'>ChangeStateAMRFR_NB</a>
<li><a href='#ChangeStateAMRFR_WB'>ChangeStateAMRFR_WB</a>
<li><a href='#ChangeStateAMRHR'>ChangeStateAMRHR</a>
<li><a href='#ChangeStateHR'>ChangeStateHR</a>
<li><a href='#ChangeStateVAMOS'>ChangeStateVAMOS</a>
<li><a href='#ClearStatistics'>ClearStatistics</a>
<li><a href='#CreateGUI'>CreateGUI</a>
<li><a href='#CreateParamHash'>CreateParamHash</a>
<li><a href='#DisplayStatistics'>DisplayStatistics</a>
<li><a href='#GetAMRParam'>GetAMRParam</a>
<li><a href='#GetCodec'>GetCodec</a>
<li><a href='#GetStatistics'>GetStatistics</a>
<li><a href='#PopUp'>PopUp</a>
<li><a href='#ReadPatternConfigFile'>ReadPatternConfigFile</a>
<li><a href='#ReadPatternFile'>ReadPatternFile</a>
<li><a href='#SaveStatistics'>SaveStatistics</a>
<li><a href='#SaveStatisticsLog'>SaveStatisticsLog</a>
<li><a href='#SaveStatisticsToFile'>SaveStatisticsToFile</a>
<li><a href='#StartTest'>StartTest</a>
<li><a href='#StartTestNoGUI'>StartTestNoGUI</a>
</ul><li><a href='#NAME'>NAME subs_startrestart</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ConnectResetStartConfig'>ConnectResetStartConfig</a>
<li><a href='#TRXCConnectResetStartConfig'>TRXCConnectResetStartConfig</a>
</ul><li><a href='#NAME'>NAME Subs_TimeReq</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#AbisLoggingBTS'>AbisLoggingBTS</a>
<li><a href='#ButtonLocal'>ButtonLocal</a>
<li><a href='#GetCalendarTimeRequest'>GetCalendarTimeRequest</a>
<li><a href='#GetCalendarTimeResponseTime'>GetCalendarTimeResponseTime</a>
</ul><li><a href='#NAME'>NAME subs_vgcs</a>
<li><a href='#DESCRIPTION'>DESCRIPTION</a>
<li><a href='#REQUIRES'>REQUIRES</a>
<li><a href='#METHODS'>METHODS</a>

<ul>
<li><a href='#ChActBTS'>ChActBTS</a>
<li><a href='#ChActMSSIM'>ChActMSSIM</a>
<li><a href='#ChActNormalAssignBTSTalker'>ChActNormalAssignBTSTalker</a>
<li><a href='#ChActTalkerMSSIM'>ChActTalkerMSSIM</a>
<li><a href='#ChRelBTS'>ChRelBTS</a>
<li><a href='#ChRelBTSTalker'>ChRelBTSTalker</a>
<li><a href='#ChRelMSSIM'>ChRelMSSIM</a>
<li><a href='#CheckL3Data'>CheckL3Data</a>
<li><a href='#DoNotReceiveVGCSUplinkGrant'>DoNotReceiveVGCSUplinkGrant</a>
<li><a href='#EstablishReqMSSIM'>EstablishReqMSSIM</a>
<li><a href='#ReceiveAbisco'>ReceiveAbisco</a>
<li><a href='#ReceiveAbiscoData'>ReceiveAbiscoData</a>
<li><a href='#ReceiveMSSIM'>ReceiveMSSIM</a>
<li><a href='#ReceiveVGCSUplinkGrant'>ReceiveVGCSUplinkGrant</a>
<li><a href='#RelReqMSSIM'>RelReqMSSIM</a>
<li><a href='#Restart'>Restart</a>
<li><a href='#SendAssignmentCommandAbisco'>SendAssignmentCommandAbisco</a>
<li><a href='#SendDataMSSIM'>SendDataMSSIM</a>
<li><a href='#SendReleaseReqTalker'>SendReleaseReqTalker</a>
<li><a href='#SendUnitDataReqUplinkBusy'>SendUnitDataReqUplinkBusy</a>
<li><a href='#SendUnitDataReqUplinkFree'>SendUnitDataReqUplinkFree</a>
<li><a href='#SendUplinkAccess'>SendUplinkAccess</a>
<li><a href='#UpdateCell'>UpdateCell</a>
</ul>
</ul>
</div>

<div class='pod'><div>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_adaptiveframealignment</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 121/190 55-CAH 161 1607/1
MODULE      : subs_adaptiveframealignment.pm
DESCRIPTION : This program specifies Test Case for:  04.01
             use -init to initiate subinit file
COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE      NAME              REVIEW          COMMENT
A     20101011  XDAVMEL           XWIKMAR         File created. Approved UABTOH.
B     20101213  XMABENT           XTOBSEM         Added GetFreqBand and GetTAValueMSSIM, modified ChActBts with TA input.
                                                  Update SetAttrMSSIM added ClearBufferMSSIM
                                                  Added GetARFCN, RestoreARFCN and SetArfcnMSSIM
PC1   20110513  XMABENT           XDAVMEL         Added ConvertTAValue, GetMeasurementReport,
                                                  Updated SetArfcn
PC2   20111215  XTOBSEM           XDAVMEL         Updated GetMeasurementReport (HO16002)
PC3   20120228  XNAVNAS           XSOFFRO         Ran PerlCritic, updated to latest template (HP65006)</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i>mssim_def()</i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?subinit_adaptiveframealignment'>subinit_adaptiveframealignment</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>Subroutine: ChActBTS
Purpose:    To activate a channel in the BTS, uses par hash variables
Input:      $BTS (Abisco connection parameter)
Output:     None</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>Subroutine: ChActMSSIM
Purpose:    To activate a channel in the MSSIM, sets the CcId package variable
Input:      $Bypass  (set to '1' to bypass MSSIM automatic LAPDm handling)
Output:     $CcId</pre>
<a name='ChCleanBTS'></a><h2>ChCleanBTS</h2>

<pre> ChCleanBTS();

</pre>
<pre>Subroutine: ChCleanBTS
Purpose:    To release all radio traffic channels or control channels in the BTS
             without asserting the responses
Input:      $BTS (Abisco connection parameter),
             $RelType (Use 'Traffic' for traffic channels and 'Control' for control channels
Output:     None</pre>
<a name='ChRelBTS'></a><h2>ChRelBTS</h2>

<pre> ChRelBTS();

</pre>
<pre>Subroutine: ChRelBTS
Purpose:    To release radio traffic channels or control channels in the BTS
Input:      $BTS (Abisco connection parameter)
            $TG,
            $TRXC,
            $TS,
            $ChType
Output:     None</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>Subroutine: ChRelMSSIM
Purpose:    To release a channel in the MSSIM, uses the package variable CcId to
             identify the opened channel
Input:      None
Output:     None</pre>
<a name='ChannelRequestTA'></a><h2>ChannelRequestTA</h2>

<pre> ChannelRequestTA();

</pre>
<pre>Subroutine: ChannelRequestTA
Purpose:    request TA-value,  Observe that 3 processes must be turned off on the TSS, rr_Main_tpr...
Input:      None
Output:     TA-value</pre>
<a name='CheckBCCHConfig'></a><h2>CheckBCCHConfig</h2>

<pre> CheckBCCHConfig();

</pre>
<pre>Subroutine:  CheckBCCHConfig
Purpose:    To verify and set correct BCCHType for active sub test case, calls a restart of BTS
        if changed.
Input:      $BTS (Abisco connection parameter)
Output:</pre>
<a name='ConvertTAValue'></a><h2>ConvertTAValue</h2>

<pre> ConvertTAValue();

</pre>
<pre>Subroutine: ConvertTAValue
Purpose:    To convert TA values from/to decimal to MSSIM format
Input:      Value (Value to be converted),
Output:     Converted value</pre>
<pre>Comments:   We support setting the TaAb and TaNb fields with 1/8th of a symbol.
            The TaAb and TaNb fields are unsigned shorts (16 bits) where the upper byte contains
            the high-precision part (1/8th of a symbol) and the lower byte is the low-precision part
            in steps of symbols.
            Thus, to set a ta of 1/8 you would write 1 &lt;&lt; 8 = 256, to set it to 2/8 you write 2&lt;&lt;8 = 512 etc.
            To set it to 1 symbol + 2/8 you write: 2&lt;&lt;8 + 1 = 513 etc.</pre>
<a name='GetActiveCell'></a><h2>GetActiveCell</h2>

<pre> GetActiveCell();

</pre>
<a name='GetFreqBand'></a><h2>GetFreqBand</h2>

<pre> GetFreqBand();

</pre>
<pre>Get the frequency band</pre>
<a name='GetMeasurementReport'></a><h2>GetMeasurementReport</h2>

<pre> GetMeasurementReport();

</pre>
<pre>Subroutine: GetMeasurementResult
Purpose:  Receive MeasurmentResult on Abis and return timing advance number</pre>
<pre>Input:    Timout              Timeout, Default is 1 second
          Expect              Part of MeasurementResult wanted
          Tries               Number of messages to search through</pre>
<pre>Output:   MeasurementResult   Message sent on Abis
                              -1 is Returned if no MeasurementResult was found</pre>
<a name='GetTAValueMSSIM'></a><h2>GetTAValueMSSIM</h2>

<pre> GetTAValueMSSIM();

</pre>
<pre>Get current TA Value from the MSSIM</pre>
<a name='RestartBTS'></a><h2>RestartBTS</h2>

<pre> RestartBTS();

</pre>
<pre>Subroutine:  RestartBTS
Purpose:    Restarting the BTS, make sure that the parameters set during restart
             complies with your specific TC
Input:      $BTS (Abisco connection parameter)
Output:</pre>
<a name='RestoreARFCN'></a><h2>RestoreARFCN</h2>

<pre> RestoreARFCN();

</pre>
<pre>Restore ARFCN Value to cell
Input: BCCHno and ARFCNList</pre>
<a name='SetArfcn'></a><h2>SetArfcn</h2>

<pre> SetArfcn();

</pre>
<pre>Subroutine: SetArfcn
Purpose:    To set the correct ARFCN according to TS
Input:      $BTS
Output:     $TestBand The current BTS under test
            'No error' or 'error'
            'No restart' or 'Restart'   sent back if a restart is necessary to make changes effective</pre>
<a name='SetArfcnMSSIM'></a><h2>SetArfcnMSSIM</h2>

<pre> SetArfcnMSSIM();

</pre>
<pre>Set ARFCN Value to MSSIM
Input: ARFCN number</pre>
<a name='SetAttrMSSIM'></a><h2>SetAttrMSSIM</h2>

<pre> SetAttrMSSIM();

</pre>
<pre>Subroutine: SetAttrMSSIM
Purpose:
Input:
Output:</pre>
<a name='resetMSSIM'></a><h2>resetMSSIM</h2>

<pre> resetMSSIM();

</pre>
<pre>Subroutine: resetMSSIM
Purpose: Resets MSSIM
Input: None
Output: None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_ATraSup</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number : 192/190 55-CAH 161 1607/1 Uen
MODULE          : subs_atrasup.abi
DESCRIPTION     : This file specifies subroutines for 2259 scripts
                  Abis Transmission and Supervision</pre>
<pre>COPYRIGHT &copy; : ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
A   20110531  XLOHFOO   XDAVMEL   Added ActivateCSData,ChActSecChMulti,
                                   ChModeModify,CorruptDLDataFrames,
                                   DecactivateCSData, FindMsgInLog,
                                   HexToBinary
B   20120222  XTOBSEM   XLEIMAR   Added support of changeing $BTS in ReceiveAbiscoMessage
C   20120906  XAMMELY   EERICSV   Clean up, Dynamic TG, Perlcritic, Script template, Added
                                  AdjustTG, SetTG and CompleteStartRBS. According TR: HP65004.
                                  Updated CorruptedDLFrames and CorruptedDLDataFrames
PD1 20120912  XYNSTAN             Added TSConfigRequest, similar to DoTSConfigRequest but
                                                          and no Disable/Enable Request
PD2 20121109  XHENRMA   XMAREDV   Updated the following functions to use locked_key rather than if exists
								RadioChRel, ChActImmediateAssignBTS,
								ChActNormalAssignBTS , ChActMSSIM,
								ChRelMSSIM, SetSpeechLoopback,
								ReceiveAbiscoMessage, TSConfigRequest
								ChModeModify. Added some assertions where needed.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i>mssim_def()</i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?SubInit_ATraSup'>SubInit_ATraSup</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ActivateCSData'></a><h2>ActivateCSData</h2>

<pre> ActivateCSData();

</pre>
<pre>SUBROUTINE  : ActivateCSData
DESCRIPTION : Activate data on an activated channel</pre>
<pre>IN  :       1) TG           * Default parameters were given to the Input variable
            2) TRXC           so Input variable is vary based on Test Case
            3) DBRate
            4) DataGenMode
            5) DTX
            6) LoopDelay
OUT :       NONE</pre>
<a name='ActivateSpeech'></a><h2>ActivateSpeech</h2>

<pre> ActivateSpeech();

</pre>
<pre>SUBROUTINE  : ActivateSpeech
DESCRIPTION :    Activate speech on an activated channel</pre>
<pre>IN  :
OUT :  NONE</pre>
<a name='AdjustTG'></a><h2>AdjustTG</h2>

<pre> AdjustTG();

</pre>
<pre>SUBROUTINE  : AdjustTG
DESCRIPTION : To set TCM configuration. Disconnects, updates and reconnects TG.
              May Restart BTS if AbisMode or TLS settings is changed</pre>
<pre>IN  :    TCH_Configuration
OUT :    None</pre>
<a name='ChActImmediateAssignBTS'></a><h2>ChActImmediateAssignBTS</h2>

<pre> ChActImmediateAssignBTS();

</pre>
<pre>SUBROUTINE  : ChActImmediateAssignBTS
DESCRIPTION : Activate a channel in the BTS</pre>
<pre>IN  :    Hash with following keys: TG, TRXC, TS, ChType, TypeOfCh, ChRate, AlgOrRate
OUT :    Response message</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>SUBROUTINE  : ChActMSSIM
DESCRIPTION : To activate a channel in the MSSIM</pre>
<pre>IN  :    Hash containing the following key(s):
              AMRCodec    -   AMR Codec
              ChRate      -   Channel rate
              TG          -   TG number
              TRXC        -   TRXC
              TS          -   Timeslot number
              ChType      -   Channel Type
              TypeOfCh    -   Type of Channel
              AlgOrRate   -   GSM algorithm or Rate
              Bypass      -   Bypass flag
              Ref         -   Ref
              AllSacchSI  -   Indicator if all SACCH messages should be recieved
                              or just changes
              MsId        -   MSSSim ID
              Timeout     -   Timeout</pre>
<pre>OUT :    CcId</pre>
<a name='ChActNormalAssignBTS'></a><h2>ChActNormalAssignBTS</h2>

<pre> ChActNormalAssignBTS();

</pre>
<pre>SUBROUTINE  : ChActNormalAssignBTS
DESCRIPTION : Activate a channel in the BTS</pre>
<pre>IN  :    Hash with following keys: TG, TRXC, TS, ChType, TypeOfCh, ChRate, AlgOrRate
OUT :    Response message</pre>
<a name='ChActSecChMulti'></a><h2>ChActSecChMulti</h2>

<pre> ChActSecChMulti();

</pre>
<pre>SUBROUTINE  : ChActSecChMulti
DESCRIPTION : Activate a channel in the BTS</pre>
<pre>IN  : Hash with following keys: TG, TRXC, TS, ChType, TypeOfCh, ChRate, AlgOrRate
OUT : Response message</pre>
<a name='ChModeModify'></a><h2>ChModeModify</h2>

<pre> ChModeModify();

</pre>
<pre>SUBROUTINE  : ChModeModify
DESCRIPTION : Change mode structure such as Speech, Data and Signalling</pre>
<pre>IN  : Hash with following keys: TG, TRXC, TS, ChType, TypeOfCh, ChRate, AlgOrRate
OUT : Response message</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>SUBROUTINE  : ChRelMSSIM
DESCRIPTION : To release a channel in the MSSIM</pre>
<pre>IN  :    CcId         - CcId of channel to close
OUT :    None</pre>
<a name='ClearMSSIMBuffer'></a><h2>ClearMSSIMBuffer</h2>

<pre> ClearMSSIMBuffer();

</pre>
<pre>SUBROUTINE  : ClearMSSIMBuffer
DESCRIPTION : Clearing MSSIM message buffer</pre>
<pre>IN  :    None
OUT :    None</pre>
<a name='CompleteStartRBS'></a><h2>CompleteStartRBS</h2>

<pre> CompleteStartRBS();

</pre>
<pre>SUBROUTINE  : CompleteStartRBS
DESCRIPTION : Runs a complete startup of the RBS.</pre>
<pre>IN  :      Hash containing complete start specific data
            - Receive   -&gt; 'YES' || 'NO'
                      If the answer of the complete start is required
            - TG
            - BTS
            - TLSI    -&gt;'OFF' || 'ON'
                      TLS on Idle channel
            - TLSA    -&gt;'OFF' || 'ON'
                      TLS on Active channel
            - TLSFilteringTime    -&gt; 10 .. 100
                      The range for TLS filtering time is 1 to 10 seconds
OUT :      $Ret    -&gt; 1 || 0
                      Indicates the succession of the complete startup</pre>
<a name='CorruptDLDataFrames'></a><h2>CorruptDLDataFrames</h2>

<pre> CorruptDLDataFrames();

</pre>
<pre>SUBROUTINE  : CorruptDLDataFrames
DESCRIPTION : Start or stop corrupting DL CS Data frames with bit errors</pre>
<pre>IN  :    Mode      =&gt; 'ON' or 'OFF'
            TimeToRun =&gt; Time to run in seconds. Will resend Update Command
                         every fourth second so that corrupted frames are sent
                         for at least this specified time
                         '1' (or undefined) will send command once
            AndMask   =&gt; [xxx]
            XorMask   =&gt; [xxx]
            OrMask    =&gt; [xxx]
            BTS
OUT :    Error        1 if Error
                      0 if no Error</pre>
<a name='CorruptDLFrames'></a><h2>CorruptDLFrames</h2>

<pre> CorruptDLFrames();

</pre>
<pre>SUBROUTINE  : CorruptDLFrames
DESCRIPTION : Start or stop corrupting DL speech frames with bit errors</pre>
<pre>IN  :    Mode      =&gt; 'ON' or 'OFF'
            TimeToRun =&gt; Time to run in seconds. Will resend Update Command
                         every fourth second so that corrupted frames are sent
                         for at least this specified time
                         '1' (or undefined) will send command once
OUT :    Error        1 if Error
                         0 if no Error</pre>
<a name='DeactivatePayload'></a><h2>DeactivatePayload</h2>

<pre> DeactivatePayload();

</pre>
<pre>SUBROUTINE  : DectivateSpeech
DESCRIPTION :    Deactivate speech</pre>
<pre>IN  :
OUT :  NONE</pre>
<a name='DelayDLFrames'></a><h2>DelayDLFrames</h2>

<pre> DelayDLFrames();

</pre>
<pre>SUBROUTINE  : DelayDLFrames
DESCRIPTION : Delaying DL frames more than configured jitter buffer size or
            stopping delay.</pre>
<pre>IN  :    TG           - TG number
            SettingsFile - Lanforge settings file
            Mode         - 'ON' or 'OFF'
OUT :    Error        - This key is set with an error msg if an error occured</pre>
<a name='DoTSConfigRequest'></a><h2>DoTSConfigRequest</h2>

<pre> DoTSConfigRequest();

</pre>
<pre>SUBROUTINE  : DoTSConfigRequest
DESCRIPTION : Do a TSConfigRequest to set TLS settings, Receiver Diversity etc
            Note: Only Comb TCH implemented
            Changing TLS filtering time does not work
            Notes :JitterSize and PackingAlgorithm only enable for SC (updated by LF -24 May 2011)
IN  :    1)TS
            2)ReceiverDiversity
            3)ExtendedRange
            4)TLSA
            5)TLSI
            6)TLSFilteringTime
OUT :</pre>
<a name='FindMsgInLog'></a><h2>FindMsgInLog</h2>

<pre> FindMsgInLog();

</pre>
<pre>SUBROUTINE  : FindMsgInLog
DESCRIPTION : To find a message in log</pre>
<pre>IN  :
OUT : Array</pre>
<a name='GetTG'></a><h2>GetTG</h2>

<pre> GetTG();

</pre>
<pre>SUBROUTINE  : GetTG
DESCRIPTION : Store TG parameters. This subroutin shall be followed by SetTG
              (copied from subs_Broadcast)</pre>
<pre>IN  :
OUT :     {Cell}, {TG}, {MCTR};
Sample:   %StoredTG = GetTG();</pre>
<a name='HexToBinary'></a><h2>HexToBinary</h2>

<pre> HexToBinary();

</pre>
<pre>SUBROUTINE  : HexToBinary
DESCRIPTION : To Convert a Hex value to Bin</pre>
<pre>IN  :    Hex
OUT :    Bin</pre>
<a name='RadioChRel'></a><h2>RadioChRel</h2>

<pre> RadioChRel();

</pre>
<pre>SUBROUTINE  : RadioChRel
DESCRIPTION : Release all channels</pre>
<pre>Input:
Output:</pre>
<a name='ReceiveAbiscoMessage'></a><h2>ReceiveAbiscoMessage</h2>

<pre> ReceiveAbiscoMessage();

</pre>
<pre>SUBROUTINE  : ReceiveAbiscoMessage
DESCRIPTION : Receiving Abisco messages
IN  :    Expect (message wanted)
            Server (server for expected message)
            CauseValue (Only applicable for ConnectionFailureIndication)
            Fault (Only applicable for FaultReport)
            ChType (Bm/Bm_1)
            Timeout [s]
OUT :    'Found'         - if expected message found
            [Error Cause]   - if message not found</pre>
<a name='SetSpeechLoopback'></a><h2>SetSpeechLoopback</h2>

<pre> SetSpeechLoopback();

</pre>
<pre>SUBROUTINE  : SetSpeechLoopback
DESCRIPTION : Start or stop the Speech loopback functionality</pre>
<pre>IN  :    Mode: 'ON' or 'OFF'
            CcId
            LoopCcId
            Timeout
OUT :    Respons message</pre>
<a name='SetTG'></a><h2>SetTG</h2>

<pre> SetTG();

</pre>
<pre>SUBROUTINE  : SetTG
DESCRIPTION : Resets the TG to the one stored in Stored TG
              (copied from subs_Broadcast)</pre>
<pre>IN  :     Cell, TG, MCTR
OUT :     Will die if errors found
Sample:   SetTG(%StoredTG);</pre>
<a name='TSConfigRequest'></a><h2>TSConfigRequest</h2>

<pre> TSConfigRequest();

</pre>
<pre>SUBROUTINE  : TSConfigRequest
DESCRIPTION : Do a TSConfigRequest to set TLS settings, Receiver Diversity etc
            Note: Only Comb TCH implemented
            Notes :JitterSize and PackingAlgorithm only enable for SC
IN  :    1)TS
            2)ReceiverDiversity
            3)ExtendedRange
            4)TLSA
            5)TLSI
            6)TLSFilteringTime
            7)SUBTC number
OUT : none</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_AuxEq</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number : 197/190 55-CAG 161 1607/1
MODULE          : Subs_AuxEq
DESCRIPTION     : Contains subroutines for auxiliary equipment script 17_01.abi
                   and deblock.abi (?)</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE        NAME            REVIEW            COMMENT
R1    20090616    ERAHEIK         Syntronic AB/     First release.
                                  Tobias Semberg</pre>
<pre>A     20110415    Syntronic AB/   XDAVMEL           Updated the header of the script and added use strict (HN33887)
                  Tobias Semberg                    Added AbisLoggingBTS and RestartBTS</pre>
<pre>B     20110506    XTOBSEM         XGUSTPE           Added UpdateCellBTS  
--</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='AbisLoggingBTS'></a><h2>AbisLoggingBTS</h2>

<pre> AbisLoggingBTS();

</pre>
<pre>Subroutine: AbisLoggingBTS
Purpose:    Turn Abis logging off or on
Input:      State =&gt; 'OFF',
            TG    =&gt;  $TG,
            BTS    =&gt;  $BTS,
Output:</pre>
<a name='ClearLogFile'></a><h2>ClearLogFile</h2>

<pre> ClearLogFile();

</pre>
<pre>--FUNCTION : ClearLogFile
COMMENT  :</pre>
<pre>IN       :
OUT      :
--</pre>
<a name='GetMOStatus'></a><h2>GetMOStatus</h2>

<pre> GetMOStatus();

</pre>
<pre>-COMMENT: GetMOStatus
IN     : Optionally one or more of the following
         keys: TRXC, MO, INST, TFMode, MOState
OUT    : None
-</pre>
<a name='RenameStoreLogFile'></a><h2>RenameStoreLogFile</h2>

<pre> RenameStoreLogFile();

</pre>
<pre>--FUNCTION : RenameStoreLogFile
COMMENT  :</pre>
<pre>IN       :
OUT      :
--</pre>
<a name='RestartBTS'></a><h2>RestartBTS</h2>

<pre> RestartBTS();

</pre>
<pre>Subroutine:  RestartBTS
Purpose:    Restarting the BTS
Input:      Hash containing the following key(s):
             BTS  - Abisco connection parameter
Output:</pre>
<a name='UpdateCellBTS'></a><h2>UpdateCellBTS</h2>

<pre> UpdateCellBTS();

</pre>
<pre>Subroutine: UpdateCellBTS
Purpose:    Update information in choosen BTS Cell
Input:      %Input -&gt;BTS, TG, CellNumber, BCCHType, BS_AG_BLKS_RES, BS_PA_MFRMS
Output:     None
Added:      XTOBSEM</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_bcchpower</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 235/190 55-CAH 161 1607/1 Uen
MODULE      : subs_bcchpower
DESCRIPTION :</pre>
<pre>COPYRIGHT &copy; : ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME            REVIEW    COMMENT
A   20121030  XANSBEM         XNAVNAS   Initial release
PB1           XANSBEM         XHENMRA   Added GetActiveCell, Updated workaround solution for problem in HQ96955
                                        removed GetTRXValues_Parser
PB2 20130617  XHENRMA                   Modified CheckBSPowerWithMSSIMLog to support SACCH-frames.
                                        Added routines ReleaseReqBTS, EstReqBTS, CheckFACCHPowerWithMSSIMLog
                                        Modified MSSIMChannelAct to support "Dummy-bursts".</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?wireshark'>wireshark</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?subinit_bcchpower'>subinit_bcchpower</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='AbisLoggingBTS'></a><h2>AbisLoggingBTS</h2>

<pre> AbisLoggingBTS();

</pre>
<pre>SUBROUTINE  : AbisLoggingBTS
DESCRIPTION : Turn Abis logging off or on</pre>
<pre>IN  : State =&gt; 'OFF',
OUT : none</pre>
<a name='BSPowerControl'></a><h2>BSPowerControl</h2>

<pre> BSPowerControl();

</pre>
<pre>SUBROUTINE  : BSPowerControl
DESCRIPTION : Send a BSPowerControl message to the BCCH carrier</pre>
<pre>IN  : See hash Config below
OUT : None</pre>
<a name='BTSChannelAct'></a><h2>BTSChannelAct</h2>

<pre> BTSChannelAct();

</pre>
<pre>SUBROUTINE  : BTSChannelAct
DESCRIPTION : Activates a channel on the BTS</pre>
<pre>IN  : See hash Config below
OUT : None</pre>
<a name='BTSChannelRelease'></a><h2>BTSChannelRelease</h2>

<pre> BTSChannelRelease();

</pre>
<pre>SUBROUTINE  : BTSChannelRelease
DESCRIPTION : Release a channel on the BTS</pre>
<pre>IN  : TS
      TRXC
      ChType</pre>
<pre>OUT : None</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>SUBROUTINE  : ChRelMSSIM
DESCRIPTION : To release a channel in the MSSIM</pre>
<pre>IN  : CcId
      Timeout
OUT : None</pre>
<a name='CheckBCCHResult'></a><h2>CheckBCCHResult</h2>

<pre> CheckBCCHResult();

</pre>
<pre>SUBROUTINE  : CheckBCCHResult
DESCRIPTION : Checks results for 5173:007</pre>
<pre>IN  : $SUBTC
OUT : $ErrVal</pre>
<a name='CheckBCCHResult2'></a><h2>CheckBCCHResult2</h2>

<pre> CheckBCCHResult2();

</pre>
<pre>SUBROUTINE  : CheckBCCHResult2
DESCRIPTION : Checks results for 5173:007</pre>
<pre>IN  : $SUBTC
OUT : $ErrVal</pre>
<a name='CheckBSPowerWithMSSIMLog'></a><h2>CheckBSPowerWithMSSIMLog</h2>

<pre> CheckBSPowerWithMSSIMLog();

</pre>
<pre>SUBROUTINE  : CheckBSPowerWithMSSIMLog
DESCRIPTION : Checks BS power by creating and analysing an LSU log
              Wireshark.pm needs an update for this subroutine to work
              (current version released in Abisco version R43A)</pre>
<pre>IN  : ConfigFile
      MsSIM_LSU_FileName
OUT : Hash containing power levels for timeslots or subtimeslots</pre>
<a name='CheckCombNcomb'></a><h2>CheckCombNcomb</h2>

<pre> CheckCombNcomb();

</pre>
<pre>my $TLSFilteringTime    = 100;
SUBROUTINE  : CheckCombNcomb
DESCRIPTION : Checks if the BCCH is configured correctly and updates it
              if it is not</pre>
<pre>IN  : Expected BCCH type, NCOMB or COMB
OUT : None, calls HandleError if wrong BCCH type</pre>
<a name='CheckFACCHPowerWithMSSIMLog'></a><h2>CheckFACCHPowerWithMSSIMLog</h2>

<pre> CheckFACCHPowerWithMSSIMLog();

</pre>
<pre>SUBROUTINE  : CheckFACCHPowerWithMSSIMLog
DESCRIPTION : Checks FACCH power by creating and analysing an LSU log
              while provoking FACCH-traffic with SAPI-0 establishment requests.</pre>
<pre>IN  : ConfigFile
      MsSIM_LSU_FileName
OUT : Hash containing power level and frame-count</pre>
<a name='ClearMSSIMbuffer'></a><h2>ClearMSSIMbuffer</h2>

<pre> ClearMSSIMbuffer();

</pre>
<pre>SUBROUTINE  : ClearMSSIMbuffer
DESCRIPTION : Clears the MSSIM message buffer</pre>
<pre>IN  : Timeout
OUT : Number of cleared messages</pre>
<a name='ConfigureFreqHopping'></a><h2>ConfigureFreqHopping</h2>

<pre> ConfigureFreqHopping();

</pre>
<pre>SUBROUTINE  : ConfigureFreqHopping
DESCRIPTION : Configure frequency hopping</pre>
<pre>IN  : HoppingType, Hsn, Arfcn
OUT : none</pre>
<a name='ConnectMO'></a><h2>ConnectMO</h2>

<pre> ConnectMO();

</pre>
<pre>SUBROUTINE  : ConnectMO
DESCRIPTION : Sends ConnectCommand to MO defined by MOClass, InstanceNo
              and AssosiatedSOInstance and checks ConnectComplete.</pre>
<pre>IN  : Optionally one or more of the following
      keys: TRXC, MO, MOState, INST, ASOInst
OUT : None</pre>
<a name='CreateParameterHash'></a><h2>CreateParameterHash</h2>

<pre> CreateParameterHash();

</pre>
<pre>SUBROUTINE  : CreateParameterHash
DESCRIPTION :</pre>
<pre>IN  : See hash Config below
OUT : Same as IN</pre>
<a name='DisableMO'></a><h2>DisableMO</h2>

<pre> DisableMO();

</pre>
<pre>Subroutine: DisableMO
Purpose:    To Disable MO
Input:      See parameter hash below
Output:     %Resp</pre>
<a name='DisableTX'></a><h2>DisableTX</h2>

<pre> DisableTX();

</pre>
<pre>SUBROUTINE  : DisableTX
DESCRIPTION : Disable TX of first TRXC by sending DisableRequest</pre>
<pre>IN  : BTS
      NoEval
OUT : none</pre>
<a name='EnableMO'></a><h2>EnableMO</h2>

<pre> EnableMO();

</pre>
<pre>Subroutine: EnableMO
Purpose:    To Enable MO
Input:      See parameter hash below
Output:     %Resp</pre>
<a name='EnableTX'></a><h2>EnableTX</h2>

<pre> EnableTX();

</pre>
<pre>SUBROUTINE  : EnableTX
DESCRIPTION : Enable TX of first TRXC by sending EnableRequest</pre>
<pre>IN  : none
OUT : none</pre>
<a name='EstReqBTS'></a><h2>EstReqBTS</h2>

<pre> EstReqBTS();

</pre>
<pre>SUBROUTINE  : EstReqBTS
DESCRIPTION : To send Establish Request from BTS and receive
             the expected response from BTS on SAPI3.
             This routine is copied from subs_mspower.pm rev D
IN  : $BTS
             $SAPI
             $Expected data
             $LinkId ( FACCH/SDCCH or SACCH)
OUT : None</pre>
<a name='GetActiveCell'></a><h2>GetActiveCell</h2>

<pre> GetActiveCell();

</pre>
<pre>SUBROUTINE  : GetActiveCell
DESCRIPTION : Return the Cell containing input TRXC</pre>
<pre>IN  :         TRXC =&gt; $TRXC
OUT :         Cell number</pre>
<a name='GetBCCHMonData'></a><h2>GetBCCHMonData</h2>

<pre> GetBCCHMonData();

</pre>
<pre>SUBROUTINE  : GetBCCCHMonData
DESCRIPTION : Get BCCH Data from DVT monitor</pre>
<pre>IN  :  None
OUT : %BCCHMonData</pre>
<a name='GetBCCHReports'></a><h2>GetBCCHReports</h2>

<pre> GetBCCHReports();

</pre>
<pre>SUBROUTINE  : GetBCCHReports
DESCRIPTION : Returns the BCCH Reports from Abis interface</pre>
<pre>IN  : BTSConn
      BCCHActiveMsg
      BCCHIdleMsg
      Timeout
OUT : $L - Reference to hash with found messages</pre>
<a name='GetMCTRInfo'></a><h2>GetMCTRInfo</h2>

<pre> GetMCTRInfo();

</pre>
<pre>--FUNCTION : GetMCTRInfo
COMMENT  : Get info from TG used to save MCTR info
Syntax   :
IN       : none
OUT      : %Resp
--</pre>
<a name='GetMCTRRecords'></a><h2>GetMCTRRecords</h2>

<pre> GetMCTRRecords();

</pre>
<pre>SUBROUTINE  : GetMCTRRecords
DESCRIPTION : Returns MCTRRecords from Capabilities in CF</pre>
<pre>IN  : -
OUT : @MCTRRecords</pre>
<a name='GetMCTRmaxTRXs'></a><h2>GetMCTRmaxTRXs</h2>

<pre> GetMCTRmaxTRXs();

</pre>
<pre>SUBROUTINE  : GetMCTRmaxTRXs
DESCRIPTION : Returns number of TRXs allowed per MCTR</pre>
<pre>IN  : -
OUT : @MCTRRecords</pre>
<a name='GetTXMonData'></a><h2>GetTXMonData</h2>

<pre> GetTXMonData();

</pre>
<pre>SUBROUTINE  : GetTXMonData
DESCRIPTION : Get TX Data from DVT monitor</pre>
<pre>IN  : $NrOfTRX - The number of TRX&acute;s
OUT : %MCTRMonData with info for each TRX</pre>
<a name='ImmediateAssignInfoP2'></a><h2>ImmediateAssignInfoP2</h2>

<pre> ImmediateAssignInfoP2();

</pre>
<pre>SUBROUTINE  : ImmediateAssignInfoP2
DESCRIPTION : Send immediate assign</pre>
<pre>IN  :     %lResp TG, TRXC, TS, CH_TYPE, PageMode, EP1_BEH, EP1_TXCNT
OUT :     %lResp</pre>
<a name='MCTRConfig'></a><h2>MCTRConfig</h2>

<pre> MCTRConfig();

</pre>
<pre>--FUNCTION : MCTRConfig
COMMENT  : Send MCTRConfigRequest
Syntax   :
IN       :
OUT      : %Resp
--</pre>
<a name='MOState'></a><h2>MOState</h2>

<pre> MOState();

</pre>
<pre>--------SUBROUTINE  : MOState
DESCRIPTION : Returns the status of MO</pre>
<pre>IN  : See config hash below
OUT : MOState</pre>
<a name='MSSIMChannelAct'></a><h2>MSSIMChannelAct</h2>

<pre> MSSIMChannelAct();

</pre>
<pre>SUBROUTINE  : MSSIMChannelAct
DESCRIPTION : To activate a channel in the MSSIM</pre>
<pre>IN  : See hash Config below
OUT :	CcId</pre>
<a name='MSSIMPacketChannelAct'></a><h2>MSSIMPacketChannelAct</h2>

<pre> MSSIMPacketChannelAct();

</pre>
<pre>SUBROUTINE  : MSSIMPacketChannelAct
DESCRIPTION : To activate a PDCH channel in the MSSIM</pre>
<pre>IN  : See hash Config below
OUT : CcId</pre>
<a name='MakeAscii'></a><h2>MakeAscii</h2>

<pre> MakeAscii();

</pre>
<pre>SUBROUTINE  : MakeAscii
DESCRIPTION : Convert an array with characters to printable Ascii.
              Quit if null found</pre>
<pre>IN  : Character array reference
OUT : Printable ascii string</pre>
<a name='ReleaseReqBTS'></a><h2>ReleaseReqBTS</h2>

<pre> ReleaseReqBTS();

</pre>
<pre>SUBROUTINE  : ReleaseReqBTS
DESCRIPTION : To send Release Request from BTS and receive
             the expected response from BTS on SAPI3.
              This routine is simply copied from EstReqBTS
IN  : $BTS
             $SAPI
             $Expected data
             $LinkId ( FACCH/SDCCH or SACCH)
OUT : None</pre>
<a name='ResetMO'></a><h2>ResetMO</h2>

<pre> ResetMO();

</pre>
<pre>SUBROUTINE  : ResetMO
DESCRIPTION : Sends ResetCommand to MO defined by MOClass,
              AssosiatedSOInstance, InstanceNo and checks ResetComplete.</pre>
<pre>IN  : Optionally one or more of the following
      keys: TRXC, MO, MOState, INST, ASOInst, BACKCOMP
OUT : None</pre>
<a name='RestartRBS'></a><h2>RestartRBS</h2>

<pre> RestartRBS();

</pre>
<pre>SUBROUTINE  : RestartRBS
DESCRIPTION : Restarts the RBS</pre>
<pre>IN  : None
OUT : None</pre>
<a name='RoundFloat'></a><h2>RoundFloat</h2>

<pre> RoundFloat();

</pre>
<pre>SUBROUTINE  : RoundFloat
DESCRIPTION : Rounds the first argument to (the second argument) number
              of decimal places.</pre>
<pre>IN  : Float     (Value to round)
      Decimals  (Number of decimal digits, &gt;= 0)
OUT : Rounded float</pre>
<a name='SendSIInformation'></a><h2>SendSIInformation</h2>

<pre> SendSIInformation();

</pre>
<pre>SUBROUTINE  : SendSIInformation
DESCRIPTION : Sends SI Information that is used upon restart of the BTS
IN  : $NrOfTrx - Number of TRX&acute;s
OUT :</pre>
<a name='SendTSConfigRequest'></a><h2>SendTSConfigRequest</h2>

<pre> SendTSConfigRequest();

</pre>
<pre>Subroutine: SendTSConfigRequest
Purpose:    To Enable a Time Slot
Input:
Output:
example:    SendTSConfigRequest();</pre>
<a name='StartLoopMSSIM'></a><h2>StartLoopMSSIM</h2>

<pre> StartLoopMSSIM();

</pre>
<pre>SUBROUTINE  : StartLoopMSSIM
DESCRIPTION : To start the loop function in MSSIM</pre>
<pre>IN  : Timeout
      CcId        (MSSIM downlink channel id)
      LoopCcId    (MSSIM uplink channel id)</pre>
<pre>OUT : None</pre>
<a name='StartMO'></a><h2>StartMO</h2>

<pre> StartMO();

</pre>
<pre>SUBROUTINE  : StartMO
DESCRIPTION : Sends StartRequest to MO defined by MOClass,
              AssosiatedSOInstance, InstanceNo and checks StartResult.</pre>
<pre>IN  : Optionally one or more of the following
      keys: TRXC, MO, INST, ASOInst
OUT :</pre>
<a name='StopLoopMSSIM'></a><h2>StopLoopMSSIM</h2>

<pre> StopLoopMSSIM();

</pre>
<pre>SUBROUTINE  : StopLoopMSSIM
DESCRIPTION : To stop the loop function in MSSIM</pre>
<pre>IN  : CcId    (MSSIM downlink channel id)
      Timeout</pre>
<pre>OUT : None</pre>
<a name='TXConfig'></a><h2>TXConfig</h2>

<pre> TXConfig();

</pre>
<pre>SUBROUTINE  : TXConfig
DESCRIPTION : Send a TXConfigRequest with BCCH Power Saving settings</pre>
<pre>IN  : BTS
      TRXC
      PRO - Power Reduction OFFSET
      Idle
      Active
      BCCHPSTNMap</pre>
<pre>OUT : None</pre>
<a name='UpdateGslData'></a><h2>UpdateGslData</h2>

<pre> UpdateGslData();

</pre>
<pre>SUBROUTINE  : UpdateGslData
DESCRIPTION :</pre>
<pre>IN  : See hash Config below
OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_Broadcast</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 89/190 55-CAH 161 1607/1 Uen
MODULE      : Subs_Broadcast
DESCRIPTION : Contains subroutines that will be used in CCCH tests, such as Mobile Call Setup.</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE       NAME             REVIEWER        COMMENT
A     20100920   Syntronic AB/    Syntronic AB/   File created. Approved UABTOH
                 Martin Wikstr&ouml;m  David Melin
B     20100927   Syntronic AB,    XWIKMAR         Added subroutine ClearMSSIMBuffer().
                 David Melin                      Approved UABTOH
C     20110607   XMABENT          XDAVMEL         Added subs: SearchErrorReport SendSMSBroadcastCommand
                                                  SendSMSBroadcastRequest SetSMSCBReporting GetDVTMonitorValue
                                                  GetSMSBroadcastCmdPoll SendBitStream ReceiveSMSCBSequence
                                                  EnableDVTMonitor DisableDVTMonitor FindFirstSMSCBMessage
                                                  SetBehaviourMode SendStoredMessages GetLastNoOfSentMessages
                                                  SeqNrBuilder
                                                  Imported Assert from dbLog. Removed log functions and general cleanup
                                                  Added function GetCellParameters_MSSIM. Added Receive2SMSCB, updated SMSBroadcastRequest
                                                  Added parameter TGId to all UpdateCell calls.
                                                  Removed unused inclusions. Updated SendBCCHInformation and ReceiveAbiscoMessage
                                                  TR HN88916 solved. Updated DisableConfigEnableTimeslot_Extended due to changed mandatory parameter
                                                  Solves issues with script 01.13
D     20110510   XMABENT          ELIAOSH         Added the possibility to add EP1_TIMER to SendSMSBroadcastCommand
                                                  Missing variables for TRAFFN.SACCHFilling5 added at line 3458
E     20110513   XTOBSEM          XPRRANA         Added ResetTG
F     20110922   XTOBSEM/         XLEIMAR         Updated according to perlcritic
                 XLEIMAR                           and fixed introduced bugs. Added
                                                   waitForCellSync to ChActMSSIM.
                                                   Changed the sub to import $TG, $TRXC, $Cell and $TRXList from subinit (HO98876)
G     20120629   XANSBEM          XNAVNAS         Updated StoreTG and ResetTG for better MCTR support. (HP39283)
                                                   Solved TR HP54787
PH1   20130712   XSALNIC          XNAVNAS         Changed SdcchByp from "1" to "0" in ChActMSSIM and add SDCCHList in CheckBCCHTypeBTS.
                                                   add subroutine GetActiveCell() and changed CellNumber from "0" to GetActiveCell() in sub SetBCCHType.
PH2   20130716   XSALNIC          XNAVNAS         Add "PGSLTimersStruct" in Sub ChActBTS for PacketChannel.
PH3   20130812   XSALNIC          XNAVNAS         After updating in MSSIM changed SdcchByp from "0" to "1" in ChActMSSIM.
PH4   20131018   XAMMELY          EKHOELH         Updated CheckCellSettings, Perlcritic.
PH5	20131113   EXXUZZG			XNAXNAS			Updated SACCHInfoModifySetParam function for MI
                                                   Fixed TR HR43413 and UpdateCell command for Ufte R50A
PH6   20131118   XAMMELY          XHENRMA         Updated DisableDVTMonitor and EnableDVTMonitor due HR43413. Run Perlcritic</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?SubInit_Broadcast'>SubInit_Broadcast</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?wireshark'>wireshark</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Msg'>Msg</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='BCCHInfoP2'></a><h2>BCCHInfoP2</h2>

<pre> BCCHInfoP2();

</pre>
<pre>SUBROUTINE  : BCCHInfoP2
DESCRIPTION : Send a BCCH Info message</pre>
<pre>IN  :     $BTS, SYS Info type, BCCH Mapping
OUT :     None</pre>
<a name='BCCHInfoP2_Off'></a><h2>BCCHInfoP2_Off</h2>

<pre> BCCHInfoP2_Off();

</pre>
<pre>SUBROUTINE  : BCCHInfoP2_Off
DESCRIPTION : Stops a BCCH Info message</pre>
<pre>IN  :     $BTS,
          Type (SI-type to be stopped) =&gt; '1',
          Timeslot =&gt; $TS
OUT :     None</pre>
<a name='BCCHInfoP2_unexpected'></a><h2>BCCHInfoP2_unexpected</h2>

<pre> BCCHInfoP2_unexpected();

</pre>
<pre>SUBROUTINE  : BCCHInfoP2_unexpected
DESCRIPTION : Send a BCCH Info message that causes Error:
              unexpected information element</pre>
<pre>IN  :     $BTS, SYS Info type, BCCH Mapping
OUT :     None</pre>
<a name='BackupOldTimeslotConfigurations'></a><h2>BackupOldTimeslotConfigurations</h2>

<pre> BackupOldTimeslotConfigurations();

</pre>
<pre>SUBROUTINE  : BackupOldTimeslotConfigurations
DESCRIPTION : Returns the channel combination for all timeslots that are
              defined in .ABI file TS vector (which must be defined as a
              vector in the PAR hash), and the BSAG value for timeslot 0.</pre>
<pre>IN  :     EnableDebugPrintouts =&gt; undef (otherwise only uses global variables).
OUT :     { BackupChComb =&gt; @BackupChComb;
            BackupBSAGForTS0 =&gt; $BackupBSAGForTS0;
          }</pre>
<a name='BitstreamBCCHInfoP1'></a><h2>BitstreamBCCHInfoP1</h2>

<pre> BitstreamBCCHInfoP1();

</pre>
<pre>SUBROUTINE  : BitstreamBCCHInfoP1
DESCRIPTION : Set configuration for BCCH</pre>
<pre>IN  :     None
OUT :     None</pre>
<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>SUBROUTINE  : ChActBTS
DESCRIPTION : To activate a channel in the BTS</pre>
<pre>IN  :     Hash containing the following key:
              BTS - Abisco connection parameter
OUT :     None</pre>
<a name='ChActBTSSetSetSIParam'></a><h2>ChActBTSSetSetSIParam</h2>

<pre> ChActBTSSetSetSIParam();

</pre>
<pre>SUBROUTINE  : ChActBTSSetSetSIParam
DESCRIPTION : To send Channel activation including si types and
              changing one parameter for the specified si types</pre>
<pre>IN  :    Hash containing
         - $BTS
         - $SITypes          array reference defining the si types to set
                            "5", "5bis", "6", "5ter"
         - $ChComb          channel combination
OUT :    None</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>SUBROUTINE  : ChActMSSIM
DESCRIPTION : To activate a channel in the MSSIM, returns the CcId package variable</pre>
<pre>IN  :      Bypass      =&gt; 0,
           RxAcchOn    =&gt; 1,
           AllSacchSI  =&gt; 0,
           RToutOff    =&gt; 0,
           RxTrfcOn    =&gt; 0,
           UndecFrm    =&gt; 0,
           TrxNum      =&gt; 0,
           L2hdr       =&gt; 2,
           Data        =&gt; [@Meas],
           TG          =&gt; $TG,
           TRXC        =&gt; $TRXC,
           TS          =&gt; $TS,
           PDCHMode    =&gt; "",
           ChannelType =&gt; $ChType,
           ChRate      =&gt; $ChRate,
           TypeOfCh    =&gt; $TypeOfCh,
           AlgOrRate   =&gt; $AlgOrRate,
           AMRCodec    =&gt; $AMRCodec
           Cell        =&gt; $Cell
           MsId        =&gt; $MsId,
OUT  :     $CcId</pre>
<pre>Changes:     2091210 BJER added condition when MSId = -1 to not send
                          gsmbSrvMS_SET_MEAS_CMD.
                          Removed global gCcId. Keep gCcId in abi file</pre>
<a name='ChCleanBTS'></a><h2>ChCleanBTS</h2>

<pre> ChCleanBTS();

</pre>
<pre>SUBROUTINE  : ChCleanBTS
DESCRIPTION : To release all radio traffic channels or control channels in the BTS
              without asserting the responses</pre>
<pre>IN  :     BTS   =&gt; $BTS,
          TG    =&gt; $TG,
          TRXC  =&gt; $TRXC
OUT :     None</pre>
<a name='ChRelBTS'></a><h2>ChRelBTS</h2>

<pre> ChRelBTS();

</pre>
<pre>SUBROUTINE  : ChRelBTS
DESCRIPTION : To release a channel in the BTS</pre>
<pre>IN  :     Hash containing the following key(s):
              BTS - Abisco connection parameter
OUT :     None</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>SUBROUTINE  : ChRelMSSIM
DESCRIPTION : To release a channel in the MSSIM, uses the package variable CcId to
              identify the opened channel</pre>
<pre>IN  : CcId    =&gt; $gCcId,
OUT : None</pre>
<pre>Changes:     2091210 BJER Removed global gCcId. Keep gCcId in abi file</pre>
<a name='CheckBCCHTypeBTS'></a><h2>CheckBCCHTypeBTS</h2>

<pre> CheckBCCHTypeBTS();

</pre>
<pre>SUBROUTINE  : CheckBCCHTypeBTS
DESCRIPTION : To verify and set correct BCCHType(from par-hash) for active sub test case,
              makes a restart of BTS if to save changes.</pre>
<pre>IN  :      BTS (Abisco connection parameter)
           TGId
           CellNumber
           BCCHType
OUT :</pre>
<a name='CheckCell'></a><h2>CheckCell</h2>

<pre> CheckCell();

</pre>
<pre>SUBROUTINE  : CheckCell
DESCRIPTION :</pre>
<pre>Syntax   : CheckCell();</pre>
<a name='CheckCellSettings'></a><h2>CheckCellSettings</h2>

<pre> CheckCellSettings();

</pre>
<pre>SUBROUTINE  : CheckCellSettings
DESCRIPTION : If the 'Expected' input hash doesnt match the current cell settings
              from InfoCell then update cell with 'Expected's keys and restart BTS.
              The 'Expected' input hash is merged with a default settings hash if
              'UseDefaults' is set to 1. The default settings hash has
              the settings a cell has when New TG is used in Abisco.
              NOTE: the cell must be configured once before this function is used
              since it doesnt update HW specific settings in UpdateCell (such as
              ARFCN number).</pre>
<pre>IN  : BTS         =&gt; $BTS,
      TG          =&gt; $TGId,
      Cell        =&gt; 0,
      UseDefaults =&gt; 0
      Expected =&gt; {
              BCCHType        =&gt; $::BCCHType,
              SDCCHList       =&gt; [$::TRXC, $::TS],
              BS_AG_BLKS_RES  =&gt; $::BSAG,
              CBCHIndicator   =&gt; $::CBCH_Ind,
      ..(above are just examples, all parameters in iwd updatecell valid)},
OUT : Void</pre>
<a name='CheckLoggedMultiframePositionsAndTimeslots'></a><h2>CheckLoggedMultiframePositionsAndTimeslots</h2>

<pre> CheckLoggedMultiframePositionsAndTimeslots();

</pre>
<pre>SUBROUTINE  : CheckLoggedMultiframePositionsAndTimeslots
DESCRIPTION : Takes the output from ProcessTsharkLogfileAndCheckMessageType2Values()
              and checks that the frame number (TC value) is correct for each
              message, as well as the allowed timeslots. Based on the PAR hash.
              Although most errors will raise a HandleError instead of returning 0.</pre>
<pre>IN  :     &lt;A hash on the same form as the output from ProcessTsharkLogfileAndCheckMessageType2Values()&gt;
          EnableDebugPrintouts        =&gt; undef                    # undef or anything else
          DoNotAbortOnEmptySysInfoTC  =&gt; undef                    # undef or anythign else
          SysInfoTC             =&gt; Array reference of System Information TC values (frame numbers)
          SysInfoType           =&gt; Array reference of System Information types
          TS                    =&gt; Array reference of Timeslots
OUT :     $Result = 1: Successful, data matches the PAR hash. $Result = 0: Not successful. Error.</pre>
<a name='CheckSysInfo'></a><h2>CheckSysInfo</h2>

<pre> CheckSysInfo();

</pre>
<pre>SUBROUTINE  : CheckSysInfo
DESCRIPTION : Check if and what SYS INFO has been sent on LAPDm</pre>
<pre>IN  :      None
OUT :      Sys info type</pre>
<a name='CheckSysInfoSeq'></a><h2>CheckSysInfoSeq</h2>

<pre> CheckSysInfoSeq();

</pre>
<pre>SUBROUTINE  : CheckSysInfoSeq
DESCRIPTION : To retrieve sys info message sequence on the air interface
              or to check if a certain message is sent downlink</pre>
<pre>IN  :     SYSInfo type to trigger 1st record, Number of messages to report,
          Max. messages to check
OUT :     Array containing sequence (the scheduling order)
          Returns undef array if starttype not found within MaxToSearch</pre>
<a name='CheckSysInfoSeqSACCH'></a><h2>CheckSysInfoSeqSACCH</h2>

<pre> CheckSysInfoSeqSACCH();

</pre>
<pre>SUBROUTINE  : CheckSysInfoSeqSACCH
DESCRIPTION : To retrieve sys info message sequence on the air interface
              or to check if a certain message is sent downlink</pre>
<pre>IN  :     SYSInfo type to trigger 1st record, Number of messages to report,
          Max. messages to check
OUT :     Array containing sequence (the scheduling order)
          Returns undef array if starttype not found within MaxToSearch</pre>
<a name='ClearMSSIMBuffer'></a><h2>ClearMSSIMBuffer</h2>

<pre> ClearMSSIMBuffer();

</pre>
<pre>SUBROUTINE  : ClearMSSIMBuffer
DESCRIPTION : To clear MSSIM Buffer</pre>
<pre>IN  :     Hash containing the following key(s):
            Timeout  - Duration to empty the buffer</pre>
<pre>OUT :     None</pre>
<a name='CompareArrays'></a><h2>CompareArrays</h2>

<pre> CompareArrays();

</pre>
<pre>Common subroutines
SUBROUTINE  : CompareArrays
DESCRIPTION : To compare two Arrays</pre>
<pre>IN  : $lArray1    ONE dimensional array
      $lArray2    ONE dimensional array
      Debug       Enables debug trace 1 = On, 0 = Off</pre>
<pre>OUT : 0 - tables DOESNT match
      1 - tables match</pre>
<a name='CompareArraysUncertainLength'></a><h2>CompareArraysUncertainLength</h2>

<pre> CompareArraysUncertainLength();

</pre>
<pre>SUBROUTINE  : CompareArraysUncertainLength
DESCRIPTION : To compare two Arrays named Expect and Received</pre>
<pre>IN  :      Two arrays    - Received
                         - Expect
OUT :      Returns 0 if data differs, else 1</pre>
<a name='CompareHash'></a><h2>CompareHash</h2>

<pre> CompareHash();

</pre>
<pre>SUBROUTINE  : CompareHash
DESCRIPTION : Compares two hashes by using recursion</pre>
<pre>IN  : Expected    Expected hash table
      Received    Hash table to compare Expected to
      Debug       Set to 1 to get debug printouts</pre>
<pre>OUT : 0 - tables DOESNT match
      1 - tables match</pre>
<a name='CompleteStart'></a><h2>CompleteStart</h2>

<pre> CompleteStart();

</pre>
<pre>SUBROUTINE  : CompleteStart
DESCRIPTION :</pre>
<pre>Syntax   : CompleteStart(TGId =&gt; $TG{TGNr});</pre>
<a name='ConfigureTimeslotsFromPARValues'></a><h2>ConfigureTimeslotsFromPARValues</h2>

<pre> ConfigureTimeslotsFromPARValues();

</pre>
<pre>SUBROUTINE  : ConfigureTimeslotsFromPARValues
DESCRIPTION : Sets the channel combinations and, when applicable, the BS AG value.
              All values can be overridden, but the default are taken from the PAR hash.</pre>
<pre>IN  : TSVec =&gt; \@lPARTS, CMBVec =&gt; \@lPARChComb, BSAGForVAndIV =&gt; $::BSAGForVAndIV, SuppressLogOutput =&gt; undef
OUT : None.</pre>
<a name='ConnectTG'></a><h2>ConnectTG</h2>

<pre> ConnectTG();

</pre>
<pre>SUBROUTINE  : ConnectTG
DESCRIPTION :</pre>
<pre>Syntax   : ConnectTG(TGId =&gt; $TG{TGNr});</pre>
<a name='CountFcchFrames'></a><h2>CountFcchFrames</h2>

<pre> CountFcchFrames();

</pre>
<pre>SUBROUTINE  : CountFcchFrames
DESCRIPTION : To detect the correct amount and frame numbers of FCCH frames
              periodically</pre>
<pre>IN  : Hash containing the following key(s):
      Iterations : Number of iterations the test should run (default 1)
      IterationPeriod : Delay (in sec) between each iteration  (default 1)
      Timeout : Timeout (in sec) while waiting to cell info  (default 5)
Note: The test execution time, Te, will be in the interval:
      (Iterations * IterationPeriod) &lt; Te &lt;= (Iterations * ( IterationPeriod + Timeout ))
OUT : None</pre>
<a name='CountSchFrames'></a><h2>CountSchFrames</h2>

<pre> CountSchFrames();

</pre>
<pre>SUBROUTINE  : CountSchFrames
DESCRIPTION : To detect the correct amount and frame numbers of SCH frames
              periodically</pre>
<pre>IN  : Hash containing the following key(s):
      Iterations : Number of iterations the test should run (default 1)
      IterationPeriod : Delay (in sec) between each iteration  (default 1)
      Timeout : Timeout (in sec) while waiting to cell info  (default 5)
Note: The test execution time, Te, will be in the interval:
      (Iterations * IterationPeriod) &lt; Te &lt;= (Iterations * ( IterationPeriod + Timeout ))
OUT : None</pre>
<a name='DeactivateSACCH'></a><h2>DeactivateSACCH</h2>

<pre> DeactivateSACCH();

</pre>
<pre>SUBROUTINE  : DeactivateSACCH
DESCRIPTION : Send one Deactivates SACCH command to the BTS on Abis and compare the
              recieved message and cause value with the expected.</pre>
<pre>IN  : Hash containing the following key(s):
      BTS                   - Abisco connection parameter
      ChAct                 - Channel Activation parameter
      TG                    - TG
      TRXC                  - TRXC
      TS                    - Timeslot
      ChType                - Channel Type
      BTSExpectedResult     - Expected result message from BTS
      AbisInterfaceMessage  - Expected message from Abis interface
      AbisCauseValue        - Expected Cause Value associatied with Abis message
      AbisSupressTimeout    - Indicate that Error messages due to timeout on
                              the Abis interface should be suppressed
      AbisTimeout           - Time in sec before timeout when waiting for a
                              message on the Abis interface
OUT : None</pre>
<a name='DeactivateSACCH2'></a><h2>DeactivateSACCH2</h2>

<pre> DeactivateSACCH2();

</pre>
<pre>SUBROUTINE  : DeactivateSACCH2
DESCRIPTION : Deactivates all messages on SACCH</pre>
<pre>IN  :       TG     =&gt; $TG,
            TRXC   =&gt; $TRXC,
            TS     =&gt; $TS,
            ChType =&gt; $ChType,
OUT :       %lResp                        -The expected message, if recieved</pre>
<a name='DisableConfigEnable'></a><h2>DisableConfigEnable</h2>

<pre> DisableConfigEnable();

</pre>
<pre>SUBROUTINE  : DisableConfigEnable
DESCRIPTION : Sets channel combination. Will not work for CMB = 'tch'!
              See also DisableConfigEnableTimeslot_Extended().</pre>
<pre>Syntax   : DisableConfigEnable(TS =&gt; $TS, CMB =&gt; $CMB);</pre>
<a name='DisableConfigEnableTimeslot_Extended'></a><h2>DisableConfigEnableTimeslot_Extended</h2>

<pre> DisableConfigEnableTimeslot_Extended();

</pre>
<pre>SUBROUTINE  : DisableConfigEnableTimeslot_Extended
DESCRIPTION : Sets channel combination for a given timeslot.
              Will work for CMB = 'tch', 'iv', 'v' and 'vi'. Other values not implemented [yet].</pre>
<pre>Syntax   : DisableConfigEnableTimeslot_Extended(TS =&gt; $TS, CMB =&gt; $CMB, BSAGForVAndIV =&gt; $BSAGForVAndIV);
           TS, CMB and BSAGForVAndIV are mandatory</pre>
<a name='DisableDVTMonitor'></a><h2>DisableDVTMonitor</h2>

<pre> DisableDVTMonitor();

</pre>
<pre>SUBROUTINE  : DisableDVTMonitor
DESCRIPTION : Disable a DVT monitor</pre>
<pre>IN  :     Hash containing the following key(s):
            Area    - The area (or path) of the DVT monitor. Default 'TRXY:PLS' Where Y = first defined TRX from ABISCO
            Monitor - The DVT monitor to deactivate</pre>
<pre>OUT :     None</pre>
<a name='DisconnectTG'></a><h2>DisconnectTG</h2>

<pre> DisconnectTG();

</pre>
<pre>SUBROUTINE  : DisconnectTG
DESCRIPTION :</pre>
<pre>Syntax   : DisconnectTG(TGId =&gt; $TG{TGNr});</pre>
<a name='EmptyBufferMSSIM'></a><h2>EmptyBufferMSSIM</h2>

<pre> EmptyBufferMSSIM();

</pre>
<pre>SUBROUTINE  : EmptyBufferMSSIM
DESCRIPTION : To empty the receive buffer of the MMSIM</pre>
<pre>IN  :     $NumOfMsgs            Number of messages to read.
          $AbortIfTimeout       If defined (!= undef), regardless of value, returns if a timeout is detected
OUT :     None</pre>
<a name='EnableDVTMonitor'></a><h2>EnableDVTMonitor</h2>

<pre> EnableDVTMonitor();

</pre>
<pre>SUBROUTINE  : EnableDVTMonitor
DESCRIPTION : Enable a DVT monitor</pre>
<pre>IN  :     Hash containing the following key(s):
            Area    - The area (or path) of the DVT monitor. Default 'TRXY:PLS' where Y = First connected TRX in ABISCO
            Monitor - The DVT monitor to activate
OUT :     None</pre>
<a name='EnableTS'></a><h2>EnableTS</h2>

<pre> EnableTS();

</pre>
<pre>SUBROUTINE  : EnableTS
DESCRIPTION : Enable or disable Timeslot</pre>
<pre>IN  :     $BTS, message: 'EnableRequest'/'disablerequest', response
OUT :     None</pre>
<a name='EstablishReqMSSim'></a><h2>EstablishReqMSSim</h2>

<pre> EstablishReqMSSim();

</pre>
<pre>SUBROUTINE  : EstablishReqMSSIM
DESCRIPTION : To send Establish Request to MSSIM and receive EstablishIndication from Abisco</pre>
<pre>IN  :      BTS     =&gt; $BTS,
            SAPI    =&gt; 3,
            Chan    =&gt; $Chan,
            L3Data  =&gt; undef,
OUT :      None</pre>
<a name='FindFirstSMSCBMessage'></a><h2>FindFirstSMSCBMessage</h2>

<pre> FindFirstSMSCBMessage();

</pre>
<pre>SUBROUTINE  : FindFirstSMSCBMessage
DESCRIPTION : To receive the first SMSCB frames</pre>
<pre>IN  :     Hash containing the following key(s):
            Timeout   - Number of seconds to receive SMSCB traffic before
                        exiting the sub
            SeqNr     - Sequence number of the exected SMSCB message</pre>
<pre>OUT :     Hash containing the following key(s):
            ErrMsg    - Error message (only exists if there was an error)</pre>
<a name='FormatTestcaseName'></a><h2>FormatTestcaseName</h2>

<pre> FormatTestcaseName();

</pre>
<pre>SUBROUTINE  : FormatTestcaseName
DESCRIPTION : Reformats the PAR hash test case name for printout purposes.
              If the input string is not on the format "XX_YY", it is returned unchanged.</pre>
<pre>IN  :     TestcaseName =&gt; "xx_yy"
OUT :     "xx.yy"</pre>
<a name='GetActiveCell'></a><h2>GetActiveCell</h2>

<pre> GetActiveCell();

</pre>
<pre>SUBROUTINE  : GetActiveCell
DESCRIPTION : Return the Cell containing input TRXC</pre>
<pre>IN  :         TRXC =&gt; $TRXC
OUT :         Cell number</pre>
<a name='GetCellParameters_MSSIM'></a><h2>GetCellParameters_MSSIM</h2>

<pre> GetCellParameters_MSSIM();

</pre>
<pre>SUBROUTINE  : GetCellParameters_MSSIM
DESCRIPTION : Get Cell Parameters in the MSSIM</pre>
<pre>IN  :     Hash containing the following key(s):
            Cell</pre>
<pre>OUT :     Hash with the command response</pre>
<a name='GetDVTMonitorValue'></a><h2>GetDVTMonitorValue</h2>

<pre> GetDVTMonitorValue();

</pre>
<pre>SUBROUTINE  : GetDVTMonitorValue
DESCRIPTION : Return the value of an enabled DVT monitor</pre>
<pre>IN  :     Hash containing the following key(s):
            Area    - The area (or path) of the DVT monitor. Default 'TRXY:' Where Y = first defined TRX from ABISCO
            Monitor - The DVT monitor</pre>
<pre>OUT :     Hash containing the following key(s):
            MonitorFound  - Indicate if the DVT monitor value was found
            MonitorValue  - The found DVT monitor value</pre>
<a name='GetLastNoOfSentMessages'></a><h2>GetLastNoOfSentMessages</h2>

<pre> GetLastNoOfSentMessages();

</pre>
<pre>SUBROUTINE  : GetLastNoOfSentMessages
DESCRIPTION : Waits until the DVT monitor value of no_of_sent_mess has stablilized.
              Produces HandleError if no values are found, so the the DVT Monitor
              /TFS/CCH/SMS/no_of_sent_mess should be enabled before this is run.</pre>
<pre>IN  :     None</pre>
<pre>OUT :     The stable value of /TFS/CCH/SMS/no_of_sent_mess</pre>
<a name='GetSMSBroadcastCmdPoll'></a><h2>GetSMSBroadcastCmdPoll</h2>

<pre> GetSMSBroadcastCmdPoll();

</pre>
<pre>SUBROUTINE  : GetSMSBroadcastCmdPoll
DESCRIPTION : Get an GetSMSBroadcastCmdPoll
              ( Remember to turn the SetSMSCBReporting 'On' first )</pre>
<pre>IN  :     Hash containing the following key(s):
            Timeout      - Timeout in sec</pre>
<pre>OUT :     Hash containing the following key(s):
            Status       - 'Ok' or 'Timeout'
            SMSCBCmdPoll - Reference to SMSBroadcastCmdPoll hash ( Only valid of Status = Ok )</pre>
<a name='InitiateTsharkLogging'></a><h2>InitiateTsharkLogging</h2>

<pre> InitiateTsharkLogging();

</pre>
<pre>SUBROUTINE  : InitiateTsharkLogging
DESCRIPTION : Initiates Tshark logging based on PAR hash and the log file name.</pre>
<pre>IN  :     TsharkLogfileName     =&gt;    'Tsharklog.log'
          EnableDebugPrintouts  =&gt;    undef                     # undef or anything else
OUT :     None.</pre>
<a name='LAPDmReceive'></a><h2>LAPDmReceive</h2>

<pre> LAPDmReceive();

</pre>
<pre>FRLI:
SUBROUTINE  : LAPDmReceive
DESCRIPTION : To receive a LAPDm frame</pre>
<pre>IN  :        $Chan      (SDCCH, SACCH or FACCH)
OUT :        $Resp     (Response = "Timeout", "I", "RR", RNR", "REJ", "SABM", "DM", "UI", "DISC" or "UA"
             N(R)       (Receive Sequence Number)
             N(S)      (Send Sequence Number)
             P/F       (Poll/Final bit)
             LPD        (Link Protocol discriminator)
             api        (Service Access Point)
             C/R        (Command/Response)
             EA        (Address Extension Bit)
             L          (Length of Information field)
             M          (More bit)
             EL        (Length Extension bit)
             Fn}        (Frame Number)
             Data      (Information Field)</pre>
<a name='PrintDebug'></a><h2>PrintDebug</h2>

<pre> PrintDebug();

</pre>
<pre>SUBROUTINE  : PrintDebug
DESCRIPTION : Prints Debug printouts if global variable Debug is set to 1</pre>
<pre>IN  : DebugMsg =&gt; "Debug msg\n"
OUT : None</pre>
<a name='ProcessTsharkLogfileAndCheckMessageType2Values'></a><h2>ProcessTsharkLogfileAndCheckMessageType2Values</h2>

<pre> ProcessTsharkLogfileAndCheckMessageType2Values();

</pre>
<pre>SUBROUTINE  : ProcessTsharkLogfileAndCheckMessageType2Values
DESCRIPTION : Opens and processes a raw Tshark log file, checks that all
              MessageType2 values are in the "allowed list" from the PAR hash,
              and returns several arrays with various information based on the
              logs.</pre>
<pre>IN  :     LogfileHandle         =&gt; 'LogHandle',
          LogfilePath           =&gt; 'Tsharklog.log',
          EnableDebugPrintouts  =&gt; undef                      # undef or anything else
          EnableSIPrettyPrint   =&gt; undef                      # undef or anything else, PrettyPrints all log messages
          DiscardMsgType2       =&gt; Array reference of MessageType2 types to discard in the log
          MessageType2          =&gt; Array reference of MessageType2 types to check against
          SysInfoType           =&gt; Array reference of System Information types
OUT :     None.</pre>
<a name='RadioChReleaseCommand'></a><h2>RadioChReleaseCommand</h2>

<pre> RadioChReleaseCommand();

</pre>
<pre>SUBROUTINE  : RadioChReleaseCommand
DESCRIPTION : Cleans all radiochannels connected to TG</pre>
<pre>IN  :     BTS  =&gt; $BTS
          TG   =&gt; $::TG
          TRXC =&gt; 'Undefined'
OUT :     None</pre>
<a name='Receive2SMSCB'></a><h2>Receive2SMSCB</h2>

<pre> Receive2SMSCB();

</pre>
<pre>SUBROUTINE  : Receive2SMSCB
DESCRIPTION : To receive SMSCB frames until error occurs or maximum numer of
              fillframes received</pre>
<pre>IN  :     MaxCBCHFillFrames  number of CBCH fill frames to receive before
                             exiting the sub, set to 0 for infinite
          Timeout            number of seconds to receive SMSCB traffic before
                             exiting the sub, set to 0 for infinite
          SMSCBInfo          2 dim array containing the SMSCB data to compare received
                             data with. Must be of the format:
                             4-rows x 22-columns x number-of-unique-msgs
OUT :     lSMSCBMsgsRec      number of SMSCB msgs received</pre>
<a name='ReceiveAbiscoData'></a><h2>ReceiveAbiscoData</h2>

<pre> ReceiveAbiscoData();

</pre>
<pre>SUBROUTINE  : ReceiveAbiscoData
DESCRIPTION : To receive a spontanious message from Abisco</pre>
<pre>IN  :    BTS (Abisco connection parameter)
         Timeout    =&gt; undef,
         Expect     =&gt; undef,
         Supress    =&gt; undef,
         L3Data     =&gt; undef,
OUT :    CauseValue</pre>
<a name='ReceiveAbiscoMessage'></a><h2>ReceiveAbiscoMessage</h2>

<pre> ReceiveAbiscoMessage();

</pre>
<pre>SUBROUTINE  : ReceiveAbiscoMessage
DESCRIPTION : To receive a spontanious message from Abisco</pre>
<pre>IN  :     BTS (Abisco connection parameter)
             Timeout    =&gt; undef,
             Expect    =&gt; undef,
             Supress    =&gt; "SupressError",
OUT :     Received Data hash</pre>
<a name='ReceiveMSSIM'></a><h2>ReceiveMSSIM</h2>

<pre> ReceiveMSSIM();

</pre>
<pre>SUBROUTINE  : ReceiveMSSIM
DESCRIPTION : To receive a spontanious message from MSSIM</pre>
<pre>IN  :
         Timeout  =&gt;  $gTimeout,            -Timeout value
         ExpMsg   =&gt;  $ExpMsg,              -Expected Message
         Expect  =&gt;  @L3Data                -L3Data of expected message
OUT :    %RESP                              -The expected message, if recieved</pre>
<a name='ReceiveMSSIMData'></a><h2>ReceiveMSSIMData</h2>

<pre> ReceiveMSSIMData();

</pre>
<pre>SUBROUTINE  : ReceiveMSSIMData
DESCRIPTION : To receive a spontanious message from MSSIM and return the Resp-&gt;Data array</pre>
<pre>IN  : Timeout
      ExpMsg
OUT : An array from RESP-&gt;Data</pre>
<a name='ReceiveSIType'></a><h2>ReceiveSIType</h2>

<pre> ReceiveSIType();

</pre>
<pre>SUBROUTINE  : ReceiveSIType
DESCRIPTION : Receive System information on SACCH</pre>
<pre>IN  :     $SIType
OUT :     system information content</pre>
<a name='ReceiveSMSCB'></a><h2>ReceiveSMSCB</h2>

<pre> ReceiveSMSCB();

</pre>
<pre>SUBROUTINE  : ReceiveSMSCB
DESCRIPTION : To receive SMSCB frames until error occurs or maximum numer of
              fillframes received</pre>
<pre>IN  : MaxCBCHFillFrames  number of CBCH fill frames to receive before
                         exiting the sub, set to 0 for infinite
      Timeout            number of seconds to receive SMSCB traffic before
                         exiting the sub, set to 0 for infinite
      SMSCBInfo          2 dim array containing the SMSCB data to compare received
                         data with. Must be of the format:
                         4-rows x 22-columns x number-of-unique-msgs
OUT : lSMSCBMsgsRec      number of SMSCB msgs received</pre>
<a name='ReceiveSMSCBSequence'></a><h2>ReceiveSMSCBSequence</h2>

<pre> ReceiveSMSCBSequence();

</pre>
<pre>SUBROUTINE  : ReceiveSMSCBSequence
DESCRIPTION : To receive SMSCB frames until error occurs or maximum numer of
              fillframes received</pre>
<pre>IN  :     Hash containing the following key(s):
            MaxCBCHFillFrames - Number of CBCH fill frames to receive before
                                exiting the sub, set to 0 for infinite
            Timeout           - Number of seconds to receive SMSCB traffic before
                                exiting the sub, set to 0 for infinite
            SMSCBInfo         - 2 dim array containing the SMSCB data to compare received
                                data with. Must be of the format:
                                4-rows x 22-columns x number-of-unique-msgs</pre>
<pre>OUT :     Hash containing the following key(s):
            lSMSCBMsgsRec     - Number of SMSCB msgs received
              or, in case of error
            ErrMsg            - Error message</pre>
<a name='ResetTG'></a><h2>ResetTG</h2>

<pre> ResetTG();

</pre>
<pre>SUBROUTINE  : ResetTG
DESCRIPTION : Resets the TG to the one stored in Stored TG</pre>
<pre>IN  :     Cell, TG, MCTR
OUT :     Will die if errors found
Sample:   ResetTG(%StoredTG);</pre>
<a name='RestartBTS'></a><h2>RestartBTS</h2>

<pre> RestartBTS();

</pre>
<pre>SUBROUTINE  : RestartBTS
DESCRIPTION : Restarting the BTS, make sure that the parameters set during restart
              complies with your specific TC</pre>
<pre>IN  :       BTS (Abisco connection parameter)
            TGId
            TRXList (array)
            TypeOfStart
OUT :</pre>
<a name='SACCHFilling'></a><h2>SACCHFilling</h2>

<pre> SACCHFilling();

</pre>
<pre>SUBROUTINE  : SACCHFilling
DESCRIPTION : To send SACCHFilling for specified SI type</pre>
<pre>IN  :      Hash containing
            - $BTS
            - $SIType
            - $EXT_IND
OUT :      None</pre>
<a name='SACCHFillingOff'></a><h2>SACCHFillingOff</h2>

<pre> SACCHFillingOff();

</pre>
<pre>SUBROUTINE  : SACCHFillingOff
DESCRIPTION : Sent SACCHFillingOff for specified SI type</pre>
<pre>IN  :     Si message type
OUT :     None</pre>
<a name='SACCHFillingSetParam'></a><h2>SACCHFillingSetParam</h2>

<pre> SACCHFillingSetParam();

</pre>
<pre>SUBROUTINE  : SACCHFillingSetParam
DESCRIPTION : To send SACCHFilling message changing one parameter for
              the specified si type</pre>
<pre>IN  :    Hash containing
         - $BTS
         - $SIType          "5", "5bis", "6", "MI"
         - $parameter       system info parameter to be changed from default
                          Default is 0 except for SI6 (default is 255)
OUT :    None</pre>
<a name='SACCHFillingWrongType'></a><h2>SACCHFillingWrongType</h2>

<pre> SACCHFillingWrongType();

</pre>
<pre>SUBROUTINE  : SACCHFillingWrongType
DESCRIPTION : Send SACCHFilling with incorrect SiType</pre>
<pre>IN  :   None
OUT :   None</pre>
<a name='SACCHInfoModify'></a><h2>SACCHInfoModify</h2>

<pre> SACCHInfoModify();

</pre>
<pre>SUBROUTINE  : SACCHInfoModify
DESCRIPTION : Sent SACCHInfoModify for specified SI type</pre>
<pre>IN  :     Si message type
OUT :     None</pre>
<a name='SACCHInfoModifyMIStart'></a><h2>SACCHInfoModifyMIStart</h2>

<pre> SACCHInfoModifyMIStart();

</pre>
<pre>SUBROUTINE  : SACCHInfoModifyMIStart
DESCRIPTION : Send SACCHInfoModifyMIStart message</pre>
<pre>IN  :     None
OUT :     None</pre>
<a name='SACCHInfoModifyOff'></a><h2>SACCHInfoModifyOff</h2>

<pre> SACCHInfoModifyOff();

</pre>
<pre>SUBROUTINE  : SACCHInfoModifyOff
DESCRIPTION : Send SACCHInfoModifyOff for specified SI type</pre>
<pre>IN  :   Si message type
OUT :   None</pre>
<a name='SACCHInfoModifySetParam'></a><h2>SACCHInfoModifySetParam</h2>

<pre> SACCHInfoModifySetParam();

</pre>
<pre>SUBROUTINE  :  SACCHInfoModifySetParam
DESCRIPTION :  To send SACCHInfoModify message changing one parameter for
               the specified si type</pre>
<pre>IN  :    Hash containing
         - $BTS
         - $SIType          "5", "5bis", "5ter", "6", "10"
         - $parameter       system info parameter to be changed from default
                          Default is 0 except for SI6 (default is 255)
OUT :    None</pre>
<a name='SMSBroadcastRequest'></a><h2>SMSBroadcastRequest</h2>

<pre> SMSBroadcastRequest();

</pre>
<pre>SUBROUTINE  : SMSBroadcastRequest
DESCRIPTION : To send one block (of 4) in a SMS Broadcast Request message</pre>
<pre>IN  : BTS           BTS reference
      TG            TG number
      TRXC          TRXC number
      ChType        Channel Type
      SeqNum        Sequence number 0-3 or 15
      TSNum         Time slot to send in
      MsgNum        offset in @SMSCBInfo array to start from divided by 4
      SMSCBInfo     2 dim arrayreference containing the SMSCB data to send
                    Must be of the format:
                    4-rows x 22-columns x number-of-unique-msgs
      SendWithError 0 = No, 1 = Yes = No parsing
      Queue         Queue SMSCB msgs, send later with DISPATCH.SendStoredMessages</pre>
<pre>OUT : 0 - Error occured
      1 - NO Error occured
Used in:    36_02.abi</pre>
<a name='SearchErrorReport'></a><h2>SearchErrorReport</h2>

<pre> SearchErrorReport();

</pre>
<pre>SUBROUTINE  : SearchErrorReport
DESCRIPTION : Searches for ErrorReport from BTS in Abisco. Generates HandleError if
              the conditions in the input hash is not met.</pre>
<pre>IN  :     Hash containing the following key(s):
            ExpectErrorReport - Indicator if an ErrorReport is expected on not.
                                Valid values: 'TRUE' / 'FALSE'. Default 'FALSE'.
            Timeout           - Timeout in sec
            CauseValues       - The expected cause value of the ErrorReport.
            ShowPrintouts     - Enables or disables debug printouts.
                                Valid values: 'TRUE' / 'FALSE'. Default 'FALSE'.
OUT :     None</pre>
<a name='SendBCCHInformation'></a><h2>SendBCCHInformation</h2>

<pre> SendBCCHInformation();

</pre>
<pre>SUBROUTINE  : SendBCCHInformation
DESCRIPTION : Send one BCCH System Information command to the BTS on Abis and compare the
              recieved message and cause value with the expected.</pre>
<pre>IN  :      Hash containing the following key(s):
              BTS                   - Abisco connection parameter
              ChAct                 - Channel Activation parameter
              TG                    - TG number
              TRXC                  - TRXC
              TS                    - Timeslot
              ChType                - Channel Type
              SystemInfoType        - System Information Type Command (S1, S2, S2Bis, ... etc
              SystemStructInfoType  - System Information Type in parameter struct (usually
                                      the same as SystemInfoType other than in error-cases.)
              SyntaxCheck           - Indicator if a syntax check on the parameter values should
                                      be performed on the input parameters. Set to 'Off' in
                                      error cases where the parameters are incorrect.
              ActType               - Channel activation type
              BTSExpectedResult     - Expected result message from BTS
              AbisInterfaceMessage  - Expected message from Abis interface
              AbisCauseValue        - Expected Cause Value associatied with Abis message
              AbisSupressTimeout    - Indicate that Error messages due to timeout on
                                      the Abis interface should be suppressed
              Timeout               - Time in sec before timeout when waiting for a
                                      message on the Abis interface
OUT :     None</pre>
<a name='SendBitStream'></a><h2>SendBitStream</h2>

<pre> SendBitStream();

</pre>
<pre>SUBROUTINE  : SendBitStream
DESCRIPTION : Send a BitStream command to BTS over Abis</pre>
<pre>IN  :     Hash containing the following key(s):
            TGId     - TG Id
            TRXC     - TRXC nr
            PCM_SAPI - PCM SAPI (default 62)
            Data     - Reference to matrix to send command</pre>
<pre>OUT :     Hash with the command response</pre>
<a name='SendSMSBTS'></a><h2>SendSMSBTS</h2>

<pre> SendSMSBTS();

</pre>
<pre>SUBROUTINE  : SendMultiPurposeReqBTS
DESCRIPTION : To send a downlink message.</pre>
<pre>IN  :      BTS         =&gt; $BTS,
            SAPI        =&gt; undef,
            LinkId      =&gt; undef,
            TG          =&gt; $TG,
            TRXC        =&gt; $TRXC,
            TS          =&gt; $TS,
            ChType      =&gt; $ChType,
            NABit       =&gt; 0 ,
OUT :      None</pre>
<a name='SendSMSBroadcastCommand'></a><h2>SendSMSBroadcastCommand</h2>

<pre> SendSMSBroadcastCommand();

</pre>
<pre>SUBROUTINE  : SendSMSBroadcastCommand
DESCRIPTION : Send a SMS Broadcast Command message to the BTS</pre>
<pre>IN  :     Hash containing the following key(s):
            TGId         - TG nr
            TRXC         - TRXC nr
            TS           - Timeslot
            ChType       - Channel type
            SlotNo       - Message Slot Nr
            LastBlock    - Last sequence block
            CommandType  - Message Command Type
            SMSCBMsg     - Reference to message array (88 byte)
            SchedulingPeriodLength - Message scheduling period length
            SyntaxCheck  - Turns on/off message syntax check (Let incorrect
                           messges be sent using Abisco)
            StoreMessage - If 'TRUE', messages are stored in a TX queue until
                           the sub SendStoredMessages() are called.
            EP1_TIMER    - Delay between each block sent.</pre>
<pre>OUT :     Response from Abisco</pre>
<a name='SendSMSBroadcastRequest'></a><h2>SendSMSBroadcastRequest</h2>

<pre> SendSMSBroadcastRequest();

</pre>
<pre>SUBROUTINE  : SendSMSBroadcastRequest
DESCRIPTION : Send a SMS Broadcast Request message to the BTS</pre>
<pre>IN  :     Hash containing the following key(s):
            TGId         - TG nr
            TRXC         - TRXC nr
            TS           - Timeslot
            ChType       - Channel type
            LPD          - Should always be set to 1 (01b)
            SeqNo        - Message sequence number
            SMSCBMsg     - Reference to message array  (22 byte)
            SMSCBElementId  - Element ID for SSM Command Broadcast. Should be 36 (0x24)
            StoreMessage - If 'TRUE', messages are stored in a TX queue until
                           the sub SendStoredMessages() are called.</pre>
<pre>OUT :     Response from Abisco</pre>
<a name='SendStoredMessages'></a><h2>SendStoredMessages</h2>

<pre> SendStoredMessages();

</pre>
<pre>SUBROUTINE  : SendStoredMessages
DESCRIPTION : Sends all messages that are stored in the TX queue by being
              sent with the parameter Behaviour.EP1_BEH = 'TXQUEUE'</pre>
<pre>IN  :     Hash containing the following key(s):
            IssueUNACK  - Indicate if an UNACKNOWLEDGED_MESSAGE_SENT should be
                          sent after each transmitted message.
                          Valid values 'Yes' / 'No'. Default 'No'.</pre>
<pre>OUT :     Response from Abisco</pre>
<a name='SendSysinfoMessages_SI3SpecialConfiguresMSSIM'></a><h2>SendSysinfoMessages_SI3SpecialConfiguresMSSIM</h2>

<pre> SendSysinfoMessages_SI3SpecialConfiguresMSSIM();

</pre>
<pre>SUBROUTINE  : SendSysinfoMessages_SI3SpecialConfiguresMSSIM
DESCRIPTION : Sends system information messages according to input vectors.
              Sysinfo 3 is a special case - Enables all SI messages (without filtering) on the MSSIM,
              and also configures the MSSIM to enable reception of SI messages based on the latest SI3 message.</pre>
<pre>IN  :     SITypes               =&gt;    ['3'],                    # Vector (use an array reference when calling, "SITypes =&gt; \@lSITypes")
          MessageStrPrefix      =&gt;    'BCCHInfoP2_',            # Scalar
          BcchMap               =&gt;    'Normal',                 # Scalar, although hard-coded 'Normal' for SI3
          SI3_CCCHConfirmed     =&gt;    1                         # Scalar, only used for SI3
          EnableDebugPrintouts  =&gt;    undef                     # undef or anything else
OUT :     None.</pre>
<a name='Send_SysInfo'></a><h2>Send_SysInfo</h2>

<pre> Send_SysInfo();

</pre>
<pre>SUBROUTINE  : Send_SysInfo
DESCRIPTION :</pre>
<pre>Syntax   : Send_SysInfo(TGId =&gt; $TG{TGNr}, TS =&gt; 0, TRXC =&gt; $TRXC, Info =&gt; $Info
                        ChType =&gt; 'BCCH', BcchMap =&gt; 'Normal', TXInteger =&gt; 14,
                        MaxRetrans =&gt; 2, RadioLinkTimeout =&gt; 1, RXLevMin =&gt; 35);
           If the optional parameter "SIP2_3_CCCHConfirmed" is present, it is used
              in the BCCHInfoP2_3 message. Otherwise it is ignored.</pre>
<pre>Change log:   The MessageType2 for BCCHInfoP2_2quater was changed from 25 to 7
              (7 is the correct value in the IWD browser).</pre>
<a name='SeqNrBuilder'></a><h2>SeqNrBuilder</h2>

<pre> SeqNrBuilder();

</pre>
<pre>SUBROUTINE  : SeqNrBuilder
DESCRIPTION : Build the header byte for a SMS Command over air interface</pre>
<pre>IN  :     Hash containing the following key(s):
            LB     - LastBlock indicator
            LBD    - (must be 01)
            Block  - Block sequence no</pre>
<pre>OUT :     Resulting SeqNrHeader</pre>
<a name='SetAllSIMSSIM'></a><h2>SetAllSIMSSIM</h2>

<pre> SetAllSIMSSIM();

</pre>
<pre>SUBROUTINE  : SetAllSIMSSIM
DESCRIPTION : Activate all System information in the MSSIM (remove filtering).
              Note that this command _also_, automatically, makes the MSSIM
              listen for the system information configuration that is carried
              by System information type 3. (Because the flag CCauto = 1.)</pre>
<pre>IN  :     None
OUT :     None</pre>
<a name='SetBCCH'></a><h2>SetBCCH</h2>

<pre> SetBCCH();

</pre>
<pre>SUBROUTINE  : SetBCCH
DESCRIPTION : Set configuration for BCCH</pre>
<pre>IN  :     $BTS, BS_AG_BLKS_RES, BCCHType
OUT :     None</pre>
<a name='SetBCCHType'></a><h2>SetBCCHType</h2>

<pre> SetBCCHType();

</pre>
<pre>SUBROUTINE  : SetBCCHType
DESCRIPTION : Set BCCHType from par hash (NCOMB or COMB)</pre>
<pre>IN  :     $BTS
OUT :     None</pre>
<a name='SetBehaviourMode'></a><h2>SetBehaviourMode</h2>

<pre> SetBehaviourMode();

</pre>
<pre>SUBROUTINE  : SetBehaviourMode
DESCRIPTION : Set the BG behavoiur mode using BG.SetBehaviourMode
              See Abisco IWD for further info.</pre>
<pre>IN  :     Hash containing the following key(s):
            BGCommand   - BG command parameter. See Abisco IWD for further info.
            BGBehaviour - BG behavoiur parameter. See Abisco IWD for further info.</pre>
<pre>OUT :     Response from Abisco</pre>
<a name='SetSMSCBReporting'></a><h2>SetSMSCBReporting</h2>

<pre> SetSMSCBReporting();

</pre>
<pre>SUBROUTINE  : SetSMSCBReporting
DESCRIPTION : Set the SMSCBReporting ON or OFF</pre>
<pre>IN  :     Hash containing the following key(s):
            TGId           - TG nr
            TRXC           - TRXC nr
            TS             - Timeslot
            SMSCBReporting - 'On' or 'Off'</pre>
<pre>OUT :     None</pre>
<a name='StoreTG'></a><h2>StoreTG</h2>

<pre> StoreTG();

</pre>
<pre>SUBROUTINE  : StoreTG
DESCRIPTION : Store TG parameters. This subroutin shall be followed by ResetTG</pre>
<pre>IN  :
OUT :     {Cell}, {TG}, {MCTR};
Sample:   %StoredTG = StoreTG();</pre>
<a name='SysInfoOff'></a><h2>SysInfoOff</h2>

<pre> SysInfoOff();

</pre>
<pre>SUBROUTINE  : SysInfoOff
DESCRIPTION : Turns off "SI5", "SI5BIS", "SI6", "MI"</pre>
<pre>IN  :     $BTS, $TG, $TRXC
OUT :     None</pre>
<a name='UpdateCell'></a><h2>UpdateCell</h2>

<pre> UpdateCell();

</pre>
<pre>SUBROUTINE  : UpdateCell
DESCRIPTION :</pre>
<pre>Syntax   : UpdateCell(TGId =&gt; $TG{TGNr}, CellNr =&gt; 0, BSAG =&gt; $BSAG, BSPA =&gt; $BSPA
                       BCCHType =&gt; 'NCOMB');</pre>
<a name='UpdateTG'></a><h2>UpdateTG</h2>

<pre> UpdateTG();

</pre>
<pre>SUBROUTINE  : UpdateTG
DESCRIPTION :</pre>
<pre>Syntax   : UpdateTG(TGId =&gt; $TG{TGNr});</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_bspower</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 147/190 55-CAH 161 1607/1
MODULE      : subs_bspower.pm
DESCRIPTION : This package contains the subfunctions and variables used
              with the main test case
COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE        NAME              REVIEW          COMMENT
A     20101001    Syntronic AB,     Syntronic AB,   File created. Approved UABTOH.
                  Torbj&ouml;rn Wilund   Fredrik Lie
B     20110614    XDAVMEL           XGUSTPE,        Added functions: CalcFreqListElement CalcFreqList
                  Niclas &Ouml;stberg    Martin Wikstr&ouml;m                  ConfigReadMO BSPowerControl SelectARFCN
                                                                     EnableMO DisableMO GetFreqBand GetTSCparameters
                                                    Restored GetTRXValuesMSSIM and renamed VAMOS version to
                                                    GetTRXValuesMSSIM_VAMOS.
                                                    Updated GetTRXValues_Parser to be compatible with newer version of MSSIM.
                                                    Updated and fixed bug in changeTSonBTSforSDCCH
                                                    Added functions: LAPDmEstablishRequestMSSIM CheckL3Data GetBSPower
                                                                     SendBitstream GetChan
                                                    changed from using inputhash to local variables in all LADPm functions
                                                    Updated GetTRXNominalLevel to take Stabilization time parameter
                                                    Added DeactivateCSData, ActivateCSData, ClearMSSIMBuffer, SetNominalMinPower,
                                                    GetPowerLevel, ReadPowerSettingsFile</pre>
<pre>C   20120228      XTOBSEM           XPRRANA         Changed the script to use assert from dBLog and added support for RUS in
                                                    GetPowerLevel
                  XDAVMEL           XTOBSEM         Fixed small bug in LAPDmEstablishRequestMSSIM
                  XTOBSEM           XSOFFRO         Added Perl Critic and Diagnostics
                  XTOBSEM           XTOBSEM         Updated sub to import $TG, $TRXC, $TRXList and $Cell from
                                                    SubInit (HP36222)
                  XTOBSEM           XSOFFRO         Added waitForCellSync to GetTRXNominalLevel
                  EDAMELI           XTOBSEM         Removed ReceiverDiversity from TSConfig (does not need to changed)
                  XNAVNAS           XSOFFRO         Ran PerlCritic. Removed unnecessary code from GetTRXValuesMSSIM.
D   20120906      XANSBEM           XNAVNAS         Merged subs_bspowerchreact.pm with subs_bspowerchact.pm to subs_bspower.pm
                                                     Added CheckBSPowerWithMSSIMLog, StoreTG and ResetTG
PE1 20121016      XANSBEM           XNAVNAS         Updated TSConfig
PE2 20121105      XANSBEM           XMAREDV         Updated StoreTG and ResetTG to support several MCTR instances and several Cells.
PE3 20121220      XANSBEM           XMAREDV         Added subroutines VerifySIDTCHPowerLevel, VerifyNoDownlinkSpeech, CheckSIDCodeWord
                                                     IsInSIDPosition, VerifyDownlinkSpeech, ReleaseAllOpenChannels
PE4 20121221      XMAREDV                           Added subroutines GetVPO, CreateMS, DeleteMS and GetTCHRefPower.
                                                     Updated subroutines TSConfig, resetNominalPower and SetNominalMaxPower
PE5 20130126	    XHENRMA						XMAREDV         Updated resetNominalPower, SetNominalMaxPower and TSConfig</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?speechfunc'>speechfunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?wireshark'>wireshark</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?lsuConfig'>lsuConfig</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?subinit_bspower'>subinit_bspower</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ActivateCSData'></a><h2>ActivateCSData</h2>

<pre> ActivateCSData();

</pre>
<pre>Subroutine: ActivateCSData
Purpose:    To activate sending of CS Data in TSS
Input:
Output:      0=Ok, 1=Error</pre>
<a name='BSPowerControl'></a><h2>BSPowerControl</h2>

<pre> BSPowerControl();

</pre>
<pre>Send a BS Power Control Message</pre>
<a name='CCCHReconfMSSIM'></a><h2>CCCHReconfMSSIM</h2>

<pre> CCCHReconfMSSIM();

</pre>
<pre>Subroutine: CCCHReconfMSSIM
Purpose: To turn CCCH signaling off and on in MSSIM
Input: None
Output: None</pre>
<a name='CalcFreqList'></a><h2>CalcFreqList</h2>

<pre> CalcFreqList();

</pre>
<pre>Calculates a Frequency List for TSConfiguration acc. to IWD
In: ARFCN =&gt; $ARFCN - Pointer to array containing all ARFCNs in
                    desired order (required)
    TX =&gt; $TX - Pointer to array containing all TXs in desired order
    RX =&gt; $RX - Pointer to array containing all RXs in desired order
    TRXC =&gt; $TRXC - if this is given, all TX and RX values will be
                            set to $TRXC
    Note: EITHER TX+RX OR TRXC must be given!
          All input arrays must contain the same number of elements!</pre>
<pre>    Optional: Hop =&gt; &lt;Nr. of Hopp-Frequencies, 1-&gt;No Hopping&gt;


</pre>
<a name='CalcFreqListElement'></a><h2>CalcFreqListElement</h2>

<pre> CalcFreqListElement();

</pre>
<pre>Calculates the Frequency List out of given ARFCNs in the argument
Call: CalcFreqElement (TX=&gt;$TX, RX=&gt;$RX, ARFCN=&gt; &lt;ARFCN&gt;)</pre>
<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>Subroutine: ChActBTS
Purpose:    To activate a channel in the BTS, uses par hash variables
Input:      $BTS (Abisco connection parameter)
            $ChAct
            $TG,
            $TRXC,
            $TS,
            $ChType,
            $ActType,
            $TypeOfCh,
            $ChRate,
            $AlgOrRate,
            $BSPower (Pn)
            $ExpectedMsg
            $ExpectedErrCode
Output:     None</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>Subroutine: ChActMSSIM
Purpose:    To activate a channel in the MSSIM, sets the CcId package variable
Input:      Bypass       =&gt; 0,
            RxAcchOn    =&gt; 1,
            AllSacchSI  =&gt; 0,
            RToutOff    =&gt; 0,
            RxTrfcOn    =&gt; 0,
            UndecFrm    =&gt; 0,
            TrxNum      =&gt; 0,
            L2hdr       =&gt; 2,
            Data        =&gt; [@Meas],
            TG          =&gt; $TG,
            TRXC        =&gt; $TRXC,
            TS          =&gt; $TS,
            PDCHMode    =&gt; "",
            ChType      =&gt; $ChType,
            ChRate      =&gt; $ChRate,
            TypeOfCh    =&gt; $TypeOfCh,
            AlgOrRate   =&gt; $AlgOrRate,
            AMRCodec    =&gt; $AMRCodec
            Cell        =&gt; $eCell
            OverrideChnComb =&gt; undef            (This is a workaround, see mssim_sub.pm)
            OverrideSub     =&gt; undef            (This is a workaround, see mssim_sub.pm)
Output:     $CcId</pre>
<a name='ChActMSSIMVamos'></a><h2>ChActMSSIMVamos</h2>

<pre> ChActMSSIMVamos();

</pre>
<pre>Subroutine: ChActMSSIMVamos
Purpose:    To activate a channel in the MSSIM, VAMOS
Input:      Hash containing the following key(s):
              AMRCodec    -   AMR Codec
              ChRate      -   Channel rate
              TG          -   TG number
              TRXC        -   TRXC
              TS          -   Timeslot number
              ChType      -   Channel Type
              ActType     -   Activation type
              TypeOfCh    -   Type of Channel
              AlgOrRate   -   GSM algorithm or Rate
              ChAct       -   Channel Activation type
              AlgId       -   Algorithm ID
              Bypass      -   Bypass flag
              Ref         -   Ref
              AllSacchSI  -   Indicator if all SACCH messages should be recieved
                              or just changes
              MsId        -   MSSSim ID
              Timeout     -   Timeout</pre>
<pre>Output:     CcId</pre>
<a name='ChRelBTS'></a><h2>ChRelBTS</h2>

<pre> ChRelBTS();

</pre>
<pre>Subroutine: ChRelBTS
Purpose:    To release radio traffic channels or control channels in the BTS
Input:      $BTS (Abisco connection parameter)
            $TG,
            $TRXC,
            $TS,
            $ChType
Output:     None</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>Subroutine: ChRelMSSIM
Purpose:    To release a channel in the MSSIM, uses the package variable CcId to
            identify the opened channel
Input:      CcId    =&gt; $gCcId,
            Timeout =&gt; Timeout value
Output:     None</pre>
<a name='CheckBSPowerWithMSSIMLog'></a><h2>CheckBSPowerWithMSSIMLog</h2>

<pre> CheckBSPowerWithMSSIMLog();

</pre>
<pre>SUBROUTINE  : CheckBSPowerWithMSSIMLog
DESCRIPTION : Checks BS power by creating and analysing an LSU log
              Wireshark.pm needs an update for this subroutine to work
              (current version released in Abisco version R43A)</pre>
<pre>IN  : ConfigFile
      MsSIM_LSU_FileName
OUT : Hash containing power levels for timeslots and subtimeslots</pre>
<a name='CheckL3Data'></a><h2>CheckL3Data</h2>

<pre> CheckL3Data();

</pre>
<pre>Subroutine:  CheckL3Data
Purpose:    To compare received L3Data to expected L3Data
Input:      Expected L3Data
             Received L3Data
Output:     Returns 1 if data differs, else 0</pre>
<a name='CheckSIDCodeWord'></a><h2>CheckSIDCodeWord</h2>

<pre> CheckSIDCodeWord();

</pre>
<pre>SUBROUTINE  : CheckSIDCodeWord
DESCRIPTION : Check SID Codeword and Comfort Noise on downlink Um frame</pre>
<pre>IN  : Hash containing the following key(s):
             Message    - Packed traffic frame, as $RESP{Message} recieved from lsuReadWLog
             SpType     - FR, EFR or HR</pre>
<pre>OUT : 1 if SID Frame      (SID Codeword and Comfort Noise OK)
      0 if NOT SID Frame</pre>
<a name='ClearMSSIMBuffer'></a><h2>ClearMSSIMBuffer</h2>

<pre> ClearMSSIMBuffer();

</pre>
<pre>Subroutine: ClearMSSIMBuffer
Purpose:    Remove all messages in the MSSIM buffer
Input:      None
Output:     None</pre>
<a name='CompareArrays'></a><h2>CompareArrays</h2>

<pre> CompareArrays();

</pre>
<pre>Subroutine:  CompareArrays
Purpose:     To compare two Arrays named Expect and Received
Input:      Two arrays
Output:      Returns 0 if data differs, else 1</pre>
<a name='CompareHash'></a><h2>CompareHash</h2>

<pre> CompareHash();

</pre>
<pre>Subroutine: CompareHash
Purpose:    Compares two hashes by using recursion
Input:      Expected    Expected hash table
            Received    Hash table to compare Expected to
            Debug       Set to 1 to get debug printouts</pre>
<pre>Output:     0 - tables DOESNT match
            1 - tables match</pre>
<a name='ConfigReadMO'></a><h2>ConfigReadMO</h2>

<pre> ConfigReadMO();

</pre>
<pre>FUNCTION : ConfigReadMO
COMMENT  : Get current parameters for wanted MO
Syntax   : ConfigReadMO(MO =&gt; $MO);
IN       : MO type
OUT      : %lResp</pre>
<a name='CreateMS'></a><h2>CreateMS</h2>

<pre> CreateMS();

</pre>
<pre>SUBROUTINE  : CreateMS
DESCRIPTION : Create an MS on MSSIM</pre>
<pre>IN  : Hash containing the following key(s):
              $MsId  - MSSIM ID
OUT : -</pre>
<a name='DataRequestMulti'></a><h2>DataRequestMulti</h2>

<pre> DataRequestMulti();

</pre>
<pre>FUNCTION : DataRequestMulti
COMMENT  :</pre>
<pre>Out      : %Resp</pre>
<a name='DeactivateCSData'></a><h2>DeactivateCSData</h2>

<pre> DeactivateCSData();

</pre>
<pre>Subroutine: DeactivateCSData
Purpose:    To activate sending of CS Data in TSS
Input:
Output:      0=Ok, 1=Error</pre>
<a name='DeleteMS'></a><h2>DeleteMS</h2>

<pre> DeleteMS();

</pre>
<pre>SUBROUTINE  : DeleteMS
DESCRIPTION : Delete existing MS on MSSIM</pre>
<pre>IN  : Hash containing the following key(s):
              $MsId  - MSSIM ID
OUT : -</pre>
<a name='DisableMO'></a><h2>DisableMO</h2>

<pre> DisableMO();

</pre>
<pre>FUNCTION : DisableMO
COMMENT  : Sends DisableRequest to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks DisableResult.
IN           : Optionally a reference to a Hash
           containing one or more of the following
           keys: TRXC, MO, MOState, ASOInst, ReasonCode, ResultCode
           ASOInst, INST
Out           : None</pre>
<a name='EnableMO'></a><h2>EnableMO</h2>

<pre> EnableMO();

</pre>
<pre>FUNCTION : EnableMO
COMMENT  : Sends EnableRequest to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks EnableResult.
IN             : Optionally a reference to a Hash containing
           one or more of the following
           keys: TRXC, MO, MOState, ASOInst
OUT             : None</pre>
<a name='EstReqBTS'></a><h2>EstReqBTS</h2>

<pre> EstReqBTS();

</pre>
<pre>Subroutine: EstReqBTS
Purpose:    To send Establish Request from BTS and receive
             the expected response from BTS on SAPI3
Input:      BTS =&gt; $BTS,
            SAPI =&gt; 0,
            Expected =&gt; 'EstablishConfirm',
            LinkId =&gt; 'FACCH/SDCCH',
            TG   =&gt; $TG,
            TRXC =&gt; $TRXC
            TS =&gt; $TS,
            ChType =&gt; $ChType,
            TIMER1=&gt;10000,
            NABit  =&gt; 0,
Output:     None</pre>
<a name='EstablishReqMSSIM'></a><h2>EstablishReqMSSIM</h2>

<pre> EstablishReqMSSIM();

</pre>
<pre>Subroutine: EstablishReqMSSIM
Purpose:    To send Establish Request to MSSIM and receive EstablishIndication
            from Abisco
Input:      Hash containing the following key(s):
             BTS     - Abisco connection parameter
             SAPI    - Sapi value
             CHAN    - Channel state
             L3DATA  - Reference to L3Data array</pre>
<pre>Output:     None</pre>
<a name='GetBSPower'></a><h2>GetBSPower</h2>

<pre> GetBSPower();

</pre>
<pre>Subroutine: GetBSPower
Purpose:    Get BS Power parameter (chx_AvgRfl)
Input:      TS
Output:     BSpower at Ch x</pre>
<a name='GetFreqBand'></a><h2>GetFreqBand</h2>

<pre> GetFreqBand();

</pre>
<pre>Get the frequency band</pre>
<a name='GetPowerLevel'></a><h2>GetPowerLevel</h2>

<pre> GetPowerLevel();

</pre>
<pre>Subroutine: GetPowerLevel
Purpose:    Get PnMax, PnMin or Pmin
Input:      Level =&gt; PnMax, PnMin or Pmin
Output:     Desired power level (standard is PnMax)</pre>
<pre>Comment:    Values for PnMin and PnMax is extracted from BTS Parameter Limitations
            (17/1551-HRB 105 21) and values for Pmin is extracted from
            Requirements Specifications of different base stations.</pre>
<a name='GetTCHRefPower'></a><h2>GetTCHRefPower</h2>

<pre> GetTCHRefPower();

</pre>
<pre>SUBROUTINE  : GetTCHRefPower
DESCRIPTION : Takes a reference value for the nominal power level.</pre>
<pre>IN  : TRXC
OUT : Reference power</pre>
<a name='GetTRXValuesMSSIM'></a><h2>GetTRXValuesMSSIM</h2>

<pre> GetTRXValuesMSSIM();

</pre>
<pre>Subroutine: GetTRXValuesMSSIM
Purpose:    Get TRX values from MSSIM (gsmbSrvTRX_INFO_CMD)
Input:      Cell =&gt; ,
            TRXC =&gt; ,
            Timeout =&gt;
Output:     %lResp hash</pre>
<a name='GetTRXValuesMSSIM_VAMOS'></a><h2>GetTRXValuesMSSIM_VAMOS</h2>

<pre> GetTRXValuesMSSIM_VAMOS();

</pre>
<pre>Subroutine: GetTRXValuesMSSIM_VAMOS
Purpose:    Get TRX values from MSSIM (gsmbSrvTRX_INFO_CMD)
Input:      Hash containing the following keys
              Cell        - MSSIM cell
              TRXC        - TRXC to measure on (as seen from the MSSIM)
              Timeout     - Message timeout
              Channel     - Channel number (optional. The BSPower key in the result hash
                            will have the BSPower of the channel that is given here)
              VAMOS       - Indiactor if this is a VAMOS pair or not
Output:     Hash containing the following keys:
              {Resp}      - 'Ok' if successfull measurement, otherwise an error message
              {AvgRfl}{X} - Average BSPower for channel X
              {BSPower}   - BSPower for the channel specified by 'Channel' in the input hash</pre>
<a name='GetTRXValues_Parser'></a><h2>GetTRXValues_Parser</h2>

<pre> GetTRXValues_Parser();

</pre>
<pre>Subroutine: GetTRXValues_Parser
Purpose:    Extracts all information from MSSIM response and
            parses it into a responsehash
Input:      LSU response (Raw format)
Output:     ResponseHash</pre>
<pre>Changes:    2010-12-03: Updated to be compatible with newer MSSIM version</pre>
<a name='GetTSCparameters'></a><h2>GetTSCparameters</h2>

<pre> GetTSCparameters();

</pre>
<pre>Subroutine: GetTSCparameters
Purpose:    To get the appropriate TSC_SET and TSC depending
            of wanted ChType when using VAMOS
            TSC on MSSIM is a combination of TSC_SET and TSC
Call:       %Resp = GetTSCparameters(ChType =&gt; $ChType);
Input:      ChType
            Valid parameters: Bm
                              Bm_1
                              Lm/0
                              Lm/1
                              Lm/0_1
                              Lm/1_1
Output:     Hash containing TSC_SET
                            TSC
                            MixingOrder
                            MSCapability
                            MSSIM_TSC</pre>
<a name='GetVPO'></a><h2>GetVPO</h2>

<pre> GetVPO();

</pre>
<pre>SUBROUTINE  : GetVPO
DESCRIPTION : Creates an array for use in TSConfig based on the table @VPO</pre>
<pre>IN  : MinSPIR
      MSCapability
OUT : VPO array</pre>
<a name='IsInSIDPosition'></a><h2>IsInSIDPosition</h2>

<pre> IsInSIDPosition();

</pre>
<pre>SUBROUTINE  : IsInSIDPosition
DESCRIPTION : Check if FrameNumber is in SID posistion</pre>
<pre>IN  : Hash containing the following key(s):
             FN         - Frame number
             SpType     - FR, EFR or HR</pre>
<pre>OUT : 1 if SID Position
      0 if NOT SID Position</pre>
<a name='LAPDmCheckReceived'></a><h2>LAPDmCheckReceived</h2>

<pre> LAPDmCheckReceived();

</pre>
<pre>Subroutine: LAPDmCheckReceived
Purpose:    Check data in frames Received on LAPDm
Input:      NR from ReceiveLAPDm
             Expected NR
             NS from ReceiveLAPDm
             Expected NS
             PF from ReceiveLAPDm
             Expected PF
             CR from ReceiveLAPDm
             Expected CR
             L from ReceiveLAPDm
             Expected L
             M from ReceiveLAPDm
             Expected M
             Frame type from ReceiveLAPDm
             Expected frame type
             Data from ReceiveLAPDm as ref (\@Data)
             Expected Data as ref(\@ExpectedData)
Output:     None</pre>
<a name='LAPDmEstablishRequestMSSIM'></a><h2>LAPDmEstablishRequestMSSIM</h2>

<pre> LAPDmEstablishRequestMSSIM();

</pre>
<pre>Subroutine: LAPDmEstablishRequestMSSIM
Purpose:    Establish link between MSSIM and BTS, LAPDM Protocol
Input:      $BTS
            $SAPI
Output:     None</pre>
<a name='LAPDmReceive'></a><h2>LAPDmReceive</h2>

<pre> LAPDmReceive();

</pre>
<pre>Subroutine: LAPDmReceive
Purpose:    To receive a LAPDm frame
Input:      Chan      (SDCCH, SACCH or FACCH)
Output:     $Resp     (Response = "Timeout", "I", "RR", RNR", "REJ", "SABM", "DM", "UI", "DISC" or "UA"
            N(R)      (Receive Sequence Number)
            N(S)      (Send Sequence Number)
            P/F       (Poll/Final bit)
            LPD       (Link Protocol discriminator)
            api       (Service Access Point)
            C/R       (Command/Response)
            EA        (Address Extension Bit)
            L         (Length of Information field)
            M         (More bit)
            EL        (Length Extension bit)
            Fn        (Frame Number)
            Data      (Information Field)</pre>
<a name='LAPDmSend'></a><h2>LAPDmSend</h2>

<pre> LAPDmSend();

</pre>
<pre>Subroutine:    LAPDmSend
Purpose:       To send a LAPDm frame
Input:         $Chan      (SDCCH, SACCH or FACCH)
               $MsPower  (Only applicable for SACCH)
               $TA        (Timing advance, only applicable for SACCH)
               $Cmd       (Command = "I", "RR", RNR", "REJ", "SABM", "DM", "UI", "DISC" or "UA"
               N(R)       (Receive Sequence Number)
               N(S)      (Send Sequence Number)
               P/F       (Poll/Final bit)
               SAPI      (Service Access Point)
               C/R        (Command/Response)
               M          (More bit)
               EL        (Length Extension bit)
               EA        (Address Extension Bit)
               refData      (Information Field)
               CcId      =&gt; $gCcId
Output:        None</pre>
<a name='RadioChReleaseCommand'></a><h2>RadioChReleaseCommand</h2>

<pre> RadioChReleaseCommand();

</pre>
<pre>Subroutine: RadioChReleaseCommand
Purpose:    Cleans all radiochannels connected to TG
Input:      TG
            TRXC
Output:     TC result value</pre>
<a name='ReadPowerSettingsFile'></a><h2>ReadPowerSettingsFile</h2>

<pre> ReadPowerSettingsFile();

</pre>
<pre>Subroutine: ReadPowerSettingsFile
Purpose:    Get PnMax, PnMin and Pmin from user editable text file
Input:      None
Output:     If file not found: ( Result =&gt; Use_Standard )
            If file found:     Hash containing PnMax, PnMin and Pmin as read
                               from PowerSettings.cfg</pre>
<a name='ReceiveAbisco'></a><h2>ReceiveAbisco</h2>

<pre> ReceiveAbisco();

</pre>
<pre>Subroutine: ReceiveAbisco
Purpose:    To receive a spontaneous message from Abisco
Input:      Timeout value
             Expected Message
             L3Data of expected message
Output:     None</pre>
<a name='ReceiveAbiscoMessage'></a><h2>ReceiveAbiscoMessage</h2>

<pre> ReceiveAbiscoMessage();

</pre>
<pre>Subroutine: ReceiveAbiscoMessage
Purpose:    To receive a spontanious message from Abisco
Input:      BTS (Abisco connection parameter)
            Timeout  =&gt; undef,
            Expect    =&gt; undef,
            Supress   =&gt; "SupressError",
Output:     Received Data hash</pre>
<a name='ReceiveMSSimMsg'></a><h2>ReceiveMSSimMsg</h2>

<pre> ReceiveMSSimMsg();

</pre>
<pre>Subroutine: ReceiveMSSimMsg
Purpose:    Receive msgs on the MSSim until one is found that matches the
            in Expected hash or timeout occurs</pre>
<pre>Input:      Timeout       - 0.., time to look for msg in seconds
            SupressError  - 1/0, supress croak On/Off
            ErrorMsg      - if this string is defined it will be printed if an
                            error occurs
            Expected      - Hash containing keys to look for in received msg</pre>
<pre>Output:     0 - Message matching Expected's keys NOT found
            1 - Message matching Expected's keys found</pre>
<a name='ReleaseAllOpenChannels'></a><h2>ReleaseAllOpenChannels</h2>

<pre> ReleaseAllOpenChannels();

</pre>
<pre>SUBROUTINE  : ReleaseAllOpenChannels
DESCRIPTION : Release Channel activated in Payload</pre>
<pre>IN  : ChannelName - CSData, PSData, Speech, All
OUT :</pre>
<a name='ResetTG'></a><h2>ResetTG</h2>

<pre> ResetTG();

</pre>
<pre>SUBROUTINE  : ResetTG
DESCRIPTION : Resets the TG to the one stored in Stored TG
              (copied from subs_Broadcast)</pre>
<pre>IN  :     Cell, TG, MCTR
OUT :     Will die if errors found
Sample:   ResetTG(%StoredTG);</pre>
<a name='RestartBTS'></a><h2>RestartBTS</h2>

<pre> RestartBTS();

</pre>
<pre>Subroutine:   RestartBTS
Purpose:      Restarting the BTS, make sure that the parameters set during restart
              complies with your specific TC
Input:        BTS (Abisco connection parameter)
              TGId
              TRXList (array)
Output:</pre>
<a name='RoundFloat'></a><h2>RoundFloat</h2>

<pre> RoundFloat();

</pre>
<pre>Subroutine: RoundFloat
Purpose:    Rounds the first argument to (the second argument) number of decimal places.
Input:      Float     (Value to round)
            Decimals  (Number of decimal digits, &gt;= 0)
Output:     Rounded float</pre>
<a name='SelectARFCN'></a><h2>SelectARFCN</h2>

<pre> SelectARFCN();

</pre>
<pre>FUNCTION : SelectARFCN
COMMENT  : Select a random ARFCN out of the given Band
IN       : $Band (e.g. GSM900P), Reference to list of not allowed ARFCNs,
           Number of ARFCNs to be calculated
OUT      : @Arfcn</pre>
<a name='SetNominalMaxPower'></a><h2>SetNominalMaxPower</h2>

<pre> SetNominalMaxPower();

</pre>
<pre>Subroutine: SetNominalMaxPower
Purpose:    Set nominal power to max power
Input:      TG
            TRXC
Output:     backupValues =&gt; TRXno =&gt; NominalPower</pre>
<a name='SetNominalMinPower'></a><h2>SetNominalMinPower</h2>

<pre> SetNominalMinPower();

</pre>
<pre>Subroutine: SetNominalMinPower
Purpose:    Set nominal power to in power
Input:      TG
            TRXC
            PnMin (optional)
Output:     backupValues =&gt; TRXno =&gt; NominalPower</pre>
<a name='StoreTG'></a><h2>StoreTG</h2>

<pre> StoreTG();

</pre>
<pre>SUBROUTINE  : StoreTG
DESCRIPTION : Store TG parameters. This subroutin shall be followed by ResetTG
              (copied from subs_Broadcast)</pre>
<pre>IN  :
OUT :     {Cells}, {TG}, {MCTR};
Sample:   %StoredTG = StoreTG();</pre>
<a name='TSConfig'></a><h2>TSConfig</h2>

<pre> TSConfig();

</pre>
<pre>FUNCTION : TSConfig
COMMENT  : Reconfigure TS
Syntax   : TSConfig(TS =&gt; $TS);
IN       :
OUT      : %lResp</pre>
<a name='VerifyDownlinkSpeech'></a><h2>VerifyDownlinkSpeech</h2>

<pre> VerifyDownlinkSpeech();

</pre>
<pre>SUBROUTINE  : VerifyDownlinkSpeech
DESCRIPTION : Verify frames sent downlink on Um</pre>
<pre>IN  : Hash containing the following key(s):
             MSSIMLog   - MSSIM log file (.lsu)
             SpType     - FR, EFR or HR
             TXPower    - Expected TXPower, 'On' or 'Off'
             SIDFrames  - Expected presens of SID frames, 'Present' or 'Not_Present'</pre>
<pre>OUT : 0 if OK, Error text if error found</pre>
<a name='VerifyNoDownlinkSpeech'></a><h2>VerifyNoDownlinkSpeech</h2>

<pre> VerifyNoDownlinkSpeech();

</pre>
<pre>SUBROUTINE  : VerifyNoDownlinkSpeech
DESCRIPTION : Verify that no frames are sent downlink on
              (Only developed for half rate)</pre>
<pre>IN  : Hash containing the following key(s):
             MSSIMLog   - MSSIM log file (.lsu)
             TS         - Timeslot
             SubTS      - Subtimeslot</pre>
<pre>OUT : 0 if OK, Error text if error found</pre>
<a name='VerifySIDTCHPowerLevel'></a><h2>VerifySIDTCHPowerLevel</h2>

<pre> VerifySIDTCHPowerLevel();

</pre>
<pre>SUBROUTINE  : VerifySIDTCHPowerLevel
DESCRIPTION : Verify the Power level for SID frames and TCH frames</pre>
<pre>IN  : Hash containing the following key(s):
             Message    - Packed traffic frame, as $RESP{Message} recieved from lsuReadWLog
             SpType     - FR, EFR or HR</pre>
<pre>OUT : 0 if OK
      Error if not OK</pre>
<a name='changeTSonBTSforSDCCH'></a><h2>changeTSonBTSforSDCCH</h2>

<pre> changeTSonBTSforSDCCH();

</pre>
<pre>Subroutine: changeTSonBTSforSDCCH
Purpose: To change TS configuration used in all TC with SDCCH
Input:
Output:None</pre>
<a name='changeTSonBTSforTCH'></a><h2>changeTSonBTSforTCH</h2>

<pre> changeTSonBTSforTCH();

</pre>
<pre>Subroutine: changeTSonBTSforTCH
Purpose: To be able to setup traffic channels on BTS TS
Input:
Output:None</pre>
<a name='makeAscii'></a><h2>makeAscii</h2>

<pre> makeAscii();

</pre>
<pre>Subroutine: makeAscii
Purpose:    Convert an array with chacters to printable Ascii. Quit if null found
Input:      Character array
Output:     Printable ascii string</pre>
<a name='resetMSSIM'></a><h2>resetMSSIM</h2>

<pre> resetMSSIM();

</pre>
<pre>Subroutine: resetMSSIM
Purpose: Resets MSSIM
Input: None
Output: None</pre>
<a name='resetNominalPower'></a><h2>resetNominalPower</h2>

<pre> resetNominalPower();

</pre>
<pre>Subroutine: resetNominalPower
Purpose:    Set nominal power to max power
Input:      TG
            TRXC
Uses:       backupValues=&gt; TRXno =&gt; NominalPower
Output:</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_Caco</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 125/190 55-CAH 161 1607/1 Uen
MODULE      : Subs_Caco.pm
DESCRIPTION : This program provides defines and subfunctions for Call Control tests</pre>
<pre>COPYRIGHT &copy; : ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME           REVIEW            COMMENT
A   20100927  ERATZIS,
              ERAKOSI        Syntronic AB/     File created based on old caco.abi.
              Syntronic AB/  Anders Jokobsson  Approved UABTOH
              Fredrik Lie
B   20101008  Syntronic AB/  XWIKMAR           Updated with dbLog. Added ClearMSSIMBuffer. Updated CheckIfMeasReportInMeasResult with new log settings.
              David Melin                       Replaced WriteLog calls with HandleLogg. Approved UABTOH.
C   20110408  XMABENT        XDAVMEL           Updated ReceiveMeasurmentResultNormal:MergeWork work of parallell development.
                                                Removed last existing lines of writelog logging
                                                Removed use carp (not used in sub)
                                                Removed use user (not used in sub)
                                                Updated ConnectToMSSIM inorder to allow several MsId:s
                                                Updated RestartBTS() Setting prevented other than TDMmode to be used.
                                                Updated SetTG() to handle SC mode
                                                Updated ActivateAndEstablish and ChRelMSSIM to handle several CcId
                                                Added GetTSCparameters MSSIM vamos implementation
                                                Updated ChActBTS() to call GetTSCparameters
                                                Updated ChActMSSIM() to call GetTSCparameters
                                                Updated ActivateAndEstablishExistingChannel due to FTS update
                                                Updated ActivateAndEstablishExistingChannel so that one can choose whether to use MSSIM or not
                                                Updated SetTG to support ExtendedRange
                                                Updated ChActBTS_PDCH so that one could check AckType and CauseValue
                                                Corrected ChActBTS so that one could check AckType and CauseValue
                                                Uppdated ChActBTS so that one could choose to make an Reactivation. Old setting in macro.
                                                Uppdated ActivateAndEstablishExistingChannel so that one could choose whether to use VAMOSparameters or not. Old setting in macro.
                                                : Added ActivateSpeech : Added DeactivateSpeech : Added StartLoopMSSIM : Added StopLoopMSSIM
                                                Merged G10B and G11B versions
                                                Added GetTRXValuesMSSIM PrepareChActData SendBitstream
                                                Added CreateParamHashSpeech GetChannelInfoHash ConvertMSSIMstatistics
                                                Updated PrepareChActData to solve TR HN30323, ChActBTS and ActivateAndEstabl.. updated with DTXd parameter
                                                Added CreateSpeechPatternFile MSSIMTransferFile
                                                Added CreateMS &amp; DeleteMS : Fixed ChRelMSSIM :</pre>
<pre>D   20110520  XMABENT        XDAVMEL           Fixed mandatory parameter in SetTG_TCHConfig, Fixed printout on HandoverAccessMSSIM.
                                                Added Iterations to ReceiveMSSIM sub, Fixed printout in CheckifSysInfoMessages
E   20110620  XTOBSEM        XOSKRON           Added ResetTG
                                                Added StoreTG, GetMSSIMTRXValues, GetTRXValues_Parser, RoundFloat
                                                and Updated ResetTG
                                                Added support for MCTR in StoreTG and ResetTG
                                                Added support for custom TFConfigRequest in StoreTG and ResetTG HO23295
                                                Added support for custom TFConfigRequest and MCTR in SetTG
                                                Added support for custom TFConfigRequest and MCTR in SetTG_TCHConfig
F   20111012  XSOFFRO        XTOBSEM           To solve issues in updated TR HO28330:
                                                Explicitly imported variable $Cell fron package SubInit_Caco.
                                                Other updates:
                                                 Added function TimeSlotConfigure().
                                                 Minor syntax fixes (no change in functionality).
G   20120906  XANSBEM        XSOFFRO           Removed unused subroutines and variables
                                                Ran Perl-Critic and implemented ActiveTG
                                                Added SetAbisMode, ChangeTG, GetActiveCell
                                                Updated StoreTG, ResetTG, RadioChRel, SetTG, ConfigMORX,
                                                 DoTSConfigRequest, ChActBTS, RFChannelRelease, SetMeasurementReporting,
                                                 RecieveAbisco, DecodeWireSharkLog, CheckFillBitsInMessage and ChActBTS
G1  20120906  XNAVNAS        XSOFFRO           Updated ReceiveSpontMSSIM to correctly print data in HandleLogg message
                                                Updated DecodeWiresharkLog to remove unnecessary file creation
H   20121030  XMAREDV        XNAVNAS           Implemeted support for dynamic MCTR settings and added function CheckUMTraffic
PI1 20121101  XMAREDV        XANSBEM           Updated ChActBTS to support MinSCPIR
PI2 20121105  XMAREDV        XANSBEM           Solved TR HQ59716 and implemented support for multiple dynamic cells
PI3 20121121  XMAREDV        XHENRMA           Added SyntaxCheck parameter to ChActBTS()
PI4 20121203  XANSBEM        XMAREDV           Added comment in CheckIfMeasReportInMeasResult()
PI5 20121212  XMAREDV        XHENRMA           Added default value for MinSCPIR in ChActBTS()
PI6 20121213  XANSBEM        XNAVNAS           Added parameter PDCHOptionsStruct in ChActBTS_PDCH</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?lsuConfig'>lsuConfig</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?wireshark'>wireshark</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?HelpFunc'>HelpFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?psdatafunc'>psdatafunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?packetfunc'>packetfunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?SubInit_Caco'>SubInit_Caco</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ActivateAndEstablishExistingChannel'></a><h2>ActivateAndEstablishExistingChannel</h2>

<pre> ActivateAndEstablishExistingChannel();

</pre>
<pre>SUBROUTINE  : ActivateAndEstablishExistingChannel
DESCRIPTION : ChannelActivation
              General sub written as an absstraction layer
              between TC and ChActBTS and ChActMSSIM.
              TC calls this sub with a specific channelcombination
              request as a precondition to TC.
              Implemented to enable VAMOS TC implementation.
IN  :  Pre       =&gt; Channel combination identifier
       PreType   =&gt; Normal och HOP (AsyncHandover)
OUT :</pre>
<a name='ActivateSpeech'></a><h2>ActivateSpeech</h2>

<pre> ActivateSpeech();

</pre>
<pre>SUBROUTINE  : ActivateSpeech
DESCRIPTION : Activate speech on an activated channel
IN  :   %Param
OUT :   None</pre>
<a name='AllocateICP'></a><h2>AllocateICP</h2>

<pre> AllocateICP();

</pre>
<pre>SUBROUTINE  : AllocateICP
DESCRIPTION : To allocate ICP and CI numbers
IN  :  TG
       TRXC
       TS
       Downlink Encoding
       Uplink Encoding
       Width
OUT :  ICP
       CI</pre>
<a name='AllocateICPifTDMmode'></a><h2>AllocateICPifTDMmode</h2>

<pre> AllocateICPifTDMmode();

</pre>
<pre>SUBROUTINE  : AllocateICPifTDMmode
DESCRIPTION : If TDM mode and Dynamic config it allocates ICP</pre>
<pre>IN  : $AbisMode
      $Config
      $DLEncoding
      $ULEncoding
OUT : $ICP
      $CI</pre>
<a name='CalcRoundTripDelayAbis'></a><h2>CalcRoundTripDelayAbis</h2>

<pre> CalcRoundTripDelayAbis();

</pre>
<pre>SUBROUTINE  : CalcRoundTripDelayAbis
DESCRIPTION : Calculate the round trip time from PGSL-DLDATA-REQ to PGSL-DLDATA-IND</pre>
<pre>IN  :     Abislog - TSS Abis log object</pre>
<pre>OUT :     RTTMin  - RTT min
          RTTMax  - RTT max
          RTTAvg  - RTT average</pre>
<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>SUBROUTINE  : ChActBTS
DESCRIPTION : To activate a channel in the BTS</pre>
<pre>IN  :  Hash containing the following key(s):
              AMRCodec    -   AMR Codec
              ChRate      -   Channel rate
              TG          -   TG number
              TRXC        -   TRXC
              TS          -   Timeslot number
              ChType      -   Channel Type
              ActType     -   Activation type
              TypeOfCh    -   Type of Channel
              AlgOrRate   -   GSM algorithm or Rate
              ChAct       -   Channel Activation type
              RFB         -
              AlgId       -   Algorithm ID
              AckType     -   Acknowledgement type (Ack/NAck)
              StartMode   -
              ICP         -
              CI          -
              MRver       -
              MultiRateConfig - Multirate configuration
              IgnoreBSPower - set to true to disble BSPower
              IgnoreChannelMode - set to true to disble ChannelMode struct
OUT :  None</pre>
<a name='ChActBTS_PDCHOptions'></a><h2>ChActBTS_PDCHOptions</h2>

<pre> ChActBTS_PDCHOptions();

</pre>
<pre>SUBROUTINE  : ChActBTS_PDCHOptions
DESCRIPTION : To activate a PDCH channel with PDCHOptions struct in the BTS</pre>
<pre>IN  :  Hash containing the following key(s):
              ChAct       -
              AbisMode    -
              DLEncoding  -
              ULEncoding  -
              ICP         -
              CI          -
              PTA         -
              PAL         -
              PDCHOptionsStruct       -
OUT :  None</pre>
<a name='ChActBTS_PDCH_PTCCH'></a><h2>ChActBTS_PDCH_PTCCH</h2>

<pre> ChActBTS_PDCH_PTCCH();

</pre>
<pre>SUBROUTINE  : ChActBTS_PDCH_PTCCH
DESCRIPTION : To activate a PDCH channel in the BTS with PTCCH ON\OFF</pre>
<pre>IN  :  Hash containing the following key(s):
              ChAct       -
              AbisMode    -
              DLEncoding  -
              ULEncoding  -
              ICP         -
              CI          -
              PTA         -
              PAL         -
              PDCHOptionsStruct       -
OUT :  None</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>SUBROUTINE  : ChActMSSIM
DESCRIPTION : To activate a channel in the MSSIM</pre>
<pre>IN  : Hash containing the following key(s):
              AMRCodec    -   AMR Codec
              ChRate      -   Channel rate
              TG          -   TG number
              TRXC        -   TRXC
              TS          -   Timeslot number
              ChType      -   Channel Type
              ActType     -   Activation type
              TypeOfCh    -   Type of Channel
              AlgOrRate   -   GSM algorithm or Rate
              ChAct       -   Channel Activation type
              AlgId       -   Algorithm ID
              Bypass      -   Bypass flag
              Ref         -   Ref
              AllSacchSI  -   Indicator if all SACCH messages should be recieved
                              or just changes
              MsId        -   MSSSim ID
              Timeout     -   Timeout
OUT : CcId</pre>
<a name='ChActPacketMSSIM'></a><h2>ChActPacketMSSIM</h2>

<pre> ChActPacketMSSIM();

</pre>
<pre>SUBROUTINE  : ChActPacketMSSIM
DESCRIPTION : To activate a PDCH channel in the MSSIM with PTCCH ON\OFF
IN  :   %Param hash, see main program for description
OUT :   CcId</pre>
<a name='ChActPacketMSSIM_PTCCH'></a><h2>ChActPacketMSSIM_PTCCH</h2>

<pre> ChActPacketMSSIM_PTCCH();

</pre>
<pre>SUBROUTINE  : ChActPacketMSSIM_PTCCH
DESCRIPTION : To activate a PDCH channel in the MSSIM</pre>
<pre>IN  :     %Param hash, see main program for description
OUT :     CcId</pre>
<a name='ChCleanBTS'></a><h2>ChCleanBTS</h2>

<pre> ChCleanBTS();

</pre>
<pre>SUBROUTINE  : ChCleanBTS
DESCRIPTION : To release all radio traffic channels or control channels in the BTS
             without asserting the responses</pre>
<pre>IN  :  BTS   =&gt; $BTS,
            TG    =&gt; $TG,
            TRXC  =&gt; $TRXC
            EP1_BEH   - EP1 Behaviour
OUT :  None</pre>
<a name='ChRelBTS'></a><h2>ChRelBTS</h2>

<pre> ChRelBTS();

</pre>
<pre>SUBROUTINE  : ChRelBTS
DESCRIPTION : To release a channel in the BTS</pre>
<pre>IN  : Hash containing the following key(s):
              ChType    - Channel type
              TG        - TG number
              TRXC      - TRXC
              TS        - Timeslot number
              EP1_BEH   - EP1 Behaviour
OUT :  None</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>Subroutine: ChRelMSSIM
Purpose:    To release a channel in the MSSIM
Input:      Hash containing the following key(s):
              CcId    - CC id
              Timeout - Timeout value
Output:     None</pre>
<a name='ChangeTG'></a><h2>ChangeTG</h2>

<pre> ChangeTG();

</pre>
<pre>SUBROUTINE  : ChangeTG
DESCRIPTION : Alters the TG and cell parameters of the input hash in
              accordance to the desired abis mode (TDM or SC), channel rate
              and extended range. Output can be used with ResetTG.</pre>
<pre>IN  :     Reference to hash containing:
            Cell, TG, MCTR
          Desired abis mode
          Channel mode (array)
          Extended range, 'On' or 'Off'
OUT :     Altered hash</pre>
<a name='CheckCauseValue'></a><h2>CheckCauseValue</h2>

<pre> CheckCauseValue();

</pre>
<pre>SUBROUTINE  : CheckCauseValue
DESCRIPTION : Compares the causevalue in response if a required value</pre>
<pre>IN  :  $RespCauseValue          Response from eg. "ChannelActivation..."
OUT :  0 if recieved value compares to required value
       1 if recieved value does not compares to required value</pre>
<a name='CheckFillBitsInMessage'></a><h2>CheckFillBitsInMessage</h2>

<pre> CheckFillBitsInMessage();

</pre>
<pre>SUBROUTINE  : CheckFillBitsInMessage
DESCRIPTION : To Decode The Wireshark(.lsu) log file</pre>
<pre>IN  :  Decoded hex string from LSU log, Fillbits (random/fixed),
            Channel type (SDCCH/FACCH)
OUT :</pre>
<a name='CheckIfMeasReportInMeasResult'></a><h2>CheckIfMeasReportInMeasResult</h2>

<pre> CheckIfMeasReportInMeasResult();

</pre>
<pre>SUBROUTINE  : CheckIfMeasReportInMeasResult
DESCRIPTION : Checks that if Measurement Report is sent from MS to BTS</pre>
<pre>IN  :  Hash containing the following key(s):
       State true/false (1/0)
       MessageTimeout - Timeout value
OUT :  None</pre>
<a name='CheckIfMeasResultOnABIS'></a><h2>CheckIfMeasResultOnABIS</h2>

<pre> CheckIfMeasResultOnABIS();

</pre>
<pre>SUBROUTINE  : CheckIfMeasReportInMeasResult
DESCRIPTION : Checks that if Measurement Report is sent from MS to BTS</pre>
<pre>IN  :  Hash containing the following key(s):
       State true/false (1/0)
       MessageTimeout - Timeout value
OUT :  None</pre>
<a name='CheckIfPayloadDataInMSSIM'></a><h2>CheckIfPayloadDataInMSSIM</h2>

<pre> CheckIfPayloadDataInMSSIM();

</pre>
<pre>SUBROUTINE  : CheckIfPayloadDataInMSSIM
DESCRIPTION : Checks if Packed Data arrives to MSSIM or not</pre>
<pre>IN  :  Hash containing the following key(s):
       True  - State true/false (1/0)
       MessageTimeout - Timeout value
       Expect - Reference to expected data array
OUT :  None</pre>
<a name='CheckIfSysInfoMessages'></a><h2>CheckIfSysInfoMessages</h2>

<pre> CheckIfSysInfoMessages();

</pre>
<pre>SUBROUTINE  : CheckIfSysInfoMessage
DESCRIPTION : Checks if Sys Info messages arrives or not</pre>
<pre>IN  :  Hash containing the following key(s):
       True  - State true/false (1/0)
       MessageTimeout - Timeout value
       SysInfoArray - Reference to expected data array
OUT :  None</pre>
<a name='CheckL3Data'></a><h2>CheckL3Data</h2>

<pre> CheckL3Data();

</pre>
<pre>SUBROUTINE  : CheckL3Data
DESCRIPTION : To check that two arrays are equal</pre>
<pre>IN  :  %Arrays hash
        Expected array
        Received array
OUT :  0=Equal, 1=Unequal</pre>
<a name='CheckSysInfoSACCH'></a><h2>CheckSysInfoSACCH</h2>

<pre> CheckSysInfoSACCH();

</pre>
<pre>return 0;
}
SUBROUTINE  : CheckSysInfoSACCH                             FRLI: &Auml;ndra beskrivningen, ta bort o&ouml;nskade in-parametrar och oanv&auml;nda variabler i funktionen
DESCRIPTION : Checking if traffic is on the SACCH channel
IN  :   NumOfMess - Number of messages to check
        MaxToSearch - Maximum number of messages to search
OUT :   0- No traffic
        1 - Traffic exists</pre>
<a name='CheckUMTraffic'></a><h2>CheckUMTraffic</h2>

<pre> CheckUMTraffic();

</pre>
<pre>SUBROUTINE  : CheckUMTraffic
DESCRIPTION : Logs briefly over Um to to verify that traffic is occuring</pre>
<pre>IN  :
OUT :</pre>
<a name='ClearMSSIMBuffer'></a><h2>ClearMSSIMBuffer</h2>

<pre> ClearMSSIMBuffer();

</pre>
<pre>SUBROUTINE  : ClearMSSIMBuffer
DESCRIPTION : Clear MSSIM Buffer
IN  :   None
OUT :   None</pre>
<a name='ClearMSSIMbuffer'></a><h2>ClearMSSIMbuffer</h2>

<pre> ClearMSSIMbuffer();

</pre>
<pre>SUBROUTINE  : ClearMSSIMbuffer
DESCRIPTION : Clears the MSSIM message buffer</pre>
<pre>IN  :     None
OUT :     Number of cleared messages</pre>
<a name='ConfigMORX'></a><h2>ConfigMORX</h2>

<pre> ConfigMORX();

</pre>
<pre>SUBROUTINE  : ConfigMORX / taken from sub_divsuper.pm
DESCRIPTION : To send a RX_CONFIGURATION_REQUEST and read the received
              frames on abis instead from abisco.</pre>
<pre>IN  :     TG, TRXC, MO, RecDiv
OUT :     %return (Hash reference), Message.</pre>
<a name='ConnectTG'></a><h2>ConnectTG</h2>

<pre> ConnectTG();

</pre>
<pre>SUBROUTINE  : ConnectTG
DESCRIPTION : Connect TG
IN  :  BTS (Abisco connection parameter)
OUT :  None</pre>
<a name='ConvertMSSIMstatistics'></a><h2>ConvertMSSIMstatistics</h2>

<pre> ConvertMSSIMstatistics();

</pre>
<pre>SUBROUTINE  : ConvertMSSIMstatistics
DESCRIPTION : To convert statistics into easier read hash
IN  :    Results from StopPRBS()
OUT :    Statistics hash</pre>
<a name='CreateMS'></a><h2>CreateMS</h2>

<pre> CreateMS();

</pre>
<pre>SUBROUTINE  : CreateMS
DESCRIPTION : Create an MS on MSSIM</pre>
<pre>IN  : Hash containing the following key(s):
              $MsId  - MSSIM ID
OUT : -</pre>
<a name='CreateParamHashSpeech'></a><h2>CreateParamHashSpeech</h2>

<pre> CreateParamHashSpeech();

</pre>
<pre>SUBROUTINE  : CreateParamHashSpeech
DESCRIPTION : To create parameter hash to be sent to subroutine SendSpeech
              in module speechfunc.pm.
              See speechfunc.pm for parameter layout
IN  :    Speech Type
OUT :    Parameter hash</pre>
<a name='CreateSpeechPatternFile'></a><h2>CreateSpeechPatternFile</h2>

<pre> CreateSpeechPatternFile();

</pre>
<pre>SUBROUTINE  : CreateSpeechPatternFile
DESCRIPTION : Create a MSSIM pattern file
IN  :    Hash containing the following key:
              SpeechFrames - Number of speech frames
              SilentFrames - Number of silent frames
              CMR_TAG      - CMR
              CMI_TAG      - CMI
              Rate         - Speech rate (FR / HR)
              SPConfigFile - Name of the generated cfg file
OUT :    Name of the created pattern file</pre>
<a name='DeactivateSpeech'></a><h2>DeactivateSpeech</h2>

<pre> DeactivateSpeech();

</pre>
<pre>SUBROUTINE  : DectivateSpeech
DESCRIPTION : Deactivate speech
IN  :   %Param
OUT :   None</pre>
<a name='DeallocateICP'></a><h2>DeallocateICP</h2>

<pre> DeallocateICP();

</pre>
<pre>SUBROUTINE  : DeallocateICP
DESCRIPTION : To allocate ICP and CI numbers
IN  :   TG
        TRXC
        TS
        ChType
        ICP
        CI
OUT :   None</pre>
<a name='DecodeWiresharkLog'></a><h2>DecodeWiresharkLog</h2>

<pre> DecodeWiresharkLog();

</pre>
<pre>SUBROUTINE  : DecodeWiresharkLog
DESCRIPTION : To Decode The Wireshark(.lsu) log file</pre>
<pre>IN  :  Hash containing the following key(s):
          OutFile - Save decoded Log File name
OUT :</pre>
<a name='DeleteMS'></a><h2>DeleteMS</h2>

<pre> DeleteMS();

</pre>
<pre>SUBROUTINE  : DeleteMS
DESCRIPTION : Delete existing MS on MSSIM</pre>
<pre>IN  : Hash containing the following key(s):
              $MsId  - MSSIM ID
OUT : -</pre>
<a name='DisconnectTG'></a><h2>DisconnectTG</h2>

<pre> DisconnectTG();

</pre>
<pre>SUBROUTINE  : DisconnectTG
DESCRIPTION : Disconnect TG
IN  :  BTS (Abisco connection parameter)
OUT :  None</pre>
<a name='DoTSConfigRequest'></a><h2>DoTSConfigRequest</h2>

<pre> DoTSConfigRequest();

</pre>
<pre>SUBROUTINE  : DoTSConfigRequest / taken from subs_atrasup.abi
DESCRIPTION : Do a TSConfigRequest to set TLS settings, Receiver Diversity etc
            Note: Only Comb TCH implemented
            Changing TLS filtering time does not work
            Notes :JitterSize and PackingAlgorithm only enable for SC (updated by LF -24 May 2011)
IN  :       1)TN
            2)RecDiv
            3)ERI
            4)TLSA
            5)TLSI
            6)TLSFilteringTime
            7)MOClass
OUT :       None</pre>
<a name='EmptyBufferMSSIM'></a><h2>EmptyBufferMSSIM</h2>

<pre> EmptyBufferMSSIM();

</pre>
<pre>SUBROUTINE  : EmptyBufferMSSIM
DESCRIPTION : To empty the receive buffer of the MMSIM
IN  :   $NumOfMsgs Number of messages to read.
OUT :   None</pre>
<a name='Encr'></a><h2>Encr</h2>

<pre> Encr();

</pre>
<pre>SUBROUTINE  : Encr
DESCRIPTION : To turn on encryption in MSSIM</pre>
<pre>IN  :  Hash containing the following key(s):
         CcId  - CcId
         AlgId - Algorithm Id
OUT :  None</pre>
<a name='EstablishRequestMSSIM'></a><h2>EstablishRequestMSSIM</h2>

<pre> EstablishRequestMSSIM();

</pre>
<pre>SUBROUTINE  : EstablishRequestMSSIM
DESCRIPTION : To send Establish Request to MSSIM and receive EstablishIndication
            from Abisco</pre>
<pre>IN  :  %Param hash, see main program for description
OUT :  None</pre>
<a name='FormatFileName'></a><h2>FormatFileName</h2>

<pre> FormatFileName();

</pre>
<pre>SUBROUTINE  : FormatFileName
DESCRIPTION : To create a file name based on TC and TCSUB</pre>
<pre>IN  :  Hash containing the following key(s):
              TC_name    - Test case name
              TC         - Test case number
              SUBTC      - Sub TC number
              FileFormat - File format (file ending)
OUT :  filename</pre>
<a name='GetAbisModeAndConfig'></a><h2>GetAbisModeAndConfig</h2>

<pre> GetAbisModeAndConfig();

</pre>
<pre>SUBROUTINE  : GetAbisModeAndConfig
DESCRIPTION : Gets the Abis Mode and Config type (Dynamic/Static)</pre>
<pre>IN  : None
OUT : $AbisMode
      $Config</pre>
<a name='GetActiveCell'></a><h2>GetActiveCell</h2>

<pre> GetActiveCell();

</pre>
<pre>SUBROUTINE  : GetActiveCell
DESCRIPTION :</pre>
<pre>Syntax   : GetActiveCell();</pre>
<a name='GetChan'></a><h2>GetChan</h2>

<pre> GetChan();

</pre>
<pre>SUBROUTINE  : GetChan
DESCRIPTION : To get channel and LinkId lapdm commands</pre>
<pre>IN  :  None
OUT :  Channel
       Linkid</pre>
<a name='GetChannelInfoHash'></a><h2>GetChannelInfoHash</h2>

<pre> GetChannelInfoHash();

</pre>
<pre>SUBROUTINE  : GetChannelInfoHash
DESCRIPTION : To create hash with all channels wanted to be tested.
IN  :    Existing channel and resulting channel type and Rate
OUT :    Parameter hash</pre>
<a name='GetMSSIMTRXValues'></a><h2>GetMSSIMTRXValues</h2>

<pre> GetMSSIMTRXValues();

</pre>
<pre>SUBROUTINE  : GetMSSIMTRXValues
DESCRIPTION : Get TRX values from MSSIM (gsmbSrvTRX_INFO_CMD)
IN  :    Cell =&gt; ,
            TRXC =&gt; ,
            Timeout =&gt;
OUT :    %lResp hash</pre>
<a name='GetRoundTripDelayAbis'></a><h2>GetRoundTripDelayAbis</h2>

<pre> GetRoundTripDelayAbis();

</pre>
<pre>SUBROUTINE  : GetRoundTripDelayAbis
DESCRIPTION : Get the round trip time from PGSL-DLDATA-REQ to PGSL-DLDATA-IND
              on Abis</pre>
<pre>IN  :     Interface - Wireshark lsu config file
          Savefile  - Tempfile to store Abis lsu log in
          Duration  - Time to log data before calculating RTT
OUT :     RTTMin  - RTT min
          RTTMax  - RTT max
          RTTAvg  - RTT average</pre>
<a name='GetSapiAndChan'></a><h2>GetSapiAndChan</h2>

<pre> GetSapiAndChan();

</pre>
<pre>SUBROUTINE  : GetSapiAndChan
DESCRIPTION : To get Sapi, channel and LinkId lapdm commands</pre>
<pre>IN  :  Param hash containing the key :
            Action
OUT :  Sapi
            Channel
            Linkid</pre>
<a name='GetSysInfoType'></a><h2>GetSysInfoType</h2>

<pre> GetSysInfoType();

</pre>
<pre>SUBROUTINE  : GetSysInfoType
DESCRIPTION : Gets the System Info Type</pre>
<pre>IN  :  Hash containing the following key(s):
       TypeNum  - System info type number
OUT :  Sys Info Type</pre>
<a name='GetTRXValues_Parser'></a><h2>GetTRXValues_Parser</h2>

<pre> GetTRXValues_Parser();

</pre>
<pre>SUBROUTINE  : GetTRXValues_Parser
DESCRIPTION : Extracts all information from MSSIM response and
              parses it into a responsehash
IN  :    LSU response (Raw format)
OUT :    ResponseHash</pre>
<a name='GetTSCparameters'></a><h2>GetTSCparameters</h2>

<pre> GetTSCparameters();

</pre>
<pre>SUBROUTINE  : GetTSCparameters
DESCRIPTION : To get the appropriate TSC_SET and TSC depending
              of wanted ChType when using VAMOS
              TSC on MSSIM is a combination of TSC_SET and TSC</pre>
<pre>IN  :  ChType
            Valid parameters: Bm
                              Bm_1
                              Lm/0
                              Lm/1
                              Lm/0_1
                              Lm/1_1
OUT :  Hash containing TSC_SET
                            TSC
                            MixingOrder
                            MSCapability
                            MSSIM_TSC
                            SubTs</pre>
<a name='HandoverAccessMSSIM'></a><h2>HandoverAccessMSSIM</h2>

<pre> HandoverAccessMSSIM();

</pre>
<pre>SUBROUTINE  : HandoverAccessMSSIM
DESCRIPTION : To send Handover Access to MSSIM and receive HandoverDetection
              from Abisco</pre>
<pre>IN  :  ChType
OUT :  None</pre>
<a name='LAPDmReceive'></a><h2>LAPDmReceive</h2>

<pre> LAPDmReceive();

</pre>
<pre>SUBROUTINE  : LAPDmReceive
DESCRIPTION : To receive a LAPDm frame
IN  :   $Chan   (SDCCH, SACCH or FACCH)
OUT :   $Resp   (Response = "Timeout", "I", "RR", RNR", "REJ", "SABM", "DM", "UI", "DISC" or "UA"
        N(R)    (Receive Sequence Number)
        N(S)    (Send Sequence Number)
        P/F     (Poll/Final bit)
        LPD     (Link Protocol discriminator)
        api     (Service Access Point)
        C/R     (Command/Response)
        EA      (Address Extension Bit)
        L       (Length of Information field)
        M       (More bit)
        EL      (Length Extension bit)
        {Fn}    (Frame Number)
        Data    (Information Field)</pre>
<a name='MSSIMTransferFile'></a><h2>MSSIMTransferFile</h2>

<pre> MSSIMTransferFile();

</pre>
<pre>SUBROUTINE  : MSSIMTransferFile
DESCRIPTION : Transfer the config file to the MSSMIM
IN  :    User
            Password
            LocalFilename
            RemoteFilename
OUT :    0 - OK
         1 - Error</pre>
<a name='MeasurementReporting'></a><h2>MeasurementReporting</h2>

<pre> MeasurementReporting();

</pre>
<pre>SUBROUTINE  : MeasurementReporting
DESCRIPTION : Turns on Measurement Reporting</pre>
<pre>IN  :  Hash containing the following key(s):
              State true/false (1/0)
OUT :  None</pre>
<a name='PrepareChActData'></a><h2>PrepareChActData</h2>

<pre> PrepareChActData();

</pre>
<pre>SUBROUTINE  : PrepareChActData
DESCRIPTION : This routine assembles data for errenous ModeModify-commands with Bitstream
IN  :    TranspInd =&gt; 1, 0=Transparent and 1=Non-Transparent service
            AlgRate =&gt; 'T2.4kbits/s'
OUT :    0=OK 1=Error
            @Data, (Array containing prepared ModeModify-replica data)</pre>
<a name='PrintDebug'></a><h2>PrintDebug</h2>

<pre> PrintDebug();

</pre>
<pre>SUBROUTINE  : PrintDebug
DESCRIPTION : Prints Debug printouts if global variable Debug is set to 1</pre>
<pre>IN  :  DebugMsg =&gt; "Debug msg\n"
OUT :  None</pre>
<a name='RFChannelRelease'></a><h2>RFChannelRelease</h2>

<pre> RFChannelRelease();

</pre>
<pre>SUBROUTINE  : RFChannelRelease
DESCRIPTION : Release a channel in the BTS, without asserting ACK
IN  :   Hash containing the following key(s):
              ChType    - Channel type
              TG        - TG number
              TRXC      - TRXC
              TS        - Timeout number
              EP1_BEH   - EP1 Behaviour
OUT :   None</pre>
<a name='RadioChRel'></a><h2>RadioChRel</h2>

<pre> RadioChRel();

</pre>
<pre>SUBROUTINE  : RadioChRel
DESCRIPTION : BSC commands TRS to release all dedicated resources within the TRX.
IN  :  BTS
       TG
       TRXC
OUT :</pre>
<a name='RadioChReleaseCommand'></a><h2>RadioChReleaseCommand</h2>

<pre> RadioChReleaseCommand();

</pre>
<pre>Subroutine: RadioChReleaseCommand
Purpose:    To release a channel in the BTS
Input:      TG
            TRXC
Output:     none</pre>
<a name='ReceiveAbisco'></a><h2>ReceiveAbisco</h2>

<pre> ReceiveAbisco();

</pre>
<pre>SUBROUTINE  : ReceiveAbisco
DESCRIPTION : To receive a spontaneous message from Abisco</pre>
<pre>IN  :   Timeout value
        Expected Message
        L3Data of expected message
OUT :  None</pre>
<a name='ReceiveAbiscoData'></a><h2>ReceiveAbiscoData</h2>

<pre> ReceiveAbiscoData();

</pre>
<pre>SUBROUTINE  : ReceiveAbiscoData
DESCRIPTION : To receive a spontaneous message from Abisco</pre>
<pre>IN  :   $BTS (Abisco connection parameter)
         Timeout value
         Expected message
         Supress, "SupressError" if HandleError should not be called
         L3Data of expected message
OUT :  CauseValue</pre>
<a name='ReceiveMSSIM'></a><h2>ReceiveMSSIM</h2>

<pre> ReceiveMSSIM();

</pre>
<pre>SUBROUTINE  : ReceiveMSSIM
DESCRIPTION : To receive a spontaneous message from MSSIM</pre>
<pre>IN  :  Timeout - Timeout value
       ExpMsg - Expected Message
       Type - Expected Type
       Expect - Reference to L3Data of expected message
OUT :  $Msg</pre>
<a name='ReceiveMeasurmentResultNormal'></a><h2>ReceiveMeasurmentResultNormal</h2>

<pre> ReceiveMeasurmentResultNormal();

</pre>
<pre>SUBROUTINE  : ReceiveMeasurmentResultNormal
DESCRIPTION : Receives Measurment Result and checks that L1InfoStruct is defined,
IN  :  Timeout value
        Expected message
        Supress, "SupressError" if HandleError should not be called
OUT :  Response</pre>
<a name='ReceiveSpontMSSIM'></a><h2>ReceiveSpontMSSIM</h2>

<pre> ReceiveSpontMSSIM();

</pre>
<pre>SUBROUTINE  : ReceiveSpontMSSIM
DESCRIPTION : To receive a spontaneous message from MSSIM</pre>
<pre>IN  :  Timeout value
       Expected Message
       Expected Type
       L3Data of expected message
OUT :  $Msg</pre>
<a name='ReleaseRequestMSSIM'></a><h2>ReleaseRequestMSSIM</h2>

<pre> ReleaseRequestMSSIM();

</pre>
<pre>SUBROUTINE  : ReleaseRequestMSSIM
DESCRIPTION : To send Release Request to MSSIM and receive ReleaseIndication
            from Abisco</pre>
<pre>IN  :  %Param hash, see main program for description
OUT :  None</pre>
<a name='ResetTG'></a><h2>ResetTG</h2>

<pre> ResetTG();

</pre>
<pre>SUBROUTINE  : ResetTG
DESCRIPTION : Resets the TG to the one stored in Stored TG
IN  :    Cell, TG, MCTR
OUT :    Will die if errors found</pre>
<a name='RestartBTS'></a><h2>RestartBTS</h2>

<pre> RestartBTS();

</pre>
<pre>SUBROUTINE  : RestartBTS
DESCRIPTION : Restarting the BTS, make sure that the parameters set during restart
             complies with your specific TC
IN  :  BTS (Abisco connection parameter)
OUT :  None</pre>
<a name='RoundFloat'></a><h2>RoundFloat</h2>

<pre> RoundFloat();

</pre>
<pre>SUBROUTINE  : RoundFloat
DESCRIPTION : Rounds the first argument to (the second argument) number of decimal places.
IN  :    Float     (Value to round)
         Decimals  (Number of decimal digits, &gt;= 0)
OUT :    Rounded float</pre>
<a name='SendBitstream'></a><h2>SendBitstream</h2>

<pre> SendBitstream();

</pre>
<pre>SUBROUTINE  : SendBitstream
DESCRIPTION :  To send an message over Bitstream and to get a specified response
IN  :    SendData =&gt; @Data, Whole set of data to
OUT :    0=OK 1=Error</pre>
<a name='SendData'></a><h2>SendData</h2>

<pre> SendData();

</pre>
<pre>SUBROUTINE  : SendData
DESCRIPTION : To send DataReq to Abisco and receive Data Indication from MSSIM.
              To send Data Indication to MSSIM and receive DataInd from Abisco.</pre>
<pre>IN  :  %Param hash, see main program for description
OUT :  None</pre>
<a name='SetAbisMode'></a><h2>SetAbisMode</h2>

<pre> SetAbisMode();

</pre>
<pre>SUBROUTINE  : SetAbisMode
DESCRIPTION : Set the Abis and TCH mode</pre>
<pre>IN  :     AbisMode      - Abis mode: TDM, SC
          TLSA          - TLSA: ON, FF
          ForceRestart  - Force a restart even id TCH and Abis mode is as
                          expected
OUT :     None</pre>
<a name='SetAttrMSSIM'></a><h2>SetAttrMSSIM</h2>

<pre> SetAttrMSSIM();

</pre>
<pre>Subroutine: SetAttrMSSIM
Purpose:
Input:
Output:</pre>
<a name='SetMeasurementReporting'></a><h2>SetMeasurementReporting</h2>

<pre> SetMeasurementReporting();

</pre>
<pre>SUBROUTINE  : SetMeasurementReporting
DESCRIPTION : Set Measurement Reporting</pre>
<pre>IN  : Hash containing the following key(s):
              TG                   - TG number
              TRXC                 - TRXC
              TS                   - Timeslot
              ChType               - Channel Type
              MeasurementReporting - 'On' / 'Off'
OUT : None</pre>
<a name='SetTG'></a><h2>SetTG</h2>

<pre> SetTG();

</pre>
<pre>SUBROUTINE  : SetTG
DESCRIPTION : To set TCM configuration, updates, disconnects and reconnects.
IN  :   TCH_Configuration
OUT :   None</pre>
<a name='SetTG_TCHConfig'></a><h2>SetTG_TCHConfig</h2>

<pre> SetTG_TCHConfig();

</pre>
<pre>SUBROUTINE  : SetTG_TCHConfig
DESCRIPTION : To set TCM configuration to Dynamic 8kbps
IN  :  Parameter hash containing the following keys:
              BTS
              TG
              TCH_Config
OUT :  None</pre>
<a name='StartLoopMSSIM'></a><h2>StartLoopMSSIM</h2>

<pre> StartLoopMSSIM();

</pre>
<pre>SUBROUTINE  : StartLoopMSSIM
DESCRIPTION : To start the loop function in MSSIM</pre>
<pre>IN  :     Timeout
          $CcId        (MSSIM downlink channel id)
          $LoopCcId    (MSSIM uplink channel id)
OUT :     0=OK</pre>
<a name='StopLoopMSSIM'></a><h2>StopLoopMSSIM</h2>

<pre> StopLoopMSSIM();

</pre>
<pre>SUBROUTINE  : StopLoopMSSIM
DESCRIPTION : To stop the loop function in MSSIM</pre>
<pre>IN  :     CcId    (MSSIM downlink channel id)
          Timeout
OUT :     Status    (0=Ok, 1=Error)</pre>
<a name='StoreTG'></a><h2>StoreTG</h2>

<pre> StoreTG();

</pre>
<pre>SUBROUTINE  : StoreTG
DESCRIPTION : Store TG parameters. This subroutin shall be followed by ResetTG
IN  :    {Cell}, {TG}, {MCTR};
OUT :</pre>
<a name='TimeSlotConfigure'></a><h2>TimeSlotConfigure</h2>

<pre> TimeSlotConfigure();

</pre>
<pre>SUBROUTINE  : TimeSlotConfigure
DESCRIPTION : A general TSConfigure request.
              This function should be put in FRAMEWORK in future releases of Abisco.
              New input parameters may be added if needed.
IN  :    TG, TRXC, MOClass, InstanceNo, CMB, TimeSlotNo, S_CT, CT
OUT :    None</pre>
<a name='TurnOnTetherealLogging'></a><h2>TurnOnTetherealLogging</h2>

<pre> TurnOnTetherealLogging();

</pre>
<pre>SUBROUTINE  : TurnOnTetherealLogging
DESCRIPTION : To set a path in config.ini file</pre>
<pre>IN  :  Parameter hash containing the following keys:
            Interface - LSU Configuration file,
            Savefile  - LSU log file,
            Duration  - Time out
OUT :</pre>
<a name='bin2dec'></a><h2>bin2dec</h2>

<pre> bin2dec();

</pre>
<pre>SUBROUTINE  : bin2dec
DESCRIPTION : binary to decimal convertion</pre>
<pre>IN  :  binary
OUT :  decimal</pre>
<a name='bin2hex'></a><h2>bin2hex</h2>

<pre> bin2hex();

</pre>
<pre>SUBROUTINE  : bin2hex
DESCRIPTION : binary to decimal convertion</pre>
<pre>IN  :  binary
OUT :  hexadecimal</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_ccch</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number : 164/190 55-CAH 161 1607/1
MODULE          : Subs_ccch
DESCRIPTION     : Contains subroutines that will be used in CCCH tests,
                  such as Mobile Call Setup.</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME            REVIEW      COMMENT
A   20101019  Syntronic AB/   XWIKMAR     File created. Approved UABTOH.
              David Melin
B   20110302  Syntronic AB/   XGUSTPE     Added behaviour to PagingCommand2
              Tobias Semberg
C   20111116  XPRRANA         XTOBSEM     Changed UpdateCCCHList
                                           Added ImmAssignInfoP2TwoMsg, SetupAndStartTsharkLoggingOnAbis
                                           Added:    ImmediateAssignRejectP2BTS,
                                           Updated:  ImmAssignRejectP2, ImmAssignExtP2
                                           Bugfixed ImmediateAssingInfoP2BTS and ran perlcritic on file,
                                            warnings added, unused subs removed
                                           Added SC compatibility for SetupAndStartTsharkLoggingOnAbis
                                           Updated UpdateCCCHList to support SC
                                           Added ImmediateAssingInfoP1, GetLoopHandle
                                           Updated InitiateTsharkLogging to allow userdefined parameters
                                           Added: ProcessTsharkLogfileAndLookForSpecifiedValues
                                           Updated GetLoopHandle, PagingBTS to handle TMSI as input and Ran perlcritic on file.
                                           Added check for message length in ProcessTsharkLogfileAndLookForSpecifiedValues and
                                            ProcessTsharkLogfileAndCheckMessageType2Values
D    20120229 XLEIMAR         EERICSV     Updated according to perlcritic and removed unnecessary imports.
                                           Edited ImmAssignExtP2 to receive more optional inputs
                                           Added DisableMO and EnableMO from previous revision
                                           Removed PrettyPrint from ProcessTsharkLogfileAndLookForSpecifiedValues
                                            and added function ReceiveAbiscoData
                                           Added DecodeIMSI and updated UpdateCCCHList to only
                                            do a complete start if strictly necessary.
E    20120820 XNAVNAS         XSOFFRO     Removed unneccessary functions, implemented lock_keys
                                           Solved TR HP14554 (removed keys from Resp2 hash in UpdateCCCHList)
                                           Updated UpdateCCCHList to make it more dynamic (MCTR instances etc.)
                                           Added function GetBCCHTrx.
                                           Updated ImmAssignInfoP2 to accept more input, and UpdateCCCHList
                                            to handle case of only 1 MCTR 0 instance.
PF1  20130516	XHENRMA		      XAMMELY     Updated TRXReportCtrl to be able to specify TRXC
                                            Copied ResetTG() and StoreTG() from subs_Broadcast
PF2  20130624 XPATHIL         XAMMELY     Added SetIASOnOff for Immediate Assignment Sent message control.
                                           Updated TRXReportCtrl to accept more input and return Asserted %Resp,
                                           ImmAssignInfoP2 updated accepting more input, accepting MobileIdentifier for IAD2 use.
PF3 20130731 EKHOELH          XPATHIL     Added restartBTS subroutine.
PF4 20120725 XDANHEN          XYNSTAN     Added RachTabActReq for HP86019 and HP86022
PF5 20130909 EKHOELH          XSALNIC     Added FindOctetsInLogFrame to support the new IP login.
PF6 20130913 XAMMELY          EKHOELH     Added RachTabActReqMSSIM.
PF7 20131023 XHENRMA          XAMMELY     Added ChangeMssimCellPower() due to HR83440
PF8 20131023 XHENRMA          XAMMELY     Re-wrote ChangeMssimCellPower do be more dynamic (and not require inputted directories)
                                            Added RRC-flag to DisableConfigEnableBTS.
PF9 20131023 XHENRMA          XAMMELY     Modified ChangeMssimCellPower to require less input
PF10 20131216 XHENRMA          XPATHIL     Changed 'RRC'-flag to 'RABI' in DisableConfigEnableBTS due to IWD updates</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Storable'>Storable</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?lsuConfig'>lsuConfig</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?wireshark'>wireshark</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?SubInit_ccch'>SubInit_ccch</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='AbisLoggingBTS'></a><h2>AbisLoggingBTS</h2>

<pre> AbisLoggingBTS();

</pre>
<pre>Subroutine: AbisLoggingBTS
Purpose:    Turn Abis logging off or on
Input:      State =&gt; 'OFF',
            TG    =&gt;  $TG,
            BTS    =&gt;  $BTS,
Output:</pre>
<a name='CalculateIMSIForAGivenPagingGroup'></a><h2>CalculateIMSIForAGivenPagingGroup</h2>

<pre> CalculateIMSIForAGivenPagingGroup();

</pre>
<pre>SUBROUTINE  : CalculateIMSIForAGivenPagingGroup
DESCRIPTION : Calculates a IMSI that will belong to a certain paging group,
              once the returned IMSI is sent in a TRAFFRN.Paging call.
              The IMSI will be stepped until a matching paging group has been found.</pre>
<pre>IN  :     BaseIMSI =&gt; [7, 5, 7, 0, 0, 8, 2] (array, 7 elements) : The last IMSI to use, BCD encoded. (The returned IMSI will be different from this one.)
          BCCHType            =&gt; 'COMB'                         : 'NCOMB' or 'COMB' only.
          BS_AG_BLKS_RES      =&gt; 0                              : 0-1
          BS_PA_MFRMS         =&gt; 2                              : 2-9
          PagingGroup         =&gt; 0                              : 0-80 (although the maximum possible is 27, given the paging group formula.)
OUT :     NewIMSI     =&gt; @NewIMSI   &lt;Same format as BaseIMSI above&gt; : An IMSI that has the desired paging group (but only if Result == 0).
          Wrapped     =&gt; 1 (if IMSI wrapped to ((0)x7)) or 0 (no wrapping)
          ResultCode  =&gt; 0 (if successfully calculated new IMSI) or 1 (if no IMSI could be calculated with the desired paging group)
          Counter     =&gt; The distance between the original (input) and the new (output) IMSI values</pre>
<a name='CalculateIMSIForAGivenPagingGroup_Helper_StepUp'></a><h2>CalculateIMSIForAGivenPagingGroup_Helper_StepUp</h2>

<pre> CalculateIMSIForAGivenPagingGroup_Helper_StepUp();

</pre>
<pre>SUBROUTINE  : CalculateIMSIForAGivenPagingGroup_Helper_StepUp
DESCRIPTION : Helper function for CalculateIMSIForAGivenPagingGroup.
              Steps the IMSI by one.</pre>
<pre>IN  :     BaseIMSI =&gt; [0, 0, 0, 0, 0, 0, 0] (array, 7 elements)
OUT :     NewIMSI =&gt; @NewIMSI   &lt;Same format as BaseIMSI above&gt;
          Wrapped =&gt; 1 (if IMSI wrapped to ((0)x7)) or 0 (no wrapping)</pre>
<a name='CalculateTMSIForAGivenPagingGroup'></a><h2>CalculateTMSIForAGivenPagingGroup</h2>

<pre> CalculateTMSIForAGivenPagingGroup();

</pre>
<pre>SUBROUTINE  : CalculateTMSIForAGivenPagingGroup
DESCRIPTION : Calls CalculateIMSIForAGivenPagingGroup() after a suitable
              reformatting of the TMSI/IMSI vector. No range checking or overflow checking.</pre>
<pre>IN  :     BaseTMSI =&gt; [0x00, 0x00, 0x00, 0x01] (array, 7 elements) : The last TMSI to use, not BCD encoded.
          BCCHType, BS_AG_BLKS_RES, BS_PA_MFRMS, PagingGroup       : Same as for CalculateIMSIForAGivenPagingGroup().
OUT :     NewTMSI =&gt; @NewTMSI  &lt;Same format as BaseTMSI above&gt;
          Wrapped, ResultCode, Counter                             : Same as for CalculateIMSIForAGivenPagingGroup().</pre>
<a name='CcchDataIndMSSIM'></a><h2>CcchDataIndMSSIM</h2>

<pre> CcchDataIndMSSIM();

</pre>
<pre>SUBROUTINE  : CcchDataIndMSSIM
DESCRIPTION : Indicates the reception of data on the CCCH</pre>
<pre>Syntax: CcchDataIndMSSIM (Cell        =&gt; $Cell,
                          TS          =&gt; $TS,
                          Fn          =&gt; $Fn,
                          MsId        =&gt; $MsId,
                          MsId2       =&gt; $MsId2,
                          Data        =&gt; $Data
                          [ReturnHash =&gt; 'Anything']);
        ReturnHash is optional, and causes this function to return the
        mssimGet() response.</pre>
<a name='CcchDataReqMSSIM'></a><h2>CcchDataReqMSSIM</h2>

<pre> CcchDataReqMSSIM();

</pre>
<pre>SUBROUTINE  : CcchDataReqMSSIM
DESCRIPTION : Perform a channel request from MSSIM on RACH</pre>
<pre>Syntax: CcchDataReqMSSIM(Cell  =&gt; $Cell,
                         AbBlk =&gt; $AbBlk,
                         TrSeq =&gt; $TrSeq,
                         Rep   =&gt; $Rep,
                         TS    =&gt; $TS,
                         MsId  =&gt; $MsId,
                         Data  =&gt; $Data);</pre>
<a name='ChangeMssimCellPower'></a><h2>ChangeMssimCellPower</h2>

<pre> ChangeMssimCellPower();

</pre>
<pre>SUBROUTINE  : ChangeMssimCellPower
DESCRIPTION : To change the default power-level of a specified MSSIM-cell.</pre>
<pre>IN  :        host       =&gt;  Mssim hostname
             username   =&gt; username to mssim
             passwd     =&gt; password to mssim
             mssimcell  =&gt; mssim cell number
             mssimtrx   =&gt; number of trx:s in relevant mssim cell
             newpower   =&gt; the desired new powerlevel</pre>
<pre>OUT : Nothing.</pre>
<a name='CompareArrays'></a><h2>CompareArrays</h2>

<pre> CompareArrays();

</pre>
<pre>SUBROUTINE  : CompareArrays
DESCRIPTION : To compare two Arrays named Expect and Received</pre>
<pre>IN  : Two arrays
OUT : Returns 0 if data differs, else 1</pre>
<a name='DecodeIMSI'></a><h2>DecodeIMSI</h2>

<pre> DecodeIMSI();

</pre>
<pre>SUBROUTINE  : DecodeIMSI
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='DisableConfigEnableBTS'></a><h2>DisableConfigEnableBTS</h2>

<pre> DisableConfigEnableBTS();

</pre>
<pre>SUBROUTINE  : DisableConfigEnableBTS
DESCRIPTION : To change channel combination for selected TS</pre>
<pre>IN  :     %Input -&gt;BTS, TG, TRXC, MO, CMB, TS, BS_PA, BS_AG
OUT :     None</pre>
<a name='DisableMO'></a><h2>DisableMO</h2>

<pre> DisableMO();

</pre>
<pre>FUNCTION : DisableMO
COMMENT  :</pre>
<pre>Syntax   : DisableMO(MO =&gt; 'TS', INST =&gt; $TS[0]);</pre>
<a name='EmptyBufferMSSIM'></a><h2>EmptyBufferMSSIM</h2>

<pre> EmptyBufferMSSIM();

</pre>
<pre>SUBROUTINE  : EmptyBufferMSSIM
DESCRIPTION : To empty the receive buffer of the MMSIM.</pre>
<pre>IN  :     None
OUT :     None</pre>
<a name='EnableMO'></a><h2>EnableMO</h2>

<pre> EnableMO();

</pre>
<pre>FUNCTION : EnableMO
COMMENT  :</pre>
<pre>Syntax   : EnableMO(MO =&gt; 'TS', INST =&gt; $TS[0]);</pre>
<a name='FindOctetsInLogFrame'></a><h2>FindOctetsInLogFrame</h2>

<pre> FindOctetsInLogFrame();

</pre>
<pre>SUBROUTINE  : FindOctetsInLogFrame
DESCRIPTION : Finds pattern matches in log frames</pre>
<pre>IN  : %InputHash = (
        Expected      =&gt; undef,
        ExpectedPos   =&gt; undef,
        Optional      =&gt; undef,
        OptionalPos   =&gt; undef,
        Message       =&gt; undef,
                    );
OUT : %Hash with results</pre>
<a name='FormatTestcaseName'></a><h2>FormatTestcaseName</h2>

<pre> FormatTestcaseName();

</pre>
<pre>SUBROUTINE  : FormatTestcaseName
DESCRIPTION : Reformats the PAR hash test case name for printout purposes.
              If the input string is not on the format 'XX_YY', it is
              returned unchanged.
              (Copied from subs_broadcast.pm.)</pre>
<pre>IN  :     TestcaseName =&gt; 'xx_yy'
OUT :     'xx.yy'</pre>
<a name='GetActiveCell'></a><h2>GetActiveCell</h2>

<pre> GetActiveCell();

</pre>
<pre>SUBROUTINE  : GetActiveCell
DESCRIPTION :</pre>
<pre>Syntax   : GetActiveCell();</pre>
<a name='GetBCCHTrx'></a><h2>GetBCCHTrx</h2>

<pre> GetBCCHTrx();

</pre>
<pre>SUBROUTINE  : GetActiveCell
DESCRIPTION :</pre>
<pre>Syntax   : GetActiveCell();</pre>
<a name='ImmAssignExtP2'></a><h2>ImmAssignExtP2</h2>

<pre> ImmAssignExtP2();

</pre>
<pre>SUBROUTINE  : ImmAssignExtP2
DESCRIPTION :</pre>
<pre>IN  : $TG     -&gt; reference to TG data
      $Indata -&gt; reference to indata
      $Indata{QueueAndSendBatch} :
        If defined, uses the TXQUEUE functionality (but the calling function
        must use the DISPATCH.SendStoredMessages). If undef/not defined:
        Sends immediately.
OUT :</pre>
<a name='ImmAssignInfoP2'></a><h2>ImmAssignInfoP2</h2>

<pre> ImmAssignInfoP2();

</pre>
<pre>SUBROUTINE  : ImmAssignInfoP2
DESCRIPTION : Sends an Immediate Assign message.
              Update 2010-05-19: Now this function asserts that the message
                                 is sent.
              Update 2010-09-01: Does not wait for
                                 UNACKNOWLEDGED_MESSAGE_SENT if queued</pre>
<pre>IN  :
OUT :</pre>
<a name='ImmAssignInfoP2TwoMsg'></a><h2>ImmAssignInfoP2TwoMsg</h2>

<pre> ImmAssignInfoP2TwoMsg();

</pre>
<pre>SUBROUTINE  : ImmAssingInfoP2TwoMsg
DESCRIPTION : Send immediate assign</pre>
<pre>IN  :      %lResp -&gt;BTS, TG, TRXC, TS, CH_TYPE, PageMode
OUT :      %lResp</pre>
<a name='ImmAssignRejectP2'></a><h2>ImmAssignRejectP2</h2>

<pre> ImmAssignRejectP2();

</pre>
<pre>SUBROUTINE  : ImmAssignRejectP2
DESCRIPTION :</pre>
<pre>IN        :
OUT       :</pre>
<a name='ImmediateAssignInfoP2'></a><h2>ImmediateAssignInfoP2</h2>

<pre> ImmediateAssignInfoP2();

</pre>
<pre>SUBROUTINE  : ImmediateAssignInfoP2
DESCRIPTION : Send immediate assign</pre>
<pre>IN  :     %lResp -&gt;BTS, TG, TRXC, TS, CH_TYPE, PageMode
OUT :     %lResp</pre>
<a name='ImmediateAssignInfoP2BTS'></a><h2>ImmediateAssignInfoP2BTS</h2>

<pre> ImmediateAssignInfoP2BTS();

</pre>
<pre>SUBROUTINE  : ImmediateAssignInfoP2BTS
DESCRIPTION : Send immediate assign</pre>
<pre>IN  :     %lResp -&gt;BTS, TG, TRXC, TS, CH_TYPE, PageMode
OUT :     %lResp</pre>
<a name='InfoCellBTS'></a><h2>InfoCellBTS</h2>

<pre> InfoCellBTS();

</pre>
<pre>SUBROUTINE  : InfoCellBTS
DESCRIPTION : Get Info from choosen BTS Cell</pre>
<pre>IN  :     %Input -&gt;BTS
OUT :     %Resp see IWD InfoCell</pre>
<a name='InitiateTsharkLogging'></a><h2>InitiateTsharkLogging</h2>

<pre> InitiateTsharkLogging();

</pre>
<pre>SUBROUTINE  : InitiateTsharkLogging
DESCRIPTION : Initiates Tshark logging based on PAR hash and the log file name.</pre>
<pre>IN  :     TsharkLogfileName     =&gt;    'Tsharklog.log'
          EnableDebugPrintouts  =&gt;    undef                     # undef or anything else
OUT :     None.</pre>
<a name='NotificationCommandBTS'></a><h2>NotificationCommandBTS</h2>

<pre> NotificationCommandBTS();

</pre>
<pre>SUBROUTINE  : NotificationCommandBTS
DESCRIPTION : Send notification command</pre>
<pre>IN  :     %lResp -&gt;BTS, TG, TRXC, TS, CH_TYPE, ACT_FLAG, CMD_IND, REP_NCH
                   NLN, NLN_STATUS, GC_REF_H, GC_REF_L
OUT :     %lResp</pre>
<a name='Paging2BTS'></a><h2>Paging2BTS</h2>

<pre> Paging2BTS();

</pre>
<pre>SUBROUTINE  : Paging2BTS
DESCRIPTION : Send immediate assign</pre>
<pre>IN  :     %lResp -&gt;BTS, TG, TRXC, TS, CH_TYPE, PageMode
OUT :     %lResp</pre>
<a name='PagingBTS'></a><h2>PagingBTS</h2>

<pre> PagingBTS();

</pre>
<pre>SUBROUTINE  : PagingBTS
DESCRIPTION : Example:
              PagingBTS(MsId =&gt; 'IMSI', PGV =&gt; 1, EP1_BEH =&gt; 0);
IN  :
OUT :</pre>
<a name='PagingCommand'></a><h2>PagingCommand</h2>

<pre> PagingCommand();

</pre>
<pre>SUBROUTINE  : PagingCommand
DESCRIPTION : Example:
              PagingCommand(MsId =&gt; 'TMSI', PGV =&gt; 3);
IN  :
OUT :</pre>
<a name='PagingCommand2'></a><h2>PagingCommand2</h2>

<pre> PagingCommand2();

</pre>
<pre>SUBROUTINE  : PagingCommand2
DESCRIPTION : Example:
              PagingCommand2(PgCmd1 =&gt; 1, TS1 =&gt; 2, PG =&gt; 1);</pre>
<pre>IN  :
OUT :</pre>
<a name='ProcessTsharkLogfileAndCheckMessageType2Values'></a><h2>ProcessTsharkLogfileAndCheckMessageType2Values</h2>

<pre> ProcessTsharkLogfileAndCheckMessageType2Values();

</pre>
<pre>Note: The following function was explicitly written to process System Information
messages, and copied from subs_broadcast.pm.
But by exchanging some values in the PAR hash, it can be reused for other types
of messages.
This function has been expanded with the PagingGroup functionality, new since 2010-06-02.
SUBROUTINE  : ProcessTsharkLogfileAndCheckMessageType2Values
DESCRIPTION : Opens and processes a raw Tshark log file, checks that all
              MessageType2 values are in the 'allowed list' from the PAR
              hash, and returns several arrays with various information
              based on the logs.</pre>
<pre>IN  :     LogfileHandle         =&gt; 'LogHandle'
          LogfilePath           =&gt; 'Tsharklog.log'
          EnableDebugPrintouts  =&gt; undef                      # undef or anything else
          EnableSIPrettyPrint   =&gt; undef                      # undef or anything else, PrettyPrints all log messages
          RaiseErrorOnWrongMT   =&gt; 'Yes'                      # If undef, will not case a HandleError/die if the MessageType2 is incorrect. Anything else (the default) will.
          ExportFullMessages    =&gt; undef                      # undef or anything else. If defined, will fill the output vector '@FullMessagelist' with the 'Message' field from the log file entry
OUT :     A hash with several data vectors, based on the Tshark log file.</pre>
<a name='ProcessTsharkLogfileAndLookForSpecifiedValues'></a><h2>ProcessTsharkLogfileAndLookForSpecifiedValues</h2>

<pre> ProcessTsharkLogfileAndLookForSpecifiedValues();

</pre>
<pre>SUBROUTINE  : ProcessTsharkLogfileAndLookForSpecifiedValues
DESCRIPTION : Opens and processes a raw Tshark log file.</pre>
<pre>IN  :     LogfileHandle         =&gt; 'LogHandle'
          LogfilePath           =&gt; 'Tsharklog.log'
          EnableDebugPrintouts  =&gt; undef                      # undef or anything else
          FindInOrder           =&gt; undef                      # undef or anything else. If defined will search for messages in input array order.
          ExportFullMessages    =&gt; undef                      # undef or anything else. If defined, will fill the output vector '@FullMessagelist' with complete logg information for the matched messages
          RaiseError            =&gt; 'Yes'                      # If undef, will not case a HandleError, if not all messages are matched. Anything else (the default) will.
          MessageType           =&gt; [x,x,..]                   # The messages types in the order the should be found( value -1 =&gt; unspecified, matches everything)
          MessageOccurance      =&gt; [x,x,..]                   # The number of expected occurances of the message ( value = 0 =&gt; no occurances, throw error if found) ( value = -1 =&gt; unspecified, zero or more occurances. The function cannot handle multiple unspecefied in a row, one 'regular'(1+) must be inbetween every (-1))
          PageMode              =&gt; [x,x,..]                   # Pagemode, ( value -1 =&gt; unspecified, matches everything)
          PagingGroup           =&gt; [x,x,..]                   # PagingGroup, ( value -1 =&gt; unspecified, matches everything)
          IMSIPresent           =&gt; [x,x,..]                   # If a IMSI should be present(1), not(0) or unspecified(-1). (matches non dummy pagings)
          MSIvalues             =&gt; [[[x,x,x,x],[x,x,x,x],[x,x,x,x],[x,x,x,x]]..] # Match msi values, -1 =&gt; match anything
          ByteX                 =&gt; x                          # Matches Byte number x in the message against input value.
OUT :     A hash with:
          Result                =&gt; x                          # Found all messages(0), all messages not found or not allowed message found(1).
          FullMessageList                                     #The complete logg information for the matched messages
          MessageDataList                                     #Data information for the matched messages</pre>
<a name='RachTabActReqMSSIM'></a><h2>RachTabActReqMSSIM</h2>

<pre> RachTabActReqMSSIM();

</pre>
<pre>SUBROUTINE  : RachTabActReqMSSIM
DESCRIPTION : Perform an access burst from MSSIM on RACH</pre>
<pre>Syntax: RachTabActReqMSSIM(Cell   =&gt; $Cell,
                           TS     =&gt; $TS,
                           NumItr =&gt; $NumItr,
                           Tab    =&gt; [
                                    (Send  =&gt; $Send,
                                     AbBlk =&gt; $AbBlk,
                                     TrSeq =&gt; $TrSeq,
                                     Ta    =&gt; $Ta,
                                     Power =&gt; $Power,
                                     Data  =&gt; $Data),
                                    ..]</pre>
<a name='RadioChReleaseCommand'></a><h2>RadioChReleaseCommand</h2>

<pre> RadioChReleaseCommand();

</pre>
<pre>SUBROUTINE  : RadioChReleaseCommand
DESCRIPTION : Cleans all radiochannels connected to TG.
            (Copied from subs_broadcast.pm.)</pre>
<pre>IN  :     BTS =&gt; $BTS
          TG =&gt; $::TG
          TRXC =&gt; 'Undefined'
OUT :     None</pre>
<a name='ReceivePagingRequest'></a><h2>ReceivePagingRequest</h2>

<pre> ReceivePagingRequest();

</pre>
<pre>SUBROUTINE  : ReceivePagingRequest
DESCRIPTION : **** THIS FUNCTION DOES NOT WORK AS INTENDED!!!!!
            The reason is that the paging group value cannot be checked automatically, except if using Tshark,
            and having a Wireshark release date later than May 2010.
            But the bulk of the code is believed to function, so let it remain in the code, to aid future work.</pre>
<pre>              Example

                ReceivePagingRequest([[4, 'TMSI', 'TMSI', 'IMSI']], 'PR2', 34, 'Yes', 'No');

              NB The first parameter is an array of arrays
              4 is the Paging group value
              PR2 means Paging Request type 2 and is the expected signal that is
              signaled from the CRTC
              34 is an integer that corresponds to the MessageType2 value, as received by the MSSIM
                  (This value is not independent of the paging request type.)
              'Yes' (Consider this an 'ExitAfterUmTransmission' variable) means the function will return -1
                  when the paging request messages have been sent over Um. Otherwise (if _any_ value except 'Yes'),
                  it will continue parsing the CCCH_DATA_IND messages.
                  Use this option if Tshark logging has been enabled by the calling function.
              'No' (Consider this an 'QueueAndSendBatch' variable.) 'Yes' means that the messages should
                  be placed in a queue, and transmitted as rapidly as possible. Anything else means that the
                  individual paging requests will be transmitted as soon as they are constructed, not using
                  the Abisco send queue.

              This function requires that some sort of filtering is active, so that this function
              will not get drowned in spurious MSSIM responses.

</pre>
<pre>IN        : See above.
OUT       : 0: Pass, paging requests were received.
            1 (or any value &gt; 0): Fail, not all paging messages were received.
            -1: The fourth parameter above was equal to 'Yes'.</pre>
<a name='ResetTG'></a><h2>ResetTG</h2>

<pre> ResetTG();

</pre>
<pre>SUBROUTINE  : ResetTG
DESCRIPTION : Resets the TG to the one stored in Stored TG
              (copied from subs_Broadcast)</pre>
<pre>IN  :     Cell, TG, MCTR
OUT :     Will die if errors found
Sample:   ResetTG(%StoredTG);</pre>
<a name='RestartBTS'></a><h2>RestartBTS</h2>

<pre> RestartBTS();

</pre>
<pre>Subroutine:   RestartBTS
Purpose:      Restarting the BTS, make sure that the parameters set during restart
              complies with your specific TC
Input:        BTS (Abisco connection parameter)
              TGId
              TRXList (array)
Output:</pre>
<a name='SendSysinfoMessages_SI3SpecialConfiguresMSSIM'></a><h2>SendSysinfoMessages_SI3SpecialConfiguresMSSIM</h2>

<pre> SendSysinfoMessages_SI3SpecialConfiguresMSSIM();

</pre>
<pre>SUBROUTINE  : SendSysinfoMessages_SI3SpecialConfiguresMSSIM
DESCRIPTION : Sends system information messages according to input vectors.
              Sysinfo 3 is a special case - Enables all SI messages (without filtering) on the MSSIM,
              and also configures the MSSIM to enable reception of SI messages based on the latest SI3 message.
              (Copied from subs_broadcast.pm.)</pre>
<pre>IN  :     SITypes               =&gt;    ['3'],                    # Vector (use an array reference when calling, 'SITypes =&gt; \@lSITypes')
          MessageStrPrefix      =&gt;    'BCCHInfoP2_',            # Scalar
          BcchMap               =&gt;    'Normal',                 # Scalar, although hard-coded 'Normal' for SI3
          SI3_CCCHConfirmed     =&gt;    1                         # Scalar, only used for SI3
          SI3_BS_AG_BLKS_RES    =&gt;    undef                     # Scalar, only used for SI3
          SI3_BS_PA_MFRMS       =&gt;    undef                     # Scalar, only used for SI3
          EnableDebugPrintouts  =&gt;    undef                     # undef or anything else
OUT :     None.</pre>
<a name='Send_SysInfo'></a><h2>Send_SysInfo</h2>

<pre> Send_SysInfo();

</pre>
<pre>SUBROUTINE  : Send_SysInfo
DESCRIPTION :</pre>
<pre>Syntax   : Send_SysInfo(TGId =&gt; $TG, TS =&gt; 0, TRXC =&gt; $TRXC, Info =&gt; $Info
                        ChType =&gt; 'BCCH', BcchMap =&gt; 'Normal', TXInteger =&gt; 14,
                        MaxRetrans =&gt; 2, RadioLinkTimeout =&gt; 1, RXLevMin =&gt; 35);
           If [one of] the optional parameters 'SIP2_3_CCCHConfirmed', 'SIP2_3_BS_AG_BLKS_RES'
              or 'SIP2_3_BS_PA_MFRMS' is/are present, it is used
              in the BCCHInfoP2_3 message. Otherwise it is ignored.
              IMPORTANT: The SysInfo3 ControlChannelDescrStruct.BS_PA_MFRMS value is coded as ((real value) - 2)!
                          When supplying the parameter so Send_SysInfo, send the BS_PA parameter as it is
                          entered in the TG setup in Abisco.</pre>
<pre>           (Copied from subs_broadcast.pm, but modified.)

</pre>
<pre>Change log:   The MessageType2 for BCCHInfoP2_2quater was changed from 25 to 7 (7 is the correct value in the IWD browser).
              2010-06-01: Updated to include BS_AG and BS_PA for SysInfo type 3. (SIP2_3_BS_PA_MFRMS and SIP2_3_BS_AG_BLKS_RES.)
                          Note that the BS_PA value is coded in a very unintuitive way. It is probably
                          best not to use it.</pre>
<a name='SetAllSIMSSIM'></a><h2>SetAllSIMSSIM</h2>

<pre> SetAllSIMSSIM();

</pre>
<pre>SUBROUTINE  : SetAllSIMSSIM
DESCRIPTION : Activate all System information in the MSSIM (remove filtering).
              Note that this command _also_, automatically, makes the MSSIM
              listen for the system information configuration that is carried
              by System information type 3. (Because the flag CCauto = 1.)
              (Copied from subs_broadcast.pm, but modified to use $CellNr instead of $Cell.)</pre>
<pre>IN  :     Cell (Optional), EnableDebugPrintouts (Optional)
OUT :     None</pre>
<a name='SetIASOnOff'></a><h2>SetIASOnOff</h2>

<pre> SetIASOnOff();

</pre>
<pre>SUBROUTINE  : SetIASOnOff
DESCRIPTION :</pre>
<pre>Syntax   : SetIASOnOff(IAS =&gt; 'On');</pre>
<a name='SetupAndStartTsharkLoggingOnAbis'></a><h2>SetupAndStartTsharkLoggingOnAbis</h2>

<pre> SetupAndStartTsharkLoggingOnAbis();

</pre>
<pre>SUBROUTINE  : SetupAndStartTsharkLoggingOnAbis
DESCRIPTION :</pre>
<pre>IN  :     LogfileName     =&gt;    'Tsharklog.log'
          Duration     =&gt;    15
OUT :     None.</pre>
<a name='StoreTG'></a><h2>StoreTG</h2>

<pre> StoreTG();

</pre>
<pre>SUBROUTINE  : StoreTG
DESCRIPTION : Store TG parameters. This subroutin shall be followed by ResetTG
              (copied from subs_Broadcast)</pre>
<pre>IN  :
OUT :     {Cells}, {TG}, {MCTR};
Sample:   %StoredTG = StoreTG();</pre>
<a name='TRXReportCtrl'></a><h2>TRXReportCtrl</h2>

<pre> TRXReportCtrl();

</pre>
<pre>SUBROUTINE  : TRXReportCtrl
DESCRIPTION :</pre>
<pre>Syntax : TRXReportCtrl(TRXRepInt1 =&gt; 'RI10sec');</pre>
<a name='UpdateCCCHList'></a><h2>UpdateCCCHList</h2>

<pre> UpdateCCCHList();

</pre>
<pre>SUBROUTINE  : UpdateCCCHList
DESCRIPTION : Updates Cell with relevant $CCCHList.</pre>
<pre>IN  :     $CCCHList
OUT :     Will die if errors found</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_Cdf</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 3/190 55 - CAH 161 1607/1
MODULE      : subs_cdf.pm
DESCRIPTION : Contains common subroutines for Channel Distribution Function
              test programs</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE       NAME        REVIEW         COMMENT
A     20091026   xrssajo     UABTOH         Approved
B     20091110   xrssajo     eraheik        Added ActivateSpeech and added/removed arguments to ChangePCM().
                                            Added GetMaxKbpsValue
D     20100209   qradgut     XPRRANA        Added RedirectAbiscoLog and RestoreAbiscoLog
                                            Added CheckPCMWithDVT,CallSetUp,DisconnectCall
                                            and FormatTestcaseName.
                                            Modified RestoreDefaultTG
                                            Added InterCellhandoverTCH and SetTG
                                            Added SCQualityReportII, ReceiveAbiscoMessage, DVTMonitorSCQuality, SetTG_SC,
                                            ChannelActPacketChannel, ActivatePGSLData, UpdatePGSLData, UpdateSpeech
                                            Removed Allocate, Deallocate, Index (not used)
                                            Converted to strict
                                            Exported CompareArrays. Added DVTMonitorSCConfig
PE1  20111102    QRADGUT                    Added ClearAllLinks ReallocateConnection GetMCTRRecords CheckTSSStatistics</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?File::Path'>File::Path</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?List::Util'>List::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Win32::Shortcut'>Win32::Shortcut</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Msg'>Msg</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DVTFunc'>DVTFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ActivatePGSLData'></a><h2>ActivatePGSLData</h2>

<pre> ActivatePGSLData();

</pre>
<pre>Subroutine: ActivatePGSLData
Purpose:    Activate PGSL data (both allocate link and start sending data)
Input:
OUT         0 (OK) or 1 (Activation of PGSL data failed)</pre>
<a name='ActivateSpeech'></a><h2>ActivateSpeech</h2>

<pre> ActivateSpeech();

</pre>
<pre>Subroutine: ActivateSpeech
Purpose:    To activate speech in TSS, either "Frames" or "LoopBack"
Input:      Parameter hash
Output:   0=OK, 1=Error</pre>
<a name='CallSetUp'></a><h2>CallSetUp</h2>

<pre> CallSetUp();

 Subroutine:  CallSetUp
Purpose: Setting up a Mobile Terminated call
Input:    $TG, $TRXC, $TS, $TCHSubCH, $SDCCHSubCH
Output:


</pre>
<a name='CfgDiamuxDefault'></a><h2>CfgDiamuxDefault</h2>

<pre> CfgDiamuxDefault();

</pre>
<pre>-COMMENT: Configures DIAmuX with default configuration</pre>
<pre>Syntax : CfgDiamuxDefault();
IN   : None
Out  : None
-</pre>
<a name='ChangePCM'></a><h2>ChangePCM</h2>

<pre> ChangePCM();

</pre>
<pre>--COMMENT: Changes PCM line</pre>
<pre>Syntax : ChangePCM($PCMLine =&gt; 'On', PCMType =&gt; PCM2.0Mbit/s); #(E1)
Syntax : ChangePCM($PCMLine =&gt; 'On', PCMType =&gt; PCM1.5Mbit/s); #(T1)
IN   : none
OUT    : none
--</pre>
<a name='ChannelActPacketChannel'></a><h2>ChannelActPacketChannel</h2>

<pre> ChannelActPacketChannel();

</pre>
<pre>Subroutine: ChannelActPacketChannel
Purpose:    Activate PS channel
Input:
OUT         0 (OK) or 1 (Channel activation failed)</pre>
<a name='CheckPCMWithDVT'></a><h2>CheckPCMWithDVT</h2>

<pre> CheckPCMWithDVT();

</pre>
<a name='CheckTSSStatistics'></a><h2>CheckTSSStatistics</h2>

<pre> CheckTSSStatistics();

</pre>
<pre>--FUNCTION : CheckTSSStatistics
COMMENT  : Check TSS Statistics. Compare Sent/Received frames.
           Check error counters = 0
IN       : %Stats, $Rate (Rate is not used now -- statistics are for FR)
OUT      : $SpeechIndSent, $SpeechIndRec, $ErrorCounter
--</pre>
<a name='CompareArrays'></a><h2>CompareArrays</h2>

<pre> CompareArrays();

</pre>
<pre>Subroutine: CompareArrays
Purpose:    Compare Array1 to Array2. Note that Array2 can contain more values and
            sub still returns 1. All values in Hash1 must be equal to corresponding
            value in Hash2.
Input:      Array1 =&gt; \%Array1
            Array2 =&gt; \%Array2
OUT         1 (match) or 0 (mismatch)</pre>
<a name='CompareHashes'></a><h2>CompareHashes</h2>

<pre> CompareHashes();

</pre>
<pre>Subroutine: CompareHashes
Purpose:    Compare Hash1 to Hash2. Note that Hash2 can contain more keys and
            sub still returns 1. All keys in Hash1 must be equal to corresponding
            value in Hash2.
Input:      Hash1 =&gt; \%Hash1
            Hash2 =&gt; \%Hash2
OUT         1 (match) or 0 (mismatch)</pre>
<a name='CompleteStart'></a><h2>CompleteStart</h2>

<pre> CompleteStart();

</pre>
<pre>-COMMENT: Sends Complete Start command.
         AssosiatedSOInstance, InstanceNo and checks ResetComplete.
Syntax : CompleteStart();
IN   : None
Out  : None
-</pre>
<a name='ConfigMCTR'></a><h2>ConfigMCTR</h2>

<pre> ConfigMCTR();

</pre>
<pre>--FUNCTION : ConfigMCTR
COMMENT  : Sends MCTRConfigRequest
IN       :
OUT      : None
--</pre>
<a name='ConfigReadMO'></a><h2>ConfigReadMO</h2>

<pre> ConfigReadMO();

</pre>
<pre>--FUNCTION : ConfigReadMO
COMMENT  : Get current parameters for wanted MO
Syntax   : ConfigReadMO(MO =&gt; $MO);
IN       : MO type
OUT      : %Resp
--</pre>
<a name='ConfigureCON'></a><h2>ConfigureCON</h2>

<pre> ConfigureCON();

</pre>
<pre>-COMMENT: Configures MO CON according to IS Configuration list given
         in array @CONList</pre>
<pre>Syntax : ConfigureCON(MO =&gt; $MO);
IN   : None
Out  : None
-</pre>
<a name='ConfigureIS'></a><h2>ConfigureIS</h2>

<pre> ConfigureIS();

</pre>
<pre>-COMMENT: Configures MO IS according to IS Configuration list given
         in array @ISCL</pre>
<pre>Syntax : ConfigureIS(ISCL =&gt; $ISCL);
IN   : None
Out  : None
-</pre>
<a name='ConfigureTS'></a><h2>ConfigureTS</h2>

<pre> ConfigureTS();

</pre>
<pre>-COMMENT: Configures MO TS for SC</pre>
<pre>Syntax : ConfigureTS();
IN   : None
Out  : None
-</pre>
<a name='ConnectMO'></a><h2>ConnectMO</h2>

<pre> ConnectMO();

</pre>
<pre>--FUNCTION : ConnectMO
COMMENT  : Sends ConnectCommand to MO defined by MOClass, InstanceNo
           and AssosiatedSOInstance and checks ConnectComplete.
IN     : ConnectMO(TRXC =&gt; , MO =&gt; , MOState =&gt; , INST =&gt; , ASOInst =&gt; );
OUT    : None
--</pre>
<a name='ConnectResetStartConfigEnableOpinfo'></a><h2>ConnectResetStartConfigEnableOpinfo</h2>

<pre> ConnectResetStartConfigEnableOpinfo();

</pre>
<pre>--FUNCTION : ConnectResetStartConfigEnableOpinfo
COMMENT  : ConnectResetStartConfigEnableOpinfo
IN           : Optionally one or more of the following
           keys: TRXList, MO
OUT           : None
--</pre>
<a name='ConnectTG'></a><h2>ConnectTG</h2>

<pre> ConnectTG();

</pre>
<pre>--FUNCTION : ConnectTG
COMMENT  :
Syntax   : ConnectTG(TransceiverGroup =&gt; 0);
IN       :
OUT           :
--</pre>
<a name='DVTMonitorSCConfig'></a><h2>DVTMonitorSCConfig</h2>

<pre> DVTMonitorSCConfig();

</pre>
<pre>Subroutine: DVTMonitorSCConfig
Purpose:    Enable or disable the Monitor DVTMonitorSCConfig in DVT
Input:      Message
            Timeout
OUT         Result =&gt; OK / Timeout
            Msg    =&gt; Found message</pre>
<a name='DVTMonitorSCQuality'></a><h2>DVTMonitorSCQuality</h2>

<pre> DVTMonitorSCQuality();

</pre>
<pre>Subroutine: DVTMonitorSCQuality
Purpose:    Enable or disable the Monitor SCQualityReport2 in DVT
Input:      Message
            Timeout
OUT         Result =&gt; OK / Timeout
            Msg    =&gt; Found message</pre>
<a name='DefinePCM_CF'></a><h2>DefinePCM_CF</h2>

<pre> DefinePCM_CF();

</pre>
<pre>-COMMENT: Defines PCM link for CF on PCM-TS1
         The function can be called without parameters, or by passing two
         variables to it.</pre>
<pre>Syntax : DefinePCM_CF();                              OR
         DefinePCM_CF($timeSlot, $startBit);          OR
         DefinePCM_CF($timeSlot, $startBit, $TEI);
         DefinePCM_CF($timeSlot, $startBit, $TEI, $PCMSystem);
IN   : $timeSlot - (optional) Scalar containing PCM Timeslot for CF link
       $startBit - (optional) Scalar containing PCM Startbit for CF link
       $TEI - (optional) Scalar containing TEI value for CF link
       $PCMSystem - (optional) Scalar containing the PCM System to use</pre>
<pre>Out  : None
-</pre>
<a name='DiamuxReset'></a><h2>DiamuxReset</h2>

<pre> DiamuxReset();

</pre>
<pre>-COMMENT: Reset DIAmuX</pre>
<pre>Syntax : DiamuxReset();
IN   : None
Out  : None
-</pre>
<a name='DisableMO'></a><h2>DisableMO</h2>

<pre> DisableMO();

</pre>
<pre>-COMMENT: Sends DisableRequest to MO defined by MOClass,
         AssosiatedSOInstance, InstanceNo and checks DisableResult.
Syntax : DisableMO(MO =&gt; $MO);
IN   : $MO - optional parameter, if different from global $MO
IN   : $TG - optional parameter, if different from global $TG
Out  : None
-</pre>
<a name='DisconnectCall'></a><h2>DisconnectCall</h2>

<pre> DisconnectCall();

 Subroutine:  DisconnectCall
Purpose: Disconnecting call
Input:    $LMSID
Output:


</pre>
<a name='DisconnectTG'></a><h2>DisconnectTG</h2>

<pre> DisconnectTG();

</pre>
<pre>--FUNCTION : DisconnectTG
COMMENT  :
Syntax   : DisconnectTG(TransceiverGroup =&gt; 0);
IN       :
OUT           :
--</pre>
<a name='EnableMO'></a><h2>EnableMO</h2>

<pre> EnableMO();

</pre>
<pre>-COMMENT: Sends EnableRequest to MO defined by MOClass,
         AssosiatedSOInstance, InstanceNo and checks EnableResult.
Syntax : EnableMO(MO =&gt; $MO);
IN   : None
Out  : None
-</pre>
<a name='EstablishCFLink'></a><h2>EstablishCFLink</h2>

<pre> EstablishCFLink();

</pre>
<pre>-COMMENT: Establishes CF Link of TG specified by given value
Syntax : EstablishCFLink();
IN   : optional timeout value in seconds
Out  : None
-</pre>
<a name='EstablishLinks'></a><h2>EstablishLinks</h2>

<pre> EstablishLinks();

</pre>
<pre>-COMMENT: Sends EstablishLinks command to MO defined by MOClass,
         AssosiatedSOInstance, InstanceNo and checks EstablishLinksResponse.
Syntax : EstablishLinks();
IN   : None
Out  : None
-</pre>
<a name='EstablishResetStart'></a><h2>EstablishResetStart</h2>

<pre> EstablishResetStart();

</pre>
<pre>-COMMENT: EstablishResetStart
IN     : None
OUT    : None
-</pre>
<a name='FormatTestcaseName'></a><h2>FormatTestcaseName</h2>

<pre> FormatTestcaseName();

</pre>
<pre>Subroutine: FormatTestcaseName
Purpose:    Reformats the PAR hash test case name for printout purposes.
            If the input string is not on the format "XX_YY", it is returned unchanged.
Input:      TestcaseName =&gt; "xx_yy"
Output:     "xx.yy"</pre>
<a name='GetGmtTime--'></a><h2>GetGmtTime()</h2>

<pre> GetGmtTime()();

</pre>
<pre>-COMMENT: Returns the current time in GMT.
IN:
OUT: A hash with the keys Hour, Minute and Second.
-</pre>
<a name='GetLast'></a><h2>GetLast</h2>

<pre> GetLast();

</pre>
<pre>--FUNCTION : GetLast
COMMENT: Returns last value of a list
         (incl. removal of last character !)
IN         : @List - as variable name says
Out         : $_ - scalar containing last value of @List
--</pre>
<a name='GetMCTRRecords'></a><h2>GetMCTRRecords</h2>

<pre> GetMCTRRecords();

</pre>
<pre>--FUNCTION : GetMCTRRecords
COMMENT  : Returns MCTRRecords from Capabilities in CF
IN         -
OUT      : @MCTRRecords
--</pre>
<a name='GetMaxKbpsValue'></a><h2>GetMaxKbpsValue</h2>

<pre> GetMaxKbpsValue();

</pre>
<pre>-COMMENT: Get the max kbps value from the TrafficCounter log. The log file
is different depending on the given OMT version.
is read depends on the type of OMT.
IN: A hash with the following key/value pairs:
      - omtType: OMT Type, as "OMT", "ROMT" or "ROMTIP".
      - startTime: A hash with keys Hour, Minute and Second.
OUT: Max kbps value or -1 on error
-</pre>
<a name='GetOMTTrafficCounterLog'></a><h2>GetOMTTrafficCounterLog</h2>

<pre> GetOMTTrafficCounterLog();

</pre>
<pre>-COMMENT: Returns the path to the Traffic Counter log file for the given
variant om OMT.
IN: OMT Type, as "OMT", "ROMT" or "ROMTIP".
OUT: The path to the traffic counter log file.
-</pre>
<a name='InitResult'></a><h2>InitResult</h2>

<pre> InitResult();

</pre>
<pre>Subroutine: InitResult
Purpose:    To initiate the Result hash
Syntax :          InitResult();
Output :    None</pre>
<a name='InterCellhandoverTCH'></a><h2>InterCellhandoverTCH</h2>

<pre> InterCellhandoverTCH();

 Subroutine:  InterCellhandoverTCH
Purpose: Moving call to another Cell up a Mobile Terminated call
Input:    $TG, $TRXC, $TS, $TCHSubCH, $SDCCHSubCH
Output:


</pre>
<a name='ReallocateConnection'></a><h2>ReallocateConnection</h2>

<pre> ReallocateConnection();

</pre>
<pre>--COMMENT: Reallocate PCM links . We play around with the PCM's, but the
CH does not know, and the CH configuration is intact. Clear_All_Links+
AllocateCFLink+AllocateTRXLinks will make the CH resend its settings to the TSSTC.</pre>
<pre>Syntax : ReallocateConnection();
IN   : none
OUT    : none
--</pre>
<a name='ReceiveAbiscoMessage'></a><h2>ReceiveAbiscoMessage</h2>

<pre> ReceiveAbiscoMessage();

</pre>
<pre>Subroutine: ReceiveAbiscoMessage
Purpose:    Receiving Abisco message
Input:      Message
            Timeout
OUT         Result =&gt; OK / Timeout
            Msg    =&gt; Found message</pre>
<a name='RedirectAbiscoLog'></a><h2>RedirectAbiscoLog</h2>

<pre> RedirectAbiscoLog();

</pre>
<pre>--FUNCTION : RedirectAbiscoLog
COMMENT  : Redirects the Abisco log to a custom file</pre>
<pre>IN       : $path, $SPEC, $TC and (optionally) $SUBTC
OUT     :
--</pre>
<a name='ReleaseCFLink'></a><h2>ReleaseCFLink</h2>

<pre> ReleaseCFLink();

</pre>
<pre>-COMMENT: Releases CF Link of TG specified by given value
Syntax : ReleaseCFLink($TG);
IN   : None
Out  : None
-</pre>
<a name='ResetMO'></a><h2>ResetMO</h2>

<pre> ResetMO();

</pre>
<pre>-COMMENT: Sends Reset command to MO defined by MOClass,
         AssosiatedSOInstance, InstanceNo and checks ResetComplete.
Syntax : ResetMO(MO =&gt; $MO);
IN   : None
Out  : None
-</pre>
<a name='RestoreAbiscoLog'></a><h2>RestoreAbiscoLog</h2>

<pre> RestoreAbiscoLog();

</pre>
<pre>--FUNCTION : RestoreAbiscoLog
COMMENT  : Restores the Abisco log to the file 'Abisco.log' in a
           given directory.</pre>
<pre>IN       : $path
OUT     :
--</pre>
<a name='RestoreDefaultTG'></a><h2>RestoreDefaultTG</h2>

<pre> RestoreDefaultTG();

</pre>
<pre>--COMMENT: Restore default TG. We play around with the PCM's, but the
CH does not know, and the CH configuration is intact. Clear_All_Links+
AllocateCFLink+AllocateTRXLinks will make the CH resend its settings to the TSSTC.</pre>
<pre>Syntax : RestoreDefaultTG();
IN   : none
OUT    : none
--</pre>
<a name='SCQualityReportII'></a><h2>SCQualityReportII</h2>

<pre> SCQualityReportII();

</pre>
<pre>Subroutine: SCQualityReportII
Purpose:    Enable or disable SC Quality Report II
Input:      State =&gt; Enable or Disable
OUT        : None</pre>
<a name='SendCONToBTS'></a><h2>SendCONToBTS</h2>

<pre> SendCONToBTS();

</pre>
<pre>-COMMENT: Sends CON configuration to BTS (used after PCM_IS_CON)</pre>
<pre>Syntax : SendCONToBTS()
IN   : Valid but optional hash keys: TGNr, INST.
Out  : None
-</pre>
<a name='SendISToBTS'></a><h2>SendISToBTS</h2>

<pre> SendISToBTS();

</pre>
<pre>-COMMENT: Sends IS configuration to BTS (used after PCM_IS_CON)</pre>
<pre>Syntax : SendISToBTS()
IN   : Valid but optional hash keys: TGNr, INST.
Out  : None
-</pre>
<a name='SetTG'></a><h2>SetTG</h2>

<pre> SetTG();

</pre>
<pre>Subroutine: SetTG
Purpose:    To set TCM configuration. Disconnects, updates and reconnects TG.
            May Restart BTS if AbisMode or TLS settings is changed
Input:      TCH_Configuration
Output:     None</pre>
<a name='SetTG_SC'></a><h2>SetTG_SC</h2>

<pre> SetTG_SC();

</pre>
<pre>Subroutine: SetTG_SC
Purpose:    Send CMDHAND.UpdateTG to change TG
Input:      Hash containing parameters to change
OUT         If restart is necessary (1) or not (0)</pre>
<a name='SplitString'></a><h2>SplitString</h2>

<pre> SplitString();

</pre>
<pre>--FUNCTION : SplitString
COMMENT  : Returns a list with splitted string (Delimiter: Whitespace)
IN           : $String - as variable name says
Out           : @String - list with splitted string
--</pre>
<a name='StartMO'></a><h2>StartMO</h2>

<pre> StartMO();

</pre>
<pre>-COMMENT: Sends Start command to MO defined by MOClass,
         AssosiatedSOInstance, InstanceNo and checks StartResult.
Syntax : StartMO(MO =&gt; $MO);
IN   : None
Out  : None
-</pre>
<a name='UpdatePGSLData'></a><h2>UpdatePGSLData</h2>

<pre> UpdatePGSLData();

</pre>
<pre>Subroutine: UpdatePGSLData
Purpose:    Updated PGSL Data with FNAdd and/or Masks
Input:
OUT         0 (OK) or 1 (UpdateGSLData failed)</pre>
<a name='UpdateSpeech'></a><h2>UpdateSpeech</h2>

<pre> UpdateSpeech();

</pre>
<pre>Subroutine: UpdateSpeech
Purpose:    Updated PGSL Data with FNAdd and/or Masks
Input:
OUT         0 (OK) or 1 (UpdateGSLData failed)</pre>
<a name='WaitPCMIsConFinished'></a><h2>WaitPCMIsConFinished</h2>

<pre> WaitPCMIsConFinished();

</pre>
<pre>-COMMENT: Wait for PCM_IS_CON to establish all links. (Some messages are not in synch)
IN     : $NumTRX - number of TRX:s (as configured in TG)
OUT    : None
-</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_ChanMeas</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 40/190 55-CAH 161 1607/1 Uen
MODULE      : subs_chanmeas.pm
DESCRIPTION : This package contains the subfunctions and variables used
              with the main test case</pre>
<pre>COPYRIGHT &copy; : ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME           REVIEW          COMMENT
A   20100921  Syntronic AB/  Syntronic AB/   File created. Approved UABTOH.
              Fredrik Lie    Bj&ouml;rn Eriksson
B   20110607  Syntronic AB/  Syntronic AB/   Added functions CheckIfMeasResultOnABIS, CheckIfBSP2InMeasResult
              Mark Bentham   David Melin     Updated BTSChAct with BP2 param, updated header. Added SetBSPowerLevel.
                                             Overall cleanup of exported packages and non-used subfunctions.
C   20120208  XPRRANA        XTOBSEM         Changes in CheckIfBSP2InMeasResult
                                             Updated to comply to script development process
                                             Minor changes in BTSCHAct
                                             Removed PrettyPrint from SendData
D   20120313  XLEIMAR        XTOBSEM         Updated according to PerlCritc, updated
                                             script template and implemented dynamic TG.
              XPRRANA        XNAVNAS         Added CreateSpeechPatternFile and CreateDataPatternFile</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Net::FTP'>Net::FTP</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Net::Telnet'>Net::Telnet</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Globals'>Globals</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DBI'>DBI</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?speechfunc'>speechfunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?HelpFunc'>HelpFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?SubInit_ChanMeas'>SubInit_ChanMeas</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ActivateCSData'></a><h2>ActivateCSData</h2>

<pre> ActivateCSData();

</pre>
<pre>SUBROUTINE  : ActivateCSData
DESCRIPTION : Activate sending of CS Data in TSS</pre>
<pre>IN  : TG number
      TRXC number
      TS number
      DataBitRate
      Verification
      DTX
      ICP
OUT : 0=Ok, 1=Error</pre>
<a name='CheckIfBSP2InMeasResult'></a><h2>CheckIfBSP2InMeasResult</h2>

<pre> CheckIfBSP2InMeasResult();

</pre>
<pre>SUBROUTINE  : CheckIfBSP2InMeasResult
DESCRIPTION : Checks if BS Power 2 info is received in
              Measurement Result struct</pre>
<pre>IN  : Hash containing the following key(s):
        True  - State true/false (1/0)
        MessageTimeout - Timeout value
        TS
        TRXC
        ReturnPwrLevel
OUT : {BSPower2Struct}{PowerLevelSS} if ReturnPwrLevel defined, else 0</pre>
<a name='CheckIfMeasResultOnABIS'></a><h2>CheckIfMeasResultOnABIS</h2>

<pre> CheckIfMeasResultOnABIS();

</pre>
<pre>SUBROUTINE  : CheckIfMeasResultOnABIS
DESCRIPTION : Checks that No Measurement Result is sent on ABIS</pre>
<pre>IN  : Hash containing the following key(s):
        True  - State true/false (1/0)
        MessageTimeout - Timeout value
OUT : None</pre>
<a name='CreateDataPatternFile'></a><h2>CreateDataPatternFile</h2>

<pre> CreateDataPatternFile();

</pre>
<a name='CreateSpeechParamHash'></a><h2>CreateSpeechParamHash</h2>

<pre> CreateSpeechParamHash();

</pre>
<pre>SUBROUTINE  : CreateParamHash
DESCRIPTION : Create parameter hash to be sent to subroutine SendSpeech</pre>
<pre>IN  : Hash containing the following key:
        SpeechType - Speech Type ('HR' or 'FR'. Default 'FR')
        SubCh - Subchannel for halfrate. ( Default 0)
OUT : Parameter hash</pre>
<a name='CreateSpeechPatternFile'></a><h2>CreateSpeechPatternFile</h2>

<pre> CreateSpeechPatternFile();

</pre>
<pre>Subroutine: CreateSpeechPatternFile</pre>
<pre>Purpose:    Create a MSSIM pattern file</pre>
<pre>Input:      Hash containing the following key:
              SpeechFrames - Number of speech frames
              SilentFrames - Number of silent frames
              CMR_TAG      - CMR
              CMI_TAG      - CMI
              Rate         - Speech rate (FR / HR)
              speechfile   - Name of the generated cfg file</pre>
<pre>Output:     Name of the created pattern file</pre>
<a name='DeactivateCSData'></a><h2>DeactivateCSData</h2>

<pre> DeactivateCSData();

</pre>
<pre>SUBROUTINE  : DeactivateCSData
DESCRIPTION : Activate sending of CS Data in TSS</pre>
<pre>IN  : TG number
      TRXC number
      TS number
      Data Rate
      Statistics (On, Off,)
      Result array
OUT : 0=Ok, 1=Error
      Result array updated with statistics</pre>
<a name='HandoverAccessMSSIM'></a><h2>HandoverAccessMSSIM</h2>

<pre> HandoverAccessMSSIM();

</pre>
<pre>SUBROUTINE  : HandoverAccessMSSIM
DESCRIPTION : To send Handover Access to MSSIM and receive HandoverDetection
              from Abisco</pre>
<pre>IN  : ChType
OUT : None</pre>
<a name='InitSG'></a><h2>InitSG</h2>

<pre> InitSG();

</pre>
<pre>SUBROUTINE  : InitSG
DESCRIPTION : Initializes Signal Generator</pre>
<pre>IN  : Instance    (Instance number)
OUT : None</pre>
<a name='MSSIMChAct'></a><h2>MSSIMChAct</h2>

<pre> MSSIMChAct();

</pre>
<pre>SUBROUTINE  : MSSIMChAct
DESCRIPTION : To activate a channel in the MSSIM, sets
              the CcId package variable</pre>
<pre>IN  : $Bypass  (set to '1' to bypass MSSIM automatic LAPDm handling)
OUT : $CcId</pre>
<a name='MSSIMChRel'></a><h2>MSSIMChRel</h2>

<pre> MSSIMChRel();

</pre>
<pre>SUBROUTINE  : MSSIMChRel
DESCRIPTION : To release a channel in the MSSIM, uses the package variable
              CcId to identify the opened channel</pre>
<pre>IN  :
OUT :</pre>
<a name='MSSIMTransferFile'></a><h2>MSSIMTransferFile</h2>

<pre> MSSIMTransferFile();

</pre>
<pre>SUBROUTINE  : MSSIMTransferFile
DESCRIPTION :</pre>
<pre>IN  :     User
          Password
          LocalFilename
          RemoteFilename
OUT :     0 - OK
          1 - Error</pre>
<a name='MeasurementReporting'></a><h2>MeasurementReporting</h2>

<pre> MeasurementReporting();

</pre>
<pre>SUBROUTINE  : MeasurementReporting
DESCRIPTION : Turns on Measurement Reporting</pre>
<pre>IN  : Hash containing the following key(s):
        State true/false (1/0)
OUT : None</pre>
<a name='RadioChRel'></a><h2>RadioChRel</h2>

<pre> RadioChRel();

</pre>
<pre>SUBROUTINE  : RadioChRel
DESCRIPTION : BSC commands TRS to release all dedicated resources
              within the TRX.</pre>
<pre>IN  :
OUT :</pre>
<a name='ReceiveAbisco'></a><h2>ReceiveAbisco</h2>

<pre> ReceiveAbisco();

</pre>
<pre>SUBROUTINE  : ReceiveAbisco
DESCRIPTION : Receive a spontanious message from Abisco</pre>
<pre>IN  : Hash containing the following key(s):
        BTS      - Abisco connection parameter
        Timeout  - Timeout value
        Expect   - Expected message
        Supress  - Indicate if timeout errors should be supressed
                   (HandleError not called).
        L3DATA   - Reference to L3Data array of expected message
OUT : CauseValue</pre>
<a name='ReceiveAbiscoMessage'></a><h2>ReceiveAbiscoMessage</h2>

<pre> ReceiveAbiscoMessage();

</pre>
<pre>SUBROUTINE  : ReceiveAbiscoMessage
DESCRIPTION : Receive a spontanious message from Abisco</pre>
<pre>IN  : $BTS (Abisco connection parameter)
        Timeout value
        Expected message type
        Supress, "SupressError" if HandleError should not be called
OUT : Received Data hash</pre>
<a name='ResetTG'></a><h2>ResetTG</h2>

<pre> ResetTG();

</pre>
<pre>SUBROUTINE  : ResetTG
DESCRIPTION : Resets the TG to the one stored in Stored TG
IN  :    Cell, TG, MCTR
OUT :    Will die if errors found</pre>
<a name='SendData'></a><h2>SendData</h2>

<pre> SendData();

</pre>
<pre>SUBROUTINE  : SendData
DESCRIPTION : Activate sending of data, either from MSSIM or from TSS</pre>
<pre>IN  : Param hash including:
        $Param{TG}
        $Param{TRXC}
        $Param{TS}
        $Param{SubCh}         TCH sub channel (0/1)
        $Param{DTX}           DTX Downlink (On/Off)
        $Param{TypeOfCh}      According to Abisco Ch Activation, see IWD Browser
        $Param{AlgOrRate}     According to Abisco Ch Activation, see IWD Browser
        $Param{ChRate}        According to Abisco Ch Activation, see IWD Browser
        $Param{ChannelType}   According to Abisco Ch Activation, see IWD Browser
        $Param{MRVersion}     According to Abisco Ch Activation, see IWD Browser
        $Param{ICMI}          According to Abisco Ch Activation, see IWD Browser
        $Param{StartMode}     According to Abisco Ch Activation, see IWD Browser
        @{$Param{AMR}}        According to Abisco Ch Activation, see IWD Browser
        $Param{TFO}           According to Abisco Ch Activation, see IWD Browser
        $Param{SCS}           According to Abisco Ch Activation, see IWD Browser
        $Param{MACS}          According to Abisco Ch Activation, see IWD Browser
        $Param{SimTypeTSS}    TSS simulation type "Frames" or "LoopBack"
        $Param{StartCodec}    According to Abisco ActivateSpeech OPT1.CodecMode, see IWD Browser
        $Param{SPType1}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
        $Param{SPTime1}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
        $Param{SPType2}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
        $Param{SPTime2}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
        $Param{CodecDL1}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecUL1}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecTime1}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecDL2}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecUL2}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecTime2}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecDL3}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecUL3}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecTime3}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecDL4}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecUL4}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecTime4}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{LoopDelay}     According to Abisco ActivateSpeech OPT3, see IWD Browser
        $Param{SimTypeMSSIM}  "LOOP", "PRBS", "PLAY_CHK" or "PLAY_REC"
        $Param{TxFile}        TxFile for MSSIM, see Prisma GSM base
        $Param{RxFile}        RxFile for MSSIM, see Prisma GSM base
        $Param{RxMax}         Rxmax for MSSIM, see Prisma GSM base
        @{$Param{Codec}}      Used Codecs, MSSIM format example: ["AFS4_75", "AFS5_15", "AFS5_9", "AFS6_7"]
        $Param{TimeToRun}     Time to run (in seconds)
OUT : Error 0=OK, 1=error
      Error Reason
      Result hash including:
        @{$Result{Statistic1}}    MSSIM fixed counters
        @{$Result{Statistic2}}    MSSIM variable counters from Cnt parameter
        @{$Result{Statistic3}})   TSS counters
        @{$Result{CntRow0}})      Optional MSSIM variable counters from Cnt parameter, for GUI presentation
        @{$Result{CntRow1}})      Optional MSSIM variable counters from Cnt parameter, for GUI presentation
        @{$Result{CntRow2}})      Optional MSSIM variable counters from Cnt parameter, for GUI presentation
        @{$Result{CntRow3}})      Optional MSSIM variable counters from Cnt parameter, for GUI presentation
        @{$Result{CntRow4}})      Optional MSSIM variable counters from Cnt parameter, for GUI presentation
        @{$Result{CntRow5}})      Optional MSSIM variable counters from Cnt parameter, for GUI presentation</pre>
<a name='SendSpeech'></a><h2>SendSpeech</h2>

<pre> SendSpeech();

</pre>
<pre>SUBROUTINE  : SendSpeech
DESCRIPTION : To activate sending of speech, either from MSSIM or from TSS</pre>
<pre>IN  : Param hash including:
        $Param{TG}
        $Param{TRXC}
        $Param{TS}
        $Param{SubCh}         TCH sub channel (0/1)
        $Param{DTX}           DTX Downlink (On/Off)
        $Param{TypeOfCh}      According to Abisco Ch Activation, see IWD Browser
        $Param{AlgOrRate}     According to Abisco Ch Activation, see IWD Browser
        $Param{ChRate}        According to Abisco Ch Activation, see IWD Browser
        $Param{ChannelType}   According to Abisco Ch Activation, see IWD Browser
        $Param{MRVersion}     According to Abisco Ch Activation, see IWD Browser
        $Param{ICMI}          According to Abisco Ch Activation, see IWD Browser
        $Param{StartMode}     According to Abisco Ch Activation, see IWD Browser
        @{$Param{AMR}}        According to Abisco Ch Activation, see IWD Browser
        $Param{TFO}           According to Abisco Ch Activation, see IWD Browser
        $Param{SCS}           According to Abisco Ch Activation, see IWD Browser
        $Param{MACS}          According to Abisco Ch Activation, see IWD Browser
        $Param{SimTypeTSS}    TSS simulation type "Frames" or "LoopBack"
        $Param{StartCodec}    According to Abisco ActivateSpeech OPT1.CodecMode, see IWD Browser
        $Param{SPType1}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
        $Param{SPTime1}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
        $Param{SPType2}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
        $Param{SPTime2}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
        $Param{CodecDL1}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecUL1}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecTime1}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecDL2}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecUL2}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecTime2}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecDL3}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecUL3}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecTime3}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecDL4}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecUL4}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{CodecTime4}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
        $Param{LoopDelay}     According to Abisco ActivateSpeech OPT3, see IWD Browser
        $Param{SimTypeMSSIM}  "LOOP", "PRBS", "PLAY_CHK" or "PLAY_REC"
        $Param{TxFile}        TxFile for MSSIM, see Prisma GSM base
        $Param{RxFile}        RxFile for MSSIM, see Prisma GSM base
        $Param{RxMax}         Rxmax for MSSIM, see Prisma GSM base
        @{$Param{Codec}}      Used Codecs, MSSIM format example: ["AFS4_75", "AFS5_15", "AFS5_9", "AFS6_7"]
        $Param{TimeToRun}     Time to run (in seconds)
OUT : Error 0=OK, 1=error
      Error Reason
      Result hash including:
        @{$Result{Statistic1}}    MSSIM fixed counters
        @{$Result{Statistic2}}    MSSIM variable counters from Cnt parameter
        @{$Result{Statistic3}})   TSS counters
        @{$Result{CntRow0}})      Optional MSSIM variable counters from Cnt parameter, for GUI presentation
        @{$Result{CntRow1}})      Optional MSSIM variable counters from Cnt parameter, for GUI presentation
        @{$Result{CntRow2}})      Optional MSSIM variable counters from Cnt parameter, for GUI presentation
        @{$Result{CntRow3}})      Optional MSSIM variable counters from Cnt parameter, for GUI presentation
        @{$Result{CntRow4}})      Optional MSSIM variable counters from Cnt parameter, for GUI presentation
        @{$Result{CntRow5}})      Optional MSSIM variable counters from Cnt parameter, for GUI presentation</pre>
<a name='SetBCCHType'></a><h2>SetBCCHType</h2>

<pre> SetBCCHType();

</pre>
<pre>SUBROUTINE  : SetBCCHType
DESCRIPTION : Sets BCCHType with UpdateCell. Note that this routine doesn't
              perform a complete start of the BTS.</pre>
<pre>IN  : Hash containing the following keys:
        BTS      - Abisco connection parameter (default $BTS)
        BCCHType - COMB or NCOMB (default $CombType)
OUT : Returns 1 if cell was updated, otherwise 0</pre>
<a name='SetBSPowerLevel'></a><h2>SetBSPowerLevel</h2>

<pre> SetBSPowerLevel();

</pre>
<pre>SUBROUTINE  : SetBSPowerLevel
DESCRIPTION : Set BSPowerControl</pre>
<pre>IN  :
OUT : None</pre>
<a name='StartMeasRep'></a><h2>StartMeasRep</h2>

<pre> StartMeasRep();

</pre>
<pre>SUBROUTINE  : StartMeasRep
DESCRIPTION : Start measurment reporting</pre>
<pre>IN  : MsId. Needed when using with multiple mssim channel activations
OUT : None</pre>
<a name='StartRepChReq'></a><h2>StartRepChReq</h2>

<pre> StartRepChReq();

</pre>
<pre>SUBROUTINE  : StartRepChReq
DESCRIPTION : Start sending Repeated Channel Request</pre>
<pre>IN  :
OUT : None</pre>
<a name='StartTestData'></a><h2>StartTestData</h2>

<pre> StartTestData();

</pre>
<pre>SUBROUTINE  : StartTestData
DESCRIPTION : Starts testing of sending and recieving data frames</pre>
<pre>IN  :
OUT : None</pre>
<a name='StartTestSpeech'></a><h2>StartTestSpeech</h2>

<pre> StartTestSpeech();

</pre>
<pre>SUBROUTINE  : StartTestSpeech
DESCRIPTION : Starts testing of sending and recieving speech frames</pre>
<pre>IN  : SubCh - Subchannel for halfrate. ( Default 0)
OUT : None</pre>
<a name='StopMeasRep'></a><h2>StopMeasRep</h2>

<pre> StopMeasRep();

</pre>
<pre>SUBROUTINE  : StopMeasRep
DESCRIPTION : Stop measurment reports</pre>
<pre>IN  : MsId. Needed when using with multiple mssim channel activations
OUT : None</pre>
<a name='StopRepChReq'></a><h2>StopRepChReq</h2>

<pre> StopRepChReq();

</pre>
<pre>SUBROUTINE  : StopRepChReq
DESCRIPTION : Stop sending Repeated Channel Request</pre>
<pre>IN  : None
OUT : None</pre>
<a name='StoreTG'></a><h2>StoreTG</h2>

<pre> StoreTG();

</pre>
<pre>SUBROUTINE  : StoreTG
DESCRIPTION : Store TG parameters. This subroutin shall be followed by ResetTG
IN  :    {Cell}, {TG}, {MCTR};
OUT :</pre>
<a name='TSConfigReq'></a><h2>TSConfigReq</h2>

<pre> TSConfigReq();

</pre>
<pre>SUBROUTINE  : TSConfigReq
DESCRIPTION : Configure a TS</pre>
<pre>IN  :
OUT :</pre>
<a name='TSDisableReq'></a><h2>TSDisableReq</h2>

<pre> TSDisableReq();

</pre>
<pre>SUBROUTINE  : TSDisableReq
DESCRIPTION : Disable a TS</pre>
<pre>IN  :
OUT :</pre>
<a name='TSEnableReq'></a><h2>TSEnableReq</h2>

<pre> TSEnableReq();

</pre>
<pre>SUBROUTINE  : TSEnableReq
DESCRIPTION : Enable a TS</pre>
<pre>IN  :
OUT :</pre>
<a name='checkSDCCHMeasurementResultsScheduling'></a><h2>checkSDCCHMeasurementResultsScheduling</h2>

<pre> checkSDCCHMeasurementResultsScheduling();

</pre>
<pre>SUBROUTINE  : checkSDCCHMeasurementResultsScheduling
DESCRIPTION : To check that the scheduling of measurement results on Abis
              are correct for SDCCH channels</pre>
<pre>IN  : File name, allowed deviation from correct frame numbers
OUT : success (number of correct messages), error (0)</pre>
<a name='transformRequestReferenceToPosssibleFrameNumbers'></a><h2>transformRequestReferenceToPosssibleFrameNumbers</h2>

<pre> transformRequestReferenceToPosssibleFrameNumbers();

</pre>
<pre>SUBROUTINE  : transformRequestReferenceToPosssibleFrameNumbers
DESCRIPTION : To transform the two last bytes of request reference to an
              array of possible frame number values</pre>
<pre>IN  : First byte(hex) second byte(hex)
OUT : Array of possible frame numbers (64 numbers)</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_combcell</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 229/190 55-CAH 161 1607/1 Uen
MODULE      : subs_combcell
DESCRIPTION : This module contains subroutines for Combined Cell traffic
              tests.</pre>
<pre>COPYRIGHT &copy; : ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?subinit_combcell'>subinit_combcell</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ActivateCSData'></a><h2>ActivateCSData</h2>

<pre> ActivateCSData();

</pre>
<pre>SUBROUTINE  : ActivateCSData
DESCRIPTION : Activate CS data</pre>
<pre>IN  : Parameter Hash
OUT : None</pre>
<a name='BSPowerControl'></a><h2>BSPowerControl</h2>

<pre> BSPowerControl();

</pre>
<pre>SUBROUTINE  : BSPowerControl
DESCRIPTION : Sends a BSPowerControl command</pre>
<pre>IN  : ChType
OUT : cfg file given in string</pre>
<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>SUBROUTINE  : ChActBTS
DESCRIPTION : To activate a channel in the BTS</pre>
<pre>IN  : Hash containing the following key(s):
              AMRCodec    -   AMR Codec
              ChRate      -   Channel rate
              TG          -   TG number
              TRXC        -   TRXC
              TS          -   Timeslot number
              ChType      -   Channel Type
              ActType     -   Activation type
              TypeOfCh    -   Type of Channel
              AlgOrRate   -   GSM algorithm or Rate
              ChAct       -   Channel Activation type
              RFB         -
              AlgId       -   Algorithm ID
              AckType     -   Acknowledgement type (Ack/NAck)
              StartMode   -
              ICP         -
              CI          -
              MRver       -
              MultiRateConfig - Multirate configuration
              lIgnoreBSPower - set to true to disble BSPower
              lIgnoreChannelMode - set to true to disble ChannelMode struct
OUT : Result hash from BTS channel activation</pre>
<a name='ChRelBTS'></a><h2>ChRelBTS</h2>

<pre> ChRelBTS();

</pre>
<pre>SUBROUTINE  : ChRelBTS
DESCRIPTION : To release a channel in the BTS</pre>
<pre>IN  : Hash containing the following key(s):
              ChType    - Channel type
              TG        - TG number
              TRXC      - TRXC
              TS        - Timeslot number
              EP1_BEH   - EP1 Behaviour
OUT : None</pre>
<a name='ChannelTypeTxFile'></a><h2>ChannelTypeTxFile</h2>

<pre> ChannelTypeTxFile();

</pre>
<pre>SUBROUTINE  : ChannelTypeTxFile
DESCRIPTION : Returns .cfg file needed for each type of channel type</pre>
<pre>IN  : ChType
OUT : cfg file given in string</pre>
<a name='CheckCauseValue'></a><h2>CheckCauseValue</h2>

<pre> CheckCauseValue();

</pre>
<pre>SUBROUTINE  : CheckCauseValue
DESCRIPTION : Compares the causevalue in response if a required value</pre>
<pre>IN  : $RespCauseValue          Response from eg. "ChannelActivation..."
OUT : 0 or 1</pre>
<a name='DeactivateCSData'></a><h2>DeactivateCSData</h2>

<pre> DeactivateCSData();

</pre>
<pre>SUBROUTINE  : DeactivateCSData
DESCRIPTION : Dectivate CS data</pre>
<pre>IN  : Parameter Hash
OUT : None</pre>
<a name='GetTSCparameters'></a><h2>GetTSCparameters</h2>

<pre> GetTSCparameters();

</pre>
<pre>SUBROUTINE  : GetTSCparameters
DESCRIPTION : To get the appropriate TSC_SET and TSC depending
              of wanted ChType when using VAMOS
              TSC on MSSIM is a combination of TSC_SET and TSC</pre>
<pre>IN  : ChType- Valid parameters: Bm
                                Bm_1
                                Lm/0
                                Lm/1
                                Lm/0_1
                                Lm/1_1
OUT : Hash containing TSC_SET
                      TSC
                      MixingOrder
                      MSCapability
                      MSSIM_TSC
                      SubTs</pre>
<a name='StartLoopMSSIM'></a><h2>StartLoopMSSIM</h2>

<pre> StartLoopMSSIM();

</pre>
<pre>SUBROUTINE  : StartLoopMSSIM
DESCRIPTION : To start the loop function in MSSIM</pre>
<pre>IN  : Parameter Hash
OUT : 0=OK</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_CSData</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>
      Copyright (C) 2006 by 
      ERICSSON AB 
      S-164 80 STOCKHOLM 
      Phone +46 8 719 0000     
      Company Registration number: 556056-6258 
      The program may be used and/or copied only with the written 
      permission from Ericsson AB, or in accordance with 
      the terms and conditions stipulated in the agreement/contract 
      under which the program has been supplied. 
      All rights reserved

			Module: 
			 csdata.abi

      Author: 
       Stefan Mohlin

      Description: 
 				Test program for sending Circuit Switched Data from TSS and
        loop i back from a mobile simulator (CRTC or Prisma MSSIM)

        Also the csdatafunc.pm program is needed. This program
        sends the commands to TSS and the mobile simulator.

        The program works for all Data rates and all Abis Modes.

        For more information, see document:
        	User Guide Payload testing with Abisco
          2/198 17-FCD 201 33 Uen 
          (The document comes with the Abisco installation) 
         
      File Revision: 
		P1A 090820 ERATZIS Based on csdata.pl
  	P1B 100611 ESTEMOH Updated for loop of CS data
  	P1C 100705 ESTEMOH Updated to use hash in SendCSData call




</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Tk::HList'>Tk::HList</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Tk::LabFrame'>Tk::LabFrame</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Tk'>Tk</a></i></pre>
<pre><i>csdatafunc(SendCSData)</i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ButtonNext'></a><h2>ButtonNext</h2>

<pre> ButtonNext();

</pre>
<pre>Subroutine: ButtonNext
Purpose:    To dispaly "nex" statistics
Input:	  	Previous button
            Next button
Output:     None</pre>
<a name='ButtonPrev'></a><h2>ButtonPrev</h2>

<pre> ButtonPrev();

</pre>
<pre>Subroutine: ButtonPrev
Purpose:    To dispaly "previous" statistics
Input:	  	Previous button
            Next button
Output:     None</pre>
<a name='ChangePatternFile'></a><h2>ChangePatternFile</h2>

<pre> ChangePatternFile();

</pre>
<pre>Subroutine: ChangePatternFile
Purpose:    To change path and filename for pattern file
            Update codec settings for AMR
Input:	  	Index to actual speech type
Output:     None</pre>
<a name='ClearStatistics'></a><h2>ClearStatistics</h2>

<pre> ClearStatistics();

</pre>
<pre>Subroutine: ClearStatistics
Purpose:    To clear statistics. This routine is called when the "Clear Statistics"
            butten is slected.
Input:	  	Previous button
            Next button
Output:     None</pre>
<a name='CreateGUI'></a><h2>CreateGUI</h2>

<pre> CreateGUI();

</pre>
<pre>Subroutine: CreateGUI
Purpose:    To create the GUI for CS Data</pre>
<pre>Input:	  	None
Output:     None</pre>
<a name='DisplayStatistics'></a><h2>DisplayStatistics</h2>

<pre> DisplayStatistics();

</pre>
<pre>Subroutine: DisplayStatistics
Purpose:    To dispaly statistics on the GUI
Input:	  	Result number
Output:     None</pre>
<a name='GetStatistics'></a><h2>GetStatistics</h2>

<pre> GetStatistics();

</pre>
<pre>Subroutine: GetStatistics
Purpose:    To save statistics received from csdatafunc.pm in a hash
Input:	  	Result text
		  			Result array
Output:     Succes rate
            Global hash %ResultHash updated</pre>
<a name='PopUp'></a><h2>PopUp</h2>

<pre> PopUp();

</pre>
<pre>Subroutine: PopUp
Purpose:    To present a pop-up window with OK and Cancel buttons
Input:	  	Text to display
            Button (OK or OKCancel)
Output:     Selected button (OK or Cancel)</pre>
<a name='ReadPatternConfigFile'></a><h2>ReadPatternConfigFile</h2>

<pre> ReadPatternConfigFile();

</pre>
<pre>Subroutine: ReadPatternConfigFile
Purpose:    To read the configuration file for pattern files
Input:	  	None
Output:     None</pre>
<a name='SaveStatistics'></a><h2>SaveStatistics</h2>

<pre> SaveStatistics();

</pre>
<pre>Subroutine: SaveStatistics
Purpose:    To save statistics. This routine is called when the "Save Statistics"
            butten is slected.
            Loop through %ResultHash and call "SaveStatisticsToFile"
Input:	  	None
Output:     None</pre>
<a name='SaveStatisticsLog'></a><h2>SaveStatisticsLog</h2>

<pre> SaveStatisticsLog();

</pre>
<pre>Subroutine: SaveStatistics
Purpose:    To save statistics. This routine is called when no GUI is used</pre>
<pre>            Loop through %ResultHash and call "SaveStatisticsToFileNoGUI"
Input:	  	None
Output:     None


</pre>
<a name='SaveStatisticsToFile'></a><h2>SaveStatisticsToFile</h2>

<pre> SaveStatisticsToFile();

</pre>
<pre>Subroutine: SaveStatisticsToFile
Purpose:    To save statistics to file
Input:	  	Result number in Result hash
Output:     None</pre>
<a name='StartTest'></a><h2>StartTest</h2>

<pre> StartTest();

</pre>
<pre>Subroutine: StartTest
Purpose:    This routine is called when the "Start Test" button is pressed.
            - It checks the input parameter
            - Calls subroutine SendCSData in csdatafunc.pm to run the test
            - Show results from test
Input:	  	"Previous" button
		  			"Next" button
Output:     None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_CSServices</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 143/190 55-CAH 161 1607/1 Uen
MODULE      : Subs_CSServices.pm
DESCRIPTION : This program contains subroutines for Circuit Switch Services</pre>
<pre>COPYRIGHT &copy; : ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW            COMMENT
A   20100921  ERAKOSI   Syntronic AB/     File created. Approved UABTOH.
                        Martin Wikstr&ouml;m
B   20110520  XNICOST   XTOBSEM           Added CorruptDLFrames_CSData and CorruptDLFrames_CSpeech
C   20120629  XMAREDV   XAMMELY           Changed FindMsgInLog to seperate DL/UL messages
                                           Added ActivateTLSI
                                           Updated ActivateTLSI
                                           Updated script to import $TG, $TRXC, $Cell and $TRXList
                                           from subinit, Added strict, warnings, diagnostics and Perl
                                           Critic(HP14558).
                                           Updated script template, added functions
                                           FindEmptyDLInfoInLog and FindRIFInLog
                                           Updated script according to HP55536, HP70500 and HP70529.
PD1 20131121  XAMMELY   XSALNIC           Changed ScanLog to support IP configuration,
                                           Added "TypeOfCh" in Subroutine "ChannelActAsyncHandover".</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?SubInit_CSServices'>SubInit_CSServices</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DBI'>DBI</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?csdatafunc'>csdatafunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ActivateFERMeasurement'></a><h2>ActivateFERMeasurement</h2>

<pre> ActivateFERMeasurement();

</pre>
<pre>SUBROUTINE  : ActivateFERMeasurement
DESCRIPTION : Activate FER measurement</pre>
<pre>IN  : Parameter hash
OUT : 0=OK, 1=Error</pre>
<a name='ActivateHandoverPendingChannel'></a><h2>ActivateHandoverPendingChannel</h2>

<pre> ActivateHandoverPendingChannel();

</pre>
<pre>SUBROUTINE  : ActivateHandoverPendingChannel
DESCRIPTION : To update speech in TSS</pre>
<pre>IN  : Parameter hash
OUT : 0=OK, 1=Error</pre>
<a name='ActivateTLSI'></a><h2>ActivateTLSI</h2>

<pre> ActivateTLSI();

</pre>
<pre>SUBROUTINE  : ActivateTLSI
DESCRIPTION :</pre>
<pre>IN  : TG, TLSI
OUT : None</pre>
<a name='ChannelActAsyncHandover'></a><h2>ChannelActAsyncHandover</h2>

<pre> ChannelActAsyncHandover();

</pre>
<pre>SUBROUTINE  : ChannelActAsyncHandover
DESCRIPTION : To activate a channel in the BTS</pre>
<pre>IN  : $TG, $TRXC, $TS, $DTX, $ChannelRate, $AlgOrRate
OUT : None</pre>
<a name='ConnectToMSSIM'></a><h2>ConnectToMSSIM</h2>

<pre> ConnectToMSSIM();

</pre>
<pre>SUBROUTINE  : ConnectToMSSIM
DESCRIPTION :</pre>
<pre>IN  : Parameter hash
OUT : Parameter hash, Error</pre>
<a name='CorruptDLFrames_CSData'></a><h2>CorruptDLFrames_CSData</h2>

<pre> CorruptDLFrames_CSData();

</pre>
<pre>SUBROUTINE  : CorruptDLFrames_CSData
DESCRIPTION : Start or stop corrupting DL CSData frames with bit errors</pre>
<pre>IN  : Mode      =&gt; 'ON' or 'OFF'
      TimeToRun =&gt; Time to run in seconds. Will resend Update Command
                   every fourth second so that corrupted frames are sent
                   for at least this specified time
                   '1' (or undefined) will send command once
OUT : Error        1 if Error
                         0 if no Error</pre>
<a name='CorruptDLFrames_Speech'></a><h2>CorruptDLFrames_Speech</h2>

<pre> CorruptDLFrames_Speech();

</pre>
<pre>SUBROUTINE  : CorruptDLFrames_Speech
DESCRIPTION : Start or stop corrupting DL speech frames with bit errors</pre>
<pre>IN  : Mode      =&gt; 'ON' or 'OFF'
      TimeToRun =&gt; Time to run in seconds. Will resend Update Command
                   every fourth second so that corrupted frames are sent
                   for at least this specified time
                   '1' (or undefined) will send command once
OUT : Error        1 if Error
                         0 if no Error</pre>
<a name='CreateParamHash'></a><h2>CreateParamHash</h2>

<pre> CreateParamHash();

</pre>
<pre>SUBROUTINE  : CreateParamHash
DESCRIPTION : To create parameter hash to be sent to subroutine SendSpeech
            in module speechfunc.pm.
            See speechfunc.pm for parameter layout</pre>
<pre>IN  : Speech Type
OUT : Parameter hash</pre>
<a name='DeactivateFERMeasurement'></a><h2>DeactivateFERMeasurement</h2>

<pre> DeactivateFERMeasurement();

</pre>
<pre>SUBROUTINE  : DeactivateFERMeasurement
DESCRIPTION : Deactivate FER measurement</pre>
<pre>IN  : None
OUT : 0=OK, 1=Error</pre>
<a name='FindBFIInfoInLog'></a><h2>FindBFIInfoInLog</h2>

<pre> FindBFIInfoInLog();

</pre>
<pre>SUBROUTINE  : FindBFIInfoInLog
DESCRIPTION : To find BFI values in log</pre>
<pre>IN  : None
OUT : Array</pre>
<a name='FindEmptyDLInfoInLog'></a><h2>FindEmptyDLInfoInLog</h2>

<pre> FindEmptyDLInfoInLog();

</pre>
<pre>SUBROUTINE  : FindEmptyDLInfoInLog
DESCRIPTION : To find empty downlink in log</pre>
<pre>IN  : None
OUT : Array</pre>
<a name='FindFrameClassificationInfoInLog'></a><h2>FindFrameClassificationInfoInLog</h2>

<pre> FindFrameClassificationInfoInLog();

</pre>
<pre>SUBROUTINE  : FindFrameClassificationInfoInLog
DESCRIPTION : To find frame classification in log</pre>
<pre>IN  : None
OUT : Array</pre>
<a name='FindMsgInLog'></a><h2>FindMsgInLog</h2>

<pre> FindMsgInLog();

</pre>
<pre>SUBROUTINE  : FindMsgInLog
DESCRIPTION : To find a message in log</pre>
<pre>IN  : LogFile
OUT : Array</pre>
<a name='FindRIFInLog'></a><h2>FindRIFInLog</h2>

<pre> FindRIFInLog();

</pre>
<pre>SUBROUTINE  : FindRIFInLog
DESCRIPTION : To find RIF values in log</pre>
<pre>IN  : None
OUT : Array</pre>
<a name='FindSIDInfoInLog'></a><h2>FindSIDInfoInLog</h2>

<pre> FindSIDInfoInLog();

</pre>
<pre>SUBROUTINE  : FindSIDInfoInLog
DESCRIPTION : To find SID Info in log</pre>
<pre>IN  : None
OUT : Array</pre>
<a name='FindUmPatternInLog'></a><h2>FindUmPatternInLog</h2>

<pre> FindUmPatternInLog();

</pre>
<pre>SUBROUTINE  : FindUmPatternInLog
DESCRIPTION : To find Um Pattern in log</pre>
<pre>IN  : None
OUT : Array</pre>
<a name='GetAMRParam'></a><h2>GetAMRParam</h2>

<pre> GetAMRParam();

</pre>
<pre>SUBROUTINE  : GetAMRParam
DESCRIPTION : To prepare AMR parameters for BTS Channel Activation</pre>
<pre>IN  : Action, Param
OUT : Param</pre>
<a name='GetAbsFreqSG'></a><h2>GetAbsFreqSG</h2>

<pre> GetAbsFreqSG();

</pre>
<pre>SUBROUTINE  : GetAbsFreqSG
DESCRIPTION : To get the absolute frequencies of DL and UL on BTS</pre>
<pre>IN  : Arfcn
            FreqBand
OUT : FrequencyHash =&gt; Uplink, Downlink</pre>
<a name='GetCodec'></a><h2>GetCodec</h2>

<pre> GetCodec();

</pre>
<pre>SUBROUTINE  : GetCodec
DESCRIPTION : Get get select codecs for AMRFR, AMRWB OR AMRHR</pre>
<pre>IN  : Speech Type
OUT : Global hash %SpeechHash updated with updated with codec bitmap</pre>
<a name='HexToBinary'></a><h2>HexToBinary</h2>

<pre> HexToBinary();

</pre>
<pre>SUBROUTINE  : HexToBinary
DESCRIPTION : To Convert a Hex value to Bin</pre>
<pre>IN  : HEX
OUT : Bin</pre>
<a name='InitSG'></a><h2>InitSG</h2>

<pre> InitSG();

</pre>
<pre>SUBROUTINE  : SetSSQIUinDVT
DESCRIPTION : Initializes Signal Generator</pre>
<pre>IN  : Instance
OUT : None</pre>
<a name='ReadPatternConfigFile'></a><h2>ReadPatternConfigFile</h2>

<pre> ReadPatternConfigFile();

</pre>
<pre>SUBROUTINE  : ReadPatternConfigFile
DESCRIPTION : To read the configuration file for pattern files</pre>
<pre>IN  : None
OUT : None</pre>
<a name='ReadPatternFile'></a><h2>ReadPatternFile</h2>

<pre> ReadPatternFile();

</pre>
<pre>SUBROUTINE  : ReadPatternFile
DESCRIPTION : To update the codec settings based on the pattern file</pre>
<pre>IN  : Index to actual speech type
            AMR Type
            Reference to Codec array
OUT : None</pre>
<a name='ScanLog'></a><h2>ScanLog</h2>

<pre> ScanLog();

</pre>
<pre>SUBROUTINE  : ScanLog
DESCRIPTION : Scans lsu text file for a specific TRAU message</pre>
<pre>IN  : Parameter hash:
      LogFile, Type, Direction, Txt, CountMinimum
OUT : None</pre>
<a name='ScanLogNot'></a><h2>ScanLogNot</h2>

<pre> ScanLogNot();

</pre>
<pre>SUBROUTINE  : ScanLogNot
DESCRIPTION : Scans lsu text file for a specific TRAU message</pre>
<pre>IN  : Parameter hash:
      LogFile, Type, Direction, Txt, CountMinimum
OUT : None</pre>
<a name='SendTSConfigRequest'></a><h2>SendTSConfigRequest</h2>

<pre> SendTSConfigRequest();

</pre>
<pre>SUBROUTINE  : SendTSConfigRequest
DESCRIPTION : To Enable a Time Slot</pre>
<pre>IN  : None
OUT : None</pre>
<a name='SendTSDisableRequest'></a><h2>SendTSDisableRequest</h2>

<pre> SendTSDisableRequest();

</pre>
<pre>SUBROUTINE  : SendTSDisableRequest
DESCRIPTION : To Disable a Time Slot</pre>
<pre>IN  : None
OUT : None</pre>
<a name='SendTSEnableRequest'></a><h2>SendTSEnableRequest</h2>

<pre> SendTSEnableRequest();

</pre>
<pre>SUBROUTINE  : SendTSConfigRequest
DESCRIPTION : To Enable a Time Slot</pre>
<pre>IN  : None
OUT : None</pre>
<a name='SetAmpSG'></a><h2>SetAmpSG</h2>

<pre> SetAmpSG();

</pre>
<pre>SUBROUTINE  : SetAmpSG
DESCRIPTION : Sets the amplitude value of the signal generator.
            When no AbsAmp input exists, the RelAmp Sets the amplitude value
            as it should be on the RX input of the BTS.
            To calculate the amplitude to set on the signal generator, the
            SG TTA will add this value to the attenuation set with the
            'SaveSGAttenuation' command.</pre>
<pre>IN  : Instance    (Instance number)
            RelAmp      (Relative Amplitude of noise)
            AbsAmp      (Absolute Amplitude of noise)
OUT : None</pre>
<a name='SetFreqSG'></a><h2>SetFreqSG</h2>

<pre> SetFreqSG();

</pre>
<pre>SUBROUTINE  : SetFreqSG
DESCRIPTION : Sets the output frequency of the signal generator.</pre>
<pre>IN  : Instance    (Instance number)
            AbsFreq     (Absolute frequency, if DL is used)
OUT : None</pre>
<a name='SetMSSIMPowerControl'></a><h2>SetMSSIMPowerControl</h2>

<pre> SetMSSIMPowerControl();

</pre>
<pre>SUBROUTINE  : SetMSSIMPowerControl
DESCRIPTION : Set MSSIM Power Control to input value</pre>
<pre>IN  : %Param
OUT : None</pre>
<a name='SetOutputSG'></a><h2>SetOutputSG</h2>

<pre> SetOutputSG();

</pre>
<pre>SUBROUTINE  : SetOutputSG
DESCRIPTION : Turn On or Off the Signal geenrator</pre>
<pre>IN  : Instance    (Instance number)
            Output      ('On' / 'Off')
OUT : None</pre>
<a name='SetSSQIUinDVT'></a><h2>SetSSQIUinDVT</h2>

<pre> SetSSQIUinDVT();

</pre>
<pre>SUBROUTINE  : SetSSQIUinDVT
DESCRIPTION : Set SSQIU parameter in DVT</pre>
<pre>IN  : HW   - HW to execute command on
                Mode   - 'on', 'off'
                TS     - Timeslot
OUT : 0=OK, 1=Error</pre>
<a name='SetTLS'></a><h2>SetTLS</h2>

<pre> SetTLS();

</pre>
<pre>SUBROUTINE  : SetTLS
DESCRIPTION : To modify TLS
example:    SetTLS(TLSA=&gt;'yes', TLSI =&gt;'no');
IN  : TLSA, TLSI
OUT : None</pre>
<a name='UpdateCSData'></a><h2>UpdateCSData</h2>

<pre> UpdateCSData();

</pre>
<pre>SUBROUTINE  : UpdateCSData
DESCRIPTION : To update (and insert faults) in CS Data in TSS</pre>
<pre>IN  : Parameter hash
OUT : 0=OK, 1=Error</pre>
<a name='UpdateSpeech'></a><h2>UpdateSpeech</h2>

<pre> UpdateSpeech();

</pre>
<pre>SUBROUTINE  : UpdateSpeech
DESCRIPTION : To update speech in TSS, either "Frames" or "LoopBack"</pre>
<pre>IN  : Parameter hash
OUT : 0=OK, 1=Error</pre>
<a name='UpdateSpeechAND'></a><h2>UpdateSpeechAND</h2>

<pre> UpdateSpeechAND();

</pre>
<pre>SUBROUTINE  : UpdateSpeechAND
DESCRIPTION : To update speech in TSS, either "Frames" or "LoopBack"</pre>
<pre>IN  : Parameter hash
OUT : 0=OK, 1=Error</pre>
<a name='UpdateSpeechORMask'></a><h2>UpdateSpeechORMask</h2>

<pre> UpdateSpeechORMask();

</pre>
<pre>SUBROUTINE  : UpdateSpeechORMask
DESCRIPTION : To update speech in TSS, either "Frames" or "LoopBack"</pre>
<pre>IN  : Parameter hash
OUT : 0=OK, 1=Error</pre>
<a name='UpdateSpeechXOR'></a><h2>UpdateSpeechXOR</h2>

<pre> UpdateSpeechXOR();

</pre>
<pre>SUBROUTINE  : UpdateSpeechXOR
DESCRIPTION : To update speech in TSS, either "Frames" or "LoopBack"</pre>
<pre>IN  : Parameter hash
OUT : 0=OK, 1=Error</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_divsuper</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 161/190 55-CAH 161 1607/1
MODULE      : Subs_divsuper
DESCRIPTION : Contains subroutines for Diversity Supervision tests</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE       NAME     REVIEW      COMMENT
A     20101005   QRADGUT  XRSSAJO     File created. Approved UABTOH.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i> needed for 'croak' function</pre>
<pre><i>HelpFunc(ConvertTrueFalse)</i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc(PrettyPrint,'>PerlFunc(PrettyPrint,</a></i></pre>
<pre><i>DVTFunc(DVTCommand)</i></pre>
<pre><i>AbiscoFunc2(GetSeveral)</i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?lib'>lib</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DBI'>DBI</a></i></pre>
<pre><i>Msg(Strip)</i></pre>
<pre><i>User(Print)</i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection(Do,'>Abisco_Connection(Do,</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Switch'>Switch</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='AbisLoggingBTS'></a><h2>AbisLoggingBTS</h2>

<pre> AbisLoggingBTS();

</pre>
<pre>Subroutine: AbisLoggingBTS
Purpose:    Turn Abis logging off or on
Input:			State =&gt; 'OFF',
Output:</pre>
<a name='CallSetUp'></a><h2>CallSetUp</h2>

<pre> CallSetUp();

 Subroutine:  CallSetUp
Purpose: Setting up a Mobile Terminated call
Input:		$TG, $TRXC, $TS, $TCHSubCH, $SDCCHSubCH
Output:


</pre>
<a name='ChannelActNormal'></a><h2>ChannelActNormal</h2>

<pre> ChannelActNormal();

</pre>
<pre>ChannelActNormal
SYNTAX: ChannelActNormal('TimeSlot' =&gt; $T);
IN:
OUT:</pre>
<a name='ChannelRelease'></a><h2>ChannelRelease</h2>

<pre> ChannelRelease();

</pre>
<pre>ChannelRelease
SYNTAX: ChannelRelease('TimeSlot' =&gt; $T);
IN:
OUT:</pre>
<a name='CheckDiverSupImbalance'></a><h2>CheckDiverSupImbalance</h2>

<pre> CheckDiverSupImbalance();

</pre>
<pre>CheckDiverSupImbalance via DVT
IN:  $TRXC
OUT: Imbalance between antennas (A-B,B-D..etc)</pre>
<a name='CheckRDiv'></a><h2>CheckRDiv</h2>

<pre> CheckRDiv();

</pre>
<pre>CheckRDiv via DVT
IN:  $TRXC
OUT: $CurrRDiv</pre>
<a name='ClearLogFile'></a><h2>ClearLogFile</h2>

<pre> ClearLogFile();

</pre>
<pre>--FUNCTION : ClearLogFile
COMMENT  :</pre>
<pre>IN       :
OUT	   :
--</pre>
<a name='CompleteStart'></a><h2>CompleteStart</h2>

<pre> CompleteStart();

</pre>
<pre>--FUNCTION : CompleteStart
COMMENT  :
Syntax   : CompleteStart(TypeOfstart =&gt; 'DXU');
IN       :
OUT	   :
--</pre>
<a name='CompleteStartWithParamters'></a><h2>CompleteStartWithParamters</h2>

<pre> CompleteStartWithParamters();

</pre>
<pre>Subroutine: CompleteStartWithParamters
Purpose:    To do a complete start on choosen TG
Input:			%Input -&gt;TG,
Output:     %return (Hash reference);</pre>
<a name='ConfigMO'></a><h2>ConfigMO</h2>

<pre> ConfigMO();

</pre>
<pre>--FUNCTION : ConfigMO
COMMENT  : Configures MOs TX, RX and TS
Syntax   : ConfigMO({TRXC =&gt; $TRXC, MO =&gt; $MO, RXDiv =&gt; $RXDiv, etc.});
IN	   : Optionally  one or more of the following
           keys: TRXC, FreqSpec, Power, NoFreqSpec, FM, BCC, AIP, MO
OUT	   :
--</pre>
<a name='ConfigMORX'></a><h2>ConfigMORX</h2>

<pre> ConfigMORX();

</pre>
<pre>Subroutine: ConfigMORX
Purpose:    To send a RX_CONFIGURATION_REQUEST and read the received
            frames on abis instead from abisco.
Input:			%Input -&gt;BTS, TG, TRXC, MO
Output:     %return (Hash reference);</pre>
<a name='ConfigRUT'></a><h2>ConfigRUT</h2>

<pre> ConfigRUT();

</pre>
<pre>Subroutine: ConfigRUT
Purpose:
Input:
Output:</pre>
<a name='ConfigRxDiversity'></a><h2>ConfigRxDiversity</h2>

<pre> ConfigRxDiversity();

</pre>
<pre>--FUNCTION : ConfigRxDiversity
COMMENT  : Configuration of RX Diversity on TRXC:
           TRXCMaster &amp; TRXCSlave
IN	   :
OUT	   : None
--</pre>
<a name='ConfigTS'></a><h2>ConfigTS</h2>

<pre> ConfigTS();

</pre>
<a name='ConnectMO'></a><h2>ConnectMO</h2>

<pre> ConnectMO();

</pre>
<pre>--FUNCTION : ConnectMO
COMMENT  : Sends ConnectCommand to MO defined by MOClass, InstanceNo
           and AssosiatedSOInstance and checks ConnectComplete.
IN	   : Optionally one or more of the following
           keys: TRXC, MO, MOState, INST, ASOInst
OUT	   : None
--</pre>
<a name='ConnectResetStart'></a><h2>ConnectResetStart</h2>

<pre> ConnectResetStart();

</pre>
<pre>--FUNCTION : ConnectResetStart
COMMENT  : ConnectResetStart
IN	   : Optionally one or more of the following
           keys: TRXList, MO
OUT	   : None
--</pre>
<a name='ConnectTG'></a><h2>ConnectTG</h2>

<pre> ConnectTG();

</pre>
<pre>--FUNCTION : ConnectTG
COMMENT  :
Syntax   : ConnectTG(TransceiverGroup =&gt; 0);
IN       :
OUT	   :
--</pre>
<a name='ConvertToFloat'></a><h2>ConvertToFloat</h2>

<pre> ConvertToFloat();

</pre>
<pre>--FUNCTION : ConvertToFloat
COMMENT  : Converts numbers in string format ("-15.12") to Floating
           Point values (-15.12)
IN	   : \@RawStrings - Reference to Array containing numbers in
                          string format (e.g. "15.12", "12.65")
OUT	   : \@Floats - Reference to Array containing Floating Point
                      values (e.g. 15.12, 12.65)
--</pre>
<a name='DbCheckTable'></a><h2>DbCheckTable</h2>

<pre> DbCheckTable();

</pre>
<pre>Subroutine: CheckTable
Purpose:    To check if table is in used database
Input:			filename
						tablename
Output:     1 for true, 0 for false</pre>
<a name='DbReport'></a><h2>DbReport</h2>

<pre> DbReport();

</pre>
<pre>Subroutine: DbReport
Purpose:    To send log text from the Result hash to file.
Input:	  	None
Syntax:     DbReport(DbName =&gt; 'data');
Output:     None</pre>
<a name='DealocateLAPD'></a><h2>DealocateLAPD</h2>

<pre> DealocateLAPD();

</pre>
<pre>Subroutine: DealocateLAPD
Purpose:    Defines cell in choosen TG
Input:			%Input -&gt;TGId,PC_Handle, PC_TEI
Output:     %return (Hash reference);</pre>
<a name='DecodeAttribute'></a><h2>DecodeAttribute</h2>

<pre> DecodeAttribute();

</pre>
<pre>Subroutine: DecodeAttribute
Purpose:    To decode an attributed record in Capabilities Result
Input:      Attribute Recorded
Output:     None, Output will be written in the file</pre>
<a name='DefineCellBTS'></a><h2>DefineCellBTS</h2>

<pre> DefineCellBTS();

</pre>
<pre>Subroutine: DefineCellBTS
Purpose:    Defines cell in choosen TG
Input:			%Input -&gt;TG,CellNr
Output:     %return (Hash reference);</pre>
<a name='DeleteTGBTS'></a><h2>DeleteTGBTS</h2>

<pre> DeleteTGBTS();

</pre>
<pre>Subroutine: DeleteTGBTS
Purpose:    Deletes choosen TG
Input:			%Input -&gt;TG,CellNr
Output:     %return (Hash reference);</pre>
<a name='DisableAllTS'></a><h2>DisableAllTS</h2>

<pre> DisableAllTS();

</pre>
<pre>--FUNCTION : DisableAllTS
COMMENT  : Disable all TS for a given TRX
IN	   : Optionally the keys TRXC, ASOInst
OUT	   :
--</pre>
<a name='DisableMO'></a><h2>DisableMO</h2>

<pre> DisableMO();

</pre>
<pre>--FUNCTION : DisableMO
COMMENT  : Sends DisableRequest to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks DisableResult.
IN	   : Optionally a reference to a Hash
           containing one or more of the following
           keys: TRXC, MO, MOState, ASOInst, ReasonCode, ResultCode
           ASOInst, INST
Out	   : None
--</pre>
<a name='DisconnectCall'></a><h2>DisconnectCall</h2>

<pre> DisconnectCall();

 Subroutine:  DisconnectCall
Purpose: Disconnecting call
Input:		$LMSID
Output:


</pre>
<a name='DisconnectMO'></a><h2>DisconnectMO</h2>

<pre> DisconnectMO();

</pre>
<pre>--FUNCTION : DisconnectMO
COMMENT  : Sends DisconnectCommand to MO defined by MOClass, InstanceNo
           and AssosiatedSOInstance and checks DisconnectComplete.
IN	   : Optionally one or more of the following
           keys: TRXC, MO, MOState, INST, ASOInst
OUT	   : None
--</pre>
<a name='DisconnectTG'></a><h2>DisconnectTG</h2>

<pre> DisconnectTG();

</pre>
<pre>--FUNCTION : DisconnectTG
COMMENT  :
Syntax   : DisconnectTG(TransceiverGroup =&gt; 0);
IN       :
OUT	   :
--</pre>
<a name='EnableAllTS'></a><h2>EnableAllTS</h2>

<pre> EnableAllTS();

</pre>
<pre>--FUNCTION : EnableAllTS
COMMENT  : Enable all TS For a given TRX
IN	   : Optionally the key TRXC
OUT	   :
--</pre>
<a name='EnableMO'></a><h2>EnableMO</h2>

<pre> EnableMO();

</pre>
<pre>--FUNCTION : EnableMO
COMMENT  : Sends EnableRequest to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks EnableResult.
IN	     : Optionally a reference to a Hash containing
           one or more of the following
           keys: TRXC, MO, MOState, ASOInst
OUT	     : None
--</pre>
<a name='EstablishLAPD'></a><h2>EstablishLAPD</h2>

<pre> EstablishLAPD();

</pre>
<pre>--FUNCTION : EstablishLAPD
COMMENT  : Establish LAPD (L2) link
IN	   : Optionally one or more of the following
           keys: TRXC, MO, LinkType
OUT	 :
--</pre>
<a name='EstablishResetStart'></a><h2>EstablishResetStart</h2>

<pre> EstablishResetStart();

</pre>
<pre>-COMMENT: EstablishResetStart
IN     : None
OUT    : None
-</pre>
<a name='FetchAttribute'></a><h2>FetchAttribute</h2>

<pre> FetchAttribute();

</pre>
<pre>Subroutine: FetchAttribute
Purpose:    Pick up one Attribute (Id, Length and Info) from the %Resp buffer
Input:      %Resp (global)
Output:     @Att (Attribute buffer)</pre>
<a name='FormatTestcaseName'></a><h2>FormatTestcaseName</h2>

<pre> FormatTestcaseName();

</pre>
<pre>Subroutine: FormatTestcaseName
Purpose:    Reformats the PAR hash test case name for printout purposes.
            If the input string is not on the format "XX_YY", it is returned unchanged.
Input:      TestcaseName =&gt; "xx_yy"
Output:     "xx.yy"</pre>
<a name='GetDateTime'></a><h2>GetDateTime</h2>

<pre> GetDateTime();

</pre>
<pre>Subroutine: GetDateTime
Purpose:    Formats date and time
Input:	  	None
Output:     Formatted string with date and time</pre>
<a name='GetDateTimeForFileName'></a><h2>GetDateTimeForFileName</h2>

<pre> GetDateTimeForFileName();

</pre>
<pre>Subroutine: GetDateTimeForFileName
Purpose:    Formats date and time
Input:	  	None
Output:     Formatted string with date and time YYYYMMDD_HHMMSS</pre>
<a name='GetLast'></a><h2>GetLast</h2>

<pre> GetLast();

</pre>
<pre>--FUNCTION : GetLast
COMMENT: Returns last value of a list
         (incl. removal of last character !)
IN	 : @List - as variable name says
Out	 : $_ - scalar containing last value of @List
--</pre>
<a name='GetMOStatus'></a><h2>GetMOStatus</h2>

<pre> GetMOStatus();

</pre>
<pre>-COMMENT: GetMOStatus
IN     : Optionally one or more of the following
         keys: TRXC, MO, INST, TFMode, MOState
OUT    : None
-</pre>
<a name='GetResult'></a><h2>GetResult</h2>

<pre> GetResult();

</pre>
<pre>Subroutine: GetResult
Purpose:    Returns the TC result value
Input:	  	None
Output:     TC result value</pre>
<a name='GetTrxArray'></a><h2>GetTrxArray</h2>

<pre> GetTrxArray();

</pre>
<pre>--Subroutine: GetTrxArray
Purpose: 		Returns a TRX array
Input: 			None
Output: 		@TrxArray
--</pre>
<a name='HandleError'></a><h2>HandleError</h2>

<pre> HandleError();

</pre>
<pre>Subroutine: HandleError
Purpose:    Performs necessary shutdowns and kills the program when an
						error occurs. It also log the errors and sets the TC result.
Input:	  	ErrMsg		(Contains information of the error cause)
Syntax:     HandleError(ErrMsg =&gt; 'error message');
Output:     None</pre>
<a name='HandleLogg'></a><h2>HandleLogg</h2>

<pre> HandleLogg();

</pre>
<pre>Subroutine: HandleLogg
Purpose:    Saves logg message string to further saving in database by DbReport
Input:	  	LoggMsg		(Contains information of test case senario)
Syntax:     HandleLogg(LoggMsg =&gt; 'message');
Output:     None</pre>
<a name='InfoCellBTS'></a><h2>InfoCellBTS</h2>

<pre> InfoCellBTS();

</pre>
<pre>Subroutine: InfoCellBTS
Purpose:    To get cell information about active cell
Input:			Cell =&gt; 0
Output:</pre>
<a name='InfoTGBTS'></a><h2>InfoTGBTS</h2>

<pre> InfoTGBTS();

</pre>
<pre>Subroutine: InfoTGBTS
Purpose:    To get tg information about active tg
Input:			None
Output:</pre>
<a name='InitResult'></a><h2>InitResult</h2>

<pre> InitResult();

</pre>
<pre>Subroutine: InitResult
Purpose:    To initiate the Result hash
Syntax :	  InitResult();
Output :    None</pre>
<a name='MakeBin'></a><h2>MakeBin</h2>

<pre> MakeBin();

</pre>
<pre>Subroutine: MakeBin
Purpose:    To convert an 8 bit integer to a binary string
Input:      Integer
Output:     Binary as string</pre>
<a name='NewTGBTS'></a><h2>NewTGBTS</h2>

<pre> NewTGBTS();

</pre>
<pre>Subroutine: NewTGBTS
Purpose:    Creates new TG
Input:			%Input -&gt; TGId, Model, TGBand, Cabinet, AbisVersion,
                      SatelliteAbis, NumberOfTRX, TRXTypeList, Encryption,
                      AbisMode
Output:     %return (Hash reference);</pre>
<a name='Octets'></a><h2>Octets</h2>

<pre> Octets();

</pre>
<pre>=COMMENT: Split an integer into octets
IN:  $1 - An integer (max 32 bits)
     $2 - No. of octets (1..4) (hi bits lost if too few), default is 2.
OUT: @1 - Octet list, low bits at the left</pre><a name='ReceiveAbiscoMsg'></a><h2>ReceiveAbiscoMsg</h2>

<pre> ReceiveAbiscoMsg();

</pre>
<pre>ReceiveAbiscoMsg
SYNTAX: Expect {Message}
IN:
OUT:</pre>
<a name='ReleaseLAPD'></a><h2>ReleaseLAPD</h2>

<pre> ReleaseLAPD();

</pre>
<pre>--FUNCTION: ReleaseLAPD
COMMENT: ReleaseLAPD (L2) link
Syntax : ReleaseLAPD(TRXC =&gt; $TRXC, MO =&gt; $MO, LinkType =&gt; $inkType);
IN	 : Optionally one or more of the following keys:
         MO, TRXC, LinkType
OUT	 :
--</pre>
<a name='ResetMO'></a><h2>ResetMO</h2>

<pre> ResetMO();

</pre>
<pre>--FUNCTION : ResetMO
COMMENT  : Sends ResetCommand to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks ResetComplete.
IN	   : Optionally one or more of the following
           keys: TRXC, MO, MOState, INST, ASOInst, BACKCOMP
OUT	   : None
--</pre>
<a name='SplitString'></a><h2>SplitString</h2>

<pre> SplitString();

</pre>
<pre>--FUNCTION : SplitString
COMMENT  : Returns a list with splitted string (Delimiter: Whitespace)
IN	   : $String - as variable name says
Out	   : @String - list with splitted string
--</pre>
<a name='StartConfigEnable'></a><h2>StartConfigEnable</h2>

<pre> StartConfigEnable();

</pre>
<pre>--FUNCTION : StartConfigEnable
COMMENT  : Sends StartRequest to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks StartResult.
           Calling support function DisableConfigEnable.
IN	   : Optionally one or more of the following
           keys: TRXC, MO, MOState, INST, ASOInst
OUT	   : None
--</pre>
<a name='StartMO'></a><h2>StartMO</h2>

<pre> StartMO();

</pre>
<pre>--FUNCTION : StartMO
COMMENT  : Sends StartRequest to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks StartResult.
IN	   : Optionally one or more of the following
           keys: TRXC, MO, INST, ASOInst
OUT	   :
--</pre>
<a name='StartStopLoggingDVT'></a><h2>StartStopLoggingDVT</h2>

<pre> StartStopLoggingDVT();

</pre>
<pre>Subroutine: StartStopLoggingDVT
Purpose:    Creates  a file with DVT log
Input:			%Input -&gt;TG,
Output:     %return (Hash reference);</pre>
<a name='UndefineCellBTS'></a><h2>UndefineCellBTS</h2>

<pre> UndefineCellBTS();

</pre>
<pre>Subroutine: UndefineCellBTS
Purpose:    Undefines a cell
Input:			%Input -&gt;TG,CellNr
Output:     %return (Hash reference);</pre>
<a name='UpdateCell'></a><h2>UpdateCell</h2>

<pre> UpdateCell();

</pre>
<pre>--FUNCTION : UpdateCell
COMMENT  :
Syntax   : UpdateCell(CellNr =&gt; $CellNr, BCCHno =&gt; $BCCHno, BSPWRB =&gt; $BSPWRB,
                      BSPWRT =&gt; $BSPWRT, BS_AG_BLKS_RES =&gt; $BS_AG_BLKS_RES,
                      BS_PA_MFRMS =&gt; $BS_PA_MFRMS, PLMN =&gt; $PLMN, BCC =&gt; $BCC);
IN       :
OUT	     :
--</pre>
<a name='UpdateTG'></a><h2>UpdateTG</h2>

<pre> UpdateTG();

</pre>
<pre>--FUNCTION : UpdateTG$TransceiverGroup
COMMENT  : Abis mode TDM or SC. For other modes the script shall be updated
Syntax   : UpdateTG(AbisMode =&gt; $AbisMode);
IN       :
OUT	     :
--</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_DTX</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number : 131/190 55-CAH 161 1607/1 Uen
MODULE          : Subs_DTX
DESCRIPTION     : Contains subroutines that will be used in DTX tests</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258</pre>
<pre>The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE       NAME             REVIEW          COMMENT
A     20080215   ERAHEIK                          Derived from old dtx.abi
B     20101001   Syntronic AB/    Syntronic AB/   Added support for TC 12.01. Converted to strict. Added dbLog Support.
                 Martin Wikstr&ouml;m  Fredrik Lie     Approved UABTOH
C     20110428   XDAVMEL          XTOBSEM          Updated VerifyDownlinkSpeech to measure TRX power OFFs using MSSIM
                                                  Added sub GetTRXValuesMSSIM
                                                  Updated SetTG and VerifyTRAU to support SC and made small
                                                    stability changes to VerifyDownlinkSpeech .
                                                    Removed exporting of unexisting subs
                                                  More minor changes to VerifyDownlinkSpeech to improve stability
                                                  Fixed bug i SetTG (TR HN63575)
                                                  Updated VerifyTRAU with correct position of SID Codeword
                                                  Removed unused inclusions
                                                  Added GetNoOfMSSIMTRX and removed TXConfigRequest
                                                  Added ChActAsynchHO, StartPRBS_data, ChActMSSIM
                                                  Added possibility to create DATA 14.4NT pattern files in CreateSpeechPatternFile
                                                   Added possibility to use a reference Power in VerifyDownlinkSpeech
                                                  Commented out InfoTool command in InitSG since it might be a problem with
                                                    return strings being longer than 100 signs
D     20120629   EERICSV          XSOFFRO         Added UpdateCSData, VerifyDownlinkCSData, ChActSecChannelMulti,
                                                   GenerateSpeechAndAbisLogNoTXPower, HandoverAccessMSSIM, CheckFillingOption
                                                  Fixed bug in ChActMSSIM (global $AMR not used anymore)
                                                  Updated UpdateSpeech to take sub ch parameter
                                                  Changed SetSSQIUinDVT to take TRXC instead of hardcoded TRXC0
                                                  Added GenerateSpeechAndAbisLogNoTXPower, HandoverAccessMSSIM
                                                  Uppdated according perlcritic and implemented TSS logging
                                                  Implemented dynamic TG.
PE1   20121115   EDAMELI          ENASNAV         Bug fix in SetFreqSG (use of correct TRXC), HQ63918
PE2   20121120   EDAMELI          QYVOOPP         Minor bug fix (TRCX =&gt; TRXC)
PE3   20121130   EDAMELI          XANSBEM         Rewrote VerifyDownlinkSpeech
                                                   Added CheckSIDCodeWord
PE4   20121203   EDAMELI          XANSBEM         Modified VerifyDownlinkSpeech and CheckSIDCodeWord for Half rate
                                                   Added IsInSIDPosition
PE5   20121206   EDAMELI          ENASNAV         Updated VerifyDownlinkSpeech to accept a few (2 per 5 seconds)
                                                    TX Power On frames due to TSS TR 15920
PE6   20130314   XHENRMA          XANSBEM         Added subroutine VerifyDownlinkSID, updated SimulateSilenceAndVerifyFrames
                                                   and FindMessagesInLog
PE7   20131202   XPATHIL          XHENRMA         Merging findMessagesInLog from Packet Data subs labeled HR74564_VF01 (new IP-logging).
                                                   FindMessagesInLog now supports TFP-packets. Added sub BPSplit [v0.5] from same subs
                                                   version (HR74564_VF01). Added subs GetValuesFromLogMessage and TFPModify for new
                                                   IP-logging. Modified SetAbisAndTCHMode, SimulateSilenceAndVerifyFrames and</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Time::HiRes'>Time::HiRes</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?psdatafunc'>psdatafunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?speechfunc'>speechfunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?wireshark'>wireshark</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?lsuConfig'>lsuConfig</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Storable'>Storable</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Net::FTP'>Net::FTP</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?SubInit_DTX'>SubInit_DTX</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ActivateCh'></a><h2>ActivateCh</h2>

<pre> ActivateCh();

</pre>
<pre>SUBROUTINE  : ActivateCH
DESCRIPTION :</pre>
<pre>IN  : Parameter hash containing the following keys:
              AOR
              ChType
              ChRate
              TS
              TFO
              TRXC
              TypeOfCh
              S_Multi
              BSPower
              DTXd
              DTXu
              AMR
OUT :  None</pre>
<a name='BPSplit'></a><h2>BPSplit</h2>

<pre> BPSplit();

</pre>
<pre>SUBROUTINE  : BPSplit                                         [v0.5]
DESCRIPTION : Splits IP packets into BPFrames returning one frame for every call
              made to the function.
              Returns the input if no BP extraction needed, with flag set to else
              than 'REDO'.
COMMENT     : Checks the input
USAGE:      :
              # INSIDE FOR LOOP
              if ($RedoFlag ne 'REDO') {
                # Read new line from WLog
                my %RESP = $ABISlog -&gt; TSSReadWLog();
                if(defined $RESP{Message}){
                @MsgContainer = unpack('H*', $RESP{Message}); # if 'C*' use HexOrDec = 'Dec'
              }
              # Always perform the BPSplit (returns the input if no BP extraction needed)
              @Message = BPSplit(MessageRef =&gt; \@MsgContainer, S_CSAPI=&gt;'TRUE', BPFlagRef =&gt; \$RedoFlag);
              # THE DO STUFF PART!
              # IN THE END OF FOR LOOP
              redo,if($RedoFlag eq 'REDO');
              # END</pre>
<pre>IN  : %lInput = (
        MessageRef    =&gt; undef,
        S_CSAPI       =&gt; 'FALSE' if older IP-SIU (before Y13),
        BPFlagRef     =&gt; undef,
        HexOrDec      =&gt; default 'Hex', put to 'Dec' when analysing
                          frames in Dec format
                    );
OUT : BPFrame in array or scalar depending on input type MessageRef</pre>
<a name='ChActAsynchHO'></a><h2>ChActAsynchHO</h2>

<pre> ChActAsynchHO();

</pre>
<pre>FUNCTION : ChActAsynchHO
COMMENT  :</pre>
<pre>IN  : Parameter hash containing the following keys:
              AOR
              ChType
              ChRate
              TS
              TG
              TRXC
              TypeOfCh
              DTXd
              DTXu
OUT :  None</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>SUBROUTINE  : ChActMSSIM
DESCRIPTION : To activate a channel in the MSSIM</pre>
<pre>IN  : Parameter Hash
      EnableDummyBurstDetection - if defined, Dummy Burst Detection is enabled in MSSIM
OUT : CcId</pre>
<a name='ChActSecChannelMulti'></a><h2>ChActSecChannelMulti</h2>

<pre> ChActSecChannelMulti();

</pre>
<pre>SUBROUTINE  : ChActSecChannelMulti
DESCRIPTION :</pre>
<pre>IN  : Parameter hash containing the following keys:
              AOR
              ChType
              ChRate
              TS
              TG
              TRXC
              TypeOfCh
              DTXd
              DTXu
OUT : None</pre>
<a name='CheckFillingOption'></a><h2>CheckFillingOption</h2>

<pre> CheckFillingOption();

</pre>
<pre>SUBROUTINE  : CheckFillingOption
DESCRIPTION : Checks the filling option and modifies it if necessary.</pre>
<pre>IN  : lRestoreTo, OldFM, NewFM
OUT : OldFM</pre>
<a name='CheckL3Data'></a><h2>CheckL3Data</h2>

<pre> CheckL3Data();

</pre>
<pre>SUBROUTINE  : CheckL3Data
DESCRIPTION : To compare received L3Data to expected L3Data</pre>
<pre>IN  : Hash containing the following key(s):
             Expect    - Expected L3Data
             Received  - Received L3Data
OUT : Returns 1 if data is equal, else 0</pre>
<a name='CheckL3Data2'></a><h2>CheckL3Data2</h2>

<pre> CheckL3Data2();

</pre>
<pre>SUBROUTINE  : CheckL3Data
DESCRIPTION : To compare received L3Data to expected L3Data</pre>
<pre>IN  : Hash containing the following key(s):
             Expect    - Expected L3Data
             Received  - Received L3Data
OUT : Returns 1 if data differs, else 0</pre>
<a name='CheckSIDCodeWord'></a><h2>CheckSIDCodeWord</h2>

<pre> CheckSIDCodeWord();

</pre>
<pre>SUBROUTINE  : CheckSIDCodeWord
DESCRIPTION : Check SID Codeword and Comfort Noise on downlink Um frame</pre>
<pre>IN  : Hash containing the following key(s):
             Message    - Packed traffic frame, as $RESP{Message} recieved from lsuReadWLog
             SpType     - FR, EFR or HR</pre>
<pre>OUT : 1 if SID Frame      (SID Codeword and Comfort Noise OK)
      0 if NOT SID Frame</pre>
<a name='CloseCCCHMSSIM'></a><h2>CloseCCCHMSSIM</h2>

<pre> CloseCCCHMSSIM();

</pre>
<pre>SUBROUTINE  : CloseCCCHMSSIM
DESCRIPTION : Send a CCCH close request</pre>
<pre>IN  : Hash containing the following key(s):
              Timeout - MSSIM command timeout
              Cell    - MSSIM Cell number
OUT : None</pre>
<a name='CompleteStartRBS'></a><h2>CompleteStartRBS</h2>

<pre> CompleteStartRBS();

</pre>
<pre>SUBROUTINE  : CompleteStartRBS
DESCRIPTION : Runs a complete startup of the RBS.</pre>
<pre>IN  : Hash containing complete start specific data
            - Receive   -&gt; 'YES' || 'NO'
                      If the answer of the complete start is required
            - TLSI    -&gt;'OFF' || 'ON'
                      TLS on Idle channel
            - TLSA    -&gt;'OFF' || 'ON'
                      TLS on Active channel
            - TLSFilteringTime    -&gt; 10 .. 100
                      The range for TLS filtering time is 1 to 10 seconds
OUT      : $Ret    -&gt; 1 || 0
                      Indicates the succession of the complete startup</pre>
<a name='CountOnes'></a><h2>CountOnes</h2>

<pre> CountOnes();

</pre>
<pre>SUBROUTINE  : CountOnes
DESCRIPTION : Count the number of 1's in the binary representation of a numeric value</pre>
<pre>IN  : Hash containing the following key(s):
             InputVal    - Value
             Bits        - number of bits in value to use (default 8)
OUT : Returns 1 if data is equal, else 0</pre>
<a name='CreateSpeechParamHash'></a><h2>CreateSpeechParamHash</h2>

<pre> CreateSpeechParamHash();

</pre>
<pre>SUBROUTINE  : CreateParamHash
DESCRIPTION : To create parameter hash to be sent to subroutine SendSpeech</pre>
<pre>IN  : Hash containing the following key:
              SpeechType - Speech Type ('HR' or 'FR'. Default 'FR')
              SubCh - Subchannel for halfrate. ( Default 0)
OUT : Parameter hash</pre>
<a name='CreateSpeechPatternFile'></a><h2>CreateSpeechPatternFile</h2>

<pre> CreateSpeechPatternFile();

</pre>
<pre>SUBROUTINE  : CreateSpeechPatternFile
DESCRIPTION : Create a MSSIM pattern file</pre>
<pre>IN  : Hash containing the following key:
              SpeechFrames - Number of speech frames
              SilentFrames - Number of silent frames
              CMR_TAG      - CMR
              CMI_TAG      - CMI
              Rate         - Speech rate (FR / HR)
              SPConfigFile - Name of the generated cfg file</pre>
<pre>OUT : Name of the created pattern file</pre>
<a name='DeleteErrorAgent'></a><h2>DeleteErrorAgent</h2>

<pre> DeleteErrorAgent();

</pre>
<pre>SUBROUTINE  : DeleteErrorAgent
DESCRIPTION : Delete a set Error Agent according to its ID</pre>
<pre>IN  : Hash containing the following key:
              ErrorAgentID  - Error Agent ID</pre>
<pre>OUT : None</pre>
<a name='EstablishReqMSSIM'></a><h2>EstablishReqMSSIM</h2>

<pre> EstablishReqMSSIM();

</pre>
<pre>SUBROUTINE  : EstablishReqMSSIM
DESCRIPTION : To send Establish Request to MSSIM and receive EstablishIndication
              from Abisco</pre>
<pre>IN  : Hash containing the following key(s):
             BTS     - Abisco connection parameter
             SAPI    - Sapi value
             CHAN    - Channel state
             L3DATA  - Reference to L3Data array</pre>
<pre>OUT : None</pre>
<a name='FindMessagesInLog'></a><h2>FindMessagesInLog</h2>

<pre> FindMessagesInLog();

</pre>
<pre>SUBROUTINE  : FindMessagesInLog
DESCRIPTION : Subroutine to search a log file for a specific type of messages.</pre>
<pre>IN  :    Hash containing the following key:</pre>
<pre>         LogFile     - File name of the log file to search
         MessageType - A text prefix at the beginning of each line of the
                       log-file defining the message type.
                       Example: 'DL:' or 'UL:'  are valid message types for
                       an  ABIS log.

         MessageStructure - Reference to a hash containing the message structure.
                            This sturcture is used as a template for returned messages.
                            The hash should be built of smaller hashes of the form:

                            'KeyName' =&gt; { 'Offset' =&gt; 0,
                                           'Size'   =&gt; 8,
                                           'Value'  =&gt; undef,
                                           'Type'   =&gt; 'Numeric' },

                            where the Offset and Size key values define the location
                            in bits of the data corresponding to the parameter.
                            If Value is set to undef, it will be filled with the values
                            of a correpsonding parameter value of a message in the log.
                            If on the other hand a value is set for Value, that is used
                            as a filter to select only matching messages form the log.
                            Type is used to indicate if Value is a numeric value ('Numeric')
                            or and array (set as 'Array').

         PrefixRemoved - Defines the number of prefix strings each line in the log has
                         before the start of the hex-data. ( Currently it is 1 for Abis logs
                         and 4 for MSSIM logs if the logs are formatted using the substr
                         createMessageLogFromWLog and createMSSIMMessageLogFromWLog.
                         (Set to 1 by default).

</pre>
<pre>OUT :    An array of messages matching the given criterias.
         Each array is a clone of the MessageStructure hash given as a parameter.
COMMENT: Observe that a (supported) CSAPI value should be specified for new
         ip-logging to work!
     !!! TFP seems to be used in SC as well. Still it won't use CSAPI so there
         can be problems when calling this function and you want to take care of
         TFP-packed data.</pre>
<a name='GenerateSpeechAndABISLogNoTXPower'></a><h2>GenerateSpeechAndABISLogNoTXPower</h2>

<pre> GenerateSpeechAndABISLogNoTXPower();

</pre>
<pre>SUBROUTINE  : GenerateSpeechAndABISLogNoTXPower
DESCRIPTION : Generate speech from MSSIM or TSS.
            If speech is geenrated from MSSIM, a cfg file is dynamically created
            and is transfered to the MSSIM using FTP.</pre>
<pre>IN  : Hash containing the following key:
              Duration     - Speech duration (in sec)
              InterfaceLSU - Cfg file describing the LSU interface
              WLogFileLSU  - Name of the generated ABIS log file
              SpeechFrames - Number of speech frames
              SilentFrames - Number of silent frames
              CMR_TAG      - CMR
              CMI_TAG      - CMI
              Rate         - Speech rate (FR / HR)
              CcId         - MSSIM channel comb. ID
              SimTypeTSS   - TSS speech simulation mode (Frames / LoopBack)
              SimTypeMSSIM - MSSIM speech simulation mode (LoopBack / PLAY / PRBS)
              DTX          - DTX setting (uplink)</pre>
<pre>OUT : Hash containing the following key:
              Error        - 0 = No Error, 1 = Error
              Reason       - Reason for error. Exists only if Error != 0
              ResultFile   - File name of the geenrated ABIS log file. Exists only if Error = 0</pre>
<a name='GetChannelTypeTDMAOffset'></a><h2>GetChannelTypeTDMAOffset</h2>

<pre> GetChannelTypeTDMAOffset();

</pre>
<pre>SUBROUTINE  : GetChannelTypeTDMAOffset
DESCRIPTION : Sets a global variable</pre>
<pre>IN  : None
OUT : None</pre>
<a name='GetMSSIMSNR'></a><h2>GetMSSIMSNR</h2>

<pre> GetMSSIMSNR();

</pre>
<pre>SUBROUTINE  : GetMSSIMSNR
DESCRIPTION : Set Measurement Reporting</pre>
<pre>IN  :
Output:     None</pre>
<a name='GetMeasurementReports'></a><h2>GetMeasurementReports</h2>

<pre> GetMeasurementReports();

</pre>
<pre>SUBROUTINE  : GetSomeMeasurements
DESCRIPTION : GetMSMeasurements receives measurements from TRXC/TS
IN  : Hash containing the following key(s):
      TG              - TG number
      TRXC            - TRXC nr
      TS              - Timeslot
      ChType          - Channel Type
OUT : Array of measurement reports</pre>
<a name='GetValuesFromLogMessage'></a><h2>GetValuesFromLogMessage</h2>

<pre> GetValuesFromLogMessage();

</pre>
<pre>SUBROUTINE  : GetValuesFromLogMessage
DESCRIPTION : Help function to FindMessagesInLog. Specifically used for header
              value extractions before return array of FindMessagesInLog is
              generated!
              (Note: Based on FindMessagesInLog)</pre>
<pre>IN  : $msgref - Reference to current log-message (BPSplit in case of new ip-logging)
      $messageAccepted - Dummy value
      %tempMessage - Any type of template for different values to be found in $msgref
OUT : Modified %tempMessage</pre>
<a name='HandoverAccessMSSIM'></a><h2>HandoverAccessMSSIM</h2>

<pre> HandoverAccessMSSIM();

</pre>
<pre>SUBROUTINE  : HandoverAccessMSSIM
DESCRIPTION : To send Handover Access to MSSIM and receive HandoverDetection
              from Abisco</pre>
<pre>IN  : ChType
OUT : None</pre>
<a name='IPTemplateModify'></a><h2>IPTemplateModify</h2>

<pre> IPTemplateModify();

</pre>
<pre>SUBROUTINE  : IPTemplateModify
DESCRIPTION : Modify Message_TEMPLATE to comply with IP</pre>
<pre>IN  :      TemplateRef =&gt; \%PGSL_STATUS_IND_Result, # copy of template
           CSAPI       =&gt; { S_CSAPI =&gt; 'FALSE',
                            Value   =&gt; undef,},
                  CSAPI VALUES (3 bits):
                    C/R = 0|1
                          0|1 RSL
                          2|  Speech
                          3|  Circuit Switched
                          4|  GPRS
                          5|6 OML
           IPOffset    =&gt; 12*8,
OUT :     None</pre>
<a name='InitSG'></a><h2>InitSG</h2>

<pre> InitSG();

</pre>
<pre>Signal Generator subroutines
SUBROUTINE  : InitSG
DESCRIPTION : Initializes Signal Generator</pre>
<pre>IN  : Instance    (Instance number)
OUT : None</pre>
<a name='IsInSIDPosition'></a><h2>IsInSIDPosition</h2>

<pre> IsInSIDPosition();

</pre>
<pre>SUBROUTINE  : IsInSIDPosition
DESCRIPTION : Check if FrameNumber is in SID posistion</pre>
<pre>IN  : Hash containing the following key(s):
             FN         - Frame number
             SpType     - FR, EFR or HR</pre>
<pre>OUT : 1 if SID Position
      0 if NOT SID Position</pre>
<a name='JoinArrays'></a><h2>JoinArrays</h2>

<pre> JoinArrays();

</pre>
<pre>SUBROUTINE  : JoinArrays
DESCRIPTION : Join two message arrays</pre>
<pre>IN  : Hash containing the following key:
             Array1    - Abis Message array 1
             Array2    - Abis Message array 2</pre>
<pre>OUT :       An joined array</pre>
<a name='MSSIMTransferFile'></a><h2>MSSIMTransferFile</h2>

<pre> MSSIMTransferFile();

</pre>
<pre>SUBROUTINE  : MSSIMTransferFile
DESCRIPTION : Transfer a file to the connected MSSIM
IN  : User      - MSSIM login username
            Password  - MSSIM login password
            Filename  - The file to transfer
OUT :       0 - OK
            1 - Error</pre>
<a name='MinFrameNumberDifference'></a><h2>MinFrameNumberDifference</h2>

<pre> MinFrameNumberDifference();

</pre>
<pre>SUBROUTINE  : MinFrameNumberDifference</pre>
<pre>DESCRIPTION : Iterate through the first message array and check if the messages
              in the array are placed next to each other.</pre>
<pre>IN  : Hash containing the following keys:
              FirstMessageArrayRef  - Reference to the first array of messages
              NextMessageArrayRef   - Reference to the next array of messages
              FrameNumberDifference - Minimum number of frames to consider the messages next to each other</pre>
<pre>OUT : 0     - OK
      Other - Error</pre>
<a name='ReceiveAbisco'></a><h2>ReceiveAbisco</h2>

<pre> ReceiveAbisco();

</pre>
<pre>SUBROUTINE  : ReceiveAbisco
DESCRIPTION : To receive a spontanious message from Abisco</pre>
<pre>IN  : Hash containing the following key(s):
             BTS      - Abisco connection parameter
             Timeout  - Timeout value
             Expect   - Expected message
             Supress  - Indicate if timeout errors should be supressed
                        (HandleError not called).
             L3DATA   - Reference to L3Data array of expected message
OUT : CauseValue</pre>
<a name='RelReqMSSIM'></a><h2>RelReqMSSIM</h2>

<pre> RelReqMSSIM();

</pre>
<pre>SUBROUTINE  : RelReqMSSIM
DESCRIPTION : To send Release Request to MSSIM and receive ReleaseIndication
            from Abisco</pre>
<pre>IN  : Hash containing the following key(s):
             BTS     - Abisco connection parameter
             SAPI    - Sapi value
             CHAN    - Channel state
             MODE    - Release mode
OUT : None</pre>
<a name='ReleaseAllOpenChannels'></a><h2>ReleaseAllOpenChannels</h2>

<pre> ReleaseAllOpenChannels();

</pre>
<pre>SUBROUTINE  : ReleaseAllOpenChannels
DESCRIPTION : Release All Open Payload Channels in TSS</pre>
<pre>IN  :
Output:     None</pre>
<a name='ReleaseCh'></a><h2>ReleaseCh</h2>

<pre> ReleaseCh();

</pre>
<pre>SUBROUTINE  : ReleaseCh
DESCRIPTION : &lt;Template example row, please remove if not applicable&gt;</pre>
<pre>IN  : Parameter hash containing the following keys:
              TRXC
              TS
              ChType
OUT : None</pre>
<a name='SendDataReqReleaseMessages'></a><h2>SendDataReqReleaseMessages</h2>

<pre> SendDataReqReleaseMessages();

</pre>
<pre>SUBROUTINE  : SendDataReqReleaseMessages
DESCRIPTION : Repeats sending a release message a number of
              times (supplied).</pre>
<pre>IN  : Parameter hash containing the following keys:
              Messages
OUT : None</pre>
<a name='SendModeModify'></a><h2>SendModeModify</h2>

<pre> SendModeModify();

</pre>
<pre>OUT : None</pre>
<a name='SendSpeech'></a><h2>SendSpeech</h2>

<pre> SendSpeech();

</pre>
<pre>SUBROUTINE  : SendSpeech
DESCRIPTION : To activate sending of speech, either from MSSIM or from TSS</pre>
<pre>IN  : Param hash including:
             $Param{TG}
             $Param{TRXC}
             $Param{TS}
             $Param{SubCh}         TCH subchannel (0/1)
             $Param{DTX}           DTX Downlink (On/Off)
             $Param{TypeOfCh}      According to Abisco Ch Activation, see IWD Browser
             $Param{AlgOrRate}     According to Abisco Ch Activation, see IWD Browser
             $Param{ChRate}        According to Abisco Ch Activation, see IWD Browser
             $Param{ChannelType}   According to Abisco Ch Activation, see IWD Browser
             $Param{MRVersion}     According to Abisco Ch Activation, see IWD Browser
             $Param{ICMI}          According to Abisco Ch Activation, see IWD Browser
             $Param{StartMode}     According to Abisco Ch Activation, see IWD Browser
             @{$Param{AMR}}        According to Abisco Ch Activation, see IWD Browser
             $Param{TFO}           According to Abisco Ch Activation, see IWD Browser
             $Param{SCS}           According to Abisco Ch Activation, see IWD Browser
             $Param{MACS}          According to Abisco Ch Activation, see IWD Browser
             $Param{SimTypeTSS}    TSS simulation type "Frames" or "LoopBack"
             $Param{StartCodec}    According to Abisco ActivateSpeech OPT1.CodecMode, see IWD Browser
             $Param{SPType1}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
             $Param{SPTime1}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
             $Param{SPType2}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
             $Param{SPTime2}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
             $Param{CodecDL1}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecUL1}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecTime1}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecDL2}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecUL2}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecTime2}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecDL3}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecUL3}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecTime3}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecDL4}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecUL4}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecTime4}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{LoopDelay}     According to Abisco ActivateSpeech OPT3, see IWD Browser
             $Param{SimTypeMSSIM}  "LOOP", "PRBS", "PLAY_CHK" or "PLAY_REC"
             $Param{TxFile}        TxFile for MSSIM, see Prisma GSM base
             $Param{RxFile}        RxFile for MSSIM, see Prisma GSM base
             $Param{RxMax}         Rxmax for MSSIM, see Prisma GSM base
             @{$Param{Codec}}      Used Codecs, MSSIM format example: ["AFS4_75", "AFS5_15", "AFS5_9", "AFS6_7"]
             $Param{TimeToRun}     Time to run (in seconds)
OUT : Error 0=OK, 1=error
      Error Reason
      Result hash including:
               @{$Result{Statistic1}}   MSSIM fixed counters
               @{$Result{Statistic2}}   MSSIM variable counters from Cnt parameter
               @{$Result{Statistic3}})  TSS counters
               @{$Result{CntRow0}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation
               @{$Result{CntRow1}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation
               @{$Result{CntRow2}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation
               @{$Result{CntRow3}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation
               @{$Result{CntRow4}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation
               @{$Result{CntRow5}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation</pre>
<a name='SendSysInfo3'></a><h2>SendSysInfo3</h2>

<pre> SendSysInfo3();

</pre>
<pre>SUBROUTINE  : SendSysInfo3
DESCRIPTION : Seand a System Information Type 3 message from Abisco</pre>
<pre>IN  : Hash containing the following key(s):
              TG              - TG number
              TRXC            - TRXC nr
              TS              - Timeslot
              ChType          - Channel Type
              DTXIndicator    - Set the uplink DTX On or Off
OUT :       0 - OK
            1 - Error</pre>
<a name='SetAbisAndTCHMode'></a><h2>SetAbisAndTCHMode</h2>

<pre> SetAbisAndTCHMode();

</pre>
<pre>SUBROUTINE  : SetAbisAndTCHMode
DESCRIPTION : Set the Abis and TCH mode</pre>
<pre>IN  : TCHMode   - Wanted TCH mode: Static16kbps,  Static64kbps,
                                         Dynamic16kbps, Dynamic64kbps
            AbisMode  - Abis mode: TDM, SC
OUT : None</pre>
<a name='SetAmpSG'></a><h2>SetAmpSG</h2>

<pre> SetAmpSG();

</pre>
<pre>SUBROUTINE  : SetAmpSG
DESCRIPTION : Sets the amplitude value of the signal generator.
              When no AbsAmp input exists, the RelAmp Sets the amplitude value
              as it should be on the RX input of the BTS.
              To calculate the amplitude to set on the signal generator, the
              SG TTA will add this value to the attenuation set with the
              'SaveSGAttenuation' command.</pre>
<pre>IN  : Instance    (Instance number)
      RelAmp      (Relative Amplitude of noise)
      AbsAmp      (Absolute Amplitude of noise)
OUT : None</pre>
<a name='SetFreqSG'></a><h2>SetFreqSG</h2>

<pre> SetFreqSG();

</pre>
<pre>SUBROUTINE  : SetFreqSG
DESCRIPTION : Sets the output frequency of the signal generator.</pre>
<pre>IN  : Instance    (Instance number)
      AbsFreq     (Absolute frequency, if DL is used)
OUT : None</pre>
<a name='SetMeasurementReporting'></a><h2>SetMeasurementReporting</h2>

<pre> SetMeasurementReporting();

</pre>
<pre>SUBROUTINE  : SetMeasurementReporting
DESCRIPTION : Set Measurement Reporting</pre>
<pre>IN  : Hash containing the following key(s):
              TG                   - TG number
              TRXC                 - TRXC
              TS                   - Timeslot
              ChType               - Channel Type
              MeasurementReporting - 'On' / 'Off'
OUT : None</pre>
<a name='SetOutputSG'></a><h2>SetOutputSG</h2>

<pre> SetOutputSG();

</pre>
<pre>SUBROUTINE  : SetOutputSG
DESCRIPTION : Turn On or Off the Signal geenrator</pre>
<pre>IN  : Instance    (Instance number)
      Output      ('On' / 'Off')
OUT : None</pre>
<a name='SetSSQIUinDVT'></a><h2>SetSSQIUinDVT</h2>

<pre> SetSSQIUinDVT();

</pre>
<pre>SUBROUTINE  : SetSSQIUinDVT
DESCRIPTION : Set SSQIU parameter in DVT</pre>
<pre>IN  : Params
      Mode   - 'on', 'off'
      TS     - Timeslot
      TRXC   - TRX, $TRXC default
OUT : 0=OK, 1=Error</pre>
<a name='SetTG'></a><h2>SetTG</h2>

<pre> SetTG();

</pre>
<pre>SUBROUTINE  : SetTG
DESCRIPTION : To set TCM configuration, updates, disconnects and reconnects.</pre>
<pre>IN  : TCH_Configuration
OUT : None</pre>
<a name='SimulateSilenceAndVerifyFrames'></a><h2>SimulateSilenceAndVerifyFrames</h2>

<pre> SimulateSilenceAndVerifyFrames();

</pre>
<pre>SUBROUTINE  : SimulateSilenceAndVerifyFrames</pre>
<pre>DESCRIPTION : This subroutine activates speech, MSSIM and LSU logs and send a
              UpdateSpeech command. The resulting LSU and MSSIM logs are checked
              against list of expected frames.</pre>
<pre>IN  : Hash containing the following keys:
              TG              - TG
              TRXC            - TRXC
              TS              - Timeslot
              FrameCount      - Frames affected by the UpdateSpeech
              CodecMode       - Set the downlink codec mode to the specified value if AMR is used.
              TRAUFrames      - Array reference containing expected TRAU frames
              InterfaceLSU    - LSU interface file
              WLogFileLSU     - LSU log file name (without the file ending)
              DurationLSU     - LSU log duration</pre>
<pre>OUT : 0     - OK
      Other - Error</pre>
<a name='StartLoopMSSIM'></a><h2>StartLoopMSSIM</h2>

<pre> StartLoopMSSIM();

</pre>
<pre>SUBROUTINE  : StartLoopMSSIM
DESCRIPTION : To start the loop function in MSSIM</pre>
<pre>IN  : Timeout
            $CcId    (MSSIM downlink channel id)
             $LoopCcId    (MSSIM uplink channel id)
OUT : 0=OK</pre>
<a name='StartPRBS_data'></a><h2>StartPRBS_data</h2>

<pre> StartPRBS_data();

</pre>
<pre>SUBROUTINE  : StartPRBS_data
DESCRIPTION : To start the PRBS function in MSSIM</pre>
<pre>IN  : Parameter Hash
OUT : 0=OK</pre>
<a name='StartTestSpeech'></a><h2>StartTestSpeech</h2>

<pre> StartTestSpeech();

</pre>
<pre>SUBROUTINE  : StartTestSpeech
DESCRIPTION : Starts testing of sending and recieving speech framse</pre>
<pre>IN  : SubCh - Subchannel for halfrate. ( Default 0)
OUT : None</pre>
<a name='StopLoopMSSIM'></a><h2>StopLoopMSSIM</h2>

<pre> StopLoopMSSIM();

</pre>
<pre>SUBROUTINE  : StopLoopMSSIM
DESCRIPTION : To stop the loop function in MSSIM
Input:      CcId    (MSSIM downlink channel id)
            Timeout
OUT : Status    (0=Ok, 1=Error)</pre>
<a name='StopSpeech'></a><h2>StopSpeech</h2>

<pre> StopSpeech();

</pre>
<pre>SUBROUTINE  : StopSpeech
DESCRIPTION : To deactivate sending of speech, either from MSSIM or from TSS
              Sister function to SendSpeech</pre>
<pre>IN  : Param hash including:
             $Param{TG}
             $Param{TRXC}
             $Param{TS}
             $Param{SubCh}         TCH subchannel (0/1)
             $Param{DTX}           DTX Downlink (On/Off)
             $Param{TypeOfCh}      According to Abisco Ch Activation, see IWD Browser
             $Param{AlgOrRate}     According to Abisco Ch Activation, see IWD Browser
             $Param{ChRate}        According to Abisco Ch Activation, see IWD Browser
             $Param{ChannelType}   According to Abisco Ch Activation, see IWD Browser
             $Param{MRVersion}     According to Abisco Ch Activation, see IWD Browser
             $Param{ICMI}          According to Abisco Ch Activation, see IWD Browser
             $Param{StartMode}     According to Abisco Ch Activation, see IWD Browser
             @{$Param{AMR}}        According to Abisco Ch Activation, see IWD Browser
             $Param{TFO}           According to Abisco Ch Activation, see IWD Browser
             $Param{SCS}           According to Abisco Ch Activation, see IWD Browser
             $Param{MACS}          According to Abisco Ch Activation, see IWD Browser
             $Param{SimTypeTSS}    TSS simulation type "Frames" or "LoopBack"
             $Param{StartCodec}    According to Abisco ActivateSpeech OPT1.CodecMode, see IWD Browser
             $Param{SPType1}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
             $Param{SPTime1}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
             $Param{SPType2}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
             $Param{SPTime2}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
             $Param{CodecDL1}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecUL1}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecTime1}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecDL2}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecUL2}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecTime2}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecDL3}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecUL3}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecTime3}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecDL4}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecUL4}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecTime4}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{LoopDelay}     According to Abisco ActivateSpeech OPT3, see IWD Browser
             $Param{SimTypeMSSIM}  "LOOP", "PRBS", "PLAY_CHK" or "PLAY_REC"
             $Param{TxFile}        TxFile for MSSIM, see Prisma GSM base
             $Param{RxFile}        RxFile for MSSIM, see Prisma GSM base
             $Param{RxMax}         Rxmax for MSSIM, see Prisma GSM base
             @{$Param{Codec}}      Used Codecs, MSSIM format example: ["AFS4_75", "AFS5_15", "AFS5_9", "AFS6_7"]
             $Param{TimeToRun}     Time to run (in seconds)
OUT : Error 0=OK, 1=error
      Error Reason
      Result hash including:
               @{$Result{Statistic1}}   MSSIM fixed counters
               @{$Result{Statistic2}}   MSSIM variable counters from Cnt parameter
               @{$Result{Statistic3}})  TSS counters
               @{$Result{CntRow0}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation
               @{$Result{CntRow1}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation
               @{$Result{CntRow2}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation
               @{$Result{CntRow3}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation
               @{$Result{CntRow4}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation
               @{$Result{CntRow5}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation</pre>
<a name='TFPModify'></a><h2>TFPModify</h2>

<pre> TFPModify();

</pre>
<pre>SUBROUTINE  : TFPModify
DESCRIPTION : Modify Message_TEMPLATE's to comply with IP
              Header Templates as well as Payload Templates are supported</pre>
<pre>IN  :      TemplateRef      =&gt; Copy of template
           HeaderExtention  =&gt; The header extention size in bits
           BPHeaderSize     =&gt; BP Header Size in bits
           Header           =&gt; default 'FALSE', if Template is header set to TRUE
OUT :     None</pre>
<a name='UpdateCSData'></a><h2>UpdateCSData</h2>

<pre> UpdateCSData();

</pre>
<pre>SUBROUTINE  : UpdateCSData
DESCRIPTION : To update CSData in TSS</pre>
<pre>IN  : Parameter hash containing the following keys:
              TG              - TG
              TRXC            - TRXC
              TS              - Timeslot
              MsgCount        - Frames affected by the update
              ANDMask         - AND bitmask
              ORMask          - OR bitmask
              XORMask         - XOR bitmask
OUT : 0=OK, 1=Error</pre>
<a name='UpdateSpeech'></a><h2>UpdateSpeech</h2>

<pre> UpdateSpeech();

</pre>
<pre>SUBROUTINE  : UpdateSpeech
DESCRIPTION : To update speech in TSS, override ActivateSpeech params</pre>
<pre>IN  : Parameter hash containing the following keys:
              TG              - TG
              TRXC            - TRXC
              TS              - Timeslot
              MsgCount        - Frames affected by the update
              SilentMode      - Mode ('Speech' / 'Silent'
              CodecMode       - Set the downlink codec mode to the specified value if AMR is used.
              RecalculateCRC  - Recalulate CRC after applying bitmasks
              ANDMask         - AND bitmask
              ORMask          - OR bitmask
              XORMask         - XOR bitmask
              SubCh           - SubChannel (half rate)
OUT : 0=OK, 1=Error</pre>
<a name='VerifyABISFrames'></a><h2>VerifyABISFrames</h2>

<pre> VerifyABISFrames();

</pre>
<pre>SUBROUTINE  : VerifyABISFrames
DESCRIPTION : Searches the ABIS log for a specified sequence of ABIS frames</pre>
<pre>IN  : Hash containing the following key:
      ABISFrameListRef - Reference to ABIS frame list
      WLogFileLSU      - ABIS log file</pre>
<pre>OUT : Error  ( 0 = No Error, 1 = Error)
      Result ( The number of times the sequence was found )</pre>
<a name='VerifyDownlinkCSData'></a><h2>VerifyDownlinkCSData</h2>

<pre> VerifyDownlinkCSData();

</pre>
<pre>SUBROUTINE  : VerifyDownlinkCSData
DESCRIPTION : Verify downlink data</pre>
<pre>IN  : Hash containing the following key(s):
              MSSIMLog             - MSSIM wireshark log file
              AlgOrRate            - NT12kbits/s or NT14.5kbits/s</pre>
<pre>OUT : Hash contatining the follwing keys:
              FillBursts           - Number of L2 Fill Bursts
              ValidDataBursts      - Number of valid data bursts
              PowerOffBursts       - Number of Bursts with TX power off</pre>
<a name='VerifyDownlinkSID'></a><h2>VerifyDownlinkSID</h2>

<pre> VerifyDownlinkSID();

</pre>
<pre>SUBROUTINE  : VerifyDownlinkSID
DESCRIPTION : Verifies the presence of SID_Update frames on UM downlink.
              The mere precense of these, indicates a comfort noise shall be generated</pre>
<pre>IN  : Hash containing the following key(s):
             MSSIMLog   - MSSIM log file (.lsu)
             TS         - Timeslot used.
             OrderImportant     - 1 if The order of the SID frames is important
             TXPowerOn          - TX power Off during silence
             TXPowerFrames      - Number of frames to be verified
             FrameTypeRefSize   - Reference frame type
             FrameTypeRefValue  - Reference frame type value
             FrameTypeRefName   - Reference frame type name
OUT : no. of SID-frames of specified type found in logfile</pre>
<a name='VerifyDownlinkSpeech'></a><h2>VerifyDownlinkSpeech</h2>

<pre> VerifyDownlinkSpeech();

</pre>
<pre>SUBROUTINE  : VerifyDownlinkSpeech
DESCRIPTION : Verify frames sent downlink on Um</pre>
<pre>IN  : Hash containing the following key(s):
             MSSIMLog   - MSSIM log file (.lsu)
             SpType     - FR, EFR or HR
             TXPower    - Expected TXPower, 'On' or 'Off'
             SIDFrames  - Expected presens of SID frames, 'Present' or 'Not_Present'
             DummyBur   - Expecte Dummy bursts? True or not defined</pre>
<pre>OUT : 0 if OK, Error text if error found</pre>
<a name='VerifyTRAU'></a><h2>VerifyTRAU</h2>

<pre> VerifyTRAU();

</pre>
<pre>SUBROUTINE  : VerifyTRAU
DESCRIPTION : Verify the existence of correct TRAU frames in a LSU ABIS log</pre>
<pre>IN  : Hash containing the following key(s):
              ABISLog            : ABIS lsu log file
              SIDMinZeros        : Minimum allowed number of 0's in each SID codeword
              SIDMaxZeros        : Maximum allowed number of 0's in each SID codeword
              SIDMinOnes         : Minimum allowed number of 1's in each SID codeword
              SIDMaxOnes         : Maximum allowed number of 1's in each SID codeword
              ExpectComfortNoise : Indicate if there should be comfort noise
                                   speech frames present uplink in the ABIS log
                                   ('TRUE' / 'FALSE')
OUT : 0 - OK
      1 - The log messages did not fulfill the set requirements</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_encr</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number : 76/190 55-CAH 161 1607/1 Uen
MODULE          : subs_encr.pm
DESCRIPTION     : This program provides defines and subfunctions for Encryption
                  tests described in TS 322/102 64-HRB 105 15 Uen</pre>
<pre>COPYRIGHT &copy; : ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
A   20100920  XWIKMAR   ETORWIL   File created. Approved UABTOH
B   20100801  ETORWIL   XWIKMAR   Removed local db fuctions and implemented use of dbLog
                                   Approved UABTOH
C   20110525  XDAVMEL   XMABENT   DeactivateCSData to match changes in Abisco R34x
                                   Added CIPHERING_MODE_COMMAND_A5_1 and
                                   CIPHERING_MODE_COMMAND_A5_3 varibles
                                   Merge with latest G10B update from the main branch,
                                   including correction of revision history.
                                   Rewrote SetTSConfig
                                   Removed unused inclusions
D   20110907  XGUSTPE   XOSKRON   Changed SendSpeech: support for cc viii
                                   Changed SetTSConfig to Assert all responses and send BCCHInfo
                                   Added use warnings and fixed issues found
                                   Added subroutine waitForCellSync, ChActMSSIM uses it
                                   Changed printig behaviour in waitForCellSync
                                   Added error handling to waitForCellSync
E   20111227  XTOBSEM   XSOFFRO   Subroutine waitforcellsync now called from mssim_sub
                                   Changed the script to import $TG $TRXC $Cell from subinit (HP27724)
                                   Added HexToBinary, FindSpeechInd and FindSpeechMSSIM (HP27692)
F   20120921  EERICSV   XNAVNAS    Added SetEncryptionBTSBitstream, VerifyActiveEncryption
                                   Removed StartTestDataDL, CheckAbiscoConfigCOMB, SetBCCHType, CloseCCCHMSSIM
                                    SendDLRelReq, QueueDLMsg, RestartBTS, CheckTable, CheckEncryptionBTS
                                    EvaluateCSData, FindCSDataArray, CompareCSData, SendModeModify, GetImmAssType
                                   Updated SetEncryptionBTS, StartTestSpeech, SetTSConfig, FindSpeechInd
                                   Clean up within TR HP86811.
                                    Syntax and formatting corrections for readibility improvements.
                                    Removed unnecessary imports and variables.
                                    Added Init (moved from subinit_encr.pm) and its required variables.
                                    Added lock_keys to SetTSConfig, ChActBTS, ChRelBTS and ChActMSSIM and decreased usage of globals.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?wireshark'>wireshark</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?csdatafunc'>csdatafunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?speechfunc'>speechfunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>Subroutine: ChActBTS
Purpose:    To activate a channel in the BTS
Input:      Hash containing the following keys:
              BTS - Abisco connection parameter (optional),
              RespMessage - To assert for NACK (optional),
              Cause - If NACK, wanted CauseValue (optional),
              ChType - Another channel type than the one in PAR-hash (mandatory),
              TGId, TRXC, TS, ChAct, ActType, TypeOfCh, ChRate, AlgOrRate (mandatory),
              Encr, EncrKey (optional)
Output:     None</pre>
<pre>Change:DATE        NAME              REVIEW      COMMENT
       20100315    SYNTRONIC/KRRO                 Added inputs RespMessage, Cause, ChType</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>Subroutine: ChActMSSIM
Purpose:    To activate a channel in the MSSIM
Input:      Hash containing the following keys:
            TGId, TRXC, TS, Cell, MsId, ChAct, ChType, ChRate, TypeOfCh, AlgOrRate, AMRCodec (mandatory)
              Bypass - (set to '1' to bypass MSSIM automatic LAPDm handling) (optional)
Output:     $CcId</pre>
<a name='ChRelBTS'></a><h2>ChRelBTS</h2>

<pre> ChRelBTS();

</pre>
<pre>Subroutine: ChRelBTS
Purpose:    To release a channel in the BTS
Input:      Hash containing the following keys:
              BTS - Abisco connection parameter (optional),
              TGId, TRXC, TS, ChType (mandatory)
Output:     None</pre>
<pre>Change:DATE        NAME              REVIEW      COMMENT
       20100318    SYNTRONIC/KRRO                 Added inputs ChType</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>Subroutine: ChRelMSSIM
Purpose:    To release a channel in the MSSIM
Input:      Hash containing the following key:
              CcId - Channel combination identifier provided by ChActMSSIM
Output:     None</pre>
<a name='CheckL3Data'></a><h2>CheckL3Data</h2>

<pre> CheckL3Data();

</pre>
<pre>Subroutine: CheckL3Data
Purpose:    To compare received L3Data to expected L3Data
Input:      Hash containing the following key(s):
             Expect    - Expected L3Data
             Received  - Received L3Data
Output:     Returns 1 if data differs, else 0</pre>
<a name='CreateSpeechParamHash'></a><h2>CreateSpeechParamHash</h2>

<pre> CreateSpeechParamHash();

</pre>
<pre>Subroutine: CreateParamHash
Purpose:    To create parameter hash to be sent to subroutine SendSpeech
Input:      Hash containing the following key:
              SpeechType - Speech Type ('HR' or 'FR'. Default 'FR')
              SubCh - Subchannel for halfrate. ( Default 0)
              TRXC (opt.)
Output:     Parameter hash</pre>
<a name='EstablishReqMSSIM'></a><h2>EstablishReqMSSIM</h2>

<pre> EstablishReqMSSIM();

</pre>
<pre>Subroutine: EstablishReqMSSIM
Purpose:    To send Establish Request to MSSIM and receive EstablishIndication
            from Abisco
Input:      Hash containing the following key(s):
             BTS     - Abisco connection parameter
             SAPI    - Sapi value
             CHAN    - Channel state
             L3DATA  - Reference to L3Data array</pre>
<pre>Output:     None</pre>
<a name='FindSpeechInd'></a><h2>FindSpeechInd</h2>

<pre> FindSpeechInd();

</pre>
<pre>Subroutine:  FindSpeechInd
Purpose:     To find RTH-SPEECH-IND or TFP-FRIND in case of SC mode, in logfile
Input:       Direction UL/DL
Output:      Number of found messages in log</pre>
<a name='FindSpeechIndMSSIM'></a><h2>FindSpeechIndMSSIM</h2>

<pre> FindSpeechIndMSSIM();

</pre>
<pre>Subroutine:  FindSpeechIndMSSIM
Purpose:     To find RTH-SPEECH-IND in logfile
Input:       Direction UL/DL
Output:      Number of found messages in log</pre>
<a name='HexToBinary'></a><h2>HexToBinary</h2>

<pre> HexToBinary();

</pre>
<pre>Subroutine: HexToBinary
Purpose:    To Convert a Hex value to Bin
Input:      Hex
Output:     Bin
example:    $binary =  HexToBinary($byte);</pre>
<a name='Init'></a><h2>Init</h2>

<pre> Init();

</pre>
<pre>Subroutine: Init
Purpose:    Creates the Abisco connection and gets the active TG
Input:      None
Output:     None</pre>
<a name='LAPDmSend'></a><h2>LAPDmSend</h2>

<pre> LAPDmSend();

</pre>
<pre>Subroutine:  LAPDmSend
Purpose:      To send a LAPDm frame
Input:         $Chan      (SDCCH, SACCH or FACCH)
               $MsPower  (Only applicable for SACCH)
               $TA        (Timing advance, only applicable for SACCH)
              $Cmd       (Command = "I", "RR", RNR", "REJ", "SABM", "DM", "UI", "DISC" or "UA"
               N(R)       (Receive Sequence Number)
               N(S)      (Send Sequence Number)
               P/F       (Poll/Final bit)
               SAPI      (Service Access Point)
               C/R        (Command/Response)
               M          (More bit)
               EL        (Length Extension bit)
               EA        (Address Extension Bit)
               refData      (Information Field)
              CcId      =&gt; $gCcId
Output:       None</pre>
<a name='ReadPatternConfigFile'></a><h2>ReadPatternConfigFile</h2>

<pre> ReadPatternConfigFile();

</pre>
<pre>Subroutine: ReadPatternConfigFile
Purpose:    To read the configuration file for pattern files
Input:      None
Output:     None</pre>
<a name='ReceiveAbisco'></a><h2>ReceiveAbisco</h2>

<pre> ReceiveAbisco();

</pre>
<pre>Subroutine: ReceiveAbisco
Purpose:    To receive a spontanious message from Abisco
Input:      Hash containing the following key(s):
             BTS      - Abisco connection parameter
             Timeout  - Timeout value
             Expect   - Expected message
             Supress  - Indicate if timeout errors should be supressed
                        (HandleError not called).
             L3DATA   - Reference to L3Data array of expected message
Output:     CauseValue</pre>
<a name='ReceiveAbiscoData'></a><h2>ReceiveAbiscoData</h2>

<pre> ReceiveAbiscoData();

</pre>
<pre>Subroutine: ReceiveAbiscoData
Purpose:    To receive a spontanious message from Abisco
Input:      Hash containing the following key(s):
             BTS     - Abisco connection parameter
             Timeout - Timeout value
             Expect  - Expected message
             Supress - "SupressError" if HandleError should not be called
Output:     Data</pre>
<a name='ReceiveAbiscoMessage'></a><h2>ReceiveAbiscoMessage</h2>

<pre> ReceiveAbiscoMessage();

</pre>
<pre>Subroutine: ReceiveAbiscoMessage
Purpose:     To receive a spontanious message from Abisco
Input:      BTS (Abisco connection parameter)
             Timeout    =&gt; undef,
            Expect    =&gt; undef,
            Supress    =&gt; "SupressError",
Output:     Received Data hash</pre>
<a name='ReceiveMSSIM'></a><h2>ReceiveMSSIM</h2>

<pre> ReceiveMSSIM();

</pre>
<pre>Subroutine: ReceiveMSSIM
Purpose:    To receive a spontaneous message from MSSIM
Input:      Hash containing the following key(s):
             Timeout   - Timeout value
             ExpMsg    - Expected Message
             Expect - Reference to array of expected message
Output:     None</pre>
<a name='ReceiveMSSIMData'></a><h2>ReceiveMSSIMData</h2>

<pre> ReceiveMSSIMData();

</pre>
<pre>Subroutine: ReceiveMSSIMData
Purpose:    To receive a spontanious message from MSSIM and return the Resp-&gt;Data array
Input:      Timeout
             ExpMsg
Output:     An array from RESP-&gt;Data</pre>
<a name='RelReqMSSIM'></a><h2>RelReqMSSIM</h2>

<pre> RelReqMSSIM();

</pre>
<pre>Subroutine: RelReqMSSIM
Purpose:    To send Release Request to MSSIM and receive ReleaseIndication
            from Abisco
Input:      Hash containing the following key(s):
             BTS     - Abisco connection parameter
             SAPI    - Sapi value
             CHAN    - Channel state
             MODE    - Release mode
Output:     None</pre>
<a name='SendCSData'></a><h2>SendCSData</h2>

<pre> SendCSData();

</pre>
<pre>Subroutine: SendCSdata
Purpose:    To send CS Data
Input:      Hash containing one or more of the following keys:
             TG    - TG to use  (default $TGId)
             TRXC  - TRX to use (default $TRXC)
             TS    - Timeslot   (default $TS)
             Rate  - Channel rate,  "T4.8kbits/s", "T9.6kbits/s", "T14.4kbits/s",
                     "NT12kbits/s" or "NT14.5kbits/s" (default $AlgorRate)
             Time  - Time to run (default $Timeout)
             DTX   - On or Off (default Off)
             CcId  - MSSIM CcId (default global CcId)
Output:     Error 0=OK, 1=error
            Error Reason
            Result   (Array including statistics from TSS and MSSIM)</pre>
<a name='SendDataMSSIM'></a><h2>SendDataMSSIM</h2>

<pre> SendDataMSSIM();

</pre>
<pre>Subroutine: SendData MSSIM
Purpose:   To send Data Indication to MSSIM and receive DataInd from Abisco.
Input:      Hash containing the following key(s):
             BTS     - Abisco connection parameter
             SAPI    - Sapi value
             CHAN    - Channel state
             L3DATA  - Reference to L3Data array</pre>
<pre>Output:     receiveAbisco Message</pre>
<a name='SendHandoverAccess'></a><h2>SendHandoverAccess</h2>

<pre> SendHandoverAccess();

</pre>
<pre>Subroutine:   SendHandoverAccess
Purpose:      Send a handover acesss
Input:        None
Output:       None</pre>
<a name='SendModeModifyEncr'></a><h2>SendModeModifyEncr</h2>

<pre> SendModeModifyEncr();

</pre>
<pre>Subroutine: SendModeModifyEncr
Purpose:   To send a Mode Modify command from Abisco with encryption information
Input:     Hash containing the following key(s):
             BTS            - Abisco_Connection object reference
             AlgorithmId    - 'No', 'A5/1', 'A5/2', 'A5/3'
             EncryptionKey  - Encryption key to use
             SyntaxCheck    - Syntax check On or Off
             ExpectedResult - Expected result from Abisco: ModeModifyAck, ModeModifyNegAck
             CauseValue     - Expected CauseValue (int) for ModeModifyNegAck response.
Output:    None</pre>
<a name='SendMultiPurposeReq'></a><h2>SendMultiPurposeReq</h2>

<pre> SendMultiPurposeReq();

</pre>
<pre>Subroutine: SendMultiPurposeReq
Purpose:    To send a downlink message.
Input:      Hash containing the following key(s):
             BTS      - Abisco connection parameter
             SAPI     - Sapi value
             L3DATA   - Reference to L3Data array of expected message
Output:     None</pre>
<a name='SendSpeech'></a><h2>SendSpeech</h2>

<pre> SendSpeech();

</pre>
<pre>Subroutine: SendSpeech
Purpose:    To activate sending of speech, either from MSSIM or from TSS
Input:    Param hash including:
             $Param{TG}
             $Param{TRXC}
             $Param{TS}
             $Param{SubCh}         TCH sub channel (0/1)
             $Param{DTX}           DTX Downlink (On/Off)
             $Param{TypeOfCh}      According to Abisco Ch Activation, see IWD Browser
             $Param{AlgOrRate}     According to Abisco Ch Activation, see IWD Browser
             $Param{ChRate}        According to Abisco Ch Activation, see IWD Browser
             $Param{ChannelType}   According to Abisco Ch Activation, see IWD Browser
             $Param{MRVersion}     According to Abisco Ch Activation, see IWD Browser
             $Param{ICMI}          According to Abisco Ch Activation, see IWD Browser
             $Param{StartMode}     According to Abisco Ch Activation, see IWD Browser
             @{$Param{AMR}}        According to Abisco Ch Activation, see IWD Browser
             $Param{TFO}           According to Abisco Ch Activation, see IWD Browser
             $Param{SCS}           According to Abisco Ch Activation, see IWD Browser
             $Param{MACS}          According to Abisco Ch Activation, see IWD Browser
             $Param{SimTypeTSS}    TSS simulation type "Frames" or "LoopBack"
             $Param{StartCodec}    According to Abisco ActivateSpeech OPT1.CodecMode, see IWD Browser
             $Param{SPType1}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
             $Param{SPTime1}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
             $Param{SPType2}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
             $Param{SPTime2}       According to Abisco ActivateSpeech SpeechPatternStruct, see IWD Browser
             $Param{CodecDL1}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecUL1}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecTime1}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecDL2}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecUL2}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecTime2}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecDL3}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecUL3}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecTime3}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecDL4}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecUL4}      According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{CodecTime4}    According to Abisco ActivateSpeech CodecModePatternStruct, see IWD Browser
             $Param{LoopDelay}     According to Abisco ActivateSpeech OPT3, see IWD Browser
             $Param{SimTypeMSSIM}  "LOOP", "PRBS", "PLAY_CHK" or "PLAY_REC"
             $Param{TxFile}        TxFile for MSSIM, see Prisma GSM base
             $Param{RxFile}        RxFile for MSSIM, see Prisma GSM base
             $Param{RxMax}         Rxmax for MSSIM, see Prisma GSM base
             @{$Param{Codec}}      Used Codecs, MSSIM format example: ["AFS4_75", "AFS5_15", "AFS5_9", "AFS6_7"]
             $Param{TimeToRun}     Time to run (in seconds)
Output:     Error 0=OK, 1=error
            Error Reason
            Result hash including:
               @{$Result{Statistic1}}   MSSIM fixed counters
               @{$Result{Statistic2}}   MSSIM variable counters from Cnt parameter
               @{$Result{Statistic3}})  TSS counters
               @{$Result{CntRow0}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation
               @{$Result{CntRow1}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation
               @{$Result{CntRow2}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation
               @{$Result{CntRow3}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation
               @{$Result{CntRow4}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation
               @{$Result{CntRow5}})     Optional MSSIM variable counters from Cnt parameter, for GUI presentation</pre>
<a name='SetEncryptionBTS'></a><h2>SetEncryptionBTS</h2>

<pre> SetEncryptionBTS();

</pre>
<pre>Subroutine:  SetEncryptionKeyBTS
Purpose:    Setting the encryption key in  BTS
Input:      Hash containing one or more of the following keys:
             BTS       -  Abisco connection parameter       (default $BTS)
             Encr      -  No (1) A5/1 (2) A5/2 (3) A5/3 (4) (default 'No')
             StartEncr - 'No', 'Start'                      (default 'No')
Output:    None</pre>
<a name='SetEncryptionBTSBitstream'></a><h2>SetEncryptionBTSBitstream</h2>

<pre> SetEncryptionBTSBitstream();

</pre>
<pre>Subroutine: SetEncryptionBTSBitstream
Purpose:    Set Encryption with Bitsream Command with Faulty length Indicator
Input:      None
Output:     None</pre>
<a name='SetEncryptionMSSIM'></a><h2>SetEncryptionMSSIM</h2>

<pre> SetEncryptionMSSIM();

</pre>
<pre>Subroutine:  SetEncryptionKeyMSSIM{
Purpose:    Sets the encryption in the MSSIM
Input:      Hash containing the following key(s):
             EncryptionAlg -   CIPH_NONE, CIPH_A5_1, CIPH_A5_2,
                               CIPH_A5_3, CIPH_A5_4, CIPH_A5_5,
                               CIPH_A5_6, CIPH_A5_7
             EncryptionKey  - Reference to 8 byte encryption key array
Output:</pre>
<a name='SetTSConfig'></a><h2>SetTSConfig</h2>

<pre> SetTSConfig();

</pre>
<pre>Subroutine: SetTSConfig
Purpose:    Set the channel combination and the encryption of a timeslot
            using TS Config Request. The encryption is changed for all tch
            timeslots due to a BTS requirement.
Input:      TGId, TRXC, TS, Encr, ChComb, AbisMode
Output:     Encr     - Original encryption
            BCCHType - BCCH Ch. Comb (COMB/NCOMB)
            ChComb   - TS channel combination</pre>
<a name='StartTestData'></a><h2>StartTestData</h2>

<pre> StartTestData();

</pre>
<pre>Subroutine: StartTestData
Purpose:    Starts testing of sending and recieving data frames
Input:      TRXC (opt.)
Output:     None</pre>
<a name='StartTestSpeech'></a><h2>StartTestSpeech</h2>

<pre> StartTestSpeech();

</pre>
<pre>Subroutine: StartTestSpeech
Purpose:    Starts testing of sending and recieving speech framse
Input:      SubCh - Subchannel for halfrate. ( Default 0 )
            SpeechType
            TRXC (opt.)
Output:     None</pre>
<a name='VerifyActiveEncryption'></a><h2>VerifyActiveEncryption</h2>

<pre> VerifyActiveEncryption();

</pre>
<pre>Subroutine: VerifyActiveEncryption
Purpose:    Verify if encryption is still active by deactivating
            encryption in the MS and control the success rate of transfered
            speech
Input:      EncrKey       - Reference to Encryption Key
            EncrALgoritm  - Used Encryption Algorithm
            Subch         - Used SubChannel (For HF Channel)
            SpeechType    - Used SpeechType
Output:     None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_extrange</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number : 135/190 55-CAH 161 1607/1 Uen
MODULE          : subs_extrange.pm
DESCRIPTION     : This package contains the subfunctions and variables used
                  with the main test case</pre>
<pre>COPYRIGHT &copy;:
ERICSSON AB,
S-164 80 STOCKHOLM</pre>
<pre>Company Registration number: 556056-6258</pre>
<pre>The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE        NAME              REVIEW      COMMENT
PA1   20091120    SAB/BJER                      document created
PA2   20100316    SAB/FRLI          SAB/BJER    Added functions: 
                                                ReceiveAbiscoMessage 
                                                SendHandoverAccess SetArfcn 
                                                RestartBTS LAPDmSend
PA3   20100323    SAB/BJER          SAB/FRLI    Added functions:
                                                CreateParameterHash
                                                SetCellTGSettings
                                                SendAccessBurstsMSSIM_ext
                                                ChActMSSIM_PTCCH
PA4   20100712    SAB/DAME          SAB/MAWI    Added possibility to return response from ChActBTS
                                                Added functions:
                                                GetTAFromMSSim
                                                SetTSSProcesses
                                                GetMeasurementResult</pre>
<pre>PA5   20110404    XMABENT           XDAVMEL     Added parameters to CreateParameterHash
                                                Added TimingAdvance to ChActBTS
                                                Added SendNormalBurstsMSSIM, SetAttrMSSIM, 
                                                 GetTAValue, GetTAValueMSSIM_PTCCH, ClearMSSIMbuffer
                                                 SetTSExtendedRange, findMessagesInLog, PrintMessageArray
                                                 CheckL3Data
PA6   20110518    XMABENT                       Updated SetArfcn
                                                Added GetTAValueMSSIM, ConvertTAValue, GetMeasurementReport</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Storable'>Storable</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?lib'>lib</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DBI'>DBI</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>Subroutine: ChActBTS
Purpose:    To activate a channel in the BTS, uses par hash variables
Input:      BTS     =&gt; $BTS,
            ChAct   =&gt; $ChAct,
            TG   =&gt; $TGId,
            TRXC =&gt; $TRXC,
            TS =&gt; $TS,
            ChType =&gt; $ChType,
            ActType =&gt; $ActType,
            Rbit =&gt; 'Activate',
            DTXUplink   =&gt; 'Off',
            DTXDownlink =&gt; 'Off',
            TypeOfCh    =&gt; $TypeOfCh,
            ChannelRate =&gt; $ChRate,
            AlgOrRate   =&gt; $AlgOrRate
            ReturnResp - 1/0, Returns %lResp if 1
Output:     None if ReturnResp = 0, %lResp if ReturnResp = 1</pre>
<pre>Changes:    100706  DAME   Added possibility to Return response from
                           BTS-&gt;Do with input ReturnResp</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>Subroutine: ChActMSSIM
Purpose:    To activate a channel in the MSSIM, returns the CcId package variable
Input:      Bypass      =&gt; 0,
            RxAcchOn    =&gt; 1,
            AllSacchSI  =&gt; 0,
            RToutOff    =&gt; 0,
            RxTrfcOn    =&gt; 0,
            UndecFrm    =&gt; 0,
            TrxNum      =&gt; 0,
            L2hdr       =&gt; 2,
            Data        =&gt; [@gMeas],
            TG          =&gt; $TGId,
            TRXC        =&gt; $TRXC,
            TS          =&gt; $TS,
            PDCHMode    =&gt; "",
            ChannelType =&gt; $ChType,
            ChRate      =&gt; $ChRate,
            TypeOfCh    =&gt; $TypeOfCh,
            AlgOrRate   =&gt; $AlgOrRate,
            AMRCodec    =&gt; $AMRCodec
            Cell        =&gt; $Cell
            MsId        =&gt; $gMsId,
Output:     $CcId</pre>
<pre>Changes:     2091210 BJER added condition when MSId = -1 to not send
                          gsmbSrvMS_SET_MEAS_CMD.
                          Removed global gCcId. Keep gCcId in abi file</pre>
<a name='ChActMSSIM_PTCCH'></a><h2>ChActMSSIM_PTCCH</h2>

<pre> ChActMSSIM_PTCCH();

</pre>
<pre>Subroutine: ChActMSSIM_PTCCH
Purpose:    To activate a PTCCH channel in the MSSIM
Input:      $Ref      (MSSIM Channel reference)
            $Cell     (MSSIM Cell)
            $TG
            $TRXC
            $TS
            $SecTS    (Secondary timeslot, only applicable for RTTI)
            $Mode     (BTTI/RTTI)
            $UCM      (Uplink Channel Mode)
            $SendAB   (Send Access Burts, 0=No, 1=Yes)
            $TypeOfAB (Type of Access Burst, 0=Single AB, 1=Four AB)
            $RxTrfcOn (1 or 0)
Output:     Error     (0=OK, 1= Error)
            CcId      (MSSIM channel id)</pre>
<a name='ChRelBTS'></a><h2>ChRelBTS</h2>

<pre> ChRelBTS();

</pre>
<pre>Subroutine: ChRelBTS
Purpose:    To release radio traffic channels or control channels in the BTS
Input:      BTS           =&gt; $BTS,
            TG            =&gt; $TGId,
            TRXC          =&gt; $TRXC,
            TS            =&gt; $TS,
            ChannelType   =&gt; $ChType,
            SupressError - 1/0 continue even if error is received On/Off
Output:     None</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>Subroutine: ChRelMSSIM
Purpose:    To release a channel in the MSSIM, uses the package variable CcId to
            identify the opened channel
Input:      CcId         - CcId of channel to close
            SupressError - 1/0 continue even if error is received On/Off
Output:     None</pre>
<pre>Changes:    20091210 BJER Removed global gCcId. Keep gCcId in abi file
            20091221 BJER Added SupressError</pre>
<a name='ChannelRequestTA'></a><h2>ChannelRequestTA</h2>

<pre> ChannelRequestTA();

</pre>
<pre>Subroutine: ChannelRequestTA
Purpose:    request TA-value,  Observe that 3 processes must be turned of on the TSS, rr_Main_tpr...
Input:      None
Output:     TA-value</pre>
<a name='CheckL3Data'></a><h2>CheckL3Data</h2>

<pre> CheckL3Data();

</pre>
<a name='ClearMSSIMbuffer'></a><h2>ClearMSSIMbuffer</h2>

<pre> ClearMSSIMbuffer();

</pre>
<pre>Subroutine: ClearMSSIMbuffer
Purpose:		Clears the MSSIM message buffer
Input:			None
Output: 		Number of cleared messages</pre>
<a name='CompareArrays'></a><h2>CompareArrays</h2>

<pre> CompareArrays();

</pre>
<pre>=Subroutine: CompareArrays</pre><pre>Purpose:    To compare two Arrays
Input:      $lArray1    ONE dimensional array
            $lArray2    ONE dimensional array
            Debug       Enables debug trace 1 = On, 0 = Off</pre>
<pre>Output:     0 - tables DOES NOT match
            1 - tables match
==</pre>
<a name='CompareHash'></a><h2>CompareHash</h2>

<pre> CompareHash();

</pre>
<pre>Subroutine: CompareHash
Purpose:    Compares two hashes by using recursion
Input:      Expected    Expected hash table
            Received    Hash table to compare Expected to
            Debug       Set to 1 to get debug printouts</pre>
<pre>Output:     0 - tables DOESNT match
            1 - tables match</pre>
<a name='ConvertTAValue'></a><h2>ConvertTAValue</h2>

<pre> ConvertTAValue();

</pre>
<pre>Subroutine: ConvertTAValue
Purpose:    To convert TA values from/to decimal to MSSIM format
Input:      Value (Value to be converted),
Output:     Converted value</pre>
<pre>Comments:   We support setting the TaAb and TaNb fields with 1/8th of a symbol.
            The TaAb and TaNb fields are unsigned shorts (16 bits) where the upper byte contains
            the high-precision part (1/8th of a symbol) and the lower byte is the low-precision part
            in steps of symbols.
            Thus, to set a ta of 1/8 you would write 1 &lt;&lt; 8 = 256, to set it to 2/8 you write 2&lt;&lt;8 = 512 etc.
            To set it to 1 symbol + 2/8 you write: 2&lt;&lt;8 + 1 = 513 etc.</pre>
<a name='CreateParameterHash'></a><h2>CreateParameterHash</h2>

<pre> CreateParameterHash();

</pre>
<pre>CreateParameterHash
SYNTAX: CreateParameterHash(Data =&gt; \@PacketData);
IN:  %Param
OUT: %Param</pre>
<a name='GetAccessDelayFromABISMessage'></a><h2>GetAccessDelayFromABISMessage</h2>

<pre> GetAccessDelayFromABISMessage();

</pre>
<pre>Subroutine: GetAccessDelayFromABISMessage
Purpose:    To return Access Delay value from ABIS log message
Input:      Message, message got from ABIS log
Output:     Access Delay value in dec.</pre>
<a name='GetMeasurementReport'></a><h2>GetMeasurementReport</h2>

<pre> GetMeasurementReport();

</pre>
<pre>Subroutine: GetMeasurementResult
Purpose:  Receive MeasurmentResult on Abis and return timing advance number</pre>
<pre>Input:    Timout              Timeout, Default is 1 second
          Expect              Part of MeasurementResult wanted
          Tries               Number of messages to search through</pre>
<pre>Output:   MeasurementResult   Message sent on Abis
                              -1 is Returned if no MeasurementResult was found</pre>
<a name='GetMeasurementResult'></a><h2>GetMeasurementResult</h2>

<pre> GetMeasurementResult();

</pre>
<pre>Subroutine: GetMeasurementResult
Purpose:  Receive MeasurmentResult on Abis and return timing advance number</pre>
<pre>Input:    Timout              Timeout, Default is 1 second
          Expect              Part of MeasurementResult wanted
          Tries               Number of messages to search through</pre>
<pre>Output:   MeasurementResult   Message sent on Abis
                              -1 is Returned if no MeasurementResult was found</pre>
<a name='GetTAFromMSSim'></a><h2>GetTAFromMSSim</h2>

<pre> GetTAFromMSSim();

</pre>
<pre>Subroutine: GetTAFromMSSim
Purpose:  Receive TA (Timing Advance) from 'RR Physical Information' message on air interface</pre>
<pre>Input:    Timeout         (Timeout for each message reading)
          Tries           (Number of messages to search through)</pre>
<pre>Output:   TA              (Timing Advance, -1 if not found)</pre>
<a name='GetTAValue'></a><h2>GetTAValue</h2>

<pre> GetTAValue();

</pre>
<pre>Subroutine: GetTAValue
Purpose: Get TA value from MeasurementResults in Abisco
Input:
Output:</pre>
<a name='GetTAValueMSSIM'></a><h2>GetTAValueMSSIM</h2>

<pre> GetTAValueMSSIM();

</pre>
<pre>Get current TA Value from the MSSIM</pre>
<a name='GetTAValueMSSIM_PTCCH'></a><h2>GetTAValueMSSIM_PTCCH</h2>

<pre> GetTAValueMSSIM_PTCCH();

</pre>
<pre>Purpose: Get current TA Value from the MSSIM, using packet data channel
Input:
Output: TA Value from PTCCH</pre>
<a name='LAPDmSend'></a><h2>LAPDmSend</h2>

<pre> LAPDmSend();

</pre>
<pre>Subroutine:  LAPDmSend
Purpose:      To send a LAPDm frame
Input:         $Chan      (SDCCH, SACCH or FACCH)
               $MsPower  (Only applicable for SACCH)
               $TA        (Timing advance, only applicable for SACCH)
              $Cmd       (Command = "I", "RR", RNR", "REJ", "SABM", "DM", "UI", "DISC" or "UA"
               N(R)       (Receive Sequence Number)
               N(S)      (Send Sequence Number)
               P/F       (Poll/Final bit)
               SAPI      (Service Access Point)
               C/R        (Command/Response)
               M          (More bit)
               EL        (Length Extension bit)
               EA        (Address Extension Bit)
               refData      (Information Field)
              CcId      =&gt; $gCcId
Output:       None</pre>
<a name='PrintDebug'></a><h2>PrintDebug</h2>

<pre> PrintDebug();

</pre>
<pre>=Subroutine: PrintDebug</pre><pre>Purpose:    Prints Debug printouts if global variable Debug is set to 1
Input:      DebugMsg =&gt; "Debug msg\n"
Output:     None
==</pre>
<a name='PrintMessageArray'></a><h2>PrintMessageArray</h2>

<pre> PrintMessageArray();

</pre>
<pre>Subroutine: PrintMessageArray
Purpose:    Subroutine to print all message hashes located in an array of
            hash references.</pre>
<pre>Input:      Hash containing the following key:</pre>
<pre>            MessageArrayRef - An array of hash references

</pre>
<pre>Output:     None</pre>
<a name='ReceiveABISMessage'></a><h2>ReceiveABISMessage</h2>

<pre> ReceiveABISMessage();

</pre>
<pre>Subroutine: ReceiveABISMessage
Purpose:     To receive a spontanious message from ABIS
Input:      $BTS (Abisco connection parameter)
             Timeout value
             Expected message type
Output:     Received Data hash</pre>
<a name='ReceiveAbiscoMessage'></a><h2>ReceiveAbiscoMessage</h2>

<pre> ReceiveAbiscoMessage();

</pre>
<pre>Subroutine: ReceiveAbiscoMessage
Purpose:     To receive a spontanious message from Abisco
Input:      $BTS (Abisco connection parameter)
             Timeout value
             Expected message type
             Supress, "SupressError" if HandleError should not be called
Output:     Received Data hash</pre>
<a name='ReceiveAbiscoMsg'></a><h2>ReceiveAbiscoMsg</h2>

<pre> ReceiveAbiscoMsg();

</pre>
<pre>Subroutine: ReceiveAbiscoMsg
Purpose:    Receive msgs on Abisco until one is found that matches the
            in Expected hash or timeout occurs</pre>
<pre>Input:      BTS           - Abisco connection parameter
            Timeout       - 0.., time to look for msg in seconds
            SupressError  - 1/0, supress croak On/Off
            ErrorMsg      - if this string is defined it will be printed if an
                            error occurs
            Expected      - Hash containing keys to look for in received msg</pre>
<pre>Output:     0 - Message matching Expected's keys NOT found
            1 - Message matching Expected's keys found</pre>
<a name='ReceiveMSSimMsg'></a><h2>ReceiveMSSimMsg</h2>

<pre> ReceiveMSSimMsg();

</pre>
<pre>Subroutine: ReceiveMSSimMsg
Purpose:    Receive msgs on the MSSim until one is found that matches the
            in Expected hash or timeout occurs</pre>
<pre>Input:      Timeout       - 0.., time to look for msg in seconds
            SupressError  - 1/0, supress croak On/Off
            ErrorMsg      - if this string is defined it will be printed if an
                            error occurs
            Expected      - Hash containing keys to look for in received msg</pre>
<pre>Output:     0 - Message matching Expected's keys NOT found
            1 - Message matching Expected's keys found</pre>
<a name='RestartBTS'></a><h2>RestartBTS</h2>

<pre> RestartBTS();

</pre>
<pre>Subroutine: RestartBTS
Purpose:    Restarting the BTS, make sure that the parameters set during restart
            complies with your specific TC
Input:      BTS           =&gt; $BTS,
            TGId          =&gt; $TGId,
            TRXList       =&gt; [0, 1],
            SiList        =&gt; [ 'SI1', 'SI2', 'SI3', 'SI4', 'SI5', 'SI6', 'MI' ],
            Responses     =&gt; 'Int',
            StartingMode  =&gt; 'TDM',
Output:</pre>
<a name='SendAccessBurstsMSSIM_ext'></a><h2>SendAccessBurstsMSSIM_ext</h2>

<pre> SendAccessBurstsMSSIM_ext();

</pre>
<pre>Subroutine: SendAccessBurstsMSSIM_ext
Purpose:  This is an extended version of SendAccessBurstsMSSIM in packetfunc.pm
Input:    MsId        (MSSIM mobile Id)
          CcId        (MSSIM channel id)
          BitsInAB    (0 = 8 bits, 1 = 11 bits)
          TS_AB       (Training sequence for AB 0, 1 or 2)
          TypeOfAB    (0 = single AB, 1 = four ABs)
          RepeatAB    (0 = No, 1 = Yes)
          ULEncoding  (Ulink encoding)
          Chan        (PDTCH or PTCCH)
          AB          (Access burst contents, 8 bits one octet, 11 bits two octets)
Output:   0 = OK
          $Burst      (Type of burst)</pre>
<a name='SendHandoverAccess'></a><h2>SendHandoverAccess</h2>

<pre> SendHandoverAccess();

</pre>
<pre>Subroutine:  SendHandoverAccess
Purpose:      Send a handover acesss
Input:        None
Output:       None</pre>
<a name='SendNormalBurstsMSSIM'></a><h2>SendNormalBurstsMSSIM</h2>

<pre> SendNormalBurstsMSSIM();

</pre>
<pre>Subroutine: SendNormalBurstsMSSIM
Purpose:  To send normal bursts with the MSSIM
Input:    MsId        (MSSIM mobile Id)
          CcId        (MSSIM channel id)
          ULEncoding  (Ulink encoding)
          Chan        (PDTCH or PTCCH)
          Data        (Data to be sent uplink 23 octets)
Output:</pre>
<a name='SetArfcn'></a><h2>SetArfcn</h2>

<pre> SetArfcn();

</pre>
<pre>Subroutine: SetArfcn
Purpose:    To set the correct ARFCN according to TS
Input:      $BTS
Output:     $TestBand The current BTS under test
            'No error' or 'error'
            'No restart' or 'Restart'   sent back if a restart is necessary to make changes effective</pre>
<a name='SetAttrMSSIM'></a><h2>SetAttrMSSIM</h2>

<pre> SetAttrMSSIM();

</pre>
<pre>Subroutine: SetAttrMSSIM
Purpose:
Input:
Output:</pre>
<a name='SetCellTGSettings'></a><h2>SetCellTGSettings</h2>

<pre> SetCellTGSettings();

</pre>
<pre>Subroutine: SetCellTGSettings
Purpose:    If the 'ExpectedCell/TG' input hash doesnt match the current cell/TG settings
            from InfoCell/TG then update cell/TG with 'Expected's keys and restart BTS.
            The 'ExpectedCell' input hash is merged with a default settings hash if
            'UseCellDefaults' is set to 1. The default settings hash has
            the settings a cell has when New TG is used in Abisco.
            NOTE: the cell/TG must be configured once before this function is used
            since it doesnt update HW specific settings in UpdateCell/TG (such as
            ARFCN number).</pre>
<pre>Input:      BTS             =&gt; $BTS,
            TG              =&gt; $TGId,
            Cell            =&gt; 0,
            UseCellDefaults =&gt; 0,
            ForceRestart    =&gt; 0,
            ExpectedCell    =&gt; {
              BCCHType        =&gt; $::BCCHType,
              SDCCHList       =&gt; [$::TRXC, $::TS],
              BS_AG_BLKS_RES  =&gt; $::BSAG,
              CBCHIndicator   =&gt; $::CBCH_Ind,
              ..(above are just examples, all parameters in iwd updatecell valid)},
            ExpectedTG   =&gt; {
              ..
            }
Output:     None</pre>
<a name='SetTSExtendedRange'></a><h2>SetTSExtendedRange</h2>

<pre> SetTSExtendedRange();

</pre>
<pre>Set TS to Extended Range
Purpose: To enable or disable extended range on a TS
Input: Hash containing
        TS - Timeslot to be changed
        ERI - Extended range 'On' or 'Off'
Output : None</pre>
<a name='SetTSSProcesses'></a><h2>SetTSSProcesses</h2>

<pre> SetTSSProcesses();

</pre>
<pre>Subroutine: SetTSSProcesses
Purpose:  Turn three processes in the TSS ON or OFF
          rr_sign_tpr, rr_conn_tpr, rr_main_tpr</pre>
<pre>Input:    State           Turn ON or OFF</pre>
<pre>Output:   None</pre>
<pre>Note:     Absico crasches when this sub is used!</pre>
<a name='findMessagesInLog'></a><h2>findMessagesInLog</h2>

<pre> findMessagesInLog();

</pre>
<pre>Subroutine: findMessagesInLog
Purpose:    Subroutine to search a log file for a specific type of messages.</pre>
<pre>Input:      Hash containing the following key:</pre>
<pre>             LogFile     - File name of the log file to search

             MessageType - A text prefix at the beginning of each line of the
                           log-file defining the message type.
                           Example: 'DL:' or 'UL:'  are valid message types for
                           an  ABIS log.

            MessageStructure - Reference to a hash containing the message structure.
                           This sturcture is used as a template for returned messages.
                           The hash should be built of smaller hashes of the form:

                          'KeyName' =&gt; { 'Offset' =&gt; 0,
                                         'Size'   =&gt; 8,
                                         'Value'  =&gt; undef,
                                         'Type'   =&gt; 'Numeric' },

                          where the Offset and Size key values define the location
                          in bits of the data corresponding to the parameter.
                          If Value is set to undef, it will be filled with the values
                          of a correpsonding parameter value of a message in the log.
                          If on the other hand a value is set for Value, that is used
                          as a filter to select only matching messages form the log.
                          Type is used to indicate if Value is a numeric value ('Numeric')
                          or and array (set as 'Array').

            PrefixRemoved - Defines the number of prefix strings each line in the log has
                          before the start of the hex-data. ( Currently it is 1 for Abis logs
                          and 4 for MSSIM logs if the logs are formatted using the substr
                          createMessageLogFromWLog and createMSSIMMessageLogFromWLog.
                          (Set to 1 by default).

</pre>
<pre>Output:    An array of messages matching the given criterias.
           Each array is a clone of the MessageStructure hash given as a parameter.</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_FC</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>--Document number : 128/190 55-CAH 161 1607/1
MODULE      : subs_FC.pm</pre>
<pre>COPYRIGHT &copy; : ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE      NAME     REVIEW     COMMENT
A   20110202  ERAKOSI   UABJAES   First relese. Approved UABTOH.
B   20110512  ESIOGRA   UABJAES   doGetPlatform modified to show HWInfoResult on failure
                                   Added AbisVersion parameter to abRequestLoadfiles. Was using a global before which we're trying to discourage
                                   Changed TDMCN_TRA corruption command "file write" to "flash write"
                                   Added ReturnType parameter to most abisco functions to allow coder to request a particular result to be returned
                                   sub Debug wasn't logging to file even with DEBUGLEVEL turned off. it should always log to file.
                                   added Project =&gt; $Project for doLoadSoftware. this fails with Abisco R35C but wasn't a problem before.
                                   Added parameters for LoadOneSoftwareFile call for R35D.
                                   Added rbs 2000 micro support in sub doGetPlatform.
                                   Added U3 keys for CPR and RUS
                                   Added Proj1 to export list.
                                   getCorruptionMatrix and getCompatibilityMatrix corrected.
                                   Added code to doCheckBTSSoftware to output tests sorted as the FTS shows them
                                   Changed code that sets OML/RSL maps and added "die" statement to force an error if the key isn't present.
                                   Fixed isArrayMatch call in doStartRequestExtra and added doGetNegotiationRecord function and added functions doGetBTSRev, doGetBTSGen and doGetNegotiationRecord
                                   Added sub abEstablishLinks that was removed due to a confusion with ClearCase back in PA9
                                   File was checked into ClearCase with debug output in a function. Checking in new version to remove this.
                                   Found more code missing due to ClearCase mixup. This time with abCompleteStart parameters and clearing message buffer in doHardWareReset
                                   Substantial changes to doStartRequestExtra for improved speed, plus changes for %SoftwareRelease hash to support software split
                                   Code changes to allow DVTCommands to be resent when no response is received
                                   Added function doGetFileSize
                                   Fixed problem with doGetFileSize function!
C   20110513  ESIOGRA  UABJAES    Fixed bug in isDVTConnected function to correctly return false when DVT is not connected
D   20120207  XMAROHM  XPRRANA    Updated for G12A
E   20120102  XMAROHM  XPRRANA    Updated to G12B.
F   20121030  XMAROHM             Updated for G13A. Added getRBSHWUsed, doLFValidCheck, getDestInFileInfo, doLoadDeltaSoftware, doGenerateFRR,doGetIWD and doDeltaFRR.
                                   Updated doSetupLoadFiles, isBTSInitiatedRequest. Clean up of code, removed unused functions.
                                   Updated doGetPlatform to detect RBS6000_DUG_RUS_Macro_DUGCR1, better detection of mixPPC and purePPC.
                                   Updated for Perl 5.14.
--</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Data::Dumper'>Data::Dumper</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?SwitchBox'>SwitchBox</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Time::HiRes'>Time::HiRes</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?POSIX'>POSIX</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc3'>AbiscoFunc3</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc1'>AbiscoFunc1</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?BTSFunc'>BTSFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Complex'>Complex</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DVTFunc'>DVTFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?XML::Simple'>XML::Simple</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='Debug'></a><h2>Debug</h2>

<pre> Debug();


</pre>
<pre>ekentma 2010-04-09
ekentma 2010-05-01 A touch of colour
function Debug</pre>
<pre>Standard output function to format a debug string. The string will not be displayed
if the debug value is less than the global $DEBUGLEVEL</pre>
<pre>Level can be: 0: Critical, 1: Warning, 2: Info, 3: Debug1, 4: Debug2, 5: Debug3</pre>
<pre>Example: Debug(2, "My debug message.");
Returns: 1 result on success, 0 on failure</pre>
<a name='FileSizeToList'></a><h2>FileSizeToList</h2>

<pre> FileSizeToList();


</pre>
<pre>unknown 1979-01-01
function FileSizeToList</pre>
<pre>Convert a file size in bytes to a list for Abisco</pre>
<pre>Example: FileSizeToList(5242880);
Returns: list of integers</pre>
<a name='List2Str'></a><h2>List2Str</h2>

<pre> List2Str();


</pre>
<pre>esiogra 2010-07-16
function List2Str</pre>
<pre>Convert an array of ASCII numbers to a string</pre>
<pre>Example: List2Str(90,70,74,65,48,65,90);
Returns: string</pre>
<a name='ParseDVTResponse'></a><h2>ParseDVTResponse</h2>

<pre> ParseDVTResponse();


</pre>
<pre>ekentma 2010-05-01
function ParseDVTResponse</pre>
<pre>Format the date and time for use with debugging output</pre>
<pre>Example: ParseDVTResponse('rev ram');
Returns: A cleaned up response</pre>
<a name='RaiseError'></a><h2>RaiseError</h2>

<pre> RaiseError();

</pre>
<pre>==Subroutine: RaiseError</pre><pre>COMMENT  : To set Result=Not_Applicable with error text(reason)
Syntax : RaiseError("Error found!");
In: Text to print
---</pre>
<a name='Run'></a><h2>Run</h2>

<pre> Run();


</pre>
<pre>esiogra 2010-10-16
function Run</pre>
<pre>Sets up globals and initialises.</pre>
<pre>Example: n/a
Returns: n/a</pre>
<a name='Str2List'></a><h2>Str2List</h2>

<pre> Str2List();


</pre>
<pre>esiogra 2010-10-16
function Str2List (previously called StrToList)</pre>
<pre>Convert a string to a corresponding array of ASCII numbers.</pre>
<pre>Example: Str2List('ZFJA0AZ');
Returns: list of integers</pre>
<a name='TimeStamp'></a><h2>TimeStamp</h2>

<pre> TimeStamp();


</pre>
<pre>esiogra 2010-07-09
function TimeStamp</pre>
<pre>Format the date and time for use with debugging output</pre>
<pre>Example: TimeStamp();
Returns: Formatted time stamp</pre>
<a name='abCompleteStart'></a><h2>abCompleteStart</h2>

<pre> abCompleteStart();


</pre>
<pre>esiogra 2010-06-29
function abCompleteStart</pre>
<pre>Performs a CompleteStart.</pre>
<pre>Example: abCompleteStart(BTS =&gt; $BTS, TG =&gt; 0, ApplicationDownload =&gt; 'CONDITIONAL', Project =&gt; 'avanti_g10b', SoftwareVersion =&gt; 'P7BZ');
Returns: 1 on success, 0 on failure</pre>
<a name='abConnectResetStartConfigEnableOpinfo'></a><h2>abConnectResetStartConfigEnableOpinfo</h2>

<pre> abConnectResetStartConfigEnableOpinfo();


</pre>
<pre>function abConnectResetStartConfigEnableOpinfo</pre>
<pre>description</pre>
<pre>Example:
Returns:</pre>
<a name='abEstablishLinks'></a><h2>abEstablishLinks</h2>

<pre> abEstablishLinks();


</pre>
<pre>esiogra 2011-03-23
function abEstablishLinks</pre>
<pre>Establish CF link. Code copied from Kostas' own implementation.</pre>
<pre>Example: abEstablishLinks(BTS =&gt; $BTS, TG =&gt; $TG);
Returns: 1 on success, 0 on failure</pre>
<a name='abFilePackageEndCommand'></a><h2>abFilePackageEndCommand</h2>

<pre> abFilePackageEndCommand();


</pre>
<pre>esiogra 2010-12-10
function abFilePackageEndCommand</pre>
<pre>Send a FilePackageEndCommand to the BTS.</pre>
<pre>Example: $result = abFilePackageEndCommand(BTS =&gt; $BTS, TG =&gt; $TG, MOClass =&gt; 'CF', ReturnType =&gt; 'FilePackageStateIndic.FPSI');
Returns: Can return single scalar from Abisco hash, entire hash or Boolean</pre>
<a name='abFileRelationRequest'></a><h2>abFileRelationRequest</h2>

<pre> abFileRelationRequest();


</pre>
<pre>esiogra 2010-06-29
function abFileRelationRequest</pre>
<pre>Returns a file relation request and returns entire abisco response.</pre>
<pre>Example: abFileRelationRequest(BTS =&gt; $BTS, TG =&gt; $TG, File =&gt; \%ZFJ_U1);
Returns: Abisco response hash.</pre>
<a name='abHWInfoRequest'></a><h2>abHWInfoRequest</h2>

<pre> abHWInfoRequest();


</pre>
<pre>esiogra 2010-06-29
function abHWInfoRequest</pre>
<pre>Example: abHWInfoRequest(BTS =&gt; $BTS);
Returns: Abisco hash from the HWInfoRequest command</pre>
<a name='abListLoadfileNames'></a><h2>abListLoadfileNames</h2>

<pre> abListLoadfileNames();


</pre>
<pre>esiogra 2010-06-29
function abListLoadfileNames</pre>
<pre>List the load file names for a software version.</pre>
<pre>Example: abListLoadfileNames(BTS =&gt; $BTS, Project =&gt; 'avanti_g10b', SoftwareVersion =&gt; 'P7BZ');
Returns: Array containing all load file names.</pre>
<a name='abLoadDataEnd'></a><h2>abLoadDataEnd</h2>

<pre> abLoadDataEnd();


</pre>
<pre>esiogra 2010-06-29
function abLoadDataEnd</pre>
<pre>Performs a LoadDataEnd.</pre>
<pre>Example: abLoadDataEnd(BTS =&gt; $BTS);
Returns: 1 on success, 0 on failure</pre>
<a name='abLoadDataInit'></a><h2>abLoadDataInit</h2>

<pre> abLoadDataInit();


</pre>
<pre>esiogra 2010-10-14
function abLoadDataInit</pre>
<pre>Run an Abisco LoadDataInit call.</pre>
<pre>Example: abLoadDataInit(BTS =&gt; $BTS, TG =&gt; $TG, TRXC =&gt; $TRXC, MOClass =&gt; 'CF', File =&gt; $File);
Returns the Abisco response or you can define the parameter Simple =&gt; 'YES' to just get a boolean pass or fail</pre>
<a name='abLoadOneSoftwareFile'></a><h2>abLoadOneSoftwareFile</h2>

<pre> abLoadOneSoftwareFile();


</pre>
<pre>esiogra 2010-06-29
function abLoadOneSoftwareFile</pre>
<pre>Loads a single software file.</pre>
<pre>Example: abLoadOneSoftwareFile(BTS =&gt; $BTS, Project =&gt; 'avanti_g10b', Filename =&gt; 'ZFJP7BZ', SoftwareVersion =&gt; 'P7BZ');
Example: abLoadOneSoftwareFile(BTS =&gt; $BTS, Project =&gt; 'avanti_g10b', Filename =&gt; 'ZFJP7BZ', SoftwareVersion =&gt; 'P7BZ', FilePackageEnd =&gt; 'NO');
Returns: 1 on success, 0 on failure</pre>
<a name='abLoadSoftware'></a><h2>abLoadSoftware</h2>

<pre> abLoadSoftware();


</pre>
<pre>esiogra 2010-07-08
function abLoadSoftware</pre>
<pre>Run an Abisco LoadSoftware call.</pre>
<pre>Example: abLoadSoftware(BTS =&gt; $BTS, TG =&gt; $TG, Project =&gt; $Project, SoftwareVersion =&gt; $U1, ApplicationDownload =&gt; 'CONDITIONAL');
Returns: 1 on success, 0 on failure</pre>
<a name='abRequestLoadfiles'></a><h2>abRequestLoadfiles</h2>

<pre> abRequestLoadfiles();


</pre>
<pre>esiogra 2010-06-30
function abRequestLoadfiles</pre>
<pre>makes a request to ProgProg to load all files</pre>
<pre>Example: abRequestLoadfiles(BTS =&gt; $BTS, Project =&gt; 'avanti_g11b', SoftwareVersion =&gt; 'P1BV');
Returns: true on success, false on failure</pre>
<a name='abResetCommand'></a><h2>abResetCommand</h2>

<pre> abResetCommand();


</pre>
<pre>esiogra 2010-08-11
function abResetCommand</pre>
<pre>Send a reset command to the BTS</pre>
<pre>Example: abResetCommand(BTS =&gt; $BTS, TG =&gt; $TG, TRXC =&gt; $TRXC, MOClass =&gt; 'CF');
Returns: 1 on success, 0 on failure</pre>
<a name='abStartRequest'></a><h2>abStartRequest</h2>

<pre> abStartRequest();


</pre>
<pre>esiogra 2010-07-01
function abStartRequest</pre>
<pre>Send a start request to the BTS.</pre>
<pre>Example: abStartRequest(BTS =&gt; $BTS, TG =&gt; $TG, TRXC =&gt; $TRXC, MOClass =&gt; 'CF', ReturnType =&gt; 'MOClass.MOClass');
Returns: 1 on success, 0 on failure</pre>
<a name='doAbisLog'></a><h2>doAbisLog</h2>

<pre> doAbisLog();


</pre>
<pre>esiogra 2010-07-09
function doAbisLog</pre>
<pre>Turn Abis logging on and off.</pre>
<pre>Example: doAbisLog(BTS =&gt; $BTS, TG =&gt; $TG, State =&gt; 'OFF');
Returns: 1 on success, 0 on failure</pre>
<a name='doCRCCheck'></a><h2>doCRCCheck</h2>

<pre> doCRCCheck();


</pre>
<pre>function doCRCCheck</pre>
<pre>description:
Example:
Returns:</pre>
<a name='doCheckBTSSoftware'></a><h2>doCheckBTSSoftware</h2>

<pre> doCheckBTSSoftware();


</pre>
<pre>function doCheckBTSSoftware</pre>
<pre>To see if the software in the RBS is correct, either by file revision or CRC.</pre>
<pre>Example: (BTS =&gt; $BTS, DXUPlatform =&gt; $DXUPlatform, Software =&gt; $Software)
Returns: 1 if the loaded software matches, 0 if not.</pre>
<a name='doChecksumErrorOnFile'></a><h2>doChecksumErrorOnFile</h2>

<pre> doChecksumErrorOnFile();


</pre>
<pre>esiogra 2011-06-28
function doChecksumErrorOnFile</pre>
<pre>Creates a checksum error on a software file.</pre>
<pre>Example: doChecksumErrorOnFile(BTS =&gt; $BTS, Project =&gt; 'avanti_g11bg5', Filename =&gt; 'DXPP1CTZ');
Returns: 1 on success, 0 on failure</pre>
<a name='doConnectDVT'></a><h2>doConnectDVT</h2>

<pre> doConnectDVT();


</pre>
<pre>esiogra 2010-07-07
function doConnectDVT</pre>
<pre>Tries to connect to DVT.</pre>
<pre>Example: doConnectDVT($BTS);
Returns: 1 result on success, 0 on failure</pre>
<a name='doConnectTTR'></a><h2>doConnectTTR</h2>

<pre> doConnectTTR();


</pre>
<pre>esiogra 2010-07-07
function doConnectTTR</pre>
<pre>Tries to connect to TTR. This function exists, although I'm not sure it is
possible to remotely connect the TTR. I'll leave the function here in case it
is possible in the future.</pre>
<pre>Example: doConnectTTR($BTS);
Returns: 1 result on success, 0 on failure</pre>
<a name='doCorruptFile'></a><h2>doCorruptFile</h2>

<pre> doCorruptFile();


</pre>
<pre>ekentma 2010-08-01
function doCorruptFile</pre>
<pre>doCorruptFile</pre>
<pre>Example: doCorruptFile('CMCN_DXP_B', 'CMCN_TRP_U');
Returns: n/a</pre>
<a name='doCorruption'></a><h2>doCorruption</h2>

<pre> doCorruption();


</pre>
<pre>function doCorruption</pre>
<pre>Corrupts files and receives a BG.Fault verifing the corruption.</pre>
<pre>Example: doCorruption(Software =&gt; $Software, HardwareReset = 'NO');
Returns: 1 result on success, 0 on failure</pre>
<a name='doFormatNegRecIIList'></a><h2>doFormatNegRecIIList</h2>

<pre> doFormatNegRecIIList();


</pre>
<pre>esiogra 2010-10-27
function doFormatNegRecIIList</pre>
<pre>returns a string equivalent of the NegRecII List by decoding it</pre>
<pre>Example: $string = doFormatNegRecIIList(@NegRecIIList);
Returns: a string representation of the NegRecIIList</pre>
<a name='doFormatNegRecIList'></a><h2>doFormatNegRecIList</h2>

<pre> doFormatNegRecIList();


</pre>
<pre>esiogra 2010-10-27
function doFormatNegRecIList</pre>
<pre>returns a string equivalent of the NegRecI List by decoding it</pre>
<pre>Example: $string = doFormatNegRecIList(@NegRecIList);
Returns: a string representation of the NegRecIList</pre>
<a name='doGenerateFRR'></a><h2>doGenerateFRR</h2>

<pre> doGenerateFRR();


</pre>
<pre>function doGenerateFRR</pre>
<pre>Description: Generate a FileRelationList for all load files
Example: doGenerateFRList(FRROn=&gt; 'U2', Default =&gt; 'AN', Delta =&gt; ('DXP','TRP'),
         ZFJ =&gt; 'NN', Indicator =&gt; 'YES')
         FRROn: The software you are doing the FRR on.
         Default: The default state for all the loadfiles.
         ZFJ: The state of the ZFJ load file.
         Delta: Changes the default state AA-&gt;AN, AN-&gt;AA, NN-&gt;AN for the load files.
         Indicator: Specifies that
         SwitchDelta: When default is NN, delta is AA.
         CheckForCPA: If CPA do not exist in the load files, CPR will get the default value.
Returns: Array of FileRelationIndications: AA,AN,AN...
         Array containing the FileRelationList: '1','3','2','3','2','3'...</pre>
<a name='doGetBTSGen'></a><h2>doGetBTSGen</h2>

<pre> doGetBTSGen();


</pre>
<pre>esiogra 2011-03-17
function doGetBTSGen</pre>
<pre>Return the negrec value that matches the given Software Release</pre>
<pre>Example: doGetNBTSGen('G11B');
Returns: scalar</pre>
<a name='doGetBTSRev'></a><h2>doGetBTSRev</h2>

<pre> doGetBTSRev();


</pre>
<pre>esiogra 2011-03-17
function doGetBTSRev</pre>
<pre>Return the negrec value that matches the given Software Release</pre>
<pre>Example: doGetBTSRev('G11B');
Returns: array</pre>
<a name='doGetFaultReport'></a><h2>doGetFaultReport</h2>

<pre> doGetFaultReport();


</pre>
<pre>function doGetFaultReport</pre>
<pre>description: Checks that the Fault in FaultMapClass exists in the FaultReports
             gathered during the specified timeout (default 30 seconds).</pre>
<pre>Example: $result = doGetFaultReport(BTS =&gt; $BTS,
                                    FaultMapClass =&gt; 'IntFaultMapClass1A',
                                    Fault =&gt; 21);
Returns: 1 if the fault exists and 0 if the fault does not.</pre>
<a name='doGetFileSize'></a><h2>doGetFileSize</h2>

<pre> doGetFileSize();


</pre>
<pre>esiogra 2011-04-20
function doGetFileSize</pre>
<pre>Return the filesize in bytes for a given load file</pre>
<pre>Example: doGetNBTSGen(BTS =&gt; $BTS, Project =&gt; 'avanti_g11bg5', Filename =&gt; 'DXPP1CTZ');
Returns: scalar</pre>
<a name='doGetFirstTRXCLocation'></a><h2>doGetFirstTRXCLocation</h2>

<pre> doGetFirstTRXCLocation();


</pre>
<pre>erakosi 2010-10-05
function doGetFirstTRXCLocation</pre>
<pre>Get the first location of a TRXCType</pre>
<pre>Example: doGetFirstTRXCLocation (TRXCType =&gt; 'cTRU');
Returns: Integer with first TRXCType location</pre>
<a name='doGetIWD'></a><h2>doGetIWD</h2>

<pre> doGetIWD();


</pre>
<pre>function doGetIWD</pre>
<pre>Return the latest or oldest IWD</pre>
<pre>Example: doGetIWD(Version =&gt; 'NEW');
Returns: scalar</pre>
<a name='doGetNegotiationRecord'></a><h2>doGetNegotiationRecord</h2>

<pre> doGetNegotiationRecord();


</pre>
<pre>esiogra 2011-03-17
function doGetNegotiationRecord</pre>
<pre>Return the negrec value that matches the given Software Release</pre>
<pre>Example: doGetNegotiationRecord('G11B');
Returns: scalar</pre>
<a name='doGetOMLMaps'></a><h2>doGetOMLMaps</h2>

<pre> doGetOMLMaps();


</pre>
<pre>esiogra 2010-11-01
function doGetOMLMaps</pre>
<pre>Return the OML maps that match the given Software Release</pre>
<pre>Example: doGetOMLMaps('G11B');
Returns: two element array ($OML1, $OML2)</pre>
<a name='doGetOMLRSL'></a><h2>doGetOMLRSL</h2>

<pre> doGetOMLRSL();


</pre>
<pre>esiogra 2010-11-01
function doGetOMLRSL</pre>
<pre>Return the OML and RSL that match the given IWD</pre>
<pre>Example: doGetOMLRSL('G11B');
Returns: two element array ($oml, $rsl)</pre>
<a name='doGetPlatform'></a><h2>doGetPlatform</h2>

<pre> doGetPlatform();


</pre>
<pre>function doGetPlatform</pre>
<pre>Get the platform hardware type by detecting specific hardware in the RBS</pre>
<pre>Example: doGetPlatform(BTS =&gt; $BTS, TG =&gt; $TG);
Returns: string indicating platform type or empty string on failure</pre>
<a name='doGetRSLMaps'></a><h2>doGetRSLMaps</h2>

<pre> doGetRSLMaps();


</pre>
<pre>esiogra 2010-11-01
function doGetRSLMaps</pre>
<pre>Return the RSL maps that match the given Software Release</pre>
<pre>Example: doGetRSLMaps('G11B');
Returns: two element array ($RSL1, $RSL2)</pre>
<a name='doGetRusVersion'></a><h2>doGetRusVersion</h2>

<pre> doGetRusVersion();


</pre>
<pre>Written by esiogra, added by xmarohm 2011-08-10
function doGetRusVersion</pre>
<pre>Retrieves the RUS software version.</pre>
<pre>Example: doGetRusVersion(BTS =&gt; $BTS, Project =&gt; $Project, Filename =&gt; 'RUS' . uc($U1) . 'Z');
Returns: the version of the RUS software</pre>
<a name='doGetSoftwareVersion'></a><h2>doGetSoftwareVersion</h2>

<pre> doGetSoftwareVersion();


</pre>
<pre>esiogra 2010-10-20
function doGetSoftwareVersion</pre>
<pre>Return the software version for one software location on the BTS</pre>
<pre>Example: $software =
Returns: Software version running on BTS, eg "P1AA"</pre>
<a name='doHardwareReset'></a><h2>doHardwareReset</h2>

<pre> doHardwareReset();


</pre>
<pre>esiogra 2010-09-23
function doHardwareReset</pre>
<pre>Wait for a given number of seconds</pre>
<pre>Example: doHardwareReset();
Example: doHardwareReset(1);
Returns: n/a</pre>
<a name='doLFValidCheck'></a><h2>doLFValidCheck</h2>

<pre> doLFValidCheck();


</pre>
<pre>function doLFValidCheck</pre>
<pre>description: Check if the load file is valid on the hardware
Example: doLFValidCheck(LoadFile =&gt; $Array('DTR', '$PDXU'), USoftware =&gt; 'U1')
Returns: 1 if the load file is allowed, 0 otherwise</pre>
<a name='doLoadDeltaSoftware'></a><h2>doLoadDeltaSoftware</h2>

<pre> doLoadDeltaSoftware();


</pre>
<pre>function doLoadDeltaSoftware</pre>
<pre>Does a delta upgrade on the RBS software, upgrading only the files
that is new.</pre>
<pre>Example: doLoadDeltaSoftware(BTS =&gt; $BTS, Project =&gt; $Project,
                        SoftwareVersion =&gt; $U1);
Returns: Array containing the software that was loaded, 0 on error.</pre>
<a name='doLoadSoftware'></a><h2>doLoadSoftware</h2>

<pre> doLoadSoftware();


</pre>
<pre>esiogra 2010-06-29
function doLoadSoftware</pre>
<pre>This function will load whatever software is necessary to get the BTS to be
on the specified version. Already loaded software is not loaded unless the
parameter $ApplicationDownload = 'YES' is passed. Once completed, a FilePackageEndCommand
is sent and a restart performed if requested by the BTS.
This function only differs from "LoadSoftware" since with this function you can
specify where a StartRequest is sent at the end of the process.</pre>
<pre>Example: doLoadSoftware(BTS =&gt; $BTS, TG =&gt; $TG, Project =&gt; $Project, SoftwareVersion =&gt; $U1, StartRequest =&gt; 'NO');
Returns: 1 on success, 0 on failure</pre>
<a name='doPowerOffRBS'></a><h2>doPowerOffRBS</h2>

<pre> doPowerOffRBS();


</pre>
<pre>function doPowerOffRBS</pre>
<pre>description</pre>
<pre>Example:
Returns:</pre>
<a name='doPowerOnRBS'></a><h2>doPowerOnRBS</h2>

<pre> doPowerOnRBS();


</pre>
<pre>function doPowerOnRBS</pre>
<pre>description</pre>
<pre>Example:
Returns:</pre>
<a name='doSetAbisIWD'></a><h2>doSetAbisIWD</h2>

<pre> doSetAbisIWD();


</pre>
<pre>unknown 2010-09-09
function doSetAbisIWD</pre>
<pre>Set ABIS IWD version</pre>
<pre>Example: doSetAbisIWD(BTS =&gt; $BTS, Version =&gt; 'OLD');
Returns: true on success, false on failure</pre>
<a name='doSetupAbisIWDVersion'></a><h2>doSetupAbisIWDVersion</h2>

<pre> doSetupAbisIWDVersion();


</pre>
<pre>unknown 1979-01-01
function doSetupAbisIWDVersion</pre>
<pre>Set ABIS IWD version</pre>
<pre>Example: doSetupAbisIWDVersion();
Returns: n/a</pre>
<a name='doSetupFunctionMaps'></a><h2>doSetupFunctionMaps</h2>

<pre> doSetupFunctionMaps();


</pre>
<pre>unknown 1979-01-01
function doSetupFunctionMaps</pre>
<pre>Populates the function maps in our global %SR. This function should probably
be reviewed to remove usage of globals that are not required.</pre>
<pre>Example: doSetupFunctionMaps(AbisVersion =&gt; $AbisVersion);
Returns: n/a</pre>
<a name='doSetupLoadFiles'></a><h2>doSetupLoadFiles</h2>

<pre> doSetupLoadFiles();


</pre>
<pre>esiogra 2010-07-14
function doSetupLoadFiles</pre>
<pre>Create values for each of the Abisco keys such as %DXP_U1, %RUS_U2, etc.</pre>
<pre>Example: doSetupLoadFiles(BTS =&gt; $BTS, Project =&gt; $Project, U1 =&gt; $U1, U2 =&gt; $U2, U3 =&gt; $U3, U4 =&gt; $U4);
Returns: n/a</pre>
<a name='doSoftwareAnalyse'></a><h2>doSoftwareAnalyse</h2>

<pre> doSoftwareAnalyse();


</pre>
<pre>function doSoftwareAnalyse</pre>
<pre>description: Analyse the difference between two software
Example: doSoftwareAnalyse();
Returns: Array containing the files that will be upgraded.</pre>
<a name='doStartRequestExtra'></a><h2>doStartRequestExtra</h2>

<pre> doStartRequestExtra();


</pre>
<pre>esiogra 2010-07-19
function doStartRequestExtra</pre>
<pre>Send a start request to the BTS and perform the following optional tasks for
242.06:301 action 7 (and maybe others):</pre>
<pre>  - check StartRequestAccept is received
  - check BTS peforms a Reset
  - check NegRec
  - check BTS comes back up as Started
  - check NegRecAck values
  - check BRR
  - check BFR
  - check BMR
  - check BTSRev
  - check BTSGen

</pre>
<pre>Example: doStartRequestExtra(BTS =&gt; $BTS, TG =&gt; $TG, TRXC =&gt; $TRXC, MOClass =&gt; 'CF');
Returns: Abisco result on success, 0 on failure</pre>
<a name='doWait'></a><h2>doWait</h2>

<pre> doWait();


</pre>
<pre>ekentma 2010-08-01
function Wait</pre>
<pre>Wait for a given number of seconds</pre>
<pre>Example: Wait(30);
Returns: n/a</pre>
<a name='extractAbiscoKeys'></a><h2>extractAbiscoKeys</h2>

<pre> extractAbiscoKeys();


</pre>
<pre>esiogra 2010-12-10
function extractAbiscoKeys</pre>
<pre>Returns a hash of the keys extracted from the Abisco hash.</pre>
<pre>Example: extractAbiscoKeys(\%Resp, 'FilePackageStateIndic.FPSI');
Returns: A new hash with key=value in the case that multiple keys are defined,
         otherwise just a scalar value.</pre>
<a name='getCRCMatrix'></a><h2>getCRCMatrix</h2>

<pre> getCRCMatrix();

</pre>
<a name='getCompatibilityMatrix'></a><h2>getCompatibilityMatrix</h2>

<pre> getCompatibilityMatrix();

</pre>
<a name='getCorruptList'></a><h2>getCorruptList</h2>

<pre> getCorruptList();

</pre>
<pre>==Subroutine: getCorruptList</pre><pre>COMMENT  : Get the list of files to corrupt based on table content
Syntax : getCorruptList($Software);
In: Table (hash) containing list of files
---</pre>
<a name='getCorruptionMatrix'></a><h2>getCorruptionMatrix</h2>

<pre> getCorruptionMatrix();

</pre>
<a name='getDestInFileInfo'></a><h2>getDestInFileInfo</h2>

<pre> getDestInFileInfo();


</pre>
<pre>function getDestInFileInfo</pre>
<pre>description: Get data from the FILE INFO file for a specific software.
Example: getDestInFileInfo(BTS =&gt; $BTS, Project =&gt; $rproject, SoftwareVersion =&gt; $value,
                     LoadFile =&gt; $file, TSSPath =&gt; $TSSPath);
Returns: Array containing the Dest values.</pre>
<a name='getRBSHWUsed'></a><h2>getRBSHWUsed</h2>

<pre> getRBSHWUsed();


</pre>
<pre>function getRBSHWUsed</pre>
<pre>description: Get the valid hardware for the current running platform.
Example:
Returns: Array of valid hardware keys</pre>
<a name='getSymbInFileInfo'></a><h2>getSymbInFileInfo</h2>

<pre> getSymbInFileInfo();


</pre>
<pre>function getSymbInFileInfo</pre>
<pre>Description: Get the SYMB data from the FILE INFO file and put it in the
             the global variable
Example: getSymbInFileInfo(BTS =&gt; $BTS, Project =&gt; $rproject,
         SoftwareVersion =&gt; $value, USoftware =&gt; $key, TSSPath =&gt; $TSSPath);
Returns: N/A</pre>
<a name='isArrayMatch'></a><h2>isArrayMatch</h2>

<pre> isArrayMatch();


</pre>
<pre>esiogra 2010-06-29
function isArrayMatch</pre>
<pre>Compare two arrays and return true if the arrays are the same, false otherwise.</pre>
<pre>Example: isArrayMatch(\@array1, \@array2);
Returns: true if the two arrays are the same, false otherwise</pre>
<a name='isBTSInitiatedRequest'></a><h2>isBTSInitiatedRequest</h2>

<pre> isBTSInitiatedRequest();


</pre>
<pre>esiogra 2010-06-30
function isBTSInitiatedRequest</pre>
<pre>checks to see if we received a BTSInitiatedRequest as the result of sending
a filepackageEnd command</pre>
<pre>IMPORTANT: you should not call this function to see a negative result, eg:
$var = !isBTSInitiatedRequest(BTS=&gt; $BTS);
since checking for the absence of a BTS Initiated Request must be performed
in a different manner. See the isNotBTSInitiatedRequest function below.</pre>
<pre>Example: isBTSInitiatedRequest(BTS =&gt; $BTS);
Returns: 1 if BRR is received, 0 otherwise</pre>
<a name='isCorrupted'></a><h2>isCorrupted</h2>

<pre> isCorrupted();


</pre>
<pre>function isCorrupted</pre>
<pre>description:
Example:
Returns:</pre>
<a name='isDVTConnected'></a><h2>isDVTConnected</h2>

<pre> isDVTConnected();


</pre>
<pre>esiogra 2010-07-07
function isDVTConnected</pre>
<pre>Checks if we can establish a connection to DVT.</pre>
<pre>Example: isDVTConnected($BTS);
Returns: 1 result on success, 0 on failure</pre>
<a name='isNoBTSInitiatedRequest'></a><h2>isNoBTSInitiatedRequest</h2>

<pre> isNoBTSInitiatedRequest();


</pre>
<pre>esiogra 2010-06-30
function isNoBTSInitiatedRequest</pre>
<pre>checks to see if we received a BTSInitiatedRequest as the result of sending
a FilePackageEndCommand.</pre>
<pre>Example: isNotBTSInitiatedRequest(BTS =&gt; $BTS);
Returns: 0 if BRR is received, 1 otherwise</pre>
<a name='isReset'></a><h2>isReset</h2>

<pre> isReset();


</pre>
<pre>esiogra 2010-08-11
function isReseet</pre>
<pre>Checks to see if the status of MOClass is Reset</pre>
<pre>Example: isReset(BTS =&gt; $BTS, MOClass =&gt; 'CF');
Returns: 1 on success, 0 on failure</pre>
<a name='isStarted'></a><h2>isStarted</h2>

<pre> isStarted();


</pre>
<pre>esiogra 2010-07-09
function isStarted</pre>
<pre>Checks to see if the status of MOClass is Started</pre>
<pre>Example: isstarted(BTS =&gt; $BTS, MOClass =&gt; 'CF');
Returns: 1 on success, 0 on failure</pre>
<a name='isSwitchBoxOn'></a><h2>isSwitchBoxOn</h2>

<pre> isSwitchBoxOn();


</pre>
<pre>function isSwitchBoxOn</pre>
<pre>description</pre>
<pre>Example:
Returns:</pre>
<a name='isTTRConnected'></a><h2>isTTRConnected</h2>

<pre> isTTRConnected();


</pre>
<pre>esiogra 2010-07-07
function isTTRConnected</pre>
<pre>Checks if we can establish a connection to TTR</pre>
<pre>Example: isTTRConnected($BTS);
Returns: 1 result on success, 0 on failure</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_FreqHopp</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 170/190 55-CAH 161 1607/1
MODULE      : SubsFreqHopp
DESCRIPTION : Contains subroutins from old test program freqhopp.abi
              that will be used in 15_01.abi.</pre>
<pre>COPYRIGHT &copy; : ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE       NAME      REVIEW    COMMENT
A     20100913   QRADGUT   XRSSAJO   File created and added all test cases for this function
B     20110513   QRADGUT   XTOBSEM   Add ClearWrite before MaxHold is called.
                                     Fix in HoppingCheck/BCCHFreqOnly due to TR HO13388
C     20121108   XANSBEM   XLEIMAR   Implemented ActiveTG, Ran Perl Critic and updated
                                      script to latest script template</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i> needed for 'croak' function</pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Globals'>Globals</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?InstrFunc'>InstrFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Msg'>Msg</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?SubInit_FreqHopp'>SubInit_FreqHopp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='AddInstr'></a><h2>AddInstr</h2>

<pre> AddInstr();

</pre>
<pre>SUBROUTINE  : AddInstr
DESCRIPTION : Attach external instrument in list
IN  :  1. @InstrList
OUT :  -</pre>
<a name='BCCHFreqOnly'></a><h2>BCCHFreqOnly</h2>

<pre> BCCHFreqOnly();

</pre>
<pre>SUBROUTINE  : BCCHFreqOnly
DESCRIPTION : Checks with the Spectrum Analyzer if the transmission only
              occurs on BCCH after the release of all calls.
              The BCCH must be the first channel in the list.
IN  : 1. $ARFCNList
OUT :</pre>
<a name='CheckInterferenceLevel'></a><h2>CheckInterferenceLevel</h2>

<pre> CheckInterferenceLevel();

</pre>
<pre>SUBROUTINE  : CheckInterferenceLevel
DESCRIPTION :
IN  : $N    -&gt; expected amounts oc RF resource indications
OUT : $Band -&gt; interference band</pre>
<a name='FetchCDUType'></a><h2>FetchCDUType</h2>

<pre> FetchCDUType();

</pre>
<pre>SUBROUTINE  : FetchCDUType
DESCRIPTION : Fetch CDUType from HWData
IN  : %HWData (return from GetHWInfoResult)
OUT : CDUType</pre>
<a name='FormatTestcaseName'></a><h2>FormatTestcaseName</h2>

<pre> FormatTestcaseName();

</pre>
<pre>SUBROUTINE  : FormatTestcaseName
DESCRIPTION : Reformats the PAR hash test case name for printout purposes.
              If the input string is not on the format "XX_YY", it is returned unchanged.
IN  : TestcaseName =&gt; "xx_yy"
OUT : "xx.yy"</pre>
<a name='GetHWInfoResult'></a><h2>GetHWInfoResult</h2>

<pre> GetHWInfoResult();

</pre>
<pre>SUBROUTINE  : GetHWInfoResult
DESCRIPTION : Get a HwInfoResult
IN  : -
OUT : HwInfoResult</pre>
<a name='HoppingCheck'></a><h2>HoppingCheck</h2>

<pre> HoppingCheck();

</pre>
<pre>SUBROUTINE  : HoppingCheck
DESCRIPTION : Checks with the Spectrum Analyzer if hopping is performed.
IN  : 1. $ARFCNList -&gt; The ARFCN's to check for hopping
OUT :</pre>
<a name='NoiseOn'></a><h2>NoiseOn</h2>

<pre> NoiseOn();

</pre>
<pre>SUBROUTINE  : NoiseOn
DESCRIPTION : Creates noise with the Signal Generator
IN  : $N    -&gt; expected amounts oc RF resource indications
OUT : $Band -&gt; interference band</pre>
<a name='ReceiveAbiscoMsg'></a><h2>ReceiveAbiscoMsg</h2>

<pre> ReceiveAbiscoMsg();

</pre>
<pre>SUBROUTINE  : ReceiveAbiscoMsg
DESCRIPTION : Recieve Abisco Message
IN  : -
OUT : {Message}</pre>
<a name='ResetTG'></a><h2>ResetTG</h2>

<pre> ResetTG();

</pre>
<pre>SUBROUTINE  : ResetTG
DESCRIPTION : Resets the TG to the one stored in Stored TG</pre>
<pre>IN  :     Cell, TG, MCTR
OUT :     Will die if errors found
Sample:   ResetTG(%StoredTG);</pre>
<a name='SetErrorFreqHopp'></a><h2>SetErrorFreqHopp</h2>

<pre> SetErrorFreqHopp();

</pre>
<pre>SUBROUTINE  : SetErrorFreqHopp
DESCRIPTION : Changes the cell configuration to an errorness frequency
              hopping. MAIO will be the same for different TRXCs.
              SDCCH is not hopping.
              A complete startup will be performed.
IN  : $HSN, $ARFCN_BBHopp, $TS
OUT :</pre>
<a name='SetHoppingMode'></a><h2>SetHoppingMode</h2>

<pre> SetHoppingMode();

</pre>
<pre>SUBROUTINE  : SetHoppingMode
DESCRIPTION : Changes the cell configuration to a hopping type.
              SDCCH is NOT hopping.
              A complete startup will be performed.
IN  : 1. $HopMode -&gt; 'BASEBAND' || 'SYNTH' || 'SYNTH_SDCCH' || 'OFF'
      2. $HSN
      3. $ARFCNList
OUT :</pre>
<a name='SetICM'></a><h2>SetICM</h2>

<pre> SetICM();

</pre>
<pre>SUBROUTINE  : SetICM
DESCRIPTION : Changes ICM in TS configuration.
IN  : 1. $ICM
      2. $ICMAP
      3. $ICMCR
      4. $ICMPar -&gt; reference to array ICMPar
      5. $TRXC
      6. $TS
OUT :</pre>
<a name='StoreTG'></a><h2>StoreTG</h2>

<pre> StoreTG();

</pre>
<pre>SUBROUTINE  : StoreTG
DESCRIPTION : Store TG parameters. This subroutin shall be followed by ResetTG</pre>
<pre>IN  :
OUT :     {Cell}, {TG}, {MCTR};
Sample:   %StoredTG = StoreTG();</pre>
<a name='TSFreqSpec'></a><h2>TSFreqSpec</h2>

<pre> TSFreqSpec();

</pre>
<pre>SUBROUTINE  : TSFreqSpec
DESCRIPTION : Calculate the Frequency Specifier for TS
IN  : 1. $TX_RXInst
      2. $TN
OUT : 1. \@TSFreqSpec</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_FuncAdm</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 73/190 55-CAH 161 1607/1
MODULE      : Subs_FuncAdm
DESCRIPTION : Contains subroutines for Functionality Administration tests</pre>
<pre>COPYRIGHT &copy;:: ERICSSON AB S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME        REVIEW          COMMENT
A   20100913 QRADGUT      Syntronic AB/   Approved UABTOH. First approved revision.
                          Martin Wikstr&ouml;m</pre>
<pre>B   20100927 QRADGUT                      Fix bug in HWInfoReqRepeatedBTS, affects only TC 19.05:008.
                                          Approved UABTOH</pre>
<pre>C   20101018 QRADGUT                      Merged from REV_B.
                                          Modified range of var FinalTime in WaitForTimeSlotPowerSavingsReport.
                                          Added XtraSec var in CheckSwichedOffTimeValuesInTSPSReport
                                          Approved UABTOH</pre>
<pre>D   20101101 QRADQUT                      Added variable WithoutCMB (used by 242:07).
                                          Added OnOff variable in ConfigMO (used by TFConfigRequest)
                                          Approved UABTOH.</pre>
<pre>E   20110408 Synronic AB/ Syntronic AB/   Fix bug in CheckDiffARFCNOnDVT.
             Mark Bentham David Melin     Added ConfigReadMO, TSConfig, SetCell, CompleteStartBTS, DefineCell, SetTG, SendStatusRequest.
                                          Updated CompleteStart, UpdateCell. Fix bug in CheckTSPSCapabilitiesOfAllTRXC (TR HN10617).
                                          Updated SetTG for 2 TRXC. Approved UABTOH.</pre>
<pre>F   20110511 QRADGUT      XTOBSEM         Added functions AnalyzeInfo and SaveCapabilitiesInFile (to fix TR HN28457 and HN32741)
                                          Modified CheckDiffARFCNOnDVT.
                                          Modified subroutines for MCTR MO.
                                          Modified ConfigMO for TSConfigRequest (TR HN65128) and SetTG (CH hangs)
                                          Added PowerBackOffControl sub and replace FindPowerMaxValue by FindPowerMinMaxValue
                                          (TR HN70449/HN75057 affected TC in 19.16 script)
                                          Modified ConfigMO for TXConfigRequest (TR HN81360 )
                                          Added GetMCTRRecords,MonitorTrxcMctrTablesOnDVT,ReceiveMessage
                                          and SetMCTRReporting. Exported CompleteStartBTS.
                                          Modified some subroutines to handle MCTR MO.
G   20110513 QRADGUT      XMABENT         Updated ValidateCurrentFreqList/ModifyFreqList
H   20110526 QRADGUT      XTOBSEM         Added SyntaxCheck flag in ConfigMO.
J   20110331 XSOFFRO      XPRRANA         Added GetStartcause to support TC 19.21:090.
                                           Fixed HO65203- Always used TTR.NewTool when comunicating with DVT.
                                           Fixed HO67686- Update Abis message construct for MCTRConfigRequest according to latest IWD
                                           Perlcritic, removed unneccesary functions and variables, added quality related packages.
                                           Moved GetInvalidPower(), GetPnMax(), FoundHwType() to exec directly in init
                                           Updated script template. (TR HP14550)
                                           Added globtype AttributeId so script 19.11 would be compatible.
                                           Added StoreTG, RestoreTG, ChangeTG and GetActiveCell
                                           Updated SetTG, DefineCell, StartMO, ConfigMO, ReadPCM
                                           Added DisconnectConnectTG</pre>
<pre>PK1 20120926 XSOFFRO      XNAVNAS         Introduced changes needed to implement active TG in script 19.16.
PK2 20121001 XSOFFRO      XMAREDV         Exported function SendStatusRequest for script 19.18.
PK3 20121001 XNAVNAS      XAMMELY         Changed input for CapabilitiesRequest in GetAvailableTFSyncSources
                                           Added input for ConfigMO and changed call to TFConfig
PK4 20121005 XMAREDV      EERICSV         Implemented IP support for SetRightBI_Q1 and SetWrongBI_Q1
PK5 20121005 XYNSTAN      XSOFFRO         Added subroutines GetPlatform and GetAttributes, fixed typo for attributeitems
                                           in sub DecodeTGRecord.
PK6 20121009 XANSBEM      XSOFFRO         Added subroutineGetLEDStatus. Updated subroutines ConfigMOAndExpectAlarm,
                                           CheckPower, ConvertToFloat, ResetMOAndExpectAlarm, ButtonLocal, HardwareReset, CheckMOStateOnDVT
PK7 20121010 XYNSTAN		XNAVNAS         Added subroutine, SendData
                                          Modified ConfigTCC to allow Power as parameter
                                          Changed grep in StartMO, the other grep did not evaluate correctly, scalar(@Result)
                                          always returned number of elements in @MO when running scalar always setting $S_MO
                                          to 0.
PK8 20121017 XANSBEM      XNAVNAS        Fixed erroneous use of grep and Updated RecieveAbiscoMsg
PK9 20121018 XHENRMA      XANSBEM        Updated ReadPCMType to support IP/SIU and updated CheckMOStatus
PK10 20121024 XAMMELY     EERICSV        Changed in ConfigMO to TRXC for Config{WithoutCMB}
PK11 20121026 ELEMARE     XNAVNAS        Corrected MonitorTrxcMctrTablesOnDVT
PK12 20121109 ELEMARE     EERICSV        Added attributes to DecodeMCTRRecord
PK13 20130911 XPATHIL     XAMMELY        --- The following changes have been made in steps ---
 (a) 20130415                           Subs SetTG and ConfigMO modified for IP support
                                         Sub StoreTG modified according to HQ59716_VF01 for caco scripts
                                         Sub ResetTG added along with the modified StoreTG.
                                         Sub RestoreTG modified to comply with HQ59716_VF01 modifications along with older ways of storing TG's (MCTR called MCTRs in older version).
 (b) 20130730                           Subs SetTG and TSConfig modified to comply with new Abisco version (R49A_1)
 (c) 20130828                           Added subroutine FindOctetsInLogFrame (prel. vers., meant for framework in future)
                                         Added sub SplitLargeIntIntoByteArrayInIntFormat in order to do correct unsupported IBW configuration
                                         Applied Perlcritic.
PK14 20140408 XAMMELY     XSALNIC       Modified ConfigAntennaHoppingOff to support IP-SIU which effected 19_16.abi.
PK15 20140708 ELONMAO                   Modified ConfigAntennaHoppingOn to support IP-SIU which effected 19_16.abi.
PK16 20140710 EYOGJIG                   Modified PowerBackOffControl configuration parameters to consistence with New version Abisco(R81A_1) which
                                        will affect 19_16.abi.
PK17 20140730 ESHAOKA     EZHLOZH       Fix HS82514,HS81174,HS84216
PK18 20140932 ECHOMEG     EZHLOZH       Fix HS92186, Add loops for sending commands of "dvt montransfer on" and "tru0/tru1/" to DVT to ensure these commands can be sent successfully.
PK19 20141003 SSI/mier    XMAROHM       ConfigMO updated with BCCH Power Savings Control.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?charnames'>charnames</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?POSIX'>POSIX</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Storable'>Storable</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DVTFunc'>DVTFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?lib'>lib</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DBI'>DBI</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Complex'>Complex</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?SubInit_FuncAdm'>SubInit_FuncAdm</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='IMPLEMENTS'></a><h1>IMPLEMENTS</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='AbisIWDVersionSwitch'></a><h2>AbisIWDVersionSwitch</h2>

<pre> $self-&gt;AbisIWDVersionSwitch();

</pre>
<pre>SUBROUTINE  : AbisIWDVersionSwitch
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='AbisLoggingBTS'></a><h2>AbisLoggingBTS</h2>

<pre> $self-&gt;AbisLoggingBTS();

</pre>
<pre>SUBROUTINE  : AbisLoggingBTS
DESCRIPTION : Turn Abis logging off or on</pre>
<pre>IN  : State =&gt; 'OFF',
OUT :</pre>
<a name='ActivateRxTx'></a><h2>ActivateRxTx</h2>

<pre> $self-&gt;ActivateRxTx();

</pre>
<pre>Subroutine: ActivateRxTx
Purpose:   Activate first two TRXs in TRXList
Input:     References to MCTRInstance
Output:    \@trxcs</pre>
<a name='AnalyzeInfo'></a><h2>AnalyzeInfo</h2>

<pre> $self-&gt;AnalyzeInfo();

</pre>
<pre>SUBROUTINE  : AnalyzeInfo
DESCRIPTION : Decode each input in Capabalities and save in @CapabilitiesSummary</pre>
<pre>IN  : Attribute Recorded
OUT : None, Output will be written in the file</pre>
<a name='ButtonLocal'></a><h2>ButtonLocal</h2>

<pre> $self-&gt;ButtonLocal();

</pre>
<pre>SUBROUTINE  : ButtonLocal
DESCRIPTION : Syntax: Send Button Local Command via DVT and expect Fault Report (if any)</pre>
<pre>IN  : Unit, FaultMask, Status
OUT : 0|1</pre>
<a name='CalcFreqList'></a><h2>CalcFreqList</h2>

<pre> $self-&gt;CalcFreqList();

</pre>
<pre>SUBROUTINE  : CalcFreqList
DESCRIPTION : Calculates a Frequency List for TSConfiguration acc. to IWD</pre>
<pre>IN  : ARFCN =&gt; $ARFCN - Pointer to array containing all ARFCNs in
                      desired order (required)
      TX =&gt; $TX - Pointer to array containing all TXs in desired order
      RX =&gt; $RX - Pointer to array containing all RXs in desired order
      TRXC =&gt; $TRXC - if this is given, all TX and RX values will be
                              set to $TRXC
      Note: EITHER TX+RX OR TRXC must be given!
            All input arrays must contain the same number of elements!</pre>
<pre>      Optional: Hop =&gt; &lt;Nr. of Hopp-Frequencies, 1-&gt;No Hopping&gt;
OUT :


</pre>
<a name='CalcFreqListElement'></a><h2>CalcFreqListElement</h2>

<pre> $self-&gt;CalcFreqListElement();

</pre>
<pre>SUBROUTINE  : CalcFreqListElement
DESCRIPTION : Calculates the Frequency List out of given ARFCNs in the argument
              Call: CalcFreqElement (TX=&gt;$TX, RX=&gt;$RX, ARFCN=&gt; &lt;ARFCN&gt;)</pre>
<pre>IN  :
OUT :</pre>
<a name='ChangeTG'></a><h2>ChangeTG</h2>

<pre> $self-&gt;ChangeTG();

</pre>
<pre>SUBROUTINE  : ChangeTG
DESCRIPTION : Updates TG with parameters that cannot be changed with UpdateTG command</pre>
<pre>IN  :     TGParameters   - hash with all TG Paramters to be changed
          CellParameters - hash with all Cell Parameters to be changed
          TRXC
OUT :     Will die if errors found</pre>
<a name='CheckDiffARFCNOnDVT'></a><h2>CheckDiffARFCNOnDVT</h2>

<pre> $self-&gt;CheckDiffARFCNOnDVT();

</pre>
<pre>SUBROUTINE  : CheckDiffARFCNOnDVT
DESCRIPTION : Check, if ARFCN on TX-Master &amp; TX-Slave are different</pre>
<pre>IN  :
OUT : None</pre>
<a name='CheckMCTR'></a><h2>CheckMCTR</h2>

<pre> $self-&gt;CheckMCTR();

</pre>
<pre>SUBROUTINE  : CheckMCTR
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='CheckMOStateOnDVT'></a><h2>CheckMOStateOnDVT</h2>

<pre> my HN60263 = $self-&gt;CheckMOStateOnDVT();

</pre>
<pre>SUBROUTINE  : Check MO State on DVT
DESCRIPTION : Syntax : $State = CheckMOStateOnDVT(MO =&gt; $MO, MOState =&gt; MOState);</pre>
<pre>IN  : Mo, MOState, Inst - required parameters
OUT : None</pre>
<a name='CheckMOStatus'></a><h2>CheckMOStatus</h2>

<pre> $self-&gt;CheckMOStatus();

</pre>
<pre>SUBROUTINE  : CheckMOStatus
DESCRIPTION : Checks MO status</pre>
<pre>IN  : None
OUT : Status</pre>
<a name='CheckPower'></a><h2>CheckPower</h2>

<pre> $self-&gt;CheckPower();

</pre>
<pre>SUBROUTINE  : CheckPower
DESCRIPTION : Returns last value of a list
              (incl. removal of last character !)</pre>
<pre>IN  :
OUT : $PowerLevel[0] - A list with only one element containing the
      current outputpower on</pre>
<a name='CheckRDiv'></a><h2>CheckRDiv</h2>

<pre> $self-&gt;CheckRDiv();

</pre>
<pre>SUBROUTINE  : CheckRDiv
DESCRIPTION : CheckRDiv via DVT</pre>
<pre>IN  : $TRXC
OUT : $CurrRDiv</pre>
<a name='CheckSameARFCNOnDVT'></a><h2>CheckSameARFCNOnDVT</h2>

<pre> $self-&gt;CheckSameARFCNOnDVT();

</pre>
<pre>SUBROUTINE  : CheckSameARFCNOnDVT
DESCRIPTION : Check, if ARFCN On TX-Master &amp; TX-Slave are equal</pre>
<pre>IN  :
OUT :</pre>
<a name='CompareArrays'></a><h2>CompareArrays</h2>

<pre> $self-&gt;CompareArrays();

</pre>
<pre>Subroutine: CompareArrays
Purpose:   Compare two arrays
Input:     References to Array 1-2
Output:    1|0 - (equal| different)</pre>
<a name='CompleteStartBTS'></a><h2>CompleteStartBTS</h2>

<pre> $self-&gt;CompleteStartBTS();

</pre>
<pre>SUBROUTINE  : CompleteStartBTS
DESCRIPTION : Do a complete start of BTS</pre>
<pre>IN  : None
OUT : None</pre>
<a name='CompleteStartWithParamters'></a><h2>CompleteStartWithParamters</h2>

<pre> $self-&gt;CompleteStartWithParamters();

</pre>
<pre>SUBROUTINE  : CompleteStartWithParamters
DESCRIPTION : To do a complete start on choosen TG</pre>
<pre>IN  : %Input -&gt;TG,
OUT : None</pre>
<a name='ConfigAntennaHoppingOff'></a><h2>ConfigAntennaHoppingOff</h2>

<pre> $self-&gt;ConfigAntennaHoppingOff();

</pre>
<pre>SUBROUTINE  : ConfigAntennaHoppingOff
DESCRIPTION : Configuration of Antenna Hopping Off</pre>
<pre>IN  :
OUT : None</pre>
<a name='ConfigAntennaHoppingOn'></a><h2>ConfigAntennaHoppingOn</h2>

<pre> $self-&gt;ConfigAntennaHoppingOn();

</pre>
<pre>SUBROUTINE  : ConfigAntennaHoppingOn
DESCRIPTION : Configuration of Antenna Hopping On</pre>
<pre>IN  :
OUT : None</pre>
<a name='ConfigMO'></a><h2>ConfigMO</h2>

<pre> $self-&gt;ConfigMO();

</pre>
<pre>SUBROUTINE  : ConfigMO
DESCRIPTION : Configures MOs TX, RX and TS
              Syntax   : ConfigMO({TRXC =&gt; $TRXC, MO =&gt; $MO, RXDiv =&gt; $RXDiv, etc.});</pre>
<pre>IN  : Optionally  one or more of the following
      keys: TRXC, FreqSpec, Power, NoFreqSpec, FM, BCC, AIP, MO
OUT :</pre>
<a name='ConfigMOAndExpectAlarm'></a><h2>ConfigMOAndExpectAlarm</h2>

<pre> $self-&gt;ConfigMOAndExpectAlarm();

</pre>
<pre>SUBROUTINE  : ConfigMOAndExpectAlarm
DESCRIPTION : Configures MOs TX, RX and TS
              Syntax   : ConfigMO({TRXC =&gt; $TRXC, MO =&gt; $MO, RXDiv =&gt; $RXDiv, etc.});</pre>
<pre>IN  : Optionally  one or more of the following
      keys: TRXC, FreqSpec, Power, NoFreqSpec, FM, BCC, AIP, MO
OUT :</pre>
<a name='ConfigMORX'></a><h2>ConfigMORX</h2>

<pre> $self-&gt;ConfigMORX();

</pre>
<pre>SUBROUTINE  : ConfigMORX
DESCRIPTION : To send a RX_CONFIGURATION_REQUEST and read the received
              frames on abis instead from abisco.</pre>
<pre>IN  : %Input -&gt;BTS, TG, TRXC, MO
OUT : %return (Hash reference);</pre>
<a name='ConfigReadMO'></a><h2>ConfigReadMO</h2>

<pre> $self-&gt;ConfigReadMO();

</pre>
<pre>SUBROUTINE  : ConfigReadMO
DESCRIPTION : Get current parameters for wanted MO
              Syntax   : ConfigReadMO(MO =&gt; $MO);</pre>
<pre>IN  : MO type
OUT : %Resp</pre>
<a name='ConfigTCC'></a><h2>ConfigTCC</h2>

<pre> $self-&gt;ConfigTCC();

</pre>
<pre>SUBROUTINE  : ConfigTCC
DESCRIPTION : Configuration of TCC on TRXC:
              TRXCMaster &amp; TRXCSlave</pre>
<pre>IN  :
OUT : None</pre>
<a name='ConfigTxAntennaHopp'></a><h2>ConfigTxAntennaHopp</h2>

<pre> $self-&gt;ConfigTxAntennaHopp();

</pre>
<pre>SUBROUTINE  : ConfigTxAntennaHopp
DESCRIPTION : Configuration of TX AntennaHopping on TRXC</pre>
<pre>IN  : DedicationMarker, TrxcNumber, AIP
OUT : None</pre>
<a name='ConfigTxDiversity'></a><h2>ConfigTxDiversity</h2>

<pre> $self-&gt;ConfigTxDiversity();

</pre>
<pre>SUBROUTINE  : ConfigTxDiversity
DESCRIPTION : Configuration of TX Diversity on TRXC:
              TRXCMaster &amp; TRXCSlave</pre>
<pre>IN  :
OUT : None</pre>
<a name='ConnectMO'></a><h2>ConnectMO</h2>

<pre> $self-&gt;ConnectMO();

</pre>
<pre>SUBROUTINE  : ConnectMO
DESCRIPTION : Sends ConnectCommand to MO defined by MOClass, InstanceNo
              and AssosiatedSOInstance and checks ConnectComplete.</pre>
<pre>IN  : Optionally one or more of the following
      keys: TRXC, MO, MOState, INST
OUT : None</pre>
<a name='ConnectResetStart'></a><h2>ConnectResetStart</h2>

<pre> $self-&gt;ConnectResetStart();

</pre>
<pre>SUBROUTINE  : ConnectResetStart
DESCRIPTION : ConnectResetStart</pre>
<pre>IN  : Optionally one or more of the following
      keys: TRXList, MO
OUT : None</pre>
<a name='ConvertDBMtoWatt'></a><h2>ConvertDBMtoWatt</h2>

<pre> $self-&gt;ConvertDBMtoWatt();

</pre>
<pre>SUBROUTINE  : ConvertDBMtoWatt
DESCRIPTION : Converts dBm value to Watts</pre>
<pre>IN  : Power in dBm
OUT : Power in Watts</pre>
<a name='ConvertOctToTRXList'></a><h2>ConvertOctToTRXList</h2>

<pre> $self-&gt;ConvertOctToTRXList();

</pre>
<pre>SUBROUTINE  : ConvertOctToTRXList
DESCRIPTION : Convert Octects from Mctr(s) conf To TRXList</pre>
<pre>IN  :    Ref to array of MCTRConf
OUT :    @TRXList</pre>
<a name='ConvertToFloat'></a><h2>ConvertToFloat</h2>

<pre> $self-&gt;ConvertToFloat();

</pre>
<pre>SUBROUTINE  : ConvertToFloat
DESCRIPTION : Converts numbers in string format ('-15.12') to Floating
              Point values (-15.12)</pre>
<pre>IN  : \@RawStrings - Reference to Array containing numbers in
      string format (e.g. '15.12', '12.65')
OUT : \@Floats - Reference to Array containing Floating Point
      values (e.g. 15.12, 12.65)</pre>
<a name='ConvertWattToDBM'></a><h2>ConvertWattToDBM</h2>

<pre> $self-&gt;ConvertWattToDBM();

</pre>
<pre>SUBROUTINE  : ConvertWattToDBM
DESCRIPTION : Opposite of ConvertDBMtoWatt</pre>
<pre>IN  : Power in Watts
OUT : Power in dBm</pre>
<a name='DeConfigTCC'></a><h2>DeConfigTCC</h2>

<pre> $self-&gt;DeConfigTCC();

</pre>
<pre>SUBROUTINE  : DeConfigTCC
DESCRIPTION : Deconfiguration of TCC on TRXC:
              TRXC_Master &amp; TRXC_Slave</pre>
<pre>IN  :
OUT : None</pre>
<a name='DecodeAttribute'></a><h2>DecodeAttribute</h2>

<pre> $self-&gt;DecodeAttribute();

</pre>
<pre>SUBROUTINE  : DecodeAttribute
DESCRIPTION : To decode an attributed record in Capabilities Result</pre>
<pre>IN  : Attribute Recorded
OUT : None, Output will be written in the file</pre>
<a name='DecodeMCTRRecord'></a><h2>DecodeMCTRRecord</h2>

<pre> $self-&gt;DecodeMCTRRecord();

</pre>
<pre>SUBROUTINE  : DecodeMCTRRecord
DESCRIPTION :</pre>
<pre>IN  : %RefMCTRCaps
OUT :</pre>
<a name='DecodeTGRecord'></a><h2>DecodeTGRecord</h2>

<pre> $self-&gt;DecodeTGRecord();

</pre>
<pre>SUBROUTINE  : DecodeTGRecord
DESCRIPTION :</pre>
<pre>IN  : %RefMCTRCaps
OUT :</pre>
<a name='DefineCell'></a><h2>DefineCell</h2>

<pre> $self-&gt;DefineCell();

</pre>
<pre>SUBROUTINE  : DefineCell
DESCRIPTION : Create a new Cell with new values</pre>
<pre>IN  : DefineCell(CellData =&gt; \%CellData);
OUT : None</pre>
<a name='DisableAllTS'></a><h2>DisableAllTS</h2>

<pre> $self-&gt;DisableAllTS();

</pre>
<pre>SUBROUTINE  : DisableAllTS
DESCRIPTION : Disable all TS for a given TRX</pre>
<pre>IN  : Optionally the keys TRXC, ASOInst
OUT :</pre>
<a name='DisableConfigEnable'></a><h2>DisableConfigEnable</h2>

<pre> $self-&gt;DisableConfigEnable();

</pre>
<pre>SUBROUTINE  : GetMCTRSupportedARFCN
DESCRIPTION : Returns ARFCN which is supported by the MCTR
Frequency for the TX and ARFCN are converted as follws:</pre>
<pre>900P: freq_TX = 935+0,2*ARFCN
900E: freq_TX = 935+0,2*(ARFCN-1024)
1800: freq_TX = 1805,2+0,2*(ARFCN-512)
1900: freq_TX = 1930,2+0,2*(ARFCN-512)</pre>
<pre>IN  : SupportedBandwidth and FirstARFCN
OUT : valid ARFCN, which is different from the actual one</pre>
<a name='DisableMO'></a><h2>DisableMO</h2>

<pre> $self-&gt;DisableMO();

</pre>
<pre>SUBROUTINE  : DisableMO
DESCRIPTION : Sends DisableRequest to MO defined by MOClass,
              AssosiatedSOInstance, InstanceNo and checks DisableResult.</pre>
<pre>IN  : Optionally a reference to a Hash
      containing one or more of the following
      keys: TRXC, MO, MOState, ASOInst, ReasonCode, ResultCode
      ASOInst, INST
OUT : None</pre>
<a name='DisconnectConnectTG'></a><h2>DisconnectConnectTG</h2>

<pre> $self-&gt;DisconnectConnectTG();

</pre>
<pre>SUBROUTINE  : DisconnectConnectTG
DESCRIPTION : Disconnects and Connects the current TG</pre>
<pre>IN  :     none
OUT :     none</pre>
<a name='DisconnectMO'></a><h2>DisconnectMO</h2>

<pre> $self-&gt;DisconnectMO();

</pre>
<pre>SUBROUTINE  : DisconnectMO
DESCRIPTION : Sends DisconnectCommand to MO defined by MOClass, InstanceNo
              and AssosiatedSOInstance and checks DisconnectComplete.</pre>
<pre>IN  : Optionally one or more of the following
      keys: TRXC, MO, INST, ASOInst
OUT : None</pre>
<a name='DisplayAntennaHoppingOnDVT'></a><h2>DisplayAntennaHoppingOnDVT</h2>

<pre> $self-&gt;DisplayAntennaHoppingOnDVT();

</pre>
<pre>SUBROUTINE  : DisplayAntennaHoppingOnDVT
DESCRIPTION :</pre>
<pre>IN  :
OUT : $HoppingState, 'On', 'Off' or 'On not C0'</pre>
<a name='EnableAllTS'></a><h2>EnableAllTS</h2>

<pre> $self-&gt;EnableAllTS();

</pre>
<pre>SUBROUTINE  : EnableAllTS
DESCRIPTION : Enable all TS For a given TRX</pre>
<pre>IN  : Optionally the key TRXC
OUT :</pre>
<a name='EnableMO'></a><h2>EnableMO</h2>

<pre> $self-&gt;EnableMO();

</pre>
<pre>SUBROUTINE  : EnableMO
DESCRIPTION : Sends EnableRequest to MO defined by MOClass,
              AssosiatedSOInstance, InstanceNo and checks EnableResult.</pre>
<pre>IN  : Optionally a reference to a Hash containing
      one or more of the following
      keys: TRXC, MO, MOState, ASOInst
OUT : None</pre>
<a name='EnableMOTXWhileConfigure'></a><h2>EnableMOTXWhileConfigure</h2>

<pre> $self-&gt;EnableMOTXWhileConfigure();

</pre>
<pre>SUBROUTINE  : EnableMOTXWhileConfigure
DESCRIPTION : To send a TX_CONFIGURATION_REQUEST on abis and before all TXConfigResult
              frames are received send an ENABLE_REQUEST.</pre>
<pre>IN  : %Input -&gt;BTS, TG, TRXC, S_Behaviour, MO, EP2_BEH, EP2_TXCNT, EP2_TIMER
OUT : %return (Hash reference);</pre>
<a name='EstablishLAPD'></a><h2>EstablishLAPD</h2>

<pre> $self-&gt;EstablishLAPD();

</pre>
<pre>SUBROUTINE  : EstablishLAPD
DESCRIPTION : Establish LAPD (L2) link</pre>
<pre>IN  : Optionally one or more of the following
      keys: TRXC, MO, LinkType
OUT :</pre>
<a name='EstablishResetStart'></a><h2>EstablishResetStart</h2>

<pre> $self-&gt;EstablishResetStart();

</pre>
<pre>SUBROUTINE  : EstablishResetStart
DESCRIPTION : EstablishResetStart</pre>
<pre>IN  : None
OUT : None</pre>
<a name='FeatureControl'></a><h2>FeatureControl</h2>

<pre> $self-&gt;FeatureControl();

</pre>
<pre>SUBROUTINE  : FeatureControl
DESCRIPTION : FeatureControl</pre>
<pre>IN  : $FeatureState
OUT : None</pre>
<a name='FetchAttribute'></a><h2>FetchAttribute</h2>

<pre> $self-&gt;FetchAttribute();

</pre>
<pre>SUBROUTINE  : FetchAttribute
DESCRIPTION : Pick up one Attribute (Id, Length and Info) from the %Resp buffer</pre>
<pre>IN  : %Resp (global)
OUT : @Att (Attribute buffer)</pre>
<a name='FindOctetsInLogFrame'></a><h2>FindOctetsInLogFrame</h2>

<pre> $self-&gt;FindOctetsInLogFrame();

</pre>
<pre>SUBROUTINE  : FindOctetsInLogFrame
DESCRIPTION : Finds pattern matches in log frames</pre>
<pre>IN  : %InputHash = (
        Expected      =&gt; undef,
        ExpectedPos   =&gt; undef,
        Optional      =&gt; undef,
        OptionalPos   =&gt; undef,
        Message       =&gt; undef,
                    );
OUT : %Hash with results</pre>
<a name='FindPowerMinMaxValue'></a><h2>FindPowerMinMaxValue</h2>

<pre> $self-&gt;FindPowerMinMaxValue();

</pre>
<pre>SUBROUTINE  : FindPowerMinMaxValue
DESCRIPTION : Returns scalars with  min,max Power of TX</pre>
<pre>IN  : @Attribute (Attribute Item List)
OUT : $PowerMn, $PowerMx</pre>
<a name='FormatTestcaseName'></a><h2>FormatTestcaseName</h2>

<pre> $self-&gt;FormatTestcaseName();

</pre>
<pre>SUBROUTINE  : FormatTestcaseName
DESCRIPTION : Reformats the PAR hash test case name for printout purposes.
              If the input string is not on the format 'XX_YY', it is returned unchanged.</pre>
<pre>IN  : TestcaseName =&gt; 'xx_yy'
OUT : 'xx.yy'</pre>
<a name='FoundHwType'></a><h2>FoundHwType</h2>

<pre> $self-&gt;FoundHwType();

</pre>
<pre>FUNTION : FoundHwType
COMMENT : Fetch certain HwType from HWData</pre>
<pre>IN    : %HWData (return from GetHWInfoResult)
OUT    : CDUType</pre>
<a name='GetARFCNvalid'></a><h2>GetARFCNvalid</h2>

<pre> my (, ) = $self-&gt;GetARFCNvalid();

</pre>
<pre>SUBROUTINE  : GetARFCNvalid
DESCRIPTION : Returns ARFCN which is different from the actual used one
              (Format: high part, low part)</pre>
<pre>IN  :
OUT : valid ARFCN, which is different from the actual one</pre>
<a name='GetActiveCell'></a><h2>GetActiveCell</h2>

<pre> $self-&gt;GetActiveCell();

</pre>
<pre>SUBROUTINE  : GetActiveCell
DESCRIPTION : Return the Cell containing input TRXC</pre>
<pre>IN  :     TRXC =&gt; $TRXC
OUT :     Cell number</pre>
<a name='GetAttributes'></a><h2>GetAttributes</h2>

<pre> $self-&gt;GetAttributes();

</pre>
<pre>SUBROUTINE  : GetAttributes
DESCRIPTION : Returns supported attributes</pre>
<pre>IN  :     TG=&gt;$TG, MO=&gt;$MO
OUT :     List of attributes, @Att</pre>
<a name='GetAvailableTFSyncSources'></a><h2>GetAvailableTFSyncSources</h2>

<pre> $self-&gt;GetAvailableTFSyncSources();

</pre>
<pre>SUBROUTINE  : GetAvailableTFSyncSources
DESCRIPTION : Sends a capabilities request and looks at what sync sources
              are returned in the response. See document 208/155 19-HSC 103 12/18</pre>
<pre>IN  : TGNr, TRXC
OUT : Hash containing the possible TF sync sources: PCM, ICEC, ICIC</pre>
<a name='GetCapabilities'></a><h2>GetCapabilities</h2>

<pre> $self-&gt;GetCapabilities();

</pre>
<pre>SUBROUTINE  : GetCapabilities
DESCRIPTION :</pre>
<pre>IN  : MO
OUT : @CapabilitiesSummary</pre>
<a name='GetDateTimeForFileName'></a><h2>GetDateTimeForFileName</h2>

<pre> $self-&gt;GetDateTimeForFileName();

</pre>
<pre>SUBROUTINE  : GetDateTimeForFileName
DESCRIPTION : Formats date and time</pre>
<pre>IN  : None
OUT : Formatted string with date and time YYYYMMDD_HHMMSS</pre>
<a name='GetFreqSpec'></a><h2>GetFreqSpec</h2>

<pre> $self-&gt;GetFreqSpec();

</pre>
<pre>SUBROUTINE  : GetFreqSpec
DESCRIPTION : Returns Array containing 'Frequency Specifier RX/TX' as coded in
              Abis O&amp;M IWD 8.3.53. FLorg is ARFCN divited to high part, two bit and low part</pre>
<pre>IN  : $Mrk, $XXaddr, $Arfcn
OUT : @FreqSpec</pre>
<a name='GetFrequencyBandwidthCapability'></a><h2>GetFrequencyBandwidthCapability</h2>

<pre> $self-&gt;GetFrequencyBandwidthCapability();

</pre>
<pre>SUBROUTINE  : GetFrequencyBandwidthCapability
DESCRIPTION : Sends a capabilities request and picks out the frequency bandwidth limit in MCTR</pre>
<pre>IN  : TGNr, TRXC, MCTR instance number
OUT : Supported Frequency Bandwidth in number of 100 kHz</pre>
<a name='GetLEDStatus'></a><h2>GetLEDStatus</h2>

<pre> $self-&gt;GetLEDStatus();

</pre>
<pre>SUBROUTINE  : GetLEDStatus
DESCRIPTION : Returns the LED status for Operational LED or
              maintinance LED. Note that this only works for the first TRXC
              in the RU.</pre>
<pre>IN  :         $TRXC
              $LED:        Local or Operational
OUT :         $LEDStatus:  LocalMode:   ON/FLASH/OFF
                           Operational: ON/FLASH/OFF</pre>
<a name='GetLast'></a><h2>GetLast</h2>

<pre> $self-&gt;GetLast();

</pre>
<pre>SUBROUTINE  : GetLast
DESCRIPTION : Returns last value of a list
             (incl. removal of last character !)</pre>
<pre>IN  : @List - as variable name says
OUT : $_ - scalar containing last value of @List</pre>
<a name='GetMCTRInstances'></a><h2>GetMCTRInstances</h2>

<pre> $self-&gt;GetMCTRInstances();

</pre>
<pre>SUBROUTINE  : GetMCTRInstances
DESCRIPTION : Sends a capabilities request on CF and determines what MCTRs are available</pre>
<pre>IN  : TGNr, TRXC
OUT : Available MCTRs in an array reference</pre>
<a name='GetMCTRRecords'></a><h2>GetMCTRRecords</h2>

<pre> $self-&gt;GetMCTRRecords();

</pre>
<pre>SUBROUTINE  : GetMCTRRecords
DESCRIPTION : Returns MCTRRecords from Capabilities in CF</pre>
<pre>IN  : -
OUT : @MCTRRecords</pre>
<a name='GetMCTRSupportedARFCN'></a><h2>GetMCTRSupportedARFCN</h2>

<pre> $self-&gt;GetMCTRSupportedARFCN();

</pre>
<pre>SUBROUTINE  : GetMCTRSupportedARFCN
DESCRIPTION : Returns ARFCN which is supported by the MCTR
Frequency for the TX and ARFCN are converted as follws:</pre>
<pre>900P: freq_TX = 935+0,2*ARFCN
900E: freq_TX = 935+0,2*(ARFCN-1024)
1800: freq_TX = 1805,2+0,2*(ARFCN-512)
1900: freq_TX = 1930,2+0,2*(ARFCN-512)</pre>
<pre>IN  : SupportedBandwidth and FirstARFCN
OUT : valid ARFCN, which is different from the actual one</pre>
<a name='GetMOStatus'></a><h2>GetMOStatus</h2>

<pre> $self-&gt;GetMOStatus();

</pre>
<pre>SUBROUTINE  : GetMOStatus
DESCRIPTION :</pre>
<pre>IN  : Optionally one or more of the following
      keys: TRXC, MO, INST, TFMode, MOState
OUT : None</pre>
<a name='GetPlatform'></a><h2>GetPlatform</h2>

<pre> $self-&gt;GetPlatform();

</pre>
<pre>SUBROUTINE  : GetPlatform
DESCRIPTION : To fetch platform type from RBS using HWInfoReq</pre>
<pre>IN  :     TG=&gt;$TG
OUT :     none</pre>
<a name='GetRecordOnTRXC'></a><h2>GetRecordOnTRXC</h2>

<pre> $self-&gt;GetRecordOnTRXC();

</pre>
<pre>SUBROUTINE  : GetRecordOnTRXC
DESCRIPTION :</pre>
<pre>IN  :
OUT :</pre>
<a name='GetSlaveMasterPair'></a><h2>GetSlaveMasterPair</h2>

<pre> $self-&gt;GetSlaveMasterPair();

</pre>
<pre>SUBROUTINE  : GetSlaveMasterPair
DESCRIPTION : Look for Slave TRX if given a Master TRX</pre>
<pre>IN  :
OUT :</pre>
<a name='GetStartcause'></a><h2>GetStartcause</h2>

<pre> $self-&gt;GetStartcause();

</pre>
<pre>SUBROUTINE  : GetStartcause
DESCRIPTION : Returns scalar containing 'POWER_ON', 'ORDERED_RESET', or
              else the string returned by the spontaneous message.</pre>
<pre>IN  :
OUT : $message</pre>
<a name='GetTRXCInstances'></a><h2>GetTRXCInstances</h2>

<pre> $self-&gt;GetTRXCInstances();

</pre>
<pre>SUBROUTINE  : GetTRXCInstances
DESCRIPTION : Gets the TRXC instances from an octet</pre>
<pre>IN  : Octet (scalar)
OUT : Array reference with TRXC instances</pre>
<a name='GetTSFreqList'></a><h2>GetTSFreqList</h2>

<pre> $self-&gt;GetTSFreqList();

</pre>
<pre>SUBROUTINE  : GetTSFreqList
DESCRIPTION : Returns Array containing 'FrequencyList' as configured in certain TS</pre>
<pre>IN  : $TRXC =&gt; $TRXC, AssociatedSOInstance =&gt; $ASOInst, InstanceNo =&gt; 3
OUT : $FreqList</pre>
<a name='HWInfoReqBTS'></a><h2>HWInfoReqBTS</h2>

<pre> $self-&gt;HWInfoReqBTS();

</pre>
<pre>SUBROUTINE  : HWInfoReqBTS
DESCRIPTION : To get HWInformationResponces</pre>
<pre>IN  : %Input -&gt;TG, TRXC, MO
OUT : %return (Hash reference);</pre>
<a name='HWInfoReqNakBTS'></a><h2>HWInfoReqNakBTS</h2>

<pre> $self-&gt;HWInfoReqNakBTS();

</pre>
<pre>SUBROUTINE  : HWInfoReqNakBTS
DESCRIPTION : To send an HWInfoReq with flag to bsc to send an nak instead of
              ack and to verify that no results comes after.</pre>
<pre>IN  : %Input -&gt;TG, TRXC, MO
OUT : %return (Hash reference);</pre>
<a name='HardwareReset'></a><h2>HardwareReset</h2>

<pre> $self-&gt;HardwareReset();

</pre>
<pre>SUBROUTINE  : HardwareReset
DESCRIPTION : Syntax: Send HardwareReset Command via DVT and expect Fault Report (if any)</pre>
<pre>IN  : Unit, FaultMask, Status
OUT : 0|1</pre>
<a name='InfoCellBTS'></a><h2>InfoCellBTS</h2>

<pre> $self-&gt;InfoCellBTS();

</pre>
<pre>SUBROUTINE  : InfoCellBTS
DESCRIPTION : To get cell information about active cell</pre>
<pre>IN  : Cell =&gt; 0
OUT :</pre>
<a name='InfoTGBTS'></a><h2>InfoTGBTS</h2>

<pre> $self-&gt;InfoTGBTS();

</pre>
<pre>SUBROUTINE  : InfoTGBTS
DESCRIPTION : To get tg information about active tg</pre>
<pre>IN  : None
OUT :</pre>
<a name='MakeBin'></a><h2>MakeBin</h2>

<pre> $self-&gt;MakeBin();

</pre>
<pre>SUBROUTINE  : MakeBin
DESCRIPTION : To convert an 8 bit integer to a binary string</pre>
<pre>IN  : Integer
OUT : Binary as string</pre>
<a name='ModifyFreqList'></a><h2>ModifyFreqList</h2>

<pre> $self-&gt;ModifyFreqList();

</pre>
<pre>SUBROUTINE  : ModifyFreqList
DESCRIPTION : Returns Array containing 'FrequencyList' with a modification</pre>
<pre>IN  : $FreqList , $Modif, $LowestFreq, $HigthestF
OUT : $NewList</pre>
<a name='MonitorTrxcMctrTablesOnDVT'></a><h2>MonitorTrxcMctrTablesOnDVT</h2>

<pre> $self-&gt;MonitorTrxcMctrTablesOnDVT();

</pre>
<pre>SUBROUTINE  : MonitorTrxcMctrTablesOnDVT
DESCRIPTION :</pre>
<pre>IN  :
OUT : $HoppingState, 'On', 'Off' or 'On not C0'</pre>
<a name='PowerBackOffControl'></a><h2>PowerBackOffControl</h2>

<pre> $self-&gt;PowerBackOffControl();

</pre>
<pre>SUBROUTINE  : PowerBackOffControl
DESCRIPTION : Sends PowerBackOffControl</pre>
<pre>IN  : Optionally one or more of the following
      keys: TRXC, MO, MOState, INST, ASOInst
OUT : None</pre>
<a name='PrepareOcts'></a><h2>PrepareOcts</h2>

<pre> $self-&gt;PrepareOcts();

</pre>
<pre>Subroutine: PrepareOcts
Purpose:   Prepare Oct1 and 2 in MCTRConfig (with 1 trxc from TRXlist)
Input:     References to MCTRInstance
Output:    \@Octs</pre>
<a name='ReadPCMType'></a><h2>ReadPCMType</h2>

<pre> $self-&gt;ReadPCMType();

</pre>
<pre>SUBROUTINE  : ReadPCMType
DESCRIPTION : Reads the PCM type</pre>
<pre>IN  : PCMLine  (PCM_A, PCM_B, PCM_C or PCM_D)
OUT : PCMType</pre>
<a name='ReceiveAbiscoMsg'></a><h2>ReceiveAbiscoMsg</h2>

<pre> $self-&gt;ReceiveAbiscoMsg();

</pre>
<pre>SUBROUTINE  : ReceiveAbiscoMsg
DESCRIPTION : Syntax: Expect {Message}</pre>
<pre>IN  :
OUT :</pre>
<a name='ReceiveMessage'></a><h2>ReceiveMessage</h2>

<pre> $self-&gt;ReceiveMessage();

</pre>
<pre>SUBROUTINE  : ReceiveMessage
DESCRIPTION : Receiving Abisco messages</pre>
<pre>IN  : Expect (message wanted)
      Server (server for expected message)
      CauseValue (Only applicable for ConnectionFailureIndication)
      Fault (Only applicable for FaultReport)
      ChType (Bm/Bm_1)
      Timeout [s]
OUT : 'Found'         - if expected message found
      [Error Cause]   - if message not found</pre>
<a name='ReleaseLAPD'></a><h2>ReleaseLAPD</h2>

<pre> $self-&gt;ReleaseLAPD();

</pre>
<pre>SUBROUTINE  : ReleaseLAPD
DESCRIPTION : ReleaseLAPD (L2) link
              Syntax : ReleaseLAPD(TRXC =&gt; $TRXC, MO =&gt; $MO, LinkType =&gt; $inkType);</pre>
<pre>IN  : Optionally one or more of the following keys:
      MO, TRXC, LinkType
OUT :</pre>
<a name='ResetMO'></a><h2>ResetMO</h2>

<pre> $self-&gt;ResetMO();

</pre>
<pre>SUBROUTINE  : ResetMO
DESCRIPTION : Sends ResetCommand to MO defined by MOClass,
              AssosiatedSOInstance, InstanceNo and checks ResetComplete.</pre>
<pre>IN  : Optionally one or more of the following
      keys: TRXC, MO, MOState, INST, ASOInst, BACKCOMP
OUT : None</pre>
<a name='ResetMOAndExpectAlarm'></a><h2>ResetMOAndExpectAlarm</h2>

<pre> $self-&gt;ResetMOAndExpectAlarm();

</pre>
<pre>SUBROUTINE  : ResetMOAndExpectAlarm
DESCRIPTION : Sends ResetCommand to MO defined by MOClass,
              AssosiatedSOInstance, InstanceNo and checks ResetComplete.</pre>
<pre>IN  : Optionally one or more of the following
      keys: TRXC, MO, MOState, INST, ASOInst, BACKCOMP
OUT : None</pre>
<a name='ResetTG'></a><h2>ResetTG</h2>

<pre> $self-&gt;ResetTG();

</pre>
<pre>SUBROUTINE  : ResetTG
DESCRIPTION : Resets the TG to the one stored in Stored TG
IN  :    Cell, TG, MCTR
OUT :    Will die if errors found</pre>
<a name='RestoreTG'></a><h2>RestoreTG</h2>

<pre> $self-&gt;RestoreTG();

</pre>
<pre>SUBROUTINE  : RestoreTG
DESCRIPTION : Restores TG, Cells and MCTR configuration</pre>
<pre>IN  :
OUT :</pre>
<a name='SaveCapabilitiesInFile'></a><h2>SaveCapabilitiesInFile</h2>

<pre> $self-&gt;SaveCapabilitiesInFile();

</pre>
<pre>SUBROUTINE  : SaveCapabilitiesInFile
DESCRIPTION : To save capabilities in a file.
              Loop through @CapabilitiesSummary and save to a file</pre>
<pre>IN  : @CapabilitiesSummary
OUT :</pre>
<a name='SelectARFCN'></a><h2>SelectARFCN</h2>

<pre> $self-&gt;SelectARFCN();

</pre>
<pre>SUBROUTINE  : SelectARFCN
DESCRIPTION : Select a random ARFCN out of the given Band</pre>
<pre>IN  : $Band (e.g. GSM900P), Reference to list of not allowed ARFCNs,
      Number of ARFCNs to be calculated
OUT : @Arfcn</pre>
<a name='SendDVTCommand'></a><h2>SendDVTCommand</h2>

<pre> $self-&gt;SendDVTCommand();

</pre>
<pre>SUBROUTINE  : SendDVTCommand
DESCRIPTION : Syntax: Expect {Message}</pre>
<pre>IN  :
OUT :</pre>
<a name='SendData'></a><h2>SendData</h2>

<pre> $self-&gt;SendData();

</pre>
<pre>SUBROUTINE  : SendData
DESCRIPTION : see Abisco IWD: BITSTREAM.SendData, asserting against
              connectreject and resultcode=protocolerror</pre>
<pre>IN  :     TG=&gt;$TG, TRXC=&gt;$TRXC, Data=&gt; \%Data
OUT :     %Resp response hash</pre>
<a name='SendOperationalInfo'></a><h2>SendOperationalInfo</h2>

<pre> $self-&gt;SendOperationalInfo();

</pre>
<pre>SUBROUTINE  : SendOperationalInfo
DESCRIPTION : Send Operational Info</pre>
<pre>IN  : None
OUT :</pre>
<a name='SendStatusRequest'></a><h2>SendStatusRequest</h2>

<pre> $self-&gt;SendStatusRequest();

</pre>
<pre>SUBROUTINE  : SendStatusRequest
DESCRIPTION : Sends the message on ABIS.</pre>
<pre>              Example  : SendStatusRequest(_MO =&gt; 'CF');
                         SendStatusRequest(_MO =&gt; 'TRXC', _TRXC =&gt; 5);

</pre>
<pre>IN  : $TRXC -&gt;
      $MO   -&gt;
      $Inst -&gt;
OUT : Updates $TG-&gt;{LinkStatusError}</pre>
<a name='SetMCTRReporting'></a><h2>SetMCTRReporting</h2>

<pre> $self-&gt;SetMCTRReporting();

</pre>
<pre>SUBROUTINE  : SetMCTRReporting
DESCRIPTION : Enabled or Disabled MCTR Reporting</pre>
<pre>IN  :  On || Off
OUT :</pre>
<a name='SetRightBI_Q1'></a><h2>SetRightBI_Q1</h2>

<pre> $self-&gt;SetRightBI_Q1();

</pre>
<pre>SUBROUTINE  : SetRightBI_Q1
DESCRIPTION : Sets the right value for BI_Q1 according to PCM type</pre>
<pre>IN  : None
OUT : $BI_Q1</pre>
<a name='SetTG'></a><h2>SetTG</h2>

<pre> $self-&gt;SetTG();

</pre>
<pre>SUBROUTINE  : SetTG
DESCRIPTION : To set TCM configuration. Disconnects, updates and reconnects TG.
              May Restart BTS if AbisMode or TLS settings is changed</pre>
<pre>IN  : TCH_Configuration
OUT : None</pre>
<a name='SetWrongBI_Q1'></a><h2>SetWrongBI_Q1</h2>

<pre> $self-&gt;SetWrongBI_Q1();

</pre>
<pre>SUBROUTINE  : SetWrongBI_Q1
DESCRIPTION : Sets the opposite value for BI_Q1 according to PCM type</pre>
<pre>IN  : None
OUT : $BI_Q1</pre>
<a name='SplitLargeIntIntoByteArrayInIntFormat'></a><h2>SplitLargeIntIntoByteArrayInIntFormat</h2>

<pre> $self-&gt;SplitLargeIntIntoByteArrayInIntFormat();

</pre>
<pre>SUBROUTINE  : SplitLargeIntIntoByteArrayInIntFormat
DESCRIPTION : The IWD specifies sending values split in octets.
              This sub will take your integer and splice it into
              an array of uint8 values.</pre>
<pre>IN  :     LargeInt =&gt; Integer, Size =&gt; return Array Size
OUT :     @OctectArray</pre>
<a name='SplitString'></a><h2>SplitString</h2>

<pre> $self-&gt;SplitString();

</pre>
<pre>SUBROUTINE  : SplitString
DESCRIPTION : Returns a list with splitted string (Delimiter: Whitespace)</pre>
<pre>IN  : $String - as variable name says
OUT : @String - list with splitted string</pre>
<a name='StartConfigEnable'></a><h2>StartConfigEnable</h2>

<pre> $self-&gt;StartConfigEnable();

</pre>
<pre>SUBROUTINE  : StartConfigEnable
DESCRIPTION : Sends StartRequest to MO defined by MOClass,
              AssosiatedSOInstance, InstanceNo and checks StartResult.
              Calling support function DisableConfigEnable.</pre>
<pre>IN  : Optionally one or more of the following
      keys: TRXC, MO, MOState, INST, ASOInst
OUT : None</pre>
<a name='StartMO'></a><h2>StartMO</h2>

<pre> $self-&gt;StartMO();

</pre>
<pre>SUBROUTINE  : StartMO
DESCRIPTION : Sends StartRequest to MO defined by MOClass,
              AssosiatedSOInstance, InstanceNo and checks StartResult.</pre>
<pre>IN  : Optionally one or more of the following
      keys: TRXC, MO, INST, ASOInst
OUT :</pre>
<a name='StoreTG'></a><h2>StoreTG</h2>

<pre> $self-&gt;StoreTG();

</pre>
<pre>SUBROUTINE  : StoreTG
DESCRIPTION : Store TG parameters. This subroutin shall be followed by ResetTG
IN  : None or {Cell}, {TG}, {MCTR};
OUT : %BackupTG =&gt; { TG    =&gt; { ... },
                     Cells =&gt; { FirstInsance   =&gt; { ... },
                                SecondInstance =&gt; { ... },
                                ... },
                     MCTRs =&gt; { FirstInsance   =&gt; { ... },
                                SecondInstance =&gt; { ... },
                                ... },
                    }</pre>
<a name='TSConfig'></a><h2>TSConfig</h2>

<pre> $self-&gt;TSConfig();

</pre>
<pre>SUBROUTINE  : TSConfig
DESCRIPTION : Reconfigure TS
              Syntax   : TSConfig(TS =&gt; $TS);</pre>
<pre>IN  :
OUT : %Resp</pre>
<a name='ValidateCurrentFreqList'></a><h2>ValidateCurrentFreqList</h2>

<pre> $self-&gt;ValidateCurrentFreqList();

</pre>
<pre>SUBROUTINE  : ValidateCurrentFreqList
DESCRIPTION : Returns 1 or 0</pre>
<pre>IN  : @FreqList
OUT : ($L,$H) || (0,0) (nok)</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_handover</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 116/190 55-CAH 161 1607/1 Uen
MODULE      : subs_handover.pm
DESCRIPTION : This package contains the subfunctions and variables used
              with the main test case</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE          NAME              REVIEW        COMMENT
PA1   20091113      SAB/frli          SAB/mawi      new file created.
PA2   20100608      SAB/frli          SAB/mawi      Added measurement reporting
PA3   20100608      SAB/frli          SAB/mawi      Added RestartBTS and CheckBCCHType
                                                    Made sendHandoverAccess dynamic to channeltype
A     20100913      EANJOAC           UABTOH        Approved
PB1   20121207      XSALNIC           XMAREDV       Solved TR HQ66608, Implemented active TG</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?subinit_handover'>subinit_handover</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>SUBROUTINE  :  ChActBTS
DESCRIPTION :  To activate a channel in the BTS, uses par hash variables
IN  :          BTS         =&gt; $BTS,
               ChAct       =&gt; $parChAct,
               TG          =&gt; $parTG,
               TRXC        =&gt; $parTRXC,
               TS          =&gt; $parTS,
               ChType      =&gt; $parChType,
               ActType     =&gt; $parActType,
               Rbit        =&gt; 'Activate',
               DTXUplink   =&gt; 'Off',
               DTXDownlink =&gt; 'Off',
               TypeOfCh    =&gt; $parTypeOfCh,
               ChannelRate =&gt; $parChRate,
               AlgOrRate   =&gt; $parAlgOrRate
OUT :          None</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>SUBROUTINE  :  ChActMSSIM
DESCRIPTION :  To activate a channel in the MSSIM, sets the CcId package variable
IN  :          Bypass      =&gt; 0,
               RxAcchOn    =&gt; 1,
               AllSacchSI  =&gt; 0,
               RToutOff    =&gt; 0,
               RxTrfcOn    =&gt; 0,
               UndecFrm    =&gt; 0,
               TrxNum      =&gt; 0,
               L2hdr       =&gt; 2,
               Data        =&gt; [@Meas],
               TG          =&gt; $parTG,
               TRXC        =&gt; $parTRXC,
               TS          =&gt; $parTS,
               PDCHMode    =&gt; "",
               ChannelType =&gt; $parChType,
               ChRate      =&gt; $parChRate,
               TypeOfCh    =&gt; $parTypeOfCh,
               AlgOrRate   =&gt; $parAlgOrRate,
               AMRCodec    =&gt; $parAMRCodec
               Cell        =&gt; $eCell
OUT :          $CcId</pre>
<a name='ChCleanBTS'></a><h2>ChCleanBTS</h2>

<pre> ChCleanBTS();

</pre>
<pre>SUBROUTINE  :  ChCleanBTS
DESCRIPTION :  To release all radio traffic channels or control channels in the BTS
                without asserting the responses
IN  :          BTS =&gt; $BTS,
               TG   =&gt; $parTG,
               TRXC =&gt; $parTRXC
OUT :          None</pre>
<a name='ChRelBTS'></a><h2>ChRelBTS</h2>

<pre> ChRelBTS();

</pre>
<pre>SUBROUTINE  :  ChRelBTS
DESCRIPTION :  To release radio traffic channels or control channels in the BTS
IN  :          BTS   =&gt; $BTS,
               TG    =&gt; $parTG,
               TRXC  =&gt; $parTRXC,
OUT :          None</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>SUBROUTINE  :  ChRelMSSIM
DESCRIPTION :  To release a channel in the MSSIM, uses the package variable CcId to
                identify the opened channel
IN:            CcId    =&gt; $gCcId,
OUT:           None</pre>
<a name='CheckBCCHTypeBTS'></a><h2>CheckBCCHTypeBTS</h2>

<pre> CheckBCCHTypeBTS();

</pre>
<pre>SUBROUTINE  :  CheckBCCHTypeBTS
DESCRIPTION :  To verify and set correct BCCHType(from par-hash) for active sub test case,
                makes a restart of BTS if to save changes.
IN  :          BTS (Abisco connection parameter)
               TGId
               CellNumber
               BCCHType
OUT :          None</pre>
<a name='GetActiveCell'></a><h2>GetActiveCell</h2>

<pre> GetActiveCell();

</pre>
<pre>SUBROUTINE  : GetActiveCell
DESCRIPTION : Return the Cell containing input TRXC</pre>
<pre>IN  :         TRXC =&gt; $TRXC
OUT :         Cell number</pre>
<a name='LAPDmSend'></a><h2>LAPDmSend</h2>

<pre> LAPDmSend();

</pre>
<pre>SUBROUTINE  :  LAPDmSend
DESCRIPTION :  To send a LAPDm frame
IN  :          $Chan      (SDCCH, SACCH or FACCH)
               $MsPower  (Only applicable for SACCH)
               $TA        (Timing advance, only applicable for SACCH)
               $Cmd       (Command = "I", "RR", RNR", "REJ", "SABM", "DM", "UI", "DISC" or "UA"
               N(R)       (Receive Sequence Number)
               N(S)      (Send Sequence Number)
               P/F       (Poll/Final bit)
               SAPI      (Service Access Point)
               C/R        (Command/Response)
               M          (More bit)
               EL        (Length Extension bit)
               EA        (Address Extension Bit)
               refData      (Information Field)
               CcId      =&gt; $gCcId
OUT :          None</pre>
<a name='MeasurementReporting'></a><h2>MeasurementReporting</h2>

<pre> MeasurementReporting();

</pre>
<pre>SUBROUTINE  :  MeasurementReporting
DESCRIPTION :  Turns on Measurement Reporting
IN:            Hash containing the following key(s):
               State true/false (1/0)
OUT:           None</pre>
<a name='ReceiveAbiscoMessage'></a><h2>ReceiveAbiscoMessage</h2>

<pre> ReceiveAbiscoMessage();

</pre>
<pre>SUBROUTINE  :  ReceiveAbiscoMessage
DESCRIPTION :  To receive a spontanious message from Abisco
IN:            BTS (Abisco connection parameter)
               Timeout    =&gt; undef,
               Expect    =&gt; undef,
               Supress    =&gt; "SupressError",
OUT:           Received Data hash</pre>
<a name='ReceiveMSSIMData'></a><h2>ReceiveMSSIMData</h2>

<pre> ReceiveMSSIMData();

</pre>
<pre>SUBROUTINE  :  ReceiveMSSIMData
DESCRIPTION :  To receive a spontanious message from MSSIM and return the Resp-&gt;Data array
IN  :          Timeout
               ExpMsg
OUT :          An array from RESP-&gt;Data</pre>
<a name='RestartBTS'></a><h2>RestartBTS</h2>

<pre> RestartBTS();

</pre>
<pre>SUBROUTINE  :	 RestartBTS
DESCRIPTION :  Restarting the BTS, make sure that the parameters set during restart
						    complies with your specific TC
IN:	  	       BTS (Abisco connection parameter)
               TGId
               TRXList (array)
               TypeOfStart
OUT:           None</pre>
<a name='SendHandoverAccess'></a><h2>SendHandoverAccess</h2>

<pre> SendHandoverAccess();

</pre>
<pre>SUBROUTINE  : SendHandoverAccess
DESCRIPTION : Send a handover acesss
IN:           None
OUT:          None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_lapdm</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number : 108/190 55-CAH 161 1607/1 Uen
MODULE          : subs_lapdm.pm
DESCRIPTION     : This program specifies tests for LAPDm conformance testing</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE      NAME              REVIEW              COMMENT
A     20100928  Syntronic AB/     Syntronic AB/       File created. Approved UABTOH.
                Torbj&ouml;rn Wilund   Martin Wikstr&ouml;m</pre>
<pre>B     20110505  XMABENT           XDAVMEL             Updated SendModifiedLAPDm to solve TR HN11484
                                                      General cleanup and fixes due to warnings received when running
C     20111228  XMABENT           XDAVMEL             Added SendDataReq
                                                      Modified CheckReceivedLAPDm so that all data is checked
                XTOBSEM           XGUSTPE             Added Perlcritic
                                  XNAVNAS             Imported $TG, $TRXC and $TRXList from subinit to be used as default values. HO94918
D     20121214  XANSBEM           XSOFFRO             Added StoreTG, ResetTG and SwitchChComb. Removed CheckAbiscoConfig.
                                                      Updated CheckReceivedLAPDm, ChRelBTS, EstReqAbisco and ReleaseRequestAbisco
                                                      Updated StoreTG and ResetTG to support several Cells, Updated SwitchChComb to support
                                                       AbisMode SC
PE1   20130522  XPATHIL           XAMMELY             Changed SendMultiPurposeReq and ChActMSSIM to comply with old and new usage.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?subinit_lapdm'>subinit_lapdm</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>Subroutine: ChActBTS
Purpose:    To activate a channel in the BTS, uses par hash variables
Input:      $BTS (Abisco connection parameter)
            $ChAct
            $TG,
            $TRXC,
            $TS,
            $ChType,
            $ActType,
            $TypeOfCh,
            $ChRate,
            $AlgOrRate,
            $BSPower (Pn)
            $ExpectedMsg
            $ExpectedErrCode
Output:     None</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>Subroutine: ChActMSSIM
Purpose:    To activate a channel in the MSSIM
Input:      Bypass        - (set to '1' to bypass MSSIM automatic LAPDm handling)
            RecFillFrames - (set to 1 to activate reception of LAPDm fill frames)
            TG            - Transceiver Group
            TRXC          - Transceiver Controller
            TS            - Time Slot
            ChType        - Channel Type
            ChRate        - Channel Rate
            TypeOfCh      - Type of Channel
            AlgOrRate     - Communcation speed
            Timeout       - Timeout
            Ref           - Reference
            MsId          - Mobile Station Identifier
Output:     $CcId</pre>
<a name='ChRelBTS'></a><h2>ChRelBTS</h2>

<pre> ChRelBTS();

</pre>
<pre>Subroutine: ChRelBTS
Purpose:    To release radio traffic channels or control channels in the BTS
Input:      $BTS (Abisco connection parameter)
            $TG,
            $TRXC,
            $TS,
            $ChType
Output:     None</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>Subroutine: ChRelMSSIM
Purpose:    To release a channel in the MSSIM
Input:      None
Output:     None</pre>
<a name='CheckL3Data'></a><h2>CheckL3Data</h2>

<pre> CheckL3Data();

</pre>
<pre>Subroutine:  CheckL3Data
Purpose:    To compare received L3Data to expected L3Data
Input:      Expected L3Data
             Received L3Data
Output:     Returns 1 if data differs, else 0</pre>
<a name='CheckReceivedLAPDm'></a><h2>CheckReceivedLAPDm</h2>

<pre> CheckReceivedLAPDm();

</pre>
<pre>Subroutine: CheckReceivedLAPDm
Purpose:    Check data in frames Received on LAPDm
Input:      RX - Received Parameter Hash reference
            EXP - Expected Parameter Hash reference
Output:     None</pre>
<a name='EmptyBufferMSSIM'></a><h2>EmptyBufferMSSIM</h2>

<pre> EmptyBufferMSSIM();

</pre>
<pre>Subroutine: EmptyBufferMSSIM
Purpose:    To empty the receive buffer of the MMSIM.
            (Copied from subs_broadcast.pm.)
Input:      $NumOfMsgs            Number of messages to read.
            $AbortIfTimeout       If defined (!= undef), regardless of value, returns if a timeout is detected
Output:     None</pre>
<a name='EmptyMMSIMBuffer'></a><h2>EmptyMMSIMBuffer</h2>

<pre> EmptyMMSIMBuffer();

</pre>
<pre>Subroutine: EmptyMMSIMBuffer
Purpose:    To empty the receive buffer of the MMSIM.
Input:      $Timeout     Timeout
       $NumOfMsgs  Number of messages to read.
Output:     None</pre>
<a name='EstReqAbisco'></a><h2>EstReqAbisco</h2>

<pre> EstReqAbisco();

</pre>
<pre>Subroutine: EstReqAbisco
Purpose:    To send Establish Request from Abisco and receive
             the expected response from BTS on SAPI3
Input:      BTS - Abisco connection handler
Output:     None</pre>
<a name='EstablishRequestMSSIM'></a><h2>EstablishRequestMSSIM</h2>

<pre> EstablishRequestMSSIM();

</pre>
<pre>Subroutine: EstablishRequestMSSIM
Purpose:    Establish link between MSSIM and BTS
Input:      $BTS
            $SAPI
Output:     None</pre>
<a name='GetTSCparameters'></a><h2>GetTSCparameters</h2>

<pre> GetTSCparameters();

</pre>
<pre>Subroutine: GetTSCparameters
Purpose:    To get the appropriate TSC_SET and TSC depending
            of wanted ChType when using VAMOS
            TSC on MSSIM is a combination of TSC_SET and TSC
Call:       %Resp = GetTSCparameters(ChType =&gt; $ChType);
Input:      ChType
            Valid parameters: Bm
                              Bm_1
                              Lm/0
                              Lm/1
                              Lm/0_1
                              Lm/1_1
Output:     Hash containing TSC_SET
                            TSC
                            MixingOrder
                            MSCapability
                            MSSIM_TSC</pre>
<a name='QueueDLMsg'></a><h2>QueueDLMsg</h2>

<pre> QueueDLMsg();

</pre>
<pre>Subroutine: QueueDLMsg
Purpose:    Queues a DL message in BSSTE
Input:      BTS - Abisco connection handler
            EP1_TIMER - Delay time at queing
             SAPI - Sapi value (0 or 39)
             @Data - Reference for data array
Output:     None</pre>
<a name='RadioChReleaseCommand'></a><h2>RadioChReleaseCommand</h2>

<pre> RadioChReleaseCommand();

</pre>
<pre>Subroutine: RadioChReleaseCommand
Purpose:    Cleans all radiochannels connected to TG
Input:      TG
            TRXC
Output:     TC result value</pre>
<a name='ReceiveAbisco'></a><h2>ReceiveAbisco</h2>

<pre> ReceiveAbisco();

</pre>
<pre>Subroutine: ReceiveAbisco
Purpose:    To receive a spontanious message from Abisco
Input:      BTS - abisco connection handler
            Timeout - timeout value
            Expect - Expected message
            Supress - "SupressError" if HandleError should not be called
            L3Data - pointer to L3Data array Sof expected message
Output:     CauseValue</pre>
<a name='ReceiveAbiscoData'></a><h2>ReceiveAbiscoData</h2>

<pre> ReceiveAbiscoData();

</pre>
<pre>Subroutine: ReceiveAbiscoData
Purpose:    To receive a spontanious message from Abisco
Input:      Timeout value
             Expected message
             Supress, "SupressError" if HandleError should not be called
             L3Data of expected message
Output:     Data</pre>
<a name='ReceiveErrInd'></a><h2>ReceiveErrInd</h2>

<pre> ReceiveErrInd();

</pre>
<pre>Subroutine: ReceiveErrInd
Purpose:    To receive an Error Indication in Abisco with a specific cause value
Input:      $BTS
             $Timeout
             $CauseValue
Output:     None</pre>
<a name='ReceiveErrorIndication'></a><h2>ReceiveErrorIndication</h2>

<pre> ReceiveErrorIndication();

</pre>
<pre>Subroutine: ReceiveErrorIndication
Purpose:    Receive error indication on abis
Input:      $BTS
             $Expect:
             $Supress
             $L3Data
Output:     None</pre>
<a name='ReceiveErrorReport'></a><h2>ReceiveErrorReport</h2>

<pre> ReceiveErrorReport();

</pre>
<pre>Subroutine: ReceiveErrorReport
Purpose:    To receive an Error Report in Abisco with a specific cause value
Input:      $BTS
             $Timeout
             $CauseValue
Output:     None</pre>
<a name='ReceiveLAPDm'></a><h2>ReceiveLAPDm</h2>

<pre> ReceiveLAPDm();

</pre>
<pre>Subroutine: ReceiveLAPDm
Purpose:    To receive a LAPDm frame
Input:      $T200      (T200 timer in seconds)
            $Chan      (SDCCH, SACCH or FACCH)
Output:     $Resp      (Response = 'Timeout', 'I', 'RR', RNR", 'REJ', 'SABM', 'DM', 'UI', 'DISC' or 'UA'
             N(R)      (Receive Sequence Number)
             N(S)      (Send Sequence Number)
             P/F       (Poll/Final bit)
             LPD       (Link Protocol discriminator)
             sapi      (Service Access Point)
             C/R       (Command/Response)
             EA        (Address Extension Bit)
             L         (Length of Information field)
             M         (More bit)
             EL        (Length Extension bit)
             Fn}       (Frame Number)
             Data      (Information Field)</pre>
<a name='ReceiveSABM'></a><h2>ReceiveSABM</h2>

<pre> ReceiveSABM();

</pre>
<pre>Subroutine: ReceiveSABM
Purpose:    To receive a SABM from BTS and send UA to BTS (SAPI3)
Input:      Trigger parameter to send UA to BTS (if 1 -&gt; send UA)
Output:     1 if UA is sent, else 0</pre>
<a name='ReleaseRequestAbisco'></a><h2>ReleaseRequestAbisco</h2>

<pre> ReleaseRequestAbisco();

</pre>
<pre>Subroutine: ReleaseRequestAbisco
Purpose:    Establish link between MSSIM and BTS
Input:      $BTS
             $SAPI: 0 or 3
             $ReleaseMode: 'Normal' or 'LocalEnd'
             $Expected: Expected responce on Abis
Output:     None</pre>
<a name='ResetTG'></a><h2>ResetTG</h2>

<pre> ResetTG();

</pre>
<pre>SUBROUTINE  : ResetTG
DESCRIPTION : Resets the TG to the one stored in Stored TG
              (copied from subs_Broadcast)</pre>
<pre>IN  :     Cell, TG, MCTR
OUT :     Will die if errors found
Sample:   ResetTG(%StoredTG);</pre>
<a name='RestartBTS'></a><h2>RestartBTS</h2>

<pre> RestartBTS();

</pre>
<pre>Subroutine: RestartBTS
Purpose:    Restarting the BTS, make sure that the parameters set during restart
            complies with your specific TC
Input:      BTS (Abisco connection parameter)
            TGId
            TRXList (array)
            TypeOfStart
Output:</pre>
<a name='SendDLRelReq'></a><h2>SendDLRelReq</h2>

<pre> SendDLRelReq();

</pre>
<pre>Subroutine: SendDLRelReq
Purpose:    To send a ReleaseRequest from Abisco (SAPI3)
             and receive a ReleaseConfirm from BTS
Input:      SAPI
             Mode ("Normal" or "LocalEnd")
Output:     None</pre>
<a name='SendDataReq'></a><h2>SendDataReq</h2>

<pre> SendDataReq();

</pre>
<pre>Subroutine: SendDataReq
Purpose:    To send a downlink message.
Comment:    Same as SendMultiPurposeReq but without waiting for Ack
Input:      BTS - Absico connection handler
            SAPI - Sapi number (0 or 3)
             L3Data - Pointer to L3Data message array
Output:     None</pre>
<a name='SendEstReqSAPI2Abisco'></a><h2>SendEstReqSAPI2Abisco</h2>

<pre> SendEstReqSAPI2Abisco();

</pre>
<pre>Subroutine: SendEstReqSAPI2Abisco
Purpose:    To send Establish Request from Abisco with SAPI 2 (error case) and verify
             that the response message is TIMEOUT_EP1.
Input:      BTS
Output:     None</pre>
<a name='SendLAPDm'></a><h2>SendLAPDm</h2>

<pre> SendLAPDm();

</pre>
<pre>Subroutine:  SendLAPDm
Purpose:    To send a LAPDm frame
Input:       $Chan      (SDCCH, SACCH or FACCH)
             $MsPower  (Only applicable for SACCH)
             $TA        (Timing advance, only applicable for SACCH)
            $Cmd       (Command = 'I', 'RR', RNR", 'REJ', 'SABM', 'DM', 'UI', 'DISC' or 'UA'
             N(R)       (Receive Sequence Number)
             N(S)      (Send Sequence Number)
             P/F       (Poll/Final bit)
             SAPI      (Service Access Point)
             C/R        (Command/Response)
             M          (More bit)
             EL        (Length Extension bit)
             EA        (Address Extension Bit)
             Data      (Information Field)
Output:     None</pre>
<a name='SendModeModify'></a><h2>SendModeModify</h2>

<pre> SendModeModify();

</pre>
<pre>Subroutine: SendModeModify
Purpose:    To send a Mode Modify message from Abisco and receive a ModeModifyAck from BTS
Input:  BTS     AbiscoConnection parameter
   TypeOfCh   The TypeOfCh parameter of ChannelModeStruct argument to the ModeModify message
   ChannelRate The ChannelRate parameter of ChannelModeStruct argument to the ModeModify message
   AlgOrRate   The AlgOrRate parameter of ChannelModeStruct argument to the ModeModify message
Output:     None</pre>
<a name='SendModifiedLAPDm'></a><h2>SendModifiedLAPDm</h2>

<pre> SendModifiedLAPDm();

</pre>
<pre>Subroutine: SendModifiedLAPDm
Purpose:    To send a LAPDm frame with invalid length field or modified control field. Can not send data.
Input:      $Chan          (SDCCH, SACCH or FACCH)
             $MsPower      (Only applicable for SACCH)
             $TA            (Timing advance, only applicable for SACCH)
            $Cmd           (Command = 'I', 'RR', RNR", 'REJ', 'SABM', 'DM', 'UI', 'DISC' or 'UA'
             N(R)           (Receive Sequence Number)
             N(S)          (Send Sequence Number)
             P/F           (Poll/Final bit)
             SAPI          (Service Access Point)
             C/R            (Command/Response)
             M              (More bit)
             EL            (Length Extension bit)
             EA            (Address Extension Bit)
             $Length        (Length Indicator)
             ControlField  (Control Field)
Output:     None</pre>
<a name='SendMultiPurposeReq'></a><h2>SendMultiPurposeReq</h2>

<pre> SendMultiPurposeReq();

</pre>
<pre>Subroutine: SendMultiPurposeReq
Purpose:    To send a downlink message.
Input:      BTS - Absico connection handler
            SAPI - Sapi number (0 or 3)
             L3Data - Pointer to L3Data message array
Output:     None</pre>
<a name='StoreTG'></a><h2>StoreTG</h2>

<pre> StoreTG();

</pre>
<pre>SUBROUTINE  : StoreTG
DESCRIPTION : Store TG parameters. This subroutin shall be followed by ResetTG
              (copied from subs_Broadcast)</pre>
<pre>IN  :
OUT :     {Cells}, {TG}, {MCTR};
Sample:   %StoredTG = StoreTG();</pre>
<a name='SwitchChComb'></a><h2>SwitchChComb</h2>

<pre> SwitchChComb();

</pre>
<pre>Subroutine: SetChComb
Purpose:    Set Channel Combination
Input:      ChComb - Channnel Combination (Valid values are tch, iv, v, vi and vii)
Output:     None</pre>
<a name='UpdateCellBTS'></a><h2>UpdateCellBTS</h2>

<pre> UpdateCellBTS();

</pre>
<pre>Subroutine: UpdateCellBTS
Purpose:    Update information in choosen BTS Cell
Input:      %Input -&gt;BTS, TG, CellNumber, BCCHType, BS_AG_BLKS_RES, BS_PA_MFRMS
            CBCHIndicator
Output:     None
Added:      100217 SABMARG
Update:</pre>
<a name='resetMSSIM'></a><h2>resetMSSIM</h2>

<pre> resetMSSIM();

</pre>
<pre>Subroutine: resetMSSIM
Purpose: Resets MSSIM
Input: None
Output: None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_link</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 150/190 55-CAH 161 1607/1 Uen
MODULE      : subs_link.pm
DESCRIPTION : Contains subroutines that will be used in TRS-3 tests, such as Mobile Call Setup.</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE        NAME              REVIEW          COMMENT
A   20101005  Syntronic AB/   Syntronic AB/     File created. Approvd UABTOH.
              Bj&ouml;rn Eriksson  Martin Wikstr&ouml;m
PB1 20120904  EDAMELI                           File rewritten from scratch
PB2 20130130  XHENRMA         XSALNIC           ActivateSpeechLink added.
PB3 20130225  XSALNIC         XHENRMA           Minor change in Sub SetSpeechLoopback and cleanup
PB4 20130305  XSALNIC         XHENRMA           Added Sub FindMsgInLog and Sub FindMsgInLog2</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?wireshark'>wireshark</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?lsuConfig'>lsuConfig</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?subinit_link'>subinit_link</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>my $gDebugPrintouts = undef;
Package subroutines
SUBROUTINE  : ChActBTS
DESCRIPTION : To activate a channel in the BTS, uses par hash variables</pre>
<pre>IN  : $BTS (Abisco connection parameter)</pre>
<pre>OUT : None</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>Subroutine: ChActMSSIM
Purpose:    To activate a channel in the MSSIM, sets the CcId package variable
Input:      MsId
            Cell
            TRXC
            TS
            Timeout
            TypeOfCh
            ChTyp
            ChRate
            AlgOrRate
            AMRCodec
            Ref
Output:     $CcId</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>SUBROUTINE  : ChRelMSSIM
DESCRIPTION : To release a channel in the MSSIM</pre>
<pre>IN  : CcId
      Timeout
OUT : None</pre>
<a name='CheckL3Data'></a><h2>CheckL3Data</h2>

<pre> CheckL3Data();

</pre>
<pre>SUBROUTINE  :  CheckL3Data
DESCRIPTION : To compare received L3Data to expected L3Data</pre>
<pre>IN  :  Expected L3Data
       Received L3Data
OUT :  Returns 1 if data differs, else 0</pre>
<a name='CompareHash'></a><h2>CompareHash</h2>

<pre> CompareHash();

</pre>
<pre>Subroutine: CompareHash
Purpose:    Compares two hashes by using recursion
Input:      Expected    Expected hash table
            Received    Hash table to compare Expected to
            Debug       Set to 1 to get debug printouts</pre>
<pre>Output:     0 - tables DOESNT match
            1 - tables match</pre>
<a name='DeactivatePayload'></a><h2>DeactivatePayload</h2>

<pre> DeactivatePayload();

</pre>
<pre>SUBROUTINE  : DectivateSpeech
DESCRIPTION :    Deactivate speech</pre>
<pre>IN  :
OUT :  NONE</pre>
<a name='EstReqBTS'></a><h2>EstReqBTS</h2>

<pre> EstReqBTS();

</pre>
<pre>Subroutine: EstReqBTS
Purpose:    To send Establish Request from BTS and receive
             the expected response from BTS on SAPI
Input:      BTS =&gt; $BTS,
            SAPI =&gt; 0,
            LinkId =&gt; 'FACCH/SDCCH',
            TG   =&gt; $TG,
            TRXC =&gt; $TRXC
            TS =&gt; $TS,
            ChType =&gt; $ChType,
Output:     None</pre>
<a name='EstablishReqMSSIM'></a><h2>EstablishReqMSSIM</h2>

<pre> EstablishReqMSSIM();

</pre>
<pre>Subroutine: EstablishReqMSSIM
Purpose:    To send Establish Request to MSSIM and receive EstablishIndication
            from Abisco
Input:      Hash containing the following key(s):
             BTS     - Abisco connection parameter
             SAPI    - Sapi value
             CHAN    - Channel state
             L3DATA  - Reference to L3Data array</pre>
<pre>Output:     None</pre>
<a name='FindMsgInLog'></a><h2>FindMsgInLog</h2>

<pre> FindMsgInLog();

</pre>
<pre>SUBROUTINE  : FindMsgInLog
DESCRIPTION : To find a message in log</pre>
<pre>IN  :
OUT : Return number of frames between change request and actual change in codec.</pre>
<a name='FindMsgInLog2'></a><h2>FindMsgInLog2</h2>

<pre> FindMsgInLog2();

</pre>
<pre>SUBROUTINE  : FindMsgInLog2
DESCRIPTION : To find a message in log</pre>
<pre>IN  :
OUT : Return Array of AMR codec</pre>
<a name='HexToBinary'></a><h2>HexToBinary</h2>

<pre> HexToBinary();

</pre>
<pre>SUBROUTINE  : HexToBinary
DESCRIPTION : To Convert a Hex value to Bin</pre>
<pre>IN  :    Hex
OUT :    Bin</pre>
<a name='ModeModify'></a><h2>ModeModify</h2>

<pre> ModeModify();

</pre>
<pre>Subroutine: ModeModify
Purpose:    Sends a ModeModify command
Input:      See %Config hash
              Standard values from Abisco IWD
Output:     0 if OK</pre>
<a name='RadioChReleaseCommand'></a><h2>RadioChReleaseCommand</h2>

<pre> RadioChReleaseCommand();

</pre>
<pre>Subroutine: RadioChReleaseCommand
Purpose:    Cleans all radiochannels connected to TG
Input:      TG
            TRXC
Output:     0 if OK</pre>
<a name='ReceiveAbiscoMessage'></a><h2>ReceiveAbiscoMessage</h2>

<pre> ReceiveAbiscoMessage();

</pre>
<pre>Subroutine: ReceiveAbiscoMessage
Purpose:    To receive a spontanious message from Abisco
Input:      BTS (Abisco connection parameter)
            Timeout  =&gt; undef,
            Expect    =&gt; undef,
            Supress   =&gt; "SupressError",
Output:     Received Data hash</pre>
<a name='ReceiveMSSIM'></a><h2>ReceiveMSSIM</h2>

<pre> ReceiveMSSIM();

</pre>
<a name='ReceiveMSSimMsg'></a><h2>ReceiveMSSimMsg</h2>

<pre> ReceiveMSSimMsg();

</pre>
<pre>Subroutine: ReceiveMSSimMsg
Purpose:    Receive msgs on the MSSim until one is found that matches the
            in Expected hash or timeout occurs</pre>
<pre>Input:      Timeout       - 0.., time to look for msg in seconds
            SupressError  - 1/0, supress croak On/Off
            ErrorMsg      - if this string is defined it will be printed if an
                            error occurs
            Expected      - Hash containing keys to look for in received msg</pre>
<pre>Output:     0 - Message matching Expected's keys NOT found
            1 - Message matching Expected's keys found</pre>
<a name='ReleaseAllPayload'></a><h2>ReleaseAllPayload</h2>

<pre> ReleaseAllPayload();

</pre>
<pre>Subroutine: ReleaseAllPayload
Purpose:    Releases all payload in TSS
Input:      None
Output:     0 if OK</pre>
<a name='SendAssignmentCommand'></a><h2>SendAssignmentCommand</h2>

<pre> SendAssignmentCommand();

</pre>
<pre>SUBROUTINE  : SendAssignmentCommandAbisco
DESCRIPTION : To send DATA_REQUEST Assignment Command from Abisco</pre>
<pre>IN  :  ChType
       TS
OUT :  None</pre>
<a name='SendAssignmentCommand_N'></a><h2>SendAssignmentCommand_N</h2>

<pre> SendAssignmentCommand_N();

</pre>
<pre>SUBROUTINE  : SendAssignmentCommandAbisco
DESCRIPTION : To send DATA_REQUEST Assignment Command from Abisco</pre>
<pre>IN  :  ChType
       TS
OUT :  None</pre>
<a name='SetSpeechLoopback'></a><h2>SetSpeechLoopback</h2>

<pre> SetSpeechLoopback();

</pre>
<pre>SUBROUTINE  : SetSpeechLoopback
DESCRIPTION : Start or stop the Speech loopback functionality</pre>
<pre>IN  :    Mode: 'ON' or 'OFF'
            CcId
            LoopCcId
            Timeout
OUT :    Respons message</pre>
<a name='StartLoggingUm'></a><h2>StartLoggingUm</h2>

<pre> StartLoggingUm();

</pre>
<pre>Subroutine: StartLogUm
Purpose:    To start logging on Um
Input:      Hash with parameters
            BTS
            TimeToRun
            MSSIMLogFile - Name of the MSSIM log file
Output:     0 if OK</pre>
<a name='resetMSSIM'></a><h2>resetMSSIM</h2>

<pre> resetMSSIM();

</pre>
<pre>Subroutine: resetMSSIM
Purpose: Resets MSSIM
Input: MsId
Output: None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_modemodify</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 113/190 55-CAH 161 1607/1 Uen
MODULE      : Subs_modemodify
DESCRIPTION : Contains subroutines that will be used in TRS-3 tests, such as Mobile Call Setup.</pre>
<pre>COPYRIGHT &copy;:ERICSSON AB S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE     NAME           REVIEW          COMMENT
A   20100920 Syntronic AB/  Syntronic AB/   File created. Approved UABTOH.
             Bj&ouml;rn Ericsson Martin Ericsson</pre>
<pre>B   20110506 Syntronic AB/  Syntronic AB/   Updated ModeModify and ChActBTS for VAMOS
             Mark Bentham   David Melin     Added RadioChRel, SetTG and RestartBTS
C   20110829 XTOBSEM        XSOFFRO         Added SetEncryptionKeyMSSIM, CheckL3Data,
                                            ReceiveAbisco, EstablishReqMSSIM and
                                            ChActMSSIM
                                            Added ReceiveMSSIM and SetEncryptionBTS.
                                            Added PerlCritic and Diagnostics
D   20120215 XLEIMAR        XSOFFRO         Removed use Switch, it was not applied
PE1 20120510 XMAREDV        XANSBEM         Implemented ActiveTG, BTSUtilities
                                            and Hashes with 'lockkeys' as function
                                            inputs. Ran PerlCritic.
PE2 20120621 XAMMELY        XSOFFRO         Clean up, rewrote EstablishReqMSSIM and
                                            ReceiveAbisco according TR: HP65082
PE3 20120808 EERICSV        XSOFFRO         Added ChRelMSSIM, RelReqMSSIM, ActivateSpeech
                                            and DeactivateSpeech. Added the IdleMode
                                            parameter to ActivateCSData and default
                                            arguments to ModeModify.
PE4 20121030 XANSBEM                        Added subroutines GetMsgArrayFromUm,VerifyModeModifyOnUm, MSSIMTransferFile,
                                             StopPlayTest, StartPlayTest, CreateSpeechPatternFile and replaced
                                             DeactivateSpeech and DeactiveCSData with ReleaseAllOpenChannels</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i>mssim_def()</i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?speechfunc'>speechfunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Net::FTP'>Net::FTP</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?lsuConfig'>lsuConfig</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?speechfunc'>speechfunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?wireshark'>wireshark</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DBI'>DBI</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User'>User</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?SubInit_modemodify'>SubInit_modemodify</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Msg'>Msg</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?lib'>lib</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ActivateCSData'></a><h2>ActivateCSData</h2>

<pre> ActivateCSData();

</pre>
<pre>SUBROUTINE  : ActivateCSData
DESCRIPTION : Activate data on an activated channel</pre>
<pre>IN  :       1) TG           * Default parameters were given to the Input variable
            2) TRXC           so Input variable is vary based on Test Case
            3) DBRate
            4) DataGenMode
            5) DTX
            6) LoopDelay
OUT :       NONE</pre>
<a name='CalcFreqList'></a><h2>CalcFreqList</h2>

<pre> CalcFreqList();

</pre>
<pre>Calculates a Frequency List for TSConfiguration acc. to IWD
In: ARFCN =&gt; $ARFCN - Pointer to array containing all ARFCNs in
                    desired order (required)
    TX =&gt; $TX - Pointer to array containing all TXs in desired order
    RX =&gt; $RX - Pointer to array containing all RXs in desired order
    TRXC =&gt; $TRXC - if this is given, all TX and RX values will be
                            set to $TRXC
    Note: EITHER TX+RX OR TRXC must be given!
          All input arrays must contain the same number of elements!</pre>
<pre>    Optional: Hop =&gt; &lt;Nr. of Hopp-Frequencies, 1-&gt;No Hopping&gt;


</pre>
<a name='CalcFreqListElement'></a><h2>CalcFreqListElement</h2>

<pre> CalcFreqListElement();

</pre>
<pre>Calculates the Frequency List out of given ARFCNs in the argument
Call: CalcFreqElement (TX=&gt;$TX, RX=&gt;$RX, ARFCN=&gt; &lt;ARFCN&gt;)</pre>
<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>BTS routines
Subroutine: ChActBTS
Purpose:    To activate a channel in the BTS
Input:      Hash containing the following key(s):
              AMRCodec    -   AMR Codec
              ChRate      -   Channel rate
              TG          -   TG number
              TRXC        -   TRXC
              TS          -   Timeslot number
              ChType      -   Channel Type
              ActType     -   Activation type
              TypeOfCh    -   Type of Channel
              AlgOrRate   -   GSM algorithm or Rate
              ChAct       -   Channel Activation type
              RFB         -
              AlgId       -   Algorithm ID
              AckType     -   Acknowledgement type (Ack/NAck)
              ICP         -
              CI          -
              MRver       -
              MultiRateConfig - Multirate configuration
              lIgnoreBSPower - set to true to disble BSPower
              lIgnoreChannelMode - set to true to disble ChannelMode struct
              BTS         -   Abisco connection parameter
Output:     None</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>Subroutine: ChActMSSIM
Purpose:    To activate a channel in the MSSIM
Input:      Hash containing the following key(s):
              Bypass - (set to '1' to bypass MSSIM automatic LAPDm handling)
Output:     $CcId</pre>
<a name='ChActMSSIMVamos'></a><h2>ChActMSSIMVamos</h2>

<pre> ChActMSSIMVamos();

</pre>
<pre>Subroutine: ChActMSSIMVamos
Purpose:    To activate a channel in the MSSIM, VAMOS
Input:      Hash containing the following key(s):
              AMRCodec    -   AMR Codec
              ChRate      -   Channel rate
              TG          -   TG number
              TRXC        -   TRXC
              TS          -   Timeslot number
              ChType      -   Channel Type
              ActType     -   Activation type
              TypeOfCh    -   Type of Channel
              AlgOrRate   -   GSM algorithm or Rate
              ChAct       -   Channel Activation type
              AlgId       -   Algorithm ID
              Bypass      -   Bypass flag
              Ref         -   Ref
              AllSacchSI  -   Indicator if all SACCH messages should be recieved
                              or just changes
              MsId        -   MSSSim ID
              Timeout     -   Timeout</pre>
<pre>Output:     CcId</pre>
<a name='ChRelBTS'></a><h2>ChRelBTS</h2>

<pre> ChRelBTS();

</pre>
<pre>Subroutine: ChRelBTS
Purpose:    To release a channel in the BTS
Input:      Hash containing the following key(s):
            BTS - Abisco connection parameter
            TG - Abisco connection parameter
            TRXC - Abisco connection parameter
Output:     None</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>SUBROUTINE  : ChRelMSSIM
DESCRIPTION : To release a channel in the MSSIM
              (Copied from packetfunc.pm)</pre>
<pre>IN  : $CcId      (MSSIM channel id)
      $Timeout
OUT : 0=OK</pre>
<a name='CheckBSPowerWithMSSIMLog'></a><h2>CheckBSPowerWithMSSIMLog</h2>

<pre> CheckBSPowerWithMSSIMLog();

</pre>
<pre>SUBROUTINE  : CheckBSPowerWithMSSIMLog
DESCRIPTION : Checks BS power by creating and analysing an LSU log
              Wireshark.pm needs an update for this subroutine to work
              (current version released in Abisco version R43A)</pre>
<pre>IN  : ConfigFile
      MsSIM_LSU_FileName
OUT : Hash containing power levels for timeslots and subtimeslots</pre>
<a name='CheckL3Data'></a><h2>CheckL3Data</h2>

<pre> CheckL3Data();

</pre>
<pre>Subroutine: CheckL3Data
Purpose:    To compare received L3Data to expected L3Data
Input:      Hash containing the following key(s):
             Expect    - Expected L3Data
             Received  - Received L3Data
Output:     Returns 1 if data differs, else 0</pre>
<a name='ConfigReadMO'></a><h2>ConfigReadMO</h2>

<pre> ConfigReadMO();

</pre>
<pre>FUNCTION : ConfigReadMO
COMMENT  : Get current parameters for wanted MO
Syntax   : ConfigReadMO(MO =&gt; $MO);
IN       : MO type
OUT      : %lResp</pre>
<a name='CreateMS'></a><h2>CreateMS</h2>

<pre> CreateMS();

</pre>
<pre>SUBROUTINE  : CreateMS
DESCRIPTION : Create an MS on MSSIM</pre>
<pre>IN  : Hash containing the following key(s):
              $MsId  - MSSIM ID
OUT : -</pre>
<a name='CreateSpeechPatternFile'></a><h2>CreateSpeechPatternFile</h2>

<pre> CreateSpeechPatternFile();

</pre>
<pre>Subroutine: CreateSpeechPatternFile
Purpose:    Creates a Speech Pattern file that is uploaded on the MSSIM
Input:     Speechfile
           ChannelMode - SPEECH, DATA or SIGN
           Rate - TCH_FS, TCH_F14_4, TCH_F9_6, TCH_F4_8 or TCH_F2_4
           Length - Number of frames that are compared
Output:    None</pre>
<a name='DeleteMS'></a><h2>DeleteMS</h2>

<pre> DeleteMS();

</pre>
<pre>SUBROUTINE  : DeleteMS
DESCRIPTION : Delete existing MS on MSSIM</pre>
<pre>IN  : Hash containing the following key(s):
              $MsId  - MSSIM ID
OUT : -</pre>
<a name='DisableMO'></a><h2>DisableMO</h2>

<pre> DisableMO();

</pre>
<pre>FUNCTION : DisableMO
COMMENT  : Sends DisableRequest to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks DisableResult.
IN           : Optionally a reference to a Hash
           containing one or more of the following
           keys: TRXC, MO, MOState, ASOInst, ReasonCode, ResultCode
           ASOInst, INST
Out           : None</pre>
<a name='EnableMO'></a><h2>EnableMO</h2>

<pre> EnableMO();

</pre>
<pre>FUNCTION : EnableMO
COMMENT  : Sends EnableRequest to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks EnableResult.
IN             : Optionally a reference to a Hash containing
           one or more of the following
           keys: TRXC, MO, MOState, ASOInst
OUT             : None</pre>
<a name='EstablishReqMSSIM'></a><h2>EstablishReqMSSIM</h2>

<pre> EstablishReqMSSIM();

</pre>
<pre>Subroutine: EstablishReqMSSIM
Purpose:    To send Establish Request to MSSIM and receive EstablishIndication
            from Abisco
Input:      Hash containing the following key(s):
             BTS     - Abisco connection parameter
             SAPI    - Sapi value
             CHAN    - Channel state
             L3DATA  - Reference to L3Data array</pre>
<pre>Output:     None</pre>
<a name='GetFreqBand'></a><h2>GetFreqBand</h2>

<pre> GetFreqBand();

</pre>
<pre>---Get the frequency band</pre>
<a name='GetMsgArrayFromUm'></a><h2>GetMsgArrayFromUm</h2>

<pre> GetMsgArrayFromUm();

</pre>
<pre>Subroutine: GetMsgArrayFromUm
Purpose:    Starts logging on Um and returns 100 messages in an array
            This is used to verify that a mode modify command has effect
             on messages on Um
Input:         LsuLogFile   - Name of the logfile
               LogFile      - Name of the Text Logfile
               ChannelMode  - used channel mode
               MSSIMCfgFile - Name of the cfg file used for logging
               ChRate        - The Channel Rate of the generated frames
               GenerateFrames - If the MSSIM should generate the frames.
Output:     @returnMessageArray</pre>
<a name='GetPowerLevel'></a><h2>GetPowerLevel</h2>

<pre> GetPowerLevel();

</pre>
<pre>Subroutine: GetPowerLevel
Purpose:    Get PnMax, PnMin or Pmin
Input:      Level =&gt; PnMax, PnMin or Pmin
Output:     Desired power level (standard is PnMax)</pre>
<pre>Comment:    Values for PnMin and PnMax is extracted from BTS Parameter Limitations
            (17/1551-HRB 105 21) and values for Pmin is extracted from
            Requirements Specifications of different base stations.</pre>
<a name='GetTCHRefPower'></a><h2>GetTCHRefPower</h2>

<pre> GetTCHRefPower();

</pre>
<pre>SUBROUTINE  : GetTCHRefPower
DESCRIPTION : Takes a reference value for the nominal power level.</pre>
<pre>IN  : TRXC
OUT : Reference power</pre>
<a name='GetTSCparameters'></a><h2>GetTSCparameters</h2>

<pre> GetTSCparameters();

</pre>
<pre>Subroutine: GetTSCparameters
Purpose:    To get the appropriate TSC_SET and TSC depending
            of wanted ChType when using VAMOS
            TSC on MSSIM is a combination of TSC_SET and TSC
Call:       %Resp = GetTSCparameters(ChType =&gt; $ChType);
Input:      ChType
            Valid parameters: Bm
                              Bm_1
                              Lm/0
                              Lm/1
                              Lm/0_1
                              Lm/1_1
Output:     Hash containing TSC_SET
                            TSC
                            MixingOrder
                            MSCapability
                            MSSIM_TSC</pre>
<a name='GetVPO'></a><h2>GetVPO</h2>

<pre> GetVPO();

</pre>
<pre>SUBROUTINE  : GetVPO
DESCRIPTION : Creates an array for use in TSConfig based on the table @VPO</pre>
<pre>IN  : MinSPIR
      MSCapability
OUT : VPO array</pre>
<a name='MSSIMTransferFile'></a><h2>MSSIMTransferFile</h2>

<pre> MSSIMTransferFile();

</pre>
<pre>SUBROUTINE  : MSSIMTransferFile
DESCRIPTION : Transfers file to MSSIM</pre>
<pre>IN  : User
      Password
      LocalFilename
      RemoteFilename
OUT : 0 - OK
      1 - Error</pre>
<a name='ModeModify'></a><h2>ModeModify</h2>

<pre> ModeModify();

</pre>
<pre>Subroutine: ModeModify
Purpose:    Sends a modemodify
Input:      CheckSyntax
            RespHash
            CheckRespTime
            ChType
Output:</pre>
<a name='RadioChRel'></a><h2>RadioChRel</h2>

<pre> RadioChRel();

</pre>
<pre>Subroutine: RadioChRel
Purpose:    BSC commands TRS to release all dedicated resources within the TRX.
Input:
Output:</pre>
<a name='RadioChReleaseCommand'></a><h2>RadioChReleaseCommand</h2>

<pre> RadioChReleaseCommand();

</pre>
<pre>Subroutine: RadioChReleaseCommand
Purpose:    Cleans all radiochannels connected to TG
Input:      TG
            TRXC
Output:     TC result value</pre>
<a name='ReceiveAbisco'></a><h2>ReceiveAbisco</h2>

<pre> ReceiveAbisco();

</pre>
<pre>Subroutine: ReceiveAbisco
Purpose:    To receive a spontanious message from Abisco
Input:      Hash containing the following key(s):
             BTS      - Abisco connection parameter
             Timeout  - Timeout value
             Expect   - Expected message
             Supress  - Indicate if timeout errors should be supressed
                        (HandleError not called).
             L3DATA   - Reference to L3Data array of expected message
Output:     CauseValue</pre>
<a name='ReceiveMSSIM'></a><h2>ReceiveMSSIM</h2>

<pre> ReceiveMSSIM();

</pre>
<pre>Subroutine: ReceiveMSSIM
Purpose:    To receive a spontaneous message from MSSIM
Input:      Hash containing the following key(s):
             Timeout   - Timeout value
             ExpMsg    - Expected Message
             Expect - Reference to array of expected message
Output:     None</pre>
<a name='RelReqMSSIM'></a><h2>RelReqMSSIM</h2>

<pre> RelReqMSSIM();

</pre>
<pre>SUBROUTINE  : RelReqMSSIM
DESCRIPTION : To send Release Request to MSSIM and receive ReleaseIndication from Abisco</pre>
<pre>IN  :  $BTS  AbiscoConnection object
       $Sapi  SAPI 0 or 3
       $Chan  Channel
       $Mode Release mode
OUT :  None</pre>
<a name='ReleaseAllOpenChannels'></a><h2>ReleaseAllOpenChannels</h2>

<pre> ReleaseAllOpenChannels();

</pre>
<pre>Subroutine: ReleaseAllOpenChannels
Purpose:    Release all Open Channels from TSS
Input:      ChannelName - CSData, PSData, Speech or All
Output:     None</pre>
<a name='RestartBTS'></a><h2>RestartBTS</h2>

<pre> RestartBTS();

</pre>
<pre>Subroutine:  RestartBTS
Purpose:    Restarting the BTS, make sure that the parameters set during restart
             complies with your specific TC
Input:      $BTS (Abisco connection parameter)
Output:</pre>
<a name='RoundFloat'></a><h2>RoundFloat</h2>

<pre> RoundFloat();

</pre>
<pre>Subroutine: RoundFloat
Purpose:    Rounds the first argument to (the second argument) number of decimal places.
Input:      Float     (Value to round)
            Decimals  (Number of decimal digits, &gt;= 0)
Output:     Rounded float</pre>
<a name='SetEncryptionBTS'></a><h2>SetEncryptionBTS</h2>

<pre> SetEncryptionBTS();

</pre>
<pre>Subroutine: SetEncryptionBTS
Purpose:    Setting the encryption key in  BTS
Input:      Hash containing one or more of the following keys:
             BTS       -  Abisco connection parameter       (default $BTS)
             Encr      -  No (1) A5/1 (2) A5/2 (3) A5/3 (4) (default 'No')
             StartEncr - 'No', 'Start'                      (default 'No')
Output:    None</pre>
<a name='SetEncryptionMSSIM'></a><h2>SetEncryptionMSSIM</h2>

<pre> SetEncryptionMSSIM();

</pre>
<pre>Subroutine:  SetEncryptionKeyMSSIM
Purpose:    Sets the encryption in the MSSIM
Input:      Hash containing the following key(s):
             EncryptionAlg -   CIPH_NONE, CIPH_A5_1, CIPH_A5_2,
                               CIPH_A5_3, CIPH_A5_4, CIPH_A5_5,
                               CIPH_A5_6, CIPH_A5_7
             EncryptionKey  - Reference to 8 byte encryption key array
Output:</pre>
<a name='SetNominalMaxPower'></a><h2>SetNominalMaxPower</h2>

<pre> SetNominalMaxPower();

</pre>
<pre>Subroutine: SetNominalMaxPower
Purpose:    Set nominal power to max power
Input:      TG
            TRXC
Output:     backupValues =&gt; TRXno =&gt; NominalPower</pre>
<a name='SetTG'></a><h2>SetTG</h2>

<pre> SetTG();

</pre>
<pre>Subroutine: SetTG
Purpose:    To set TCM configuration, updates, disconnects and reconnects.
Input:      TCH_Configuration
            Abismode
Output:     None</pre>
<a name='SetTLS'></a><h2>SetTLS</h2>

<pre> SetTLS();

</pre>
<pre>SUBROUTINE  : SetTLS
DESCRIPTION : To modify TLS
              example: SetTLS(TLSA=&gt;'yes', TLSI =&gt;'no');
IN  : TLSA, TLSI
OUT : None</pre>
<a name='StartAbisLog'></a><h2>StartAbisLog</h2>

<pre> StartAbisLog();

</pre>
<pre>Subroutine: StartAbisLog
Purpose:    Start Abis log
Input:      None
Output:     None</pre>
<a name='StartPlayTest'></a><h2>StartPlayTest</h2>

<pre> StartPlayTest();

</pre>
<pre>Subroutine: StopPlayTest
Purpose:    Starts to send the generated frames from the MSSIM
Input:      TxFile
            RxFile
Output:     None</pre>
<a name='StopAbisLog'></a><h2>StopAbisLog</h2>

<pre> StopAbisLog();

</pre>
<pre>Subroutine: StopAbisLog
Purpose:    Stop Abis log
Input:      None
Output:     None</pre>
<a name='StopPlayTest'></a><h2>StopPlayTest</h2>

<pre> StopPlayTest();

</pre>
<pre>Subroutine: StopPlayTest
Purpose:    Starts to send the generated frames from the MSSIM
Input:      None
Output:     None</pre>
<a name='TSConfig'></a><h2>TSConfig</h2>

<pre> TSConfig();

</pre>
<pre>FUNCTION : TSConfig
COMMENT  : Reconfigure TS
Syntax   : TSConfig(TS =&gt; $TS);
IN       :
OUT      : %lResp</pre>
<a name='VerifyModeModifyOnUm'></a><h2>VerifyModeModifyOnUm</h2>

<pre> VerifyModeModifyOnUm();

</pre>
<pre>Subroutine: VerifyModeModifyOnUm
Purpose:    Compares 2 arrays with messages from Um and Verifies that
            a ModeModify has effect on the messages. The arrays should be
            read from GetMsgArrayFromUm
Input:     ArrayBefore - Reference to array before mode modify
           ArrayAfter - Reference to array before mode modify
            SuccessRate
           NrOfMessages
           NoChange
           SignToTCH
Output:    None</pre>
<a name='resetNominalPower'></a><h2>resetNominalPower</h2>

<pre> resetNominalPower();

</pre>
<pre>Subroutine: resetNominalPower
Purpose:    Set nominal power to max power
Input:      TG
            TRXC
Uses:       backupValues=&gt; TRXno =&gt; NominalPower
Output:</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_mspower</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 76/190 55-CAH 161 1607/1
MODULE      : subs_mspower.pm
DESCRIPTION : This package contains the subfunctions and variables used
              with the main test case</pre>
<pre>COPYRIGHT &copy; : ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
A   20100920  XWIKMAR   XDAVMEL   File created. Approved UABTOH
B   20110301  XMABENT   XTOBSEM   Added missing functions ClearMSSIMBuffer
                                   SendDataRequest, solved TR HM92559
                                   Updated ReceiveMSSIM with CcId, solved TR HM92550
C   20111110  XSOFFRO   XPRRANA   Added subroutine waitforcellsync and call it in
                                   ChActMSSIM and ChRelMSSIM (TR HO28877)
                                   Subroutine waitforcellsync now called from mssim_sub (TR HO74668)
D   20121213  XANSBEM   XMAREDV   Updated script to latest template, Ran
                                   Perl Critic and implemented Active TG</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?subinit_mspower'>subinit_mspower</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DBI'>DBI</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>SUBROUTINE  : ChActBTS
DESCRIPTION : To activate a channel in the BTS, uses par hash variables</pre>
<pre>IN  : $BTS (Abisco connection parameter)
             $MSPower Power level to be ordered to MSSIM
             $BiChan choose 0 or 1 for LM/0 or Lm/1
OUT : None</pre>
<a name='ChActBTSLowPWRLvl'></a><h2>ChActBTSLowPWRLvl</h2>

<pre> ChActBTSLowPWRLvl();

</pre>
<pre>SUBROUTINE  : ChActBTSLowPWRLvl
DESCRIPTION : To activate a channel in the BTS with low Power Level</pre>
<pre>IN  : None
OUT : None</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>SUBROUTINE  : ChActMSSIM
DESCRIPTION : To activate a channel in the MSSIM, sets the CcId package variable</pre>
<pre>IN  : $Bypass  (set to '1' to bypass MSSIM automatic LAPDm handling)
OUT : $CcId</pre>
<a name='ChCleanBTS'></a><h2>ChCleanBTS</h2>

<pre> ChCleanBTS();

</pre>
<pre>SUBROUTINE  : ChCleanBTS
DESCRIPTION : To release all radio traffic channels or control channels in the BTS
             without asserting the responses</pre>
<pre>IN  : $BTS (Abisco connection parameter)
OUT : None</pre>
<a name='ChReActMSSIM'></a><h2>ChReActMSSIM</h2>

<pre> ChReActMSSIM();

</pre>
<pre>SUBROUTINE  : ChReActMSSIM
DESCRIPTION : To activate a channel in the MSSIM</pre>
<pre>IN  : %Param hash, see main program for description
OUT : CcId</pre>
<a name='ChReactBTS'></a><h2>ChReactBTS</h2>

<pre> ChReactBTS();

</pre>
<pre>SUBROUTINE  : ChReactBTS
DESCRIPTION :  To activate a channel in the BTS</pre>
<pre>IN  : PWRLevel
OUT : None</pre>
<a name='ChRelBTS'></a><h2>ChRelBTS</h2>

<pre> ChRelBTS();

</pre>
<pre>SUBROUTINE  : ChRelBTS
DESCRIPTION : To release a channel in the BTS, based on par hash</pre>
<pre>IN  : None
OUT : None</pre>
<a name='ChRelBTSSDCCH'></a><h2>ChRelBTSSDCCH</h2>

<pre> ChRelBTSSDCCH();

</pre>
<pre>SUBROUTINE  : ChRelBTSSDCCH
DESCRIPTION : To release control channels in the BTS</pre>
<pre>IN  : $BTS (Abisco connection parameter)
OUT : None</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>SUBROUTINE  : ChRelMSSIM
DESCRIPTION : To release a channel in the MSSIM, uses the package variable CcId to
             identify the opened channel</pre>
<pre>IN  : $CcId
OUT : None</pre>
<a name='ChRelReActBTS'></a><h2>ChRelReActBTS</h2>

<pre> ChRelReActBTS();

</pre>
<pre>SUBROUTINE  : ChRelReActBTS
DESCRIPTION : To release a channel in the BTS, based on par hash</pre>
<pre>IN  : BTS
OUT : None</pre>
<a name='CheckCBCH'></a><h2>CheckCBCH</h2>

<pre> CheckCBCH();

</pre>
<pre>SUBROUTINE  : CheckCBCH
DESCRIPTION : To verify and set correct CBCH for active sub test case,
             makes a restart of BTS if to save changes.</pre>
<pre>IN  : $BTS (Abisco connection parameter)
OUT : None</pre>
<a name='CheckTestBandBTS'></a><h2>CheckTestBandBTS</h2>

<pre> CheckTestBandBTS();

</pre>
<pre>SUBROUTINE  : CheckTestBandBTS
DESCRIPTION : To check what Frequency band of the current BTS</pre>
<pre>IN  : $BTS (Abisco connection parameter)
OUT : $TestBand</pre>
<a name='ClearMSSIMBuffer'></a><h2>ClearMSSIMBuffer</h2>

<pre> ClearMSSIMBuffer();

</pre>
<pre>SUBROUTINE  : ClearMSSIMBuffer
DESCRIPTION : Clears the MSSIM message buffer</pre>
<pre>IN  : None
OUT : Number of cleared messages</pre>
<a name='EstReqBTS'></a><h2>EstReqBTS</h2>

<pre> EstReqBTS();

</pre>
<pre>SUBROUTINE  : EstReqBTS
DESCRIPTION : To send Establish Request from BTS and receive
             the expected response from BTS on SAPI3</pre>
<pre>IN  : $BTS
             $SAPI
             $Expected data
             $LinkId ( FACCH/SDCCH or SACCH)
OUT : None</pre>
<a name='LAPDmSend'></a><h2>LAPDmSend</h2>

<pre> LAPDmSend();

</pre>
<pre>SUBROUTINE  : LAPDmSend
DESCRIPTION : To send a LAPDm frame</pre>
<pre>IN  : $Chan      (SDCCH, SACCH or FACCH)
               $MsPower  (Only applicable for SACCH)
               $TA        (Timing advance, only applicable for SACCH)
              $Cmd       (Command = "I", "RR", RNR", "REJ", "SABM", "DM", "UI", "DISC" or "UA"
               N(R)       (Receive Sequence Number)
               N(S)      (Send Sequence Number)
               P/F       (Poll/Final bit)
               SAPI      (Service Access Point)
               C/R        (Command/Response)
               M          (More bit)
               EL        (Length Extension bit)
               EA        (Address Extension Bit)
               Data      (Information Field)
OUT : None</pre>
<a name='ReceiveAbiscoMessage'></a><h2>ReceiveAbiscoMessage</h2>

<pre> ReceiveAbiscoMessage();

</pre>
<pre>SUBROUTINE  : ReceiveAbiscoMessage
DESCRIPTION : To receive a spontanious message from Abisco</pre>
<pre>IN  : $BTS (Abisco connection parameter)
             Timeout value
             Expected message type
             Supress, "SupressError" if HandleError should not be called
OUT : Received Data hash</pre>
<a name='ReceiveMSSIM'></a><h2>ReceiveMSSIM</h2>

<pre> ReceiveMSSIM();

</pre>
<pre>SUBROUTINE  : ReceiveMSSIM
DESCRIPTION : To receive a spontanious message from MSSIM</pre>
<pre>IN  : Timeout value
             Expected Message
             Type of data
            CcId of expected message
OUT :@ImmAss Array with messagetype and page mode data</pre>
<a name='ReceiveSystemInfo'></a><h2>ReceiveSystemInfo</h2>

<pre> ReceiveSystemInfo();

</pre>
<pre>SUBROUTINE  : ReceiveSystemInfo
DESCRIPTION : Recieve SystemInfo frames as lapdmDL_UNITDATA_IND where SI is choosen
             System Info version, check that SRO flag is set
             specific for 3020_01.abi</pre>
<pre>IN  : $T200
             $SI: SI5 = 29, SI5bis = 5, SI6 = 30
OUT : %Param</pre>
<a name='RestartBTS'></a><h2>RestartBTS</h2>

<pre> RestartBTS();

</pre>
<pre>SUBROUTINE  : RestartBTS
DESCRIPTION : Restarting the BTS, make sure that the parameters set during restart
             complies with your specific TC</pre>
<pre>IN  : $BTS (Abisco connection parameter)
OUT : None</pre>
<a name='SendDataRequest'></a><h2>SendDataRequest</h2>

<pre> SendDataRequest();

</pre>
<pre>SUBROUTINE  : SendDataRequest
DESCRIPTION : Sends a Data Request with powerinformation</pre>
<pre>IN  :
OUT : None</pre>
<a name='SendMeas'></a><h2>SendMeas</h2>

<pre> SendMeas();

</pre>
<pre>SUBROUTINE  : SendMeas
DESCRIPTION : To send Measurement Reports</pre>
<pre>IN  : L2 Header
             Measurement Report contents (array)
OUT :</pre>
<a name='SetMSPowerBTS'></a><h2>SetMSPowerBTS</h2>

<pre> SetMSPowerBTS();

</pre>
<pre>SUBROUTINE  : SetMSPowerBTS
DESCRIPTION : To activate the set power message in the BTS</pre>
<pre>IN  : $BTS (Abisco connection parameter)
      $MSPower Power level to be ordered to MSSIM
OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_PacketData</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number : 91/190 55-CAH 161 1607/1 Uen
MODULE      : Subs_PacketData.pm
DESCRIPTION : This package contains the subfunctions and variables used
              with the main test case</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV  DATE       NAME              REVIEW              COMMENT
R1   20090616   ERAHEIK                               File created.
R2   20100120   ERATZIS                               Updated Header, added ConnectToMSSIM, FindPGSLMessagesInLog, SCQualityReportII, SCReporting, ChRelMSSIM, StartLoopMSSIM,
                                                       WaitForSCQualityReportII, CheckSCQualityReportII, CreateParameterHash, ChRelMSSIM, ChActPacketMSSIM, StopLoopMSSIM. Approved.
A    20100125   ERATZIS           UABTOH              Approved. Changed revision tag to fulfill Ericsson CM standards.
B    20100413   Syntronic AB/     ERADERV             Added findMessagesInLog, SetTG, CheckL3Data, DbReport, DbCheckTable, GetDateTime,
                Bj&ouml;rn Eriksson                         InitResult, GetResult, HandleError.
                                                       Added SetTLSFilternigTime AllocateGslLink StartGslLink
                                                       Modified FindPGSLMessagesInLog ChannelActPacket
                                                       Verified for G11B with 2256_02.abi
C    20100921   Syntronic AB/                         Added: FindMinMaxInMessageArray SaveConfig RestoreConfig SetAbisAndTCHMode
                Martin Wikstr&ouml;m                        Added: SetAbisAndTCHMode PrintMessageArray, PrintMesasge, FindMinMaxInMessageArray
                                                       ReleaseOpenChannels, FilterMesasgeArray, ParseAbisLog, JoinArrays, findMessagesInLog
D    20101008   Syntronic AB/     Syntronic AB/       Added: ClearMSSIMbuffer, Added: ConfigureLanforge ReadLanforgeSettings.
                Bj&ouml;rn Eriksson    David Melin          Approved UABTOH
E    20110510   XMABENT           XDAVMEL             Added missing subs from 2256.04: FindAbisMessagesInLog, FindAbisSequenceMessagesInLog,
                                                       CheckCPSParameterInLog
                                                       Added new subs: FindModifiedDLPGSLMsg, FindPGSLStatusInd, CheckDLFlowTN
                                                       Added: CheckSequenceNoPGSL_DLDATA_REQ CheckTimeBetweenRTTI_IND
                                                       Added more Coding Schemes to CheckCCUDiscardFrames
                                                       Fixed bug in CheckCPSParameterInLog (HeaderType 5)
                                                       Updated: SetAbisAndTCHMode and SetTG to incorporate ExtendedRange
                                                       Added: SendABMSSIM
                                                       Added: CreateLSUParam
                                                       Updated: New parameter in CreateParameterHash
                                                       Added: GetTRXValuesMSSIM
                                                       Updated CheckCPSParameterInLog so that a timeslot can be specified
                                                       Updated values in CheckCCUDiscardFrames after resolved TR LSUMSSIM-175
                                                       Added: MSSIMTransferFile, GeneratePSPatternFile
                                                       Merge with parallell development for G10B/REV_D,including correction of revision history.
                                                       Added: CheckIfPANinULDATA, CheckRLCBlockQuality, %RLCMACHeader hash
                                                       Updated: SetAbisAndTCHMode and SetTG for compatibility with Abisco R35
F    20120220   XLEIMAR           XSOFFRO             Updated: GetTRXValuesMSSIM now returns AvgRfl also when it's positive
                                                       Added: GetMaxPwr, GetCPSValueFromRLCMACHeader, ActivateMCPAOverbooking,
                                                        DeactivateMCPAOverbooking, waitForCellSync, return in PrepareData
                                                       Added warnings, diagnostics and Perl Critic
                                                       Implemented TSS-logging for non IP-SIU
                                                       Updated FindPGSLMessagesInLog due to minor bug fixes
                                                       Corrected definitions of CCU-SYNC-IND and PCU-SYNC-IND
                                                       Corrected return of error code in StartGslLink.
                                                       Placed a backslash before @btbits in string in subroutine ConfigureLanforge
                                                       Added %Message_PGSL_STATUS_IND_TEMPLATE to export.
G    20120604   XLEIMAR           XAMMELY             Added StoreTG, ResetTG and ChangeTG.
                                                       Implemented ActiveTG
                                                       Removed all unnecessary functions, variables and typeglobs
                                                       Fixed bug in GetMaxPwr
                                                       Added MCS-6_with_padding10 to the UCMHash
                                                       Updated FindPGSLMessagesInLog to stop the search when
                                                       the first correct PGSL-STATUS-IND has been found
PH1  20130711   EKHOELH           XSALNIC             Changed the code in CheckIfPANinULDATA in order to work with both SC and IP adoptable
                                                       with the new log version for IP. The data position changed for SC
                                                       channel and IP logs so the new changes let this values passed on the results
                                                       in 4100_02 as data 1 to data 6 and Octet 1 and Octet 2.
PH2  20131007   XPATHIL                               Added sub IPTemplateModify and BPSplit,
                                                       modified GetRoundTripDelayAbis and CalcRoundTripDelayAbis
                                                       in order to comply with new TCP/IP structure on WLog frames
                                                       Modified FindPGSLMessagesInLog, findMessagesInLog, CheckCCUDiscardFrames
                                                       to dynamically work with the IP-SIU conf. and the Abis Upper Bundling Protocol
                                                       Added %CSAPI_TEMPLATE for IP-SIU Bundling Protocol support
                EKHOELH          XHENRMA              Modified a function called CheckDLFlowTN in order to work both in SC and the new IP logging
                XPATHIL          XSALNIC               Applied perlcritic and made changes accordingly.
                                                       If "/x" is added to the regular expression in "FindPGSLMessagesInLog" the test cases will fail
PH3  20131108   EKHOELH          XSALNIC              Removing unnecessary parts in SetAbisAndTCHMode, Perlcritic.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?wireshark'>wireshark</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?SubInit_PacketData'>SubInit_PacketData</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?List::Util'>List::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Net::FTP'>Net::FTP</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Net::Telnet'>Net::Telnet</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Storable'>Storable</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?wireshark'>wireshark</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?packetfunc'>packetfunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='IMPLEMENTS'></a><h1>IMPLEMENTS</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ActivateGSLData'></a><h2>ActivateGSLData</h2>

<pre> $self-&gt;ActivateGSLData();

</pre>
<pre>SUBROUTINE  : ActivateGSLData
DESCRIPTION : Allocates and starts a GSL link</pre>
<pre>IN  :     %Param (created with CreateParameterHash)
OUT :     None</pre>
<a name='ActivateGSLData_EPAS'></a><h2>ActivateGSLData_EPAS</h2>

<pre> $self-&gt;ActivateGSLData_EPAS();

</pre>
<pre>SUBROUTINE  : ActivateGSLData_EPAS
DESCRIPTION : Allocates and starts a GSL link for EPAS feature</pre>
<pre>IN  :     %Param (created with CreateParameterHash)
OUT :     None</pre>
<a name='ActivateGSL_EPAS'></a><h2>ActivateGSL_EPAS</h2>

<pre> $self-&gt;ActivateGSL_EPAS();

</pre>
<pre>SUBROUTINE  : ActivateGSL_EPAS
DESCRIPTION : Start Sending GSL or PGSL data from TSS for EPAS feature</pre>
<pre>IN  : $Param{TG}
      $Param{TRXC}
      $Param{TS}
      $Param{DLEncoding}      Downlink encoding
      $Param{ICP}             Only applicabale in TDM mode
      $Param{CI}              Only applicabale in TDM mode
      $Param{PTA}             Only applicabale in SC mode
      $Param{PAL}             Only applicabale in SC mode
      $Param{ULMode}          Uplink mode BTTI/RTTI
      $Param{DLMode}          Downlink mode BTTI/RTTI
      $Param{SecTS}           Secondary timeslot, only applicable for RTTI
      $Param{Power}
      $Param{UCM}             Uplink Channel Mode
      $Param{ULEncoding}      Uplink Encoding
      $Param{ULPANIndicator}  Uplink PAN Indicator, default = 1
      $Param{SendPAN}         0=No, 1= Yes
      $Param{PAN}             PAN value, applicable only when $Param{SendPAN}=1
      $Param{TFI}             TFI value, applicable only when $Param{SendPAN}=1
      $Param{TimingOffset}    Timing Offset
      $Param{TLINK}           TLINK timer value
      $Param{TSUP}            TSUP supervision timer
      $Param{OpMode}          TSS Operational mode
      $Param{PRBSMode}        PRBS mode, only applicable when $OPMode include PRBS
      @{$Param{PacketData}}   Data including RLC/MAC header
      $Param{MACHdrStruct}{MACHdrData0}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData1}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData1}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData2}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData2}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData3}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData3}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData4}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData4}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData5}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData5}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData6}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData6}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData7}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData7}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData8}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData8}{Retransmission}   Optional TRUE or FALSE
      $Param{MACHdrStruct}{MACHdrData9}{CPS}              Optional CPS value
      $Param{MACHdrStruct}{MACHdrData9}{Retransmission}   Optional TRUE or FALSE
OUT : 0=Ok, 1=Error</pre>
<a name='ActivateMCPAOverbooking'></a><h2>ActivateMCPAOverbooking</h2>

<pre> $self-&gt;ActivateMCPAOverbooking();

</pre>
<pre>SUBROUTINE  : ActivateMCPAOverbooking
DESCRIPTION : To activate MCPA Overbooking</pre>
<pre>IN  :      StartingMode
OUT :</pre>
<a name='AllocateGslLink'></a><h2>AllocateGslLink</h2>

<pre> $self-&gt;AllocateGslLink();

</pre>
<pre>SUBROUTINE  : AllocateGSLLink
DESCRIPTION : Alocates a GSL link</pre>
<pre>IN  :     %Param (created with CreateParameterHash)
OUT :     None</pre>
<a name='BPSplit'></a><h2>BPSplit</h2>

<pre> $self-&gt;BPSplit();

</pre>
<pre>SUBROUTINE  : BPSplit                                         [v0.5]
DESCRIPTION : Splits IP packets into BPFrames returning one frame for every call
              made to the function.
              Returns the input if no BP extraction needed, with flag set to else
              than 'REDO'.
COMMENT     : Checks the input
USAGE:      :
              # INSIDE FOR LOOP
              if ($RedoFlag ne 'REDO') {
                # Read new line from WLog
                my %RESP = $ABISlog -&gt; TSSReadWLog();
                if(defined $RESP{Message}){
                @MsgContainer = unpack('H*', $RESP{Message}); # if 'C*' use HexOrDec = 'Dec'
              }
              # Always perform the BPSplit (returns the input if no BP extraction needed)
              @Message = BPSplit(MessageRef =&gt; \@MsgContainer, S_CSAPI=&gt;'TRUE', BPFlagRef =&gt; \$RedoFlag);
              # THE DO STUFF PART!
              # IN THE END OF FOR LOOP
              redo,if($RedoFlag eq 'REDO');
              # END</pre>
<pre>IN  : %lInput = (
        MessageRef    =&gt; undef,
        S_CSAPI       =&gt; 'FALSE' if older IP-SIU (before Y13),
        BPFlagRef     =&gt; undef,
        HexOrDec      =&gt; default 'Hex', put to 'Dec' when analysing
                          frames in Dec format
                    );
OUT : BPFrame in array or scalar depending on input type MessageRef</pre>
<a name='CalcRoundTripDelayAbis'></a><h2>CalcRoundTripDelayAbis</h2>

<pre> $self-&gt;CalcRoundTripDelayAbis();

</pre>
<pre>SUBROUTINE  : CalcRoundTripDelayAbis
DESCRIPTION : Calculate the round trip time from PGSL-DLDATA-REQ to PGSL-DLDATA-IND</pre>
<pre>IN  :     Abislog - TSS Abis log object</pre>
<pre>OUT :     RTTMin  - RTT min
          RTTMax  - RTT max
          RTTAvg  - RTT average</pre>
<a name='ChActPacketMSSIM'></a><h2>ChActPacketMSSIM</h2>

<pre> $self-&gt;ChActPacketMSSIM();

</pre>
<pre>SUBROUTINE  : ChActPacketMSSIM
DESCRIPTION : To activate a PDCH channel in the MSSIM</pre>
<pre>IN  :     %Param hash, see main program for description
OUT :     CcId</pre>
<a name='ChActPacketMSSIM_EPAS'></a><h2>ChActPacketMSSIM_EPAS</h2>

<pre> $self-&gt;ChActPacketMSSIM_EPAS();

</pre>
<pre>SUBROUTINE  : ChActPacketMSSIM_EPAS
DESCRIPTION : To activate a PDCH channel in the MSSIM for EPAS feature</pre>
<pre>IN  :     %Param hash, see main program for description
OUT :     CcId</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> $self-&gt;ChRelMSSIM();

</pre>
<pre>SUBROUTINE  : ChRelMSSIM
DESCRIPTION : To release a channel in the MSSIM</pre>
<pre>IN  :     $Timeout, $CcId
OUT :     None</pre>
<a name='ChangeTG'></a><h2>ChangeTG</h2>

<pre> $self-&gt;ChangeTG();

</pre>
<pre>SUBROUTINE  : ChangeTG
DESCRIPTION : Alters the TG and cell parameters of the input hash in
              accordance to the desired abis mode (TDM or SC), channel rate
              and extended range. Output can be used with ResetTG.</pre>
<pre>IN  :     Reference to hash containing:
            Cell, TG, MCTR
          Desired abis mode
          Channel mode (array)
          Extended range, 'On' or 'Off'
OUT :     Altered hash</pre>
<a name='ChannelActPacket'></a><h2>ChannelActPacket</h2>

<pre> $self-&gt;ChannelActPacket();

</pre>
<pre>SUBROUTINE  : ChannelActPacket
DESCRIPTION :</pre>
<pre>SYNTAX: ChannelActPacket('TimeSlot' =&gt; $T);
IN  :
OUT :</pre>
<a name='ChannelRelease'></a><h2>ChannelRelease</h2>

<pre> $self-&gt;ChannelRelease();

</pre>
<pre>SUBROUTINE  : ChannelRelease
DESCRIPTION :</pre>
<pre>SYNTAX: ChannelRelease('TimeSlot' =&gt; $T);
IN  :
OUT :</pre>
<a name='CheckCCUDiscardFrames'></a><h2>CheckCCUDiscardFrames</h2>

<pre> $self-&gt;CheckCCUDiscardFrames();

</pre>
<pre>SUBROUTINE  : CheckCCUDiscardFrames
DESCRIPTION : Compare aFNd from Abis PGSL-DLDATA-IND/PGSL-DLDATA-RTTI-IND with
              FN of frames on Um.</pre>
<pre>IN  :     AbisWLog  - Name of Abis .lsu file
          MSSIMWLog - Name of Um .lsu file
          aFNd      - Array of Abis aFND numbers to compare. Will compare
                      all PGSL-DLDATA* frames if left blank.
          Offset    - Ignore the first # of PGSL-DLDATA* aFNds
          CS        - Coding Scheme
          TS        - Primary timeslot
          SubTS     - Secondary timeslot (RTTI)
OUT :     Ok        - = 1 if Ok
          Error     - This key is set if an error occures</pre>
<a name='CheckCPSParameterInLog'></a><h2>CheckCPSParameterInLog</h2>

<pre> $self-&gt;CheckCPSParameterInLog();

</pre>
<pre>SUBROUTINE  : CheckCPSParameterInLog
DESCRIPTION : check if correct CPS parameter exists in downlink message in Um Log</pre>
<pre>IN  :       $REQ{Encoding}        Needs to lookup the HeaderType.
            $REQ{CPSValue}        Wanted CPSValue to search for in logfile.
            $REQ{LogFile}         Tshark log file
            $REQ{Timeslot}        Timeslot. Optional, any if undefined
OUT :       $RESP{Result}         Result =&gt; '1' if found or Result =&gt; '0' if not found"
            $RESP{ResultText}     ResultText =&gt; "Found" or ResultText =&gt; "Not Found"
            $RESP{FoundCPSValue}  Found CPS Value.
            $RESP{NoOfHits}       Total number of hits in logfile.</pre>
<a name='CheckDLFlowTN'></a><h2>CheckDLFlowTN</h2>

<pre> $self-&gt;CheckDLFlowTN();

</pre>
<pre>SUBROUTINE  : CheckDLFlowTN
DESCRIPTION : Find if DL flow TN has changed when going from a set of active PDCHs
              to another set.</pre>
<pre>IN  :       AbisWLog      - TSS Abis Log object
            FromTNBitmap  - TNBitmap in DLDATA-REQ to look for as pre change
            ToTNBitmap    - TNBitmap in DLDATA-REQ to look for as pos change
OUT :       Result        - String defined if a result was found
            Error         - String defined if an error occured</pre>
<a name='CheckIfPANinULDATA'></a><h2>CheckIfPANinULDATA</h2>

<pre> $self-&gt;CheckIfPANinULDATA();

</pre>
<pre>## SUBROUTINE  : CheckIfPANinULDATA for SC or IP
# DESCRIPTION : To check if PAN is present in PGSL-ULDATA-IND message
#
# IN  :     AbisWLog:    TSS Abis Log object
#           ULEncoding: UL Encoding
#
# OUT :     NumberOfHits:     Number of ULDATA-IND with both PANI set, PAN field and TFI
#           NumberOfMessages: Total number of PGSL-ULDATA-INDs
#           NumberOfPANI:     Number of PGSL-ULDATA-IND with PANI set in RLC/MAC Header
#           Error:            Present if error found
For SC
data1= 3                  #data2= 8+3
data3= 3+11
3 LSU frames before start of PGSL-ULDATA-IND
11 frames in PGSL-ULDATA-IND before data
data4= 10+3                #data5= 4
data6= 9+3
For IP
data1= 14                  #data2= 22
data3= 4+ 4 + 4 + 2 + 11
4 Ericsson layer 2 tunneling protocol version 3
4 default L2-specific sublayer
4 message CRC 32
2 Abis upper bundling protocol
11 codes status and data length
data4= 24                 #data5= 4
data6= 23
#</pre>
<a name='CheckL3Data'></a><h2>CheckL3Data</h2>

<pre> $self-&gt;CheckL3Data();

</pre>
<pre>SUBROUTINE  : CheckL3Data
DESCRIPTION : To compare received L3Data to expected L3Data</pre>
<pre>IN  :     Hash containing the following key(s):
          Expect    - Expected L3Data
          Received  - Received L3Data
OUT :     Returns 1 if data is equal, else 0</pre>
<a name='CheckRLCBlockQuality'></a><h2>CheckRLCBlockQuality</h2>

<pre> $self-&gt;CheckRLCBlockQuality();

</pre>
<pre>SUBROUTINE  : CheckRLCBlockQuality
DESCRIPTION : To check the RLC Block Quality bit i PGSL-ULDATA-IND (field Codec status)</pre>
<pre>IN  :     Q:          RLC/MAC Header Quality bit
          Q1:         RLC Block Quality 1 bit
          Q2:         RLC Block Quality 2 bit
          Q3:         RLC Block Quality 3 bit
          ULEncoding: UL Encoding
          Expect:     'GOOD' or 'BAD'</pre>
<pre>OUT :     'OK'        if quality as expected or
          'NOT_OK'    if not</pre>
<a name='CheckTSCParameterInLog'></a><h2>CheckTSCParameterInLog</h2>

<pre> $self-&gt;CheckTSCParameterInLog();

</pre>
<pre>SUBROUTINE  : CheckTSCParameterInLog
DESCRIPTION : check if correct TSC parameter exists in downlink message in Um Log</pre>
<pre>IN  :       $REQ{Encoding}        Needs to lookup the HeaderType.
            $REQ{TSC}             Wanted TSC to search for in logfile.
            $REQ{LogFile}         Tshark log file
            $REQ{Timeslot}        Timeslot. Optional, any if undefined
OUT :       $RESP{Result}         Result =&gt; '1' if found or Result =&gt; '0' if not found"
            $RESP{ResultText}     ResultText =&gt; "Found" or ResultText =&gt; "Not Found"
            $RESP{FoundTSCValue}  Found TSC Value.
            $RESP{NoOfHits}       Total number of hits in logfile.</pre>
<a name='CheckTimeBetweenRTTI_IND'></a><h2>CheckTimeBetweenRTTI_IND</h2>

<pre> $self-&gt;CheckTimeBetweenRTTI_IND();

</pre>
<pre>SUBROUTINE  : CheckTimeBetweenRTTI_IND
DESCRIPTION : To check the time between two PGSL-DLDATA-RTTI-IND messages
              belonging to same PGSL-DLDATA-REQ</pre>
<pre>IN  :     File          - Filename of Abis .lsu file
          MaxDiff       - Maximum allowed time difference [ms]</pre>
<pre>OUT :     Hash          - Ok    =&gt; Reason
                     or - Error =&gt; Reason</pre>
<a name='ClearMSSIMbuffer'></a><h2>ClearMSSIMbuffer</h2>

<pre> $self-&gt;ClearMSSIMbuffer();

</pre>
<pre>SUBROUTINE  : ClearMSSIMbuffer
DESCRIPTION : Clears the MSSIM message buffer</pre>
<pre>IN  :     None
OUT :     Number of cleared messages</pre>
<a name='CompleteStartRBS'></a><h2>CompleteStartRBS</h2>

<pre> $self-&gt;CompleteStartRBS();

</pre>
<pre>SUBROUTINE  : CompleteStartRBS
DESCRIPTION : Runs a complete startup of the RBS.</pre>
<pre>IN  :      Hash containing complete start specific data
            - Receive   -&gt; 'YES' || 'NO'
                      If the answer of the complete start is required
            - TG
            - BTS
            - TLSI    -&gt;'OFF' || 'ON'
                      TLS on Idle channel
            - TLSA    -&gt;'OFF' || 'ON'
                      TLS on Active channel
            - TLSFilteringTime    -&gt; 10 .. 100
                      The range for TLS filtering time is 1 to 10 seconds
OUT :      $Ret    -&gt; 1 || 0
                      Indicates the succession of the complete startup</pre>
<a name='ConfigureLanforge'></a><h2>ConfigureLanforge</h2>

<pre> $self-&gt;ConfigureLanforge();

</pre>
<pre>SUBROUTINE  : ConfigureLanforge
DESCRIPTION : Configure Lanforge Latency</pre>
<pre>IN  :     Note: Use ReadLanforgeSettings to generate input hash
          Endpoint - Lanforge endpoint name
          Port     - Lanforge port, usually 4001
          Host     - Lanforge address
          Timeout  - Telnet timeout
          Latency  - Layency to induce on Abis
OUT :     Error    - This key is set with an error msg if an error occured</pre>
<a name='CreateParameterHash'></a><h2>CreateParameterHash</h2>

<pre> $self-&gt;CreateParameterHash();

</pre>
<pre>SUBROUTINE  : CreateParameterHash
DESCRIPTION :</pre>
<pre>SYNTAX: CreateParameterHash(PacketData =&gt; \@PacketData);
IN  : %Param
OUT : %Param</pre>
<a name='CreateParameterHashMultiMS'></a><h2>CreateParameterHashMultiMS</h2>

<pre> $self-&gt;CreateParameterHashMultiMS();

</pre>
<pre>SUBROUTINE  : CreateParameterHashMultiMS
DESCRIPTION :</pre>
<pre>SYNTAX: CreateParameterHash(PacketData =&gt; \@PacketData);
IN  : %Param
OUT : %Param</pre>
<a name='DeactivateGslData'></a><h2>DeactivateGslData</h2>

<pre> $self-&gt;DeactivateGslData();

</pre>
<pre>SUBROUTINE  : DeactivateGslData
DESCRIPTION :</pre>
<pre>SYNTAX: DeactivateGslData('TS' =&gt; $T);
IN  :
OUT :</pre>
<a name='DeactivateMCPAOverbooking'></a><h2>DeactivateMCPAOverbooking</h2>

<pre> $self-&gt;DeactivateMCPAOverbooking();

</pre>
<pre>SUBROUTINE  : DeactivateMCPAOverbooking
DESCRIPTION : To deactivate MCPA Overbooking</pre>
<pre>IN  :      StartingMode
OUT :</pre>
<a name='DeallocateGSLLink'></a><h2>DeallocateGSLLink</h2>

<pre> $self-&gt;DeallocateGSLLink();

</pre>
<pre>SUBROUTINE  : DeallocateGSLLink
DESCRIPTION : Deallocates GSL link</pre>
<pre>IN  :     %Param (created with CreateParameterHash)
OUT :     None</pre>
<a name='DifferentEncoding'></a><h2>DifferentEncoding</h2>

<pre> $self-&gt;DifferentEncoding();

</pre>
<pre>SUBROUTINE  : DifferentEncoding
DESCRIPTION : To prepare MSSIM for different encoding in downlin/uplink</pre>
<pre>IN  :      $Action
           Downlink encoding
           Downlink CPS
           Uplink encoding
           Uplink CPS
OUT :</pre>
<a name='FilterMessageArray'></a><h2>FilterMessageArray</h2>

<pre> $self-&gt;FilterMessageArray();

</pre>
<pre>SUBROUTINE  : FilterMessageArray
DESCRIPTION : Subroutine to search message array of hash references. The
              hashes that matches the filter is returned in a new hash
              reference array</pre>
<pre>IN  :    Hash containing the following key:</pre>
<pre>         MesasgeStructure - An array of messages
         FilterKey        - Hash key to which the filter value corresponds to
         Min              - Min value of the value correponding the filter key
         Max              - Max value of the value correponding the filter key
         Exact            - Exact value of the value correponding the filter key

         NOTE: Either give Max/Min OR give an Exact value.

</pre>
<pre>OUT :    An array of messages matching the given criterias.</pre>
<a name='FindMinMaxInMessageArray'></a><h2>FindMinMaxInMessageArray</h2>

<pre> $self-&gt;FindMinMaxInMessageArray();

</pre>
<pre>SUBROUTINE  : FindMinMaxInMessageArray
DESCRIPTION : Subroutine to search message array for a message with the
              lowest/highest value corresponding to a given hash key.</pre>
<pre>IN  :    Hash containing the following key:</pre>
<pre>         MesasgeStructure - An array of messages
         FilterKey        - Hash key to which the filter value corresponds to
         MinMax           - 'Min' or 'Max', depending on what is searched for.

</pre>
<pre>OUT :    A messages hash matching the given criterias.</pre>
<a name='FindModifiedDLPGSLMsg'></a><h2>FindModifiedDLPGSLMsg</h2>

<pre> $self-&gt;FindModifiedDLPGSLMsg();

</pre>
<pre>SUBROUTINE  : FindModifiedDLPGSLMsg
DESCRIPTION : Find a PGSL-DLDATA-IND/PGSL-DLDATA-RTTI-IND modifed with provided
              OR and AND masks.</pre>
<pre>IN  :       PGSLLogFile   - Name of Abis log file (hex)
            PGSLMsg       - Type of PGSL msg (PGSL-DLDATA-IND/PGSL-DLDATA-RTTI-IND)
            ORMask        - OR mask used to create the modified msg
            ANDMask       - AND mask used to create the modified msg
OUT :       Ok            - = 1 if Ok
            modifiedFN    - aFNd of modified msg
            Message       - The modified msg as a hash
            Error         - This key is set if an error occures</pre>
<a name='FindPGSLMessagesInLog'></a><h2>FindPGSLMessagesInLog</h2>

<pre> $self-&gt;FindPGSLMessagesInLog();

</pre>
<pre>SUBROUTINE  : FindPGSLMessagesInLog
DESCRIPTION : Find PGSL Messages in saved Log</pre>
<pre>IN  :       $REQ{PGSLLogFile} Message file containing Hex dump as string
            $REQ{PGSLMessage} The PGSL Message to be found in log
            $REQ{Cause}       The wanted Cause value. Note! This must always
                              be present, as input for the algorithms below.
            $REQ{AdditionalData} The wanted Additional Data Value
OUT :       $RESP{Result}      Result Code (10=Found, 11= NotFound)
            $RESP{Reason}      Result Text
            $RESP{NbrOfMessagesInLog}
            $RESP{MessageFound}
            $RESP{Message}
            $RESP{aFNValue}
            $RESP{ModifiedFN}
            $RESP{TNSeqNo}
            $RESP{TNSeqNoOfModifiedFN}
            $RESP{CPSOfModifiedFN}
            $RESP{CPS}
            $RESP{IndicatorsOfModifiedFN}
            $RESP{SameAsPreviousFN }
            $RESP{Cause}
            $RESP{CauseText} Cause Text
            $RESP{CauseFound}
            $RESP{AdditionalData}
            $RESP{AdditionalDataText}
            $RESP{AdditionalDataFound}
            $RESP{TNResourceRTTI2OfModifiedFN}
            $RESP{TNResource}
            $RESP{AckRequest}</pre>
<a name='GeneratePSPatternFile'></a><h2>GeneratePSPatternFile</h2>

<pre> $self-&gt;GeneratePSPatternFile();

</pre>
<pre>SUBROUTINE  : GeneratePSPatternFile
DESCRIPTION : Generates an MCS-4 or MCS-9 patternfile with PANI</pre>
<pre>IN  :     Encoding
          CPS
          PANI
          Filename
OUT :     Header - array with header octet data
          Error - String with error message if applicable</pre>
<a name='GetCPSValueFromRLCMACHeader'></a><h2>GetCPSValueFromRLCMACHeader</h2>

<pre> $self-&gt;GetCPSValueFromRLCMACHeader();

</pre>
<pre>SUBROUTINE  : GetCPSValueFromRLCMACHeader
DESCRIPTION : To get CPS value from a RLC/MAC header</pre>
<pre>IN  :     $Header:          RLC/MAC Header as an array of bytes
          $Encoding:        Encoding scheme
          $Direction:      'Downlink' or 'Uplink' as a string</pre>
<pre>OUT :     $CPS              CPS as a number</pre>
<a name='GetMaxPwr'></a><h2>GetMaxPwr</h2>

<pre> $self-&gt;GetMaxPwr();

</pre>
<pre>SUBROUTINE  : GetMaxPwr
DESCRIPTION : Returns scalar containing maximum Power of TX based on the
              number of TRXC's</pre>
<pre>IN  :
OUT : $PnMax</pre>
<a name='GetRoundTripDelayAbis'></a><h2>GetRoundTripDelayAbis</h2>

<pre> $self-&gt;GetRoundTripDelayAbis();

</pre>
<pre>SUBROUTINE  : GetRoundTripDelayAbis
DESCRIPTION : Get the round trip time from PGSL-DLDATA-REQ to PGSL-DLDATA-IND
              on Abis</pre>
<pre>IN  :     Interface - Wireshark lsu config file
          Savefile  - Tempfile to store Abis lsu log in
          Duration  - Time to log data before calculating RTT
OUT :     RTTMin  - RTT min
          RTTMax  - RTT max
          RTTAvg  - RTT average</pre>
<a name='IPTemplateModify'></a><h2>IPTemplateModify</h2>

<pre> $self-&gt;IPTemplateModify();

</pre>
<pre>SUBROUTINE  : IPTemplateModify
DESCRIPTION : Modify Message_TEMPLATE to comply with IP</pre>
<pre>IN  :      TemplateRef =&gt; \%PGSL_STATUS_IND_Result, # copy of template
           CSAPI       =&gt; { S_CSAPI =&gt; 'FALSE',
                            Value   =&gt; undef,},
                  CSAPI VALUES (3 bits):
                    C/R = 0|1
                          0|1 RSL
                          2|  Speech
                          3|  Circuit Switched
                          4|  GPRS
                          5|6 OML
           IPOffset    =&gt; 12*8,
OUT :     None</pre>
<a name='JoinArrays'></a><h2>JoinArrays</h2>

<pre> $self-&gt;JoinArrays();

</pre>
<pre>SUBROUTINE  : JoinArrays
DESCRIPTION : Join two message arrays</pre>
<pre>IN  :    Hash containing the following key:
         Array1    - Abis Message array 1
         Array2    - Abis Message array 2</pre>
<pre>OUT :    An joined array</pre>
<a name='MSSIMTransferFile'></a><h2>MSSIMTransferFile</h2>

<pre> $self-&gt;MSSIMTransferFile();

</pre>
<pre>SUBROUTINE  : MSSIMTransferFile
DESCRIPTION :</pre>
<pre>IN  :     User
          Password
          LocalFilename
          RemoteFilename
OUT :     0 - OK
          1 - Error</pre>
<a name='PrintMessageArray'></a><h2>PrintMessageArray</h2>

<pre> $self-&gt;PrintMessageArray();

</pre>
<pre>SUBROUTINE  : PrintMessageArray
DESCRIPTION : Subroutine to print all message hashes located in an array of
              hash references.</pre>
<pre>IN  :     Hash containing the following key:
          MessageArrayRef - An array of hash references</pre>
<pre>OUT :     None</pre>
<a name='ReadLanforgeSettings'></a><h2>ReadLanforgeSettings</h2>

<pre> $self-&gt;ReadLanforgeSettings();

</pre>
<pre>SUBROUTINE  : ReadLanforgeSettings
DESCRIPTION : To initiate LanForge</pre>
<pre>IN  :     File - Filename
OUT :     Endpoint - Lanforge endpoint name
          Port     - Lanforge port, usually 4001
          Host     - Lanforge address
          Error    - This key is set with an error msg if an error occured</pre>
<a name='ReleaseOpenChannels'></a><h2>ReleaseOpenChannels</h2>

<pre> $self-&gt;ReleaseOpenChannels();

</pre>
<pre>SUBROUTINE  : ReleaseOpenChannels
DESCRIPTION : Release all open channels</pre>
<pre>IN  :      Hash containing the following key:
           ChannelName  - CSData / PSData / Speech / All</pre>
<pre>OUT :      None</pre>
<a name='ResetTG'></a><h2>ResetTG</h2>

<pre> $self-&gt;ResetTG();

</pre>
<pre>SUBROUTINE  : ResetTG
DESCRIPTION : Resets the TG to the one stored in Stored TG
              (copied from subs_Broadcast)</pre>
<pre>IN  :     Cell, TG, MCTR
OUT :     Will die if errors found
Sample:   ResetTG(%StoredTG);</pre>
<a name='SCQualityReportII'></a><h2>SCQualityReportII</h2>

<pre> $self-&gt;SCQualityReportII();

</pre>
<pre>SUBROUTINE  : SCQualityReportII
DESCRIPTION : Enable or disable SC Quality Report II</pre>
<pre>IN  :      $REQ{State} Enable or Disable
OUT :      None</pre>
<a name='SCReporting'></a><h2>SCReporting</h2>

<pre> $self-&gt;SCReporting();

</pre>
<pre>SUBROUTINE  : SCReporting
DESCRIPTION : To toggle SC Reporting On/Off</pre>
<pre>IN  :     $REQ{State} On / Off
OUT :     None</pre>
<a name='SendABMSSIM'></a><h2>SendABMSSIM</h2>

<pre> $self-&gt;SendABMSSIM();

</pre>
<pre>SUBROUTINE  : SendABMSSIM
DESCRIPTION : To send Access Bursts</pre>
<pre>IN  :     $TS_AB              0=TS0, 1=TS1, 2=TS2 (TS = Training Sequence code)
          $BitsInAB           0 = 8 bits, 1 = 11 bits
          $TypeOfAB           0=Single, 1=Four, 2=Continous
          $UlEncoding         Uplink Encoding/CPS
          $TimeToRun          Time to run in seconds
OUT :     None</pre>
<a name='SendISConfig'></a><h2>SendISConfig</h2>

<pre> $self-&gt;SendISConfig();

</pre>
<pre>SUBROUTINE  : SendISConfig
DESCRIPTION : Perform an IS confguration</pre>
<pre>IN  :     AllowRestart  - 1 (default) let the subroutine perform a restart
                            of the BTS if necessary.
                          0 inhibit restarts (useful during development)
OUT :     None</pre>
<a name='SetAbisAndTCHMode'></a><h2>SetAbisAndTCHMode</h2>

<pre> $self-&gt;SetAbisAndTCHMode();

</pre>
<pre>SUBROUTINE  : SetAbisAndTCHMode
DESCRIPTION : Set the Abis and TCH mode</pre>
<pre>IN  :     TCHMode       - Wanted TCH mode: Static16kbps,  Static64kbps,
                                           Dynamic16kbps, Dynamic64kbps
          AbisMode      - Abis mode: TDM, SC
          TLSA          - TLSA: ON, FF
          ForceRestart  - Force a restart even id TCH and Abis mode is as
                          expected
OUT :     None</pre>
<a name='SetTLSFilteringTime'></a><h2>SetTLSFilteringTime</h2>

<pre> $self-&gt;SetTLSFilteringTime();

</pre>
<pre>SUBROUTINE  : SetTLSFilteringTime
DESCRIPTION : Sets TLS filtering time</pre>
<pre>IN  :       TRXC              TRXC
            TimeSlot          TN
            TLSA              On/Off
            TLSI              On/Off
            TLSFilteringTime  0-210 (10-100 with CheckSyntax = 0)
OUT :       Result hash from TSConfigRequest</pre>
<a name='StartGSLLink_EPAS'></a><h2>StartGSLLink_EPAS</h2>

<pre> $self-&gt;StartGSLLink_EPAS();

</pre>
<pre>SUBROUTINE  : StartGSLLink_EPAS
DESCRIPTION : Starts an Allocated GSL link for EPAS feature</pre>
<pre>IN  :     %Param (created with CreateParameterHash)
OUT :     None</pre>
<a name='StartGslLink'></a><h2>StartGslLink</h2>

<pre> $self-&gt;StartGslLink();

</pre>
<pre>SUBROUTINE  : StartGSLLink
DESCRIPTION : Starts an Allocated GSL link</pre>
<pre>IN  :     %Param (created with CreateParameterHash)
OUT :     None</pre>
<a name='StartLoopMSSIM'></a><h2>StartLoopMSSIM</h2>

<pre> $self-&gt;StartLoopMSSIM();

</pre>
<pre>SUBROUTINE  : StartLoopMSSIM
DESCRIPTION : To start the loop function in MSSIM</pre>
<pre>IN  :     Timeout
          $CcId        (MSSIM downlink channel id)
          $LoopCcId    (MSSIM uplink channel id)
OUT :     0=OK</pre>
<a name='StartPRBS_MSSIM'></a><h2>StartPRBS_MSSIM</h2>

<pre> $self-&gt;StartPRBS_MSSIM();

</pre>
<pre>SUBROUTINE  : StartPRBS_MSSIM
DESCRIPTION : To start the PRBS function in MSSIM</pre>
<pre>IN  :     CcId
          Downlink Encoding
          Uplink Encoding
          Pattern File Name
          PRBS Mode
OUT :     0=OK</pre>
<a name='StopGslLink'></a><h2>StopGslLink</h2>

<pre> $self-&gt;StopGslLink();

</pre>
<pre>SUBROUTINE  : StopGslLink
DESCRIPTION :</pre>
<pre>SYNTAX: StopGslLink('TimeSlot' =&gt; $T);
IN  :
OUT :</pre>
<a name='StopLoopMSSIM'></a><h2>StopLoopMSSIM</h2>

<pre> $self-&gt;StopLoopMSSIM();

</pre>
<pre>SUBROUTINE  : StopLoopMSSIM
DESCRIPTION : To stop the loop function in MSSIM</pre>
<pre>IN  :     CcId    (MSSIM downlink channel id)
          Timeout
OUT :     Status    (0=Ok, 1=Error)</pre>
<a name='StoreTG'></a><h2>StoreTG</h2>

<pre> $self-&gt;StoreTG();

</pre>
<pre>SUBROUTINE  : StoreTG
DESCRIPTION : Store TG parameters. This subroutin shall be followed by ResetTG
              (copied from subs_Broadcast)</pre>
<pre>IN  :
OUT :     {Cell}, {TG}, {MCTR};
Sample:   %StoredTG = StoreTG();</pre>
<a name='TXConfigMaxPower'></a><h2>TXConfigMaxPower</h2>

<pre> $self-&gt;TXConfigMaxPower();

</pre>
<pre>SUBROUTINE  : TXConfig
DESCRIPTION : Configure TX to Pmax</pre>
<pre>IN  : $INST
OUT :</pre>
<a name='TscUpdate'></a><h2>TscUpdate</h2>

<pre> $self-&gt;TscUpdate();

</pre>
<pre>SUBROUTINE  : TscUPdate
DESCRIPTION : To activate a PDCH channel in the MSSIM</pre>
<pre>IN  :     %Param hash, see main program for description
OUT :     CcId</pre>
<a name='UpdateGslData'></a><h2>UpdateGslData</h2>

<pre> $self-&gt;UpdateGslData();

</pre>
<pre>SUBROUTINE  : UpdateGslData
DESCRIPTION :</pre>
<pre>SYNTAX: UpdateGslData('TimeSlot' =&gt; $T);
IN  :
OUT :</pre>
<a name='VerifyCCUDownlinkBlockError'></a><h2>VerifyCCUDownlinkBlockError</h2>

<pre> $self-&gt;VerifyCCUDownlinkBlockError();

</pre>
<pre>SUBROUTINE  : VerifyCCUDownlinkBlockError
DESCRIPTION : Verifies the correct occurence of Downlink Block Errors in a
              LSU file in the error case when no mesasges are sent over the
              Air interface. If the file do not match the correct behaviour,
              HandleError is called</pre>
<pre>IN  :     Hash containing the following key:</pre>
<pre>          LSU_WLogText     - File name of a text formatted LSU log file
          ChanMode         - The current channel mode

</pre>
<pre>OUT :     None</pre>
<a name='findMessagesInLog'></a><h2>findMessagesInLog</h2>

<pre> $self-&gt;findMessagesInLog();

</pre>
<pre>SUBROUTINE  : findMessagesInLog
DESCRIPTION : Subroutine to search a log file for a specific type of messages.</pre>
<pre>IN  :    Hash containing the following key:</pre>
<pre>         LogFile     - File name of the log file to search
         MessageType - A text prefix at the beginning of each line of the
                       log-file defining the message type.
                       Example: 'DL:' or 'UL:'  are valid message types for
                       an  ABIS log.

         MessageStructure - Reference to a hash containing the message structure.
                            This sturcture is used as a template for returned messages.
                            The hash should be built of smaller hashes of the form:

                            'KeyName' =&gt; { 'Offset' =&gt; 0,
                                           'Size'   =&gt; 8,
                                           'Value'  =&gt; undef,
                                           'Type'   =&gt; 'Numeric' },

                            where the Offset and Size key values define the location
                            in bits of the data corresponding to the parameter.
                            If Value is set to undef, it will be filled with the values
                            of a correpsonding parameter value of a message in the log.
                            If on the other hand a value is set for Value, that is used
                            as a filter to select only matching messages form the log.
                            Type is used to indicate if Value is a numeric value ('Numeric')
                            or and array (set as 'Array').

         PrefixRemoved - Defines the number of prefix strings each line in the log has
                         before the start of the hex-data. ( Currently it is 1 for Abis logs
                         and 4 for MSSIM logs if the logs are formatted using the substr
                         createMessageLogFromWLog and createMSSIMMessageLogFromWLog.
                         (Set to 1 by default).

</pre>
<pre>OUT :    An array of messages matching the given criterias.
         Each array is a clone of the MessageStructure hash given as a parameter.</pre>
<a name='PH4--20131211---XPATHIL----------XAMMELY--------------Re-added-a-necessary-check-in-SetAbisAndTCHMode-'></a><h1>PH4  20131211   XPATHIL          XAMMELY              Re-added a necessary check in SetAbisAndTCHMode.</h1>

<pre>PH1  20130520   EWUUHOI           EHUIBXU             Add StartGSLLink_EPAS , ActivateGSL_EPAS ,ChActPacketMSSIM_EPAS ,TscUpdate</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_PSData</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>
      Copyright (C) 2006 by 
      ERICSSON AB 
      S-164 80 STOCKHOLM 
      Phone +46 8 719 0000     
      Company Registration number: 556056-6258 
      The program may be used and/or copied only with the written 
      permission from Ericsson AB, or in accordance with 
      the terms and conditions stipulated in the agreement/contract 
      under which the program has been supplied. 
      All rights reserved

			Module: 
			 subs_psdata.pm

      Author: 
       Stefan Mohlin

      Description: 
				Test program for sending Packet Switched Data from TSS.
        and to loopback data from MSSIM

        Also the psdatafunc.pm and packetfunc.pm programs are needed.
        These programs handles the actual communication.

        Perl module Telnet.pm must be stored in the perl installation
        library c:\perl\lib\Net. The module can be found in the 
        CPAN home page, www.cpan.org

        The program works for all Coding Schemas and all Abis Modes.
        It creates two files "psdata_statistics.txt" and "psdata_summary.xls"

        For more information, see document:
          User Guide Payload testing with Abisco
          2/198 17-FCD 201 33 Uen 
          (The document comes with the Abisco installation) 
         
      File Revision: 
	P1A 090811 ERATZIS Created .pm file based on psdata.pl
	P1B 090819 ERATZIS Removed some lines to solve warnings
	P1C 090915 ERATZIS Moved TS, secTS, PTA, PAL, Power to matrix in psdata.abi
	P1D 091214 ESTEMOH Updated for 1&amp;QAM and 32QAM
	P1E 100114 ESTEMOH Added MCS-2_with_padding and MCS-6_with_padding10



</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?packetfunc(SaveStatistics,'>packetfunc(SaveStatistics,</a></i></pre>
<pre><i>psdatafunc(SendPSData)</i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?User(Print,'>User(Print,</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection(Put,'>Abisco_Connection(Put,</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='CreateList'></a><h2>CreateList</h2>

<pre> CreateList();

</pre>
<pre>Subroutine: CreateList
Purpose:    Create a list of Encoding/CPS to use</pre>
<pre>Input:			$Param{Modulation}					GMSK, 8PSK, 16QAM or 32QAM
 						$Param{AllCPS} 							0=No, 1=Yes
Output:     None</pre>
<a name='Execute'></a><h2>Execute</h2>

<pre> Execute();

</pre>
<pre>Subroutine: Execute
Purpose:    To execute actions
Input:	  	Action array
Output:     None</pre>
<a name='NotSupportedEncoding'></a><h2>NotSupportedEncoding</h2>

<pre> NotSupportedEncoding();

</pre>
<pre>Subroutine: NotSupportedEncoding
Purpose:    To check if an encodig is supported in a certain mode (BTTI, RTTI and PAN)</pre>
<pre>Input:			$Param{ULMode} 							BTTI or RTTI
 						$Param{DLMode} 							BTTI or RTTI
  					$Param{SendPAN}							0 or 1
 						$Param{DLEncoding}					Downlink Encoding
 						$Param{ULEncoding}  				Downlink Encoding
Output:     0=Supported, 1=NotSupported</pre>
<a name='PrepareCPS'></a><h2>PrepareCPS</h2>

<pre> PrepareCPS();

</pre>
<pre>Subroutine: PrepareCPS
Purpose:    To prepare CPS values for retransmission in RLC/MAC header
Input:	  	$Param{DLEncoding}
Output:     %Req hash to be used in SendPSData call</pre>
<a name='PrepareReq'></a><h2>PrepareReq</h2>

<pre> PrepareReq();

</pre>
<pre>Subroutine: PrepareReq
Purpose:    To prepare some parameters for the SendPSData call</pre>
<pre>Input:	  	Encoding
Output:     @SelectedEncodings (Global)</pre>
<a name='PrintError'></a><h2>PrintError</h2>

<pre> PrintError();

</pre>
<pre>Subroutine: PrintError
Purpose:    To print an error message
Input:	  	Result number
            Reason (text)
Output:     None</pre>
<a name='PrintHeading'></a><h2>PrintHeading</h2>

<pre> PrintHeading();

</pre>
<pre>Subroutine: PrintHeading
Purpose:    To print a heading in the excel summary
Input:	  	Action
Output:     None</pre>
<a name='SaveEncoding'></a><h2>SaveEncoding</h2>

<pre> SaveEncoding();

</pre>
<pre>Subroutine: SaveEncoding
Purpose:    To save Encoding/CPS in @SelectedEncodings array and to
            add all CPS values for a specific Encoding.</pre>
<pre>Input:			$Param{Encoding}						Uplink or Downlink Encoding
 						$Param{AllCPS} 							0=No, 1=Yes
Output:     @SelectedEncodings (Global)</pre>
<a name='VerifyAB'></a><h2>VerifyAB</h2>

<pre> VerifyAB();

</pre>
<pre>Subroutine: VerifyAB
Purpose:    To set up parameters for Access Burst verification
Input:	  	Action
Output:     None</pre>
<a name='VerifyNB'></a><h2>VerifyNB</h2>

<pre> VerifyNB();

</pre>
<pre>Subroutine: VerifyNB
Purpose:    To set up parameters for Access Burst verification
Input:	  	Action
Output:     None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_radiotransmission</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number : 59/190 55-CAH 161 1607/1 Uen
MODULE          : subs_radiotransmission.pm
DESCRIPTION     : This program provides defines and subfunctions for Radio
                  Transmission tests described in TS 340/102 64-HRB 105 15 Uen</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE        NAME              REVIEW      COMMENT
A     20101022    Syntronic AB,     XWIKMAR     File created. Approved UABTOH.
                  David Melin</pre>
<pre>B     20110914    XTOBSEM           XPRRANA     Added DisableConfigEnableBTS and Send_SysInfo
PC1   20120525    XANSBEM           EDAMELI     Solved TR HP91303
PC2   20121130    XSALNIC           XANSBEM     Solved TR HP91303
                                                Implemented ActiveTG, cleaned up code.
                                                Removed unused functions and variables
PC3   20130228    XANSBEM           XHENRMA     Updated SetBCC_BTS, workaround for problem in HQ96955</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?lib'>lib</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DBI'>DBI</a></i></pre>
<pre><i>mssim_def()</i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i> Include LSU/MSSIM subroutines</pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i> Abisco included subroutines</pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?subinit_radiotransmission'>subinit_radiotransmission</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>Alias variables from main file using typeglob assignment
use vars     qw( $BTS %mssimC);
*BTS      = *::BTS;
*mssimC   = *mssim_def::mssimC;           # Hash with mssim Codes
SUBROUTINE  :     ChActMSSIM
DESCRIPTION :     To activate a channel in the MSSIM
IN  :             Hash containing the following key(s):
                   Bypass - (set to '1' to bypass MSSIM automatic LAPDm handling)
OUT :             $CcId</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>SUBROUTINE  :     ChRelMSSIM
DESCRIPTION :     To release a channel in the MSSIM
IN  :             None
OUT :             None</pre>
<a name='CheckL3Data'></a><h2>CheckL3Data</h2>

<pre> CheckL3Data();

</pre>
<pre>SUBROUTINE  :     CheckL3Data
DESCRIPTION :     To compare received L3Data to expected L3Data
IN  :             Hash containing the following key(s):
                   Expect   - Expected L3Data
                   Recieved - Received L3Data
OUT :             Returns 1 if data differs, else 0</pre>
<a name='DisableConfigEnableBTS'></a><h2>DisableConfigEnableBTS</h2>

<pre> DisableConfigEnableBTS();

</pre>
<pre>SUBROUTINE  :     DisableConfigEnableBTS
DESCRIPTION :     To change channel combination for selected TS
IN  :             %Input -&gt;BTS, TG, TRXC, MO, CMB, TS, BS_PA, BS_AG
OUT :             None</pre>
<a name='GetActiveCell'></a><h2>GetActiveCell</h2>

<pre> GetActiveCell();

</pre>
<pre>SUBROUTINE  : GetActiveCell
DESCRIPTION : Return the Cell containing input TRXC</pre>
<pre>IN  :         TRXC =&gt; $TRXC
OUT :         Cell number</pre>
<a name='GetMSSIM_RxBlkCnt'></a><h2>GetMSSIM_RxBlkCnt</h2>

<pre> GetMSSIM_RxBlkCnt();

</pre>
<pre>SUBROUTINE  :     GetMSSIM_RxBlkCnt
DESCRIPTION :     Requests information about the number of received BCCH/CCCH blocks
                   from the MSSIM
IN  :             None
OUT :             RxBlkCnt   Number of received blocks</pre>
<a name='RestartBTS'></a><h2>RestartBTS</h2>

<pre> RestartBTS();

</pre>
<pre>SUBROUTINE  :     RestartBTS
DESCRIPTION :     Restarting the BTS
IN  :             Hash containing the following key(s):
                   BTS  - Abisco connection parameter
OUT :             None</pre>
<a name='SendDisableRequest'></a><h2>SendDisableRequest</h2>

<pre> SendDisableRequest();

</pre>
<pre>SUBROUTINE  :     SendDisableRequest
DESCRIPTION :     Sends a DISABLE REQUEST over Abis to disable TX.
IN  :             Hash containing the following key(s):
                   BTS     - Abisco connection parameter
OUT :             None</pre>
<a name='SendEnableRequest'></a><h2>SendEnableRequest</h2>

<pre> SendEnableRequest();

</pre>
<pre>SUBROUTINE  :     SendEnableRequest
DESCRIPTION :     Sends a ENABLE REQUEST over Abis to enable TX.
IN  :             Hash containing the following key(s):
                   BTS     - Abisco connection parameter
OUT :             None</pre>
<a name='SendTXConfigRequest'></a><h2>SendTXConfigRequest</h2>

<pre> SendTXConfigRequest();

</pre>
<pre>SUBROUTINE  :     SendTXConfigRequest
DESCRIPTION :     Sends a TX CONFIG REQUEST over Abis.
IN  :             Hash containing the following key(s):
                   BTS     - Abisco connection parameter
OUT :             None</pre>
<a name='SetBCC_BTS'></a><h2>SetBCC_BTS</h2>

<pre> SetBCC_BTS();

</pre>
<pre>SUBROUTINE  :     SetBCC_BTS
DESCRIPTION :     Sets BCC in BTS with UpdateCell. Note that this routine doesn't
                   perform a complete start of the BTS.
IN  :             Hash containing the following key(s):
                   BTS     - Abisco connection parameter
                   BCC     - BCC parameter
OUT :             Returns 1 if cell was updated, otherwise 0</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_regtraff</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number : 240/190 55-CAH 161 1607/1
MODULE          : Subs_regtraff
DESCRIPTION     : Contains subroutines that will be used in Regression Test for Traffic,</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE        NAME                    REVIEW          COMMENT
PA1   20130828    ESTEMOH                                 Created
PA2   20130919    ESTEMOH                                 Fix COMB -&gt; NCOMB
PA3   20131021    ESTEMOH                                 Updated for 1 TRX in MSSIM
PA4   20131106    ESTEMOH                                 TC 1005 added</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?TrafficStatistics'>TrafficStatistics</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?tstm'>tstm</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?BTSCapabilities'>BTSCapabilities</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Storable'>Storable</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?lsuConfig'>lsuConfig</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?wireshark'>wireshark</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?SubInit_regtraff'>SubInit_regtraff</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='AllocateICP'></a><h2>AllocateICP</h2>

<pre> AllocateICP();

</pre>
<pre>SUBROUTINE  : AllocateICP
DESCRIPTION : To allocate a free ICP number
IN  : trx  =&gt; TRX number
OUT : ICP number</pre>
<a name='Allocated'></a><h2>Allocated</h2>

<pre> Allocated();

</pre>
<pre>SUBROUTINE  : Allocated
DESCRIPTION : To find out if a TG, TRX, TS and SucCh is already allocated
IN  : tg   =&gt; TG number
      trx  =&gt; TRX number
      ts   =&gt; Timeslot number
      list =&gt; The list (CCCH or SDCCH) in the Cell configuration
OUT : 0 = Not used, 1 = Used</pre>
<a name='BSPowerControl'></a><h2>BSPowerControl</h2>

<pre> BSPowerControl();

</pre>
<pre>SUBROUTINE  : BSPowerControl
DESCRIPTION : To send BS Power Control
IN  : cell          =&gt; Cell number
      lmsid         =&gt; LMSID number
      newValue      =&gt; BS Power value
OUT : None</pre>
<a name='CallSetupMT'></a><h2>CallSetupMT</h2>

<pre> CallSetupMT();

</pre>
<pre>SUBROUTINE  : CallSetupMT
DESCRIPTION : To set up a Mobile Terminated call
IN  : cell      =&gt; Cell number
      lmsid     =&gt; LMSID number
      vamosCall =&gt; 0 = No, 1 = First in pair, 2 = Second in pair
OUT : None</pre>
<a name='CheckCapabilities'></a><h2>CheckCapabilities</h2>

<pre> CheckCapabilities();

</pre>
<pre>SUBROUTINE  : CheckCapabilities
DESCRIPTION : To check capabilities of the BTS. The subroutine will change
              a parameter matrix (%capabilHash) value if a feature is not supported.
IN  : TG   =&gt;
      TRXC =&gt;
OUT : None</pre>
<a name='CheckForChangedMsg'></a><h2>CheckForChangedMsg</h2>

<pre> CheckForChangedMsg();

</pre>
<pre>SUBROUTINE  : CheckForChangedMsg
DESCRIPTION : To compare two messages and notify difference
IN  : time         =&gt; Time in seconds from the Tshark file
      msg          =&gt; Message from the Tshark file
      startTime    =&gt; Start time in seconds from the Tshark file
      prevMsg      =&gt; Previous message
      countChanges =&gt; Number of different messages
OUT : startTime    =&gt; Start time in seconds from the Tshark file
      prevMsg      =&gt; Previous message
      countChanges =&gt; Number of different messages</pre>
<a name='CheckMeasurements'></a><h2>CheckMeasurements</h2>

<pre> CheckMeasurements();

</pre>
<pre>SUBROUTINE  : CheckMeasurements
DESCRIPTION : To calculate the average value of BS Power or MS Power
              based on a number of Measurement Results
IN  : number        =&gt; Number of MeasurementResults to check
      type          =&gt; BSPower or MSPOwer
OUT : averageValue  =&gt; Average Value</pre>
<a name='Cleanup'></a><h2>Cleanup</h2>

<pre> Cleanup();

</pre>
<pre>SUBROUTINE  : Cleanup
DESCRIPTION : To perform common cleanup
IN  : lmsid =&gt; LMSID number
OUT : None</pre>
<a name='CloseTlmLogging'></a><h2>CloseTlmLogging</h2>

<pre> CloseTlmLogging();

</pre>
<pre>SUBROUTINE  : CloseTlmLogging
DESCRIPTION : Close TLM logging of the Abis interface
IN  : None
OUT : None</pre>
<a name='CloseTsharkLogging'></a><h2>CloseTsharkLogging</h2>

<pre> CloseTsharkLogging();

</pre>
<pre>SUBROUTINE  : CloseTsharkLogging
DESCRIPTION : Close Tshark logging of the air interface
IN  : None
OUT : None</pre>
<a name='ConfigAndStartBTS'></a><h2>ConfigAndStartBTS</h2>

<pre> ConfigAndStartBTS();

</pre>
<pre>SUBROUTINE  : ConfigAndStartBTS
DESCRIPTION : To configure the TG and cell according to the TC matrix and make a
              Complete Start of the bTS (if needed)
IN  : None
OUT : None</pre>
<a name='CopySetupParam'></a><h2>CopySetupParam</h2>

<pre> CopySetupParam();

</pre>
<pre>SUBROUTINE  : CopySetupParam
DESCRIPTION : To copy setup parameters for the actual type
IN  : type  =&gt; CALL, INTRACELLHANDOVER, INTERCELLHANDOVER, VAMOS or SMS
OUT : setupParam hash</pre>
<a name='DeallocateICP'></a><h2>DeallocateICP</h2>

<pre> DeallocateICP();

</pre>
<pre>SUBROUTINE  : DeallocateICP
DESCRIPTION : To deallocate an ICP number
IN  : trx  =&gt; TRX number
      icp  =&gt; ICP number
      ci   =&gt; CI number
OUT : None</pre>
<a name='DisconnectCallMT'></a><h2>DisconnectCallMT</h2>

<pre> DisconnectCallMT();

</pre>
<pre>SUBROUTINE  : DisconnectCallMT
DESCRIPTION : To make moble terminated disconnect
IN  : lmsid         =&gt; LMSID number
      checkResponse =&gt; 0=No, 1=Yes
OUT : None</pre>
<a name='GetSetupParam'></a><h2>GetSetupParam</h2>

<pre> GetSetupParam();

</pre>
<pre>SUBROUTINE  : GetSetupParam
DESCRIPTION : To randomly select TG, TRX, TS and Subchannels
IN  : type  =&gt; CALL, INTRACELLHANDOVER, INTERCELLHANDOVER, VAMOS or SMS
OUT : None</pre>
<a name='InitiateTlmLogging'></a><h2>InitiateTlmLogging</h2>

<pre> InitiateTlmLogging();

</pre>
<pre>SUBROUTINE  : InitiateTlmLogging
DESCRIPTION : Start logging the Abis interface with TSS/TLM
IN  : PGM   =&gt; Program name
      TC    =&gt; Test Case number
      SUBTC =&gt; Sub Test Case number
OUT : File name of the log file</pre>
<a name='InitiateTsharkLogging'></a><h2>InitiateTsharkLogging</h2>

<pre> InitiateTsharkLogging();

</pre>
<pre>SUBROUTINE  : InitiateTsharkLogging
DESCRIPTION : Start logging the air interface with MSSIM/Tshark
IN  : PGM =&gt; Program Name
OUT : File Name of the log file</pre>
<a name='IntercellhandoverTCH'></a><h2>IntercellhandoverTCH</h2>

<pre> IntercellhandoverTCH();

</pre>
<pre>SUBROUTINE  : IntercellhandoverTCH
DESCRIPTION : To make Intercell Handover
IN  : cell      =&gt; Cell number
      lmsid     =&gt; LMSID number
      vamosCall =&gt; 0 = No (VAMOS is not supported for Intercell Handover)
OUT : None</pre>
<a name='IntracellhandoverTCH'></a><h2>IntracellhandoverTCH</h2>

<pre> IntracellhandoverTCH();

</pre>
<pre>SUBROUTINE  : IntracellhandoverTCH
DESCRIPTION : To make Intracell Handover
IN  : cell      =&gt; Cell number
      lmsid     =&gt; LMSID number
      vamosCall =&gt; 0 = No, 1 = First in pair, 2 = Second in pair
OUT : None</pre>
<a name='MSPowerControl'></a><h2>MSPowerControl</h2>

<pre> MSPowerControl();

</pre>
<pre>SUBROUTINE  : MSPowerControl
DESCRIPTION : To send MS Power Control
IN  : cell      =&gt; Cell number
      lmsid     =&gt; LMSID number
      newValue  =&gt; MS Power value
OUT : None</pre>
<a name='OnOffMeasurements'></a><h2>OnOffMeasurements</h2>

<pre> OnOffMeasurements();

</pre>
<pre>SUBROUTINE  : OnOffMeasurements
DESCRIPTION : To turn on or off sending of Measurement Results from TSS/BG
IN  : reporting =&gt; On or Off
OUT : None</pre>
<a name='PowerCheck'></a><h2>PowerCheck</h2>

<pre> PowerCheck();

</pre>
<pre>SUBROUTINE  : PowerCheck
DESCRIPTION : To verify BSPower or MSPower
IN  : cell          =&gt; Cell number
      lmsid         =&gt; LMSID number
      type          =&gt; "BSPower" or "MSPower"
      newValue      =&gt; Power change value
      expectedDiff  =&gt; Expected Difference
OUT : 0 = Power Change OK or not performed, 1 = Power Change not OK</pre>
<a name='ReadAbiscoConfig'></a><h2>ReadAbiscoConfig</h2>

<pre> ReadAbiscoConfig();

</pre>
<pre>SUBROUTINE  : ReadAbiscoConfig
DESCRIPTION : To read and save ABISCO TG and Cell configuration.
              The configuration is stored in a hash addressed by the global
              variable tgAnchor
              The global variables $TG and $tgPointer are set to the first TG in the list
              The global variable $cellPointer is set to the first cell in the TG
IN  :	  None
OUT :   None</pre>
<a name='SACCHInfoModify'></a><h2>SACCHInfoModify</h2>

<pre> SACCHInfoModify();

</pre>
<pre>SUBROUTINE  : SACCHInfoModify
DESCRIPTION : To send SACCHInfoModify including Sys Info 6
IN  : lmsid     =&gt; LMSID number
                =&gt; Sys Info 6 message
OUT : None</pre>
<a name='SMSSetupMT'></a><h2>SMSSetupMT</h2>

<pre> SMSSetupMT();

</pre>
<pre>SUBROUTINE  : SMSSetupMT
DESCRIPTION : To send an SMS
IN  : cell       =&gt; Cell number
      lmsid      =&gt; LMSID number
      activeCall =&gt; 0 = No, 1=Yes
OUT : None</pre>
<a name='StartBTS'></a><h2>StartBTS</h2>

<pre> StartBTS();

</pre>
<pre>SUBROUTINE  : StartBTS
DESCRIPTION : To make Complete Start of BTS
IN  : None
OUT : None</pre>
<a name='UsedInList'></a><h2>UsedInList</h2>

<pre> UsedInList();

</pre>
<pre>SUBROUTINE  : UsedInList
DESCRIPTION : To find out if a TRX and TS is part of a list
IN  : trx  =&gt; TRX number
      ts   =&gt; Timeslot number
      list =&gt; The list (CCCH or SDCCH) in the Cell configuration
OUT : 0 = Not used, 1 = Used</pre>
<a name='VamosPowerOffset'></a><h2>VamosPowerOffset</h2>

<pre> VamosPowerOffset();

</pre>
<pre>SUBROUTINE  : VamosPowerOffset
DESCRIPTION : To configure VAMOS Power Offset (if not already done)
IN  : None
OUT : 0 = no update, &gt; 1 update needed</pre>
<a name='VerifySysInfo'></a><h2>VerifySysInfo</h2>

<pre> VerifySysInfo();

</pre>
<pre>SUBROUTINE  : VerifySysInfo
DESCRIPTION : To read a Tshark log and verify that Sys Info 6 has been changed
IN  : FilePath  =&gt; Path to Tshark file
OUT : None</pre>
<a name='didHopping'></a><h2>didHopping</h2>

<pre> didHopping();

</pre>
<pre>SUBROUTINE  : didHopping
DESCRIPTION : To check if hopping was performed or not</pre>
<pre>IN  : None
OUT : 0=Hopping not performed, 1=hopping performed,</pre>
<a name='getPrbsStatistics'></a><h2>getPrbsStatistics</h2>

<pre> getPrbsStatistics();

</pre>
<pre>SUBROUTINE  : getPrbsStatistics
DESCRIPTION : To receive PRBS statistics from the Test Manager and to
              check the percent of failure</pre>
<pre>IN  : instanceNo =&gt; Instance number for TSTM TTA
      lmsid      =&gt; LMSID number
OUT : None</pre>
<a name='initSetupParamHash'></a><h2>initSetupParamHash</h2>

<pre> initSetupParamHash();

</pre>
<pre>SUBROUTINE  : initSetupParamHash
DESCRIPTION : To initialize the SetupParam Harsh
              Timeslots used for BCCH, CCCH and SDCCH are reserved
IN  : tg  =&gt; TG Number
OUT : None</pre>
<a name='ltsActivateRACH'></a><h2>ltsActivateRACH</h2>

<pre> ltsActivateRACH();

</pre>
<pre>SUBROUTINE  : ltsActivateRACH
DESCRIPTION : To activate sending of Channel Request from MSSIM</pre>
<pre>IN  : None
OUT : None</pre>
<a name='ltsBuildCellHash'></a><h2>ltsBuildCellHash</h2>

<pre> ltsBuildCellHash();

</pre>
<pre>SUBROUTINE  : ltsBuildCellHash
DESCRIPTION : To build a hash with Cell configuration for BTS</pre>
<pre>IN  : None
OUT : None</pre>
<a name='ltsCalcCallRate'></a><h2>ltsCalcCallRate</h2>

<pre> ltsCalcCallRate();

</pre>
<pre>SUBROUTINE  : ltsCalcCallRate
DESCRIPTION : To calculate the call rate and VAMOS call rate</pre>
<pre>IN  : None
OUT : callRate    =&gt; Call rate in percent usage of TCH channels
      minCallRate =&gt; Minimum call rate in call/s
      maxCallRate =&gt; Maximum call rate in call/s</pre>
<a name='ltsCalcLoadRate'></a><h2>ltsCalcLoadRate</h2>

<pre> ltsCalcLoadRate();

</pre>
<pre>SUBROUTINE  : ltsCalcLoadRate
DESCRIPTION : To calculate the rate of Call, SMS, Paging and Channel Request</pre>
<pre>IN  : None
OUT : None (global hash ltsLoadRate updated)</pre>
<a name='ltsConfigureCell'></a><h2>ltsConfigureCell</h2>

<pre> ltsConfigureCell();

</pre>
<pre>SUBROUTINE  : lstConfigureCell
DESCRIPTION : To configure Air Resource and Cell</pre>
<pre>IN  : tg         =&gt; TG number
      cell       =&gt; Cell number
OUT : None</pre>
<a name='ltsConfigureCellLoad'></a><h2>ltsConfigureCellLoad</h2>

<pre> ltsConfigureCellLoad();

</pre>
<pre>SUBROUTINE  : lstConfigureCellLoad
DESCRIPTION : To configure Load Parameters for a cell</pre>
<pre>IN  : tg         =&gt; TG number
      cell       =&gt; Cell number
OUT : None</pre>
<a name='ltsConfigureOther'></a><h2>ltsConfigureOther</h2>

<pre> ltsConfigureOther();

</pre>
<pre>SUBROUTINE  : ltsConfigureOther
DESCRIPTION : To configure special parameters:
						  - UpdateSystemSettings
						  - SMSText
						  - ResetCounters
						  - ConfigureDebug
						  - SetIASReporting (Turn off "Immediate Assign Sent" from BG)
						  - ClearChannelStatistics
						  - ClearTrafficStatistics
						  - StartStatistics
							  * MessagesAndTimeouts
							  * EstablishmentCause
							  * ReturnCodes
							  * TimeMeasurements
							  * MeasurementResults (optional)
							  * MeasurementResultsMs (optional)</pre>
<pre>IN  : tg         =&gt; TG number
      cell       =&gt; Cell number
OUT : None</pre>
<a name='ltsConfigureSim'></a><h2>ltsConfigureSim</h2>

<pre> ltsConfigureSim();

</pre>
<pre>SUBROUTINE  : ltsConfigureSim
DESCRIPTION : To reset the LTS and configure SIM cards</pre>
<pre>IN  : tg         =&gt; TG number
      cell       =&gt; Cell number
OUT : None</pre>
<a name='ltsConfigureVamos'></a><h2>ltsConfigureVamos</h2>

<pre> ltsConfigureVamos();

</pre>
<pre>SUBROUTINE  : ltsConfigureVamos
DESCRIPTION : To configure VAMOS parameters for LTS</pre>
<pre>IN  : None
OUT : None</pre>
<a name='ltsDeactivateRACH'></a><h2>ltsDeactivateRACH</h2>

<pre> ltsDeactivateRACH();

</pre>
<pre>SUBROUTINE  : ltsDeactivateRACH
DESCRIPTION : To deactivate sending of Channel Request from MSSIM</pre>
<pre>IN  : None
OUT : None</pre>
<a name='ltsGetPeriodicReport'></a><h2>ltsGetPeriodicReport</h2>

<pre> ltsGetPeriodicReport();

</pre>
<pre>SUBROUTINE  : ltsGetPeriodicReport
DESCRIPTION : To receive statistics in Periodic Report</pre>
<pre>IN  : tg         =&gt; TG number
      cell       =&gt; Cell number
OUT : None</pre>
<a name='ltsGetSetupParam'></a><h2>ltsGetSetupParam</h2>

<pre> ltsGetSetupParam();

</pre>
<pre>SUBROUTINE  : ltsGetSetupParam
DESCRIPTION : This routine builds a setupParamHash with TRXs used for LTS (All TRXs in the Cell).
              The only reason for this is that the InitiateTlmLogging routine needs to know
              for which TRXs TLM logging should be started.</pre>
<pre>IN  : TG =&gt;
OUT : None</pre>
<a name='ltsRunTest'></a><h2>ltsRunTest</h2>

<pre> ltsRunTest();

</pre>
<pre>SUBROUTINE  : ltsRunTest
DESCRIPTION : To execute the LTS test</pre>
<pre>IN  : tg         =&gt; TG number
      cell       =&gt; Cell number
OUT : None</pre>
<a name='ltsVerifyLoadResult'></a><h2>ltsVerifyLoadResult</h2>

<pre> ltsVerifyLoadResult();

</pre>
<pre>SUBROUTINE  : ltsVerifyLoadResult
DESCRIPTION : To calculate the limit for acceptable results</pre>
<pre>IN  : expected =&gt; Expected result
      achieved =&gt; Achieved result
      text     =&gt; Type of result
OUT : None (global hash ltsLoadRate updated)</pre>
<a name='numerically'></a><h2>numerically</h2>

<pre> numerically();

</pre>
<a name='releaseTstm'></a><h2>releaseTstm</h2>

<pre> releaseTstm();

</pre>
<pre>SUBROUTINE  : releaseTstm
DESCRIPTION : To release the Test Manager connection to the MSSIM and the TTR</pre>
<pre>IN  : None
OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_rehandling</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 223/190 55-CAH 161 1607/1 Uen
MODULE      : subs_rehandling
DESCRIPTION :</pre>
<pre>COPYRIGHT &copy; : ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DVTFunc'>DVTFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?subinit_rehandling'>subinit_rehandling</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='CompareArrays'></a><h2>CompareArrays</h2>

<pre> CompareArrays();

</pre>
<pre>Subroutine: CompareArrays
Purpose:   Compare two arrays
Input:     References to Array 1-2
Output:    1|0 - (equal| different)</pre>
<a name='CompleteStartBTS'></a><h2>CompleteStartBTS</h2>

<pre> CompleteStartBTS();

</pre>
<pre>Subroutine: CompleteStartBTS
Purpose:    Do a complete start of BTS
Input:      None
Output:     None</pre>
<a name='ConfigReadMO'></a><h2>ConfigReadMO</h2>

<pre> ConfigReadMO();

</pre>
<pre>--FUNCTION : ConfigReadMO
COMMENT  : Get current parameters for wanted MO
Syntax   : ConfigReadMO(MO =&gt; $MO);
IN       : MO type
OUT      : %Resp
--</pre>
<a name='ConnectMO'></a><h2>ConnectMO</h2>

<pre> ConnectMO();

</pre>
<pre>--FUNCTION : ConnectMO
COMMENT  : Sends ConnectCommand to MO defined by MOClass, InstanceNo
           and AssosiatedSOInstance and checks ConnectComplete.
IN           : Optionally one or more of the following
           keys: TRXC, MO, MOState, INST, ASOInst
OUT           : None
--</pre>
<a name='ConnectResetStart'></a><h2>ConnectResetStart</h2>

<pre> ConnectResetStart();

</pre>
<pre>SUBROUTINE  : ConnectResetStart
DESCRIPTION : ConnectResetStart</pre>
<pre>IN  : Optionally one or more of the following
      keys: TRXList, MO
OUT : None</pre>
<a name='DecodeMCTRRecord'></a><h2>DecodeMCTRRecord</h2>

<pre> DecodeMCTRRecord();

</pre>
<pre>Subroutine:   DecodeMCTRRecord
Purpose:
Input:  %RefMCTRCaps
Output:</pre>
<a name='DisableMO'></a><h2>DisableMO</h2>

<pre> DisableMO();

</pre>
<pre>--FUNCTION : DisableMO
COMMENT  : Sends DisableRequest to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks DisableResult.
IN           : Optionally a reference to a Hash
           containing one or more of the following
           keys: TRXC, MO, MOState, ASOInst, ReasonCode, ResultCode
           ASOInst, INST
Out           : None
--</pre>
<a name='EnableMO'></a><h2>EnableMO</h2>

<pre> EnableMO();

</pre>
<pre>--FUNCTION : EnableMO
COMMENT  : Sends EnableRequest to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks EnableResult.
IN             : Optionally a reference to a Hash containing
           one or more of the following
           keys: TRXC, MO, MOState, ASOInst
OUT             : None
--</pre>
<a name='EstablishResetStart'></a><h2>EstablishResetStart</h2>

<pre> EstablishResetStart();

</pre>
<pre>-Subroutine: EstablishResetStart
Purpose   : Establish, Reset and Start CF/TRXCs in list
IN        : TRXList (if SO is TRXC
OUT       : None
-</pre>
<a name='GetMCTRRecords'></a><h2>GetMCTRRecords</h2>

<pre> GetMCTRRecords();

</pre>
<pre>--FUNCTION : GetMCTRRecords
COMMENT  : Returns MCTRRecords from Capabilities in CF
IN         -
OUT      : @MCTRRecords
--</pre>
<a name='MonitorTrxcMctrTablesOnDVT'></a><h2>MonitorTrxcMctrTablesOnDVT</h2>

<pre> MonitorTrxcMctrTablesOnDVT();

</pre>
<pre>SUBROUTINE  : MonitorTrxcMctrTablesOnDVT
DESCRIPTION :</pre>
<pre>IN  :
OUT : $HoppingState, 'On', 'Off' or 'On not C0'</pre>
<a name='ResetMO'></a><h2>ResetMO</h2>

<pre> ResetMO();

</pre>
<pre>--FUNCTION : ResetMO
COMMENT  : Sends ResetCommand to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks ResetComplete.
IN           : Optionally one or more of the following
           keys: TRXC, MO, MOState, INST, ASOInst, BACKCOMP
OUT           : None
--</pre>
<a name='SplitString'></a><h2>SplitString</h2>

<pre> SplitString();

</pre>
<pre>SUBROUTINE  : SplitString
DESCRIPTION : Returns a list with splitted string (Delimiter: Whitespace)</pre>
<pre>IN  : $String - as variable name says
OUT : @String - list with splitted string</pre>
<a name='StartMO'></a><h2>StartMO</h2>

<pre> StartMO();

</pre>
<pre>--FUNCTION : StartMO
COMMENT  : Sends StartRequest to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks StartResult.
IN           : Optionally one or more of the following
           keys: TRXC, MO, INST, ASOInst
OUT           :
--</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_repsacch</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number:  26/190 55-CAH 161 1607/1 Uen
MODULE      :     subs_repsacch.pm 
DESCRIPTION :     This program provides defines and subfunctions 
                  for repeated SACCH tests</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258 
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE       NAME             REVIEW      COMMENT
A     20100920   Syntronic AB/    ERAKOSI     File created. Approved UABTOH.
                 Marika Gewalli</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?lib'>lib</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DBI'>DBI</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub('>mssim_sub(</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim('>mssim(</a></i></pre>
<pre><i>PerlFunc(PrettyPrint)</i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2('>AbiscoFunc2(</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection('>Abisco_Connection(</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>Subroutine: ChActBTS
Purpose:    To activate a channel in the BTS
Input:	  	None
Output:     None</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>Subroutine: ChActMSSIM
Purpose:    To activate a channel in the MSSIM
Input:	  	%Param hash, see main program for description
Output:     CcId</pre>
<a name='ChRelBTS'></a><h2>ChRelBTS</h2>

<pre> ChRelBTS();

</pre>
<pre>Subroutine: ChRelBTS
Purpose:    To release a channel in the BTS, based on par hash
Input:	  	None
Output:     None</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>Subroutine: ChRelMSSIM
Purpose:    To release a channel in the MSSIM
Input:	  	%Param hash, see main program for description
Output:     None</pre>
<a name='CheckAbiscoConfig'></a><h2>CheckAbiscoConfig</h2>

<pre> CheckAbiscoConfig();

</pre>
<pre>my %Result 			= (
Result	 	=&gt; Pass,
ErrCount 	=&gt; 0,
ErrMsg 		=&gt; ""
);
Subroutine:	CheckAbiscoConfig
Purpose:    To verify Cell existence in abisco
						Verify CBCH Indicator set to Yes
						Verify that no more than one SDCCH/8 is configured on trxc1 ts1
Input:	  	$BTS (Abisco connection parameter)	TODO: Not needed
Output:     Will die if errors found</pre>
<a name='CheckL3Data'></a><h2>CheckL3Data</h2>

<pre> CheckL3Data();

</pre>
<pre>Subroutine:	CheckL3Data
Purpose:    To compare received L3Data to expected L3Data
Input:	  	Expected L3Data
						Received L3Data
Output:     Returns 1 if data differs, else 0</pre>
<a name='CheckTable'></a><h2>CheckTable</h2>

<pre> CheckTable();

</pre>
<pre>Subroutine: CheckTable
Purpose:    To check if table is in used database
Input:			Filename
						Tablename
Output:     1 for true, 0 for false</pre>
<a name='EstablishReqMSSIM'></a><h2>EstablishReqMSSIM</h2>

<pre> EstablishReqMSSIM();

</pre>
<pre>Subroutine: EstablishReqMSSIM
Purpose:    To send Establish Request to MSSIM and receive EstablishIndication from Abisco
Input:	  	$BTS, $Sapi, $Chan, @L3Data
Output:     None</pre>
<a name='GetDateTime'></a><h2>GetDateTime</h2>

<pre> GetDateTime();

</pre>
<pre>Subroutine: GetDateTime
Purpose:    Formats date and time
Input:	  	None
Output:     Formatted string with date and time</pre>
<a name='GetResult'></a><h2>GetResult</h2>

<pre> GetResult();

</pre>
<pre>Subroutine: GetResult
Purpose:    Returns the TC result value
Input:	  	None
Output:     TC result value</pre>
<a name='HandleError'></a><h2>HandleError</h2>

<pre> HandleError();

</pre>
<pre>Subroutine: HandleError
Purpose:    Performs necessary shutdowns and kills the program when an
						error occurs. It also log the errors and sets the TC result.
Input:	  	$ErrMsg		(Contains information of the error cause)
Output:     None</pre>
<a name='InitResult'></a><h2>InitResult</h2>

<pre> InitResult();

</pre>
<pre>Subroutine: InitResult
Purpose:    To initiate the Result hash
Input:	  	None
Output:     None</pre>
<a name='ReceiveAbisco'></a><h2>ReceiveAbisco</h2>

<pre> ReceiveAbisco();

</pre>
<pre>Subroutine: ReceiveAbisco
Purpose:    To receive a spontanious message from Abisco
Input:			Timeout value
	  	  		Expected message
						Supress, "SupressError" if HandleError should not be called
	      		L3Data of expected message
Output:     CauseValue</pre>
<a name='ReceiveMeasurmentResultNormal'></a><h2>ReceiveMeasurmentResultNormal</h2>

<pre> ReceiveMeasurmentResultNormal();

</pre>
<pre>Subroutine: ReceiveMeasurmentResultRepeated
Purpose:    Receives Measurment Result and checks that SBRI is undefined,
						checks that repeated sacch uplink is off
Input:			Timeout value
	  	  		Expected message
						Supress, "SupressError" if HandleError should not be called
Output:     CauseValue</pre>
<a name='ReceiveMeasurmentResultRepeated'></a><h2>ReceiveMeasurmentResultRepeated</h2>

<pre> ReceiveMeasurmentResultRepeated();

</pre>
<pre>Subroutine: ReceiveMeasurmentResultRepeated
Purpose:    Receives Measurment Result and checks that SBRI bit toggles
						between Original(00) and Repeated(01)
Input:			Timeout value
	  	  		Expected message
						Supress, "SupressError" if HandleError should not be called
Output:     CauseValue</pre>
<a name='ReceiveSystemInfo'></a><h2>ReceiveSystemInfo</h2>

<pre> ReceiveSystemInfo();

</pre>
<pre>Subroutine: ReceiveSystemInfo
Purpose:    Recieve SystemInfo frames as lapdmDL_UNITDATA_IND where SI is choosen
						System Info version, check that SRO flag is set
						specific for 3020_01.abi
Input:	  	$T200
						$SI: SI5 = 29, SI5bis = 5, SI6 = 30
Output:     %Param</pre>
<a name='ReceiveSystemInfoAllNormal'></a><h2>ReceiveSystemInfoAllNormal</h2>

<pre> ReceiveSystemInfoAllNormal();

</pre>
<pre>Subroutine: ReceiveSystemInfoAllNormal
Purpose:    Recieve SystemInfo frames two and two
Input:	  	$T200
Output:     %Param</pre>
<a name='ReceiveSystemInfoAllNormalLapdm'></a><h2>ReceiveSystemInfoAllNormalLapdm</h2>

<pre> ReceiveSystemInfoAllNormalLapdm();

</pre>
<pre>Subroutine: ReceiveSystemInfoAllNormal
Purpose:    Recieve SystemInfo frames two and two
Input:	  	$T200
Output:     %Param</pre>
<a name='ReceiveSystemInfoAllRepeated'></a><h2>ReceiveSystemInfoAllRepeated</h2>

<pre> ReceiveSystemInfoAllRepeated();

</pre>
<pre>Subroutine: ReceiveSystemInfoAllRepeated
Purpose:    Recieve SystemInfo frames two and two
Input:	  	$T200
Output:     %Param</pre>
<a name='ReceiveSystemInfoAllRepeatedLapdm'></a><h2>ReceiveSystemInfoAllRepeatedLapdm</h2>

<pre> ReceiveSystemInfoAllRepeatedLapdm();

</pre>
<pre>Subroutine: ReceiveSystemInfoAllRepeatedLapdm
Purpose:    Recieve SystemInfo frames two and two
Input:	  	$T200
Output:     %Param</pre>
<a name='RepeatedSACCHControlSub'></a><h2>RepeatedSACCHControlSub</h2>

<pre> RepeatedSACCHControlSub();

</pre>
<pre>Subroutine: RepeatedSACCHControlSub
Purpose:		Activates and Deactivates Repeated SACCH
Input:	  	$BTS
						$RSDLAct   'Deactivate' or 'Activate'
						$RSULAct   'Deactivate' or 'Activate'
Output:     None
Added: 			090805 XYNMARG</pre>
<a name='Report'></a><h2>Report</h2>

<pre> Report();

</pre>
<pre>Subroutine: Report
Purpose:    To send log text from the Result hash to file.
Input:	  	None
Output:     None</pre>
<a name='SACCHInfoModify5bis'></a><h2>SACCHInfoModify5bis</h2>

<pre> SACCHInfoModify5bis();

</pre>
<pre>Subroutine: SACCHInfoModify5bis
Purpose:    Send Sacch Info Modify 5bis on abis
Input:	  	$BTS
Output:     None</pre>
<a name='SACCHInfoModify5ter'></a><h2>SACCHInfoModify5ter</h2>

<pre> SACCHInfoModify5ter();

</pre>
<pre>Subroutine: SACCHInfoModify5ter
Purpose:    Send Sacch Info Modify 5ter on abis
Input:	  	$BTS
Output:     None</pre>
<a name='SACCHInfoModifyOff'></a><h2>SACCHInfoModifyOff</h2>

<pre> SACCHInfoModifyOff();

</pre>
<pre>Subroutine: SACCHInfoModifyOff
Purpose:    Send Sacch Info Modify Off on abis
Input:	  	$BTS, $InfoType: SI5, SI5BIS, SI5TER, SI6
Output:     None</pre>
<a name='SendDeliveryReportAbisco'></a><h2>SendDeliveryReportAbisco</h2>

<pre> SendDeliveryReportAbisco();

</pre>
<pre>Subroutine: SendDeliveryReportAbisco
Purpose:    To receive a spontanious message from Abisco
Input:			Timeout value
	  	  		Expected message
						Supress, "SupressError" if HandleError should not be called
	      		L3Data of expected message
Output:     CauseValue</pre>
<a name='SendDeliveryReportWithoutRepsacch'></a><h2>SendDeliveryReportWithoutRepsacch</h2>

<pre> SendDeliveryReportWithoutRepsacch();

</pre>
<pre>Subroutine: SendDeliveryReportWithoutRepsacch
Purpose:    Send SMS from MSSIM/receive SMS on abisco
Input:			$BTS
Output:     None</pre>
<a name='SendMeas'></a><h2>SendMeas</h2>

<pre> SendMeas();

</pre>
<pre>Subroutine: SendMeas
Purpose:  	To send Measurement Reports
Input:	  	L2 Header
						Measurement Report contents (array)
Output:</pre>
<a name='SendMultiPurposeReq'></a><h2>SendMultiPurposeReq</h2>

<pre> SendMultiPurposeReq();

</pre>
<pre>Subroutine: SendMultiPurposeReq
Purpose:    To send a downlink message.
Input:	  	SAPI
						L3Data
Output:     None</pre>
<a name='SendSMSWithoutRepsacch'></a><h2>SendSMSWithoutRepsacch</h2>

<pre> SendSMSWithoutRepsacch();

</pre>
<pre>Subroutine: SendSMSWithoutRepsacch
Purpose:    Send SMS from MSSIM/receive SMS on abisco
Input:			$BTS
Output:     None</pre>
<a name='SendShortMessageMSSIM'></a><h2>SendShortMessageMSSIM</h2>

<pre> SendShortMessageMSSIM();

</pre>
<pre>Subroutine: SendShortMessageMSSIM
Purpose:    Send SMS from MSSIM/receive SMS on abisco
Input:	  	$BTS, $Sapi, $Chan, @L3Data
Output:     None</pre>
<a name='SetMeasurementReportingBTS'></a><h2>SetMeasurementReportingBTS</h2>

<pre> SetMeasurementReportingBTS();

</pre>
<pre>Subroutine: SetMeasurementReporting
Purpose:		Activates and Deactivates Measurment reporting
Input:			$Status: 'On' or 'Off'
Output:     None
Added: 			090807 XYNMARG</pre>
<a name='WriteLog'></a><h2>WriteLog</h2>

<pre> WriteLog();

</pre>
<pre>Subroutine: WriteLog
Purpose:    To write a message to the logfile and/or console window
Input:	  	Text string
						Type (FILE or CONSOLE)
Output:     None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_RFPower</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number : 208/190 55-CAH 161 1607/1  Uen
MODULE          : subs_atrasup.pm
DESCRIPTION     : This file specifies subroutines for 4848/4837 scripts
                  RF Power Management</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE        NAME                  REVIEW            COMMENT
A     2011-11-17  QRADGUT               XPRRANA           First version
                                                          Modified SetTG.
                                                          Added ModifySpeech,CheckPowerUtilsReport
                                                          and CheckPowerUtilsMeasOnDVT
                                                          Updated CheckBackOffInLog, Fix TR HO38954/HO38967
                                                          Fix bug in ConfigMCTR.
                                                          Added subs CreateResultFile/SaveInResultFile/CalculateMCTROcts
                                                          Fix ReceiveAbiscoMessage
                                                          Modified CheckMonitorByNameOnDVT.
PB1   2011-12-06  QRADGUT               XPRRANA           Updated to FTS F.
                                                          Fix TR HP16366 (monitor reading improvement).
                                                          Updated according to perlcritic.
PB2   2012-02-08  QRADGUT               XPRRANA           Added functions to provide support for RRUS12 and mixed mode
PB3   2012-02-22  QRADGUT               XPRRANA           Added CompareArrays. Changed FetchMCTRInstancesUnderTest.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?File::Copy'>File::Copy</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DVTFunc'>DVTFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Storable'>Storable</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ActivateSpeech'></a><h2>ActivateSpeech</h2>

<pre> ActivateSpeech();

</pre>
<pre>Subroutine: ActivateSpeech
Purpose:    Activate speech on an activated channel
Input:
Output:</pre>
<a name='AllocateGslLink'></a><h2>AllocateGslLink</h2>

<pre> AllocateGslLink();

</pre>
<pre>Subroutine: AllocateGslLink
Purpose:    Allocate Gsl Link
Input:
Output:</pre>
<a name='BSPowerControl'></a><h2>BSPowerControl</h2>

<pre> BSPowerControl();

 Subroutine:  BSPowerControl
Purpose: Send BSPowerControl
Input:		$TG, $TRXC, $TS, $lChannelType, $BSPower
Output:


</pre>
<a name='CalculateBackoffStatistics'></a><h2>CalculateBackoffStatistics</h2>

<pre> CalculateBackoffStatistics();

</pre>
<pre>Subroutine: CalculateBackoffStatistics
Purpose:
Input:
Output:</pre>
<a name='CalculateMCTROcts'></a><h2>CalculateMCTROcts</h2>

<pre> CalculateMCTROcts();

</pre>
<pre>Subroutine: CalculateMCTROcts
Purpose:    Calculate Oct1 and Oct2 in MCTR Config Request message
Input:      Resttrxc, TRXCsCaps
Output:     Oct1 and Oct2</pre>
<a name='CallSetUp'></a><h2>CallSetUp</h2>

<pre> CallSetUp();

 Subroutine:  CallSetUp
Purpose: Setting up a Mobile Terminated call
Input:		$TG, $TRXC, $TS, $TCHSubCH, $SDCCHSubCH
Output:


</pre>
<a name='Cases'></a><h2>Cases</h2>

<pre> Cases();

</pre>
<pre>Subroutine: Cases
Purpose:
Input:
Output:</pre>
<a name='ChActImmAssignBTS'></a><h2>ChActImmAssignBTS</h2>

<pre> ChActImmAssignBTS();

</pre>
<pre>Subroutine: ChActImmAssignBTS
Purpose:    Activate an immediate assign channel in the BTS
Input:      Hash with following keys: TG, TRXC, TS, ChType, TypeOfCh, ChRate, AlgOrRate
Output:     Response message</pre>
<a name='ChActNormalAssignBTS'></a><h2>ChActNormalAssignBTS</h2>

<pre> ChActNormalAssignBTS();

</pre>
<pre>Subroutine: ChActNormalAssignBTS
Purpose:    Activate a channel in the BTS
Input:      Hash with following keys: TG, TRXC, TS, ChType, TypeOfCh, ChRate, AlgOrRate
Output:     Response message</pre>
<a name='ChannelActPacketChannel'></a><h2>ChannelActPacketChannel</h2>

<pre> ChannelActPacketChannel();

</pre>
<pre>Subroutine: ChannelActPacketChannel
Purpose:    Activate a channel in the BTS
Input:      Hash with following keys: TG, TRXC, TS, ChType, TypeOfCh, ChRate, AlgOrRate
Output:     Response message</pre>
<a name='CheckAvailMCTR'></a><h2>CheckAvailMCTR</h2>

<pre> CheckAvailMCTR();

</pre>
<pre>--FUNCTION : CheckAvailMCTR
COMMENT  : Check number of MCTRs available
IN       : -
OUT      : $Resp{MCTRInstance}
--</pre>
<a name='CheckBackOffInLog'></a><h2>CheckBackOffInLog</h2>

<pre> CheckBackOffInLog();

</pre>
<pre>--FUNCTION : CheckBackOffInLog
COMMENT  : Check Back Off Control Command in Log /after TFConfig Request and before TSConfig(s)
IN           :
OUT          : 0| 1 -&gt; notOK | OK
--</pre>
<a name='CheckBackOffMeasOnDVT'></a><h2>CheckBackOffMeasOnDVT</h2>

<pre> CheckBackOffMeasOnDVT();

</pre>
<pre>--FUNCTION : CheckBackOffMeasOnDVT
COMMENT  : Check Backoff counters on each TRXC
IN           :
OUT          :
--</pre>
<a name='CheckBackOffReport'></a><h2>CheckBackOffReport</h2>

<pre> CheckBackOffReport();

</pre>
<pre>Subroutine: CheckBackOffReport
Purpose:    Compare received BackOff Report vs Expected
Input:      RefReport (received  Report)
            RefExpBackOffStats (expected Report) (server for expected message)
Output:     0 | 1 - check fail | OK</pre>
<a name='CheckMonitorByNameOnDVT'></a><h2>CheckMonitorByNameOnDVT</h2>

<pre> CheckMonitorByNameOnDVT();

</pre>
<pre>--FUNCTION : CheckMonitorByNameOnDVT
COMMENT  :
IN           :
OUT          :
--</pre>
<a name='CheckNumberOfTRXC'></a><h2>CheckNumberOfTRXC</h2>

<pre> CheckNumberOfTRXC();

</pre>
<pre>Subroutine: CheckNumberOfTRXC
Purpose:
Input:      nroftrxcs
Output:</pre>
<a name='CheckPowerUtilsMeasOnDVT'></a><h2>CheckPowerUtilsMeasOnDVT</h2>

<pre> CheckPowerUtilsMeasOnDVT();

</pre>
<pre>--FUNCTION : CheckPowerUtilsMeasOnDVT
COMMENT  :
IN           :
OUT          :
--</pre>
<a name='CheckPowerUtilsReport'></a><h2>CheckPowerUtilsReport</h2>

<pre> CheckPowerUtilsReport();

</pre>
<pre>Subroutine: CheckPowerUtilsReport
Purpose:    Compare received PowerUtils Report vs Expected
Input:      RefReport (received  Report)
            RefExpPowerUtilsStats (expected Report) (server for expected message)
Output:     0 | 1 - check fail | OK</pre>
<a name='CheckStatisticsContent'></a><h2>CheckStatisticsContent</h2>

<pre> CheckStatisticsContent();

</pre>
<pre>Subroutine: CheckStatisticsContent
Purpose:
Input:
Output:</pre>
<a name='CompareArrays'></a><h2>CompareArrays</h2>

<pre> CompareArrays();

</pre>
<pre>Subroutine: CompareArrays
Purpose:   Compare two arrays
Input:     References to Array 1-2
Output:    1|0 - (equal| different)</pre>
<a name='CompleteStartBTS'></a><h2>CompleteStartBTS</h2>

<pre> CompleteStartBTS();

</pre>
<pre>Subroutine: CompleteStartBTS
Purpose:    Do a complete start of BTS
Input:      None
Output:     None</pre>
<a name='CompleteStartTG'></a><h2>CompleteStartTG</h2>

<pre> CompleteStartTG();

</pre>
<pre>Subroutine: CompleteStartTG
Purpose:
Input:
Output:</pre>
<a name='ConfigMCTR'></a><h2>ConfigMCTR</h2>

<pre> ConfigMCTR();

</pre>
<pre>--FUNCTION : ConfigMCTR
COMMENT  : Sends MCTRConfigRequest
IN       :
OUT      : None
--</pre>
<a name='ConfigReadMO'></a><h2>ConfigReadMO</h2>

<pre> ConfigReadMO();

</pre>
<pre>--FUNCTION : ConfigReadMO
COMMENT  : Get current parameters for wanted MO
Syntax   : ConfigReadMO(MO =&gt; $MO);
IN       : MO type
OUT      : %Resp
--</pre>
<a name='ConfigureBCCHTSandTX'></a><h2>ConfigureBCCHTSandTX</h2>

<pre> ConfigureBCCHTSandTX();

</pre>
<pre>Subroutine: ConfigureBCCHTSandTX
Purpose:
Input:
Output:</pre>
<a name='ConnectAllMCTRs'></a><h2>ConnectAllMCTRs</h2>

<pre> ConnectAllMCTRs();

</pre>
<pre>Subroutine: ConnectAllMCTRs
Purpose:
Input:      Octet1L,Octet2L,MaxAllowedNrOfTRXC,MaxAllowedPwrExt,OrigMaxAllowedPwr,
            FeatureStatusBitMap,OrigMaxAllowedNrOfTRXC
Output:</pre>
<a name='ConnectMO'></a><h2>ConnectMO</h2>

<pre> ConnectMO();

</pre>
<pre>--FUNCTION : ConnectMO
COMMENT  : Sends ConnectCommand to MO defined by MOClass, InstanceNo
           and AssosiatedSOInstance and checks ConnectComplete.
IN           : Optionally one or more of the following
           keys: TRXC, MO, MOState, INST, ASOInst
OUT           : None
--</pre>
<a name='ConnectResetStartConfigEnableOpinfo'></a><h2>ConnectResetStartConfigEnableOpinfo</h2>

<pre> ConnectResetStartConfigEnableOpinfo();

</pre>
<pre>--FUNCTION : ConnectResetStartConfigEnableOpinfo
COMMENT  : ConnectResetStartConfigEnableOpinfo
IN           : Optionally one or more of the following
           keys: TRXList, MO
OUT           : None
--</pre>
<a name='CreateResultFile'></a><h2>CreateResultFile</h2>

<pre> CreateResultFile();

</pre>
<pre>Subroutine: CreateResultFile
Purpose:    To save capabilities in a file.
            Loop through @CapabilitiesSummary and save to a file
Input:      @CapabilitiesSummary
Output:     OUTFILE</pre>
<a name='DeactivateGslData'></a><h2>DeactivateGslData</h2>

<pre> DeactivateGslData();

</pre>
<pre>Subroutine: DeactivateGslData
Purpose:    Deactivate Gsl Data
Input:
Output:</pre>
<a name='DeactivateSpeech'></a><h2>DeactivateSpeech</h2>

<pre> DeactivateSpeech();

</pre>
<pre>Subroutine: DectivateSpeech
Purpose:    Deactivate speech
Input:
Output:</pre>
<a name='DecodeMCTRRecord'></a><h2>DecodeMCTRRecord</h2>

<pre> DecodeMCTRRecord();

</pre>
<pre>Subroutine:   DecodeMCTRRecord
Purpose:
Input:  %RefMCTRCaps
Output:</pre>
<a name='DisableMO'></a><h2>DisableMO</h2>

<pre> DisableMO();

</pre>
<pre>--FUNCTION : DisableMO
COMMENT  : Sends DisableRequest to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks DisableResult.
IN           : Optionally a reference to a Hash
           containing one or more of the following
           keys: TRXC, MO, MOState, ASOInst, ReasonCode, ResultCode
           ASOInst, INST
Out           : None
--</pre>
<a name='DoTSConfigRequest'></a><h2>DoTSConfigRequest</h2>

<pre> DoTSConfigRequest();

</pre>
<pre>Subroutine: DoTSConfigRequest
Purpose:    Do a TSConfigRequest to set TLS settings, Receiver Diversity etc
            Note: Only Comb TCH implemented
            Changing TLS filtering time does not work
Input:</pre>
<pre>Output:</pre>
<a name='EnableMO'></a><h2>EnableMO</h2>

<pre> EnableMO();

</pre>
<pre>--FUNCTION : EnableMO
COMMENT  : Sends EnableRequest to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks EnableResult.
IN             : Optionally a reference to a Hash containing
           one or more of the following
           keys: TRXC, MO, MOState, ASOInst
OUT             : None
--</pre>
<a name='EstablishResetStart'></a><h2>EstablishResetStart</h2>

<pre> EstablishResetStart();

</pre>
<pre>-Subroutine: EstablishResetStart
Purpose   : Establish, Reset and Start CF/TRXCs in list
IN        : TRXList (if SO is TRXC
OUT       : None
-</pre>
<a name='EstablishResetStartAllCFs'></a><h2>EstablishResetStartAllCFs</h2>

<pre> EstablishResetStartAllCFs();

</pre>
<pre>Subroutine: EstablishResetStartAllCFs
Purpose:
Input:
Output:</pre>
<a name='FetchMCTRInstancesUnderTest'></a><h2>FetchMCTRInstancesUnderTest</h2>

<pre> FetchMCTRInstancesUnderTest();

</pre>
<pre>Subroutine: FetchMCTRInstancesUnderTest
Purpose:
Input:
Output:</pre>
<a name='FormatTestcaseName'></a><h2>FormatTestcaseName</h2>

<pre> FormatTestcaseName();

</pre>
<pre>Subroutine: FormatTestcaseName
Purpose:    Reformats the PAR hash test case name for printout purposes.
            If the input string is not on the format "XX_YY", it is returned unchanged.
Input:      TestcaseName =&gt; "xx_yy"
Output:     "xx.yy"</pre>
<a name='GetAndCheckMCTRStatistics'></a><h2>GetAndCheckMCTRStatistics</h2>

<pre> GetAndCheckMCTRStatistics();

</pre>
<pre>Subroutine: GetAndCheckMCTRStatistics
Purpose:
Input:
Output:</pre>
<a name='GetDateTimeForFileName'></a><h2>GetDateTimeForFileName</h2>

<pre> GetDateTimeForFileName();

</pre>
<pre>Subroutine: GetDateTimeForFileName
Purpose:    Formats date and time
Input:                  None
Output:     Formatted string with date and time YYYYMMDD_HHMMSS</pre>
<a name='GetLast'></a><h2>GetLast</h2>

<pre> GetLast();

</pre>
<pre>--FUNCTION : GetLast
COMMENT: Returns last value of a list
         (incl. removal of last character !)
IN         : @List - as variable name says
Out         : $_ - scalar containing last value of @List
--</pre>
<a name='GetMCTRRecords'></a><h2>GetMCTRRecords</h2>

<pre> GetMCTRRecords();

</pre>
<pre>--FUNCTION : GetMCTRRecords
COMMENT  : Returns MCTRRecords from Capabilities in CF
IN         -
OUT      : @MCTRRecords
--</pre>
<a name='HardwareReset'></a><h2>HardwareReset</h2>

<pre> HardwareReset();

</pre>
<pre>Subroutine: HardwareReset
Purpose:
Input:
Output:</pre>
<a name='ModifySpeech'></a><h2>ModifySpeech</h2>

<pre> ModifySpeech();

</pre>
<pre>Subroutine:  ModifySpeech
Purpose:     The ModifySpeech command toggles speech generation on/off
Input:		$TG, $TRXC, $TS, $TCHSubCH, $SDCCHSubCH
Output:</pre>
<a name='PowerBackOffControl'></a><h2>PowerBackOffControl</h2>

<pre> PowerBackOffControl();

</pre>
<pre>--FUNCTION : PowerBackOffControl
COMMENT  : Sends PowerBackOffControl
IN       : Optionally one or more of the following
           keys: TRXC, MO, MOState, INST, ASOInst
OUT      : None
--</pre>
<a name='PrepareConfigureTX'></a><h2>PrepareConfigureTX</h2>

<pre> PrepareConfigureTX();

</pre>
<pre>Subroutine: PrepareConfigureTX
Purpose:
Input:
Output:</pre>
<a name='PrepareMCTRConfigurations'></a><h2>PrepareMCTRConfigurations</h2>

<pre> PrepareMCTRConfigurations();

</pre>
<pre>Subroutine: PrepareMCTRConfigurations
Purpose:
Input:      Octet1L,Octet2L,MaxAllowedNrOfTRXC,MaxAllowedPwrExt,OrigMaxAllowedPwr,
            FeatureStatusBitMap,OrigMaxAllowedNrOfTRXC
Output:</pre>
<a name='RFChReleaseOnAllChannels'></a><h2>RFChReleaseOnAllChannels</h2>

<pre> RFChReleaseOnAllChannels();

</pre>
<a name='RadioChRel'></a><h2>RadioChRel</h2>

<pre> RadioChRel();

</pre>
<pre>Subroutine: RadioChRel
Purpose:    Release all channels
Input:
Output:</pre>
<a name='ReceiveAbiscoMessage'></a><h2>ReceiveAbiscoMessage</h2>

<pre> ReceiveAbiscoMessage();

</pre>
<pre>Subroutine: ReceiveAbiscoMessage
Purpose:    Receiving Abisco messages
Input:      Expect (message wanted)
            Server (server for expected message)
            CauseValue (Only applicable for ConnectionFailureIndication)
            Fault (Only applicable for FaultReport)
            ChType (Bm/Bm_1)
            Timeout [s]
Output:     'Found'         - if expected message found
            [Error Cause]   - if message not found</pre>
<a name='ReleaseAllChannels'></a><h2>ReleaseAllChannels</h2>

<pre> ReleaseAllChannels();

</pre>
<pre>Subroutine: ReleaseAllChannels
Purpose:
Input:
Output:</pre>
<a name='ReleaseChannel'></a><h2>ReleaseChannel</h2>

<pre> ReleaseChannel();

</pre>
<a name='ResetMO'></a><h2>ResetMO</h2>

<pre> ResetMO();

</pre>
<pre>--FUNCTION : ResetMO
COMMENT  : Sends ResetCommand to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks ResetComplete.
IN           : Optionally one or more of the following
           keys: TRXC, MO, MOState, INST, ASOInst, BACKCOMP
OUT           : None
--</pre>
<a name='RevertCCCHTS'></a><h2>RevertCCCHTS</h2>

<pre> RevertCCCHTS(fault);

</pre>
<pre>Subroutine: RevertCCCHTS
Purpose:
Input:
Output:</pre>
<a name='SaveInResultFile'></a><h2>SaveInResultFile</h2>

<pre> SaveInResultFile();

</pre>
<pre>Subroutine: SaveInResultFile
Purpose:    To save capabilities in a file.
            Loop through @CapabilitiesSummary and save to a file
Input:      @CapabilitiesSummary
Output:     OUTFILE</pre>
<a name='SaveMCTRConfigurations'></a><h2>SaveMCTRConfigurations</h2>

<pre> SaveMCTRConfigurations();

</pre>
<pre>Subroutine: SaveMCTRConfigurations
Purpose:
Input:
Output:</pre>
<a name='SendStatusRequest'></a><h2>SendStatusRequest</h2>

<pre> SendStatusRequest();

</pre>
<pre>FUNCTION : SendStatusRequest
COMMENT  : Sends the message on ABIS.</pre>
<pre>EXAMPLE  : SendStatusRequest(_MO =&gt; 'CF');
           SendStatusRequest(_MO =&gt; 'TRXC', _TRXC =&gt; 5);</pre>
<pre>IN       : $TRXC -&gt;
           $MO   -&gt;
           $Inst -&gt;
OUT      : Updates $TG-&gt;{LinkStatusError}</pre>
<a name='SetCell'></a><h2>SetCell</h2>

<pre> SetCell();

</pre>
<pre>--FUNCTION : SetCell
COMMENT  : Update Cell with new elements
Syntax   : SetCell(CellNr =&gt; $CellNr, TGId =&gt; $TGId, ExtendedRange =&gt; $ExtendedRange,
                   ReceiverDiversity =&gt; $ReceiverDiversity );
IN       :
OUT      :
--</pre>
<a name='SetMCTRReporting'></a><h2>SetMCTRReporting</h2>

<pre> SetMCTRReporting();

</pre>
<pre>Subroutine: SetMCTRReporting
Purpose:    Enabled or Disabled MCTR Reporting
Input: On || Off
Output:</pre>
<a name='SetTG'></a><h2>SetTG</h2>

<pre> SetTG();

</pre>
<pre>Subroutine: SetTG
Purpose:    To set TCM configuration. Disconnects, updates and reconnects TG.
            May Restart BTS if AbisMode or TLS settings is changed
Input:      %TG
Output:     None</pre>
<a name='SetupPDCHandSDCCHTraffic'></a><h2>SetupPDCHandSDCCHTraffic</h2>

<pre> SetupPDCHandSDCCHTraffic();

</pre>
<pre>Subroutine: SetupPDCHandSDCCHTraffic
Purpose:
Input:
Output:</pre>
<a name='SetupTCHTraffic'></a><h2>SetupTCHTraffic</h2>

<pre> SetupTCHTraffic();

</pre>
<pre>Subroutine: SetupTCHTraffic
Purpose:
Input:
Output:</pre>
<a name='SplitString'></a><h2>SplitString</h2>

<pre> SplitString();

</pre>
<pre>--FUNCTION : SplitString
COMMENT  : Returns a list with splitted string (Delimiter: Whitespace)
IN           : $String - as variable name says
Out           : @String - list with splitted string
--</pre>
<a name='StartGslLink'></a><h2>StartGslLink</h2>

<pre> StartGslLink();

</pre>
<pre>Subroutine: StartGslLink
Purpose:    Start Gsl Link
Input:
Output:</pre>
<a name='StartMO'></a><h2>StartMO</h2>

<pre> StartMO();

</pre>
<pre>--FUNCTION : StartMO
COMMENT  : Sends StartRequest to MO defined by MOClass,
           AssosiatedSOInstance, InstanceNo and checks StartResult.
IN           : Optionally one or more of the following
           keys: TRXC, MO, INST, ASOInst
OUT           :
--</pre>
<a name='StopGslLink'></a><h2>StopGslLink</h2>

<pre> StopGslLink();

</pre>
<pre>Subroutine: StopGslLink
Purpose:    Stop Gsl Link
Input:
Output:</pre>
<a name='UpdateAllTGs'></a><h2>UpdateAllTGs</h2>

<pre> UpdateAllTGs();

</pre>
<pre>Subroutine: UpdateAllTGs
Purpose:
Input:
Output:</pre>
<a name='rev_by_date'></a><h2>rev_by_date</h2>

<pre> rev_by_date();

</pre>
<pre>--FUNCTION : rev_by_date
COMMENT  : Sort list of files by created date (the last first)
IN           :
OUT          :
--</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_smsp2p</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number : 80/190 55-CAH 161 1607/1 Uen
MODULE          : subs_smsp2p.pm
DESCRIPTION     : This package contains the subfunctions and variables used
                  with the main test case</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE        NAME            REVIEW      COMMENT
PA1   20091120    Syntronic AB,   UABJAES     Document created
                  Bj&ouml;rn Eriksson</pre>
<pre>A     20100308    Syntronic AB/   UABJANES    Document created.
                  Bj&ouml;rn Ericsson              Approved UABTOH.
B     20101027    Syntronic AB    XWIKMAR     Updated log functionality =&gt; Removed functions and use
                  David Melin                 of (local) HandleLogg, HandleError, Dbreport, DbCheckTable,
                                              PrintDebug, InitResult, GetResult
                                              Approved UABTOH.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?AbiscoFunc2'>AbiscoFunc2</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?subinit_smsp2p'>subinit_smsp2p</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>SUBROUTINE  : ChActBTS
DESCRIPTION : To activate a channel in the BTS, uses par hash variables</pre>
<pre>IN  : BTS                =&gt; $BTS,
      ChRate             =&gt; $ChRate,
      TRXC               =&gt; $TRXC,
      TS                 =&gt; $TS,
      ChType             =&gt; $ChType,
      ActType            =&gt; $ActType,
      TypeOfCh           =&gt; $TypeOfCh,
      AlgOrRate          =&gt; $AlgOrRate,
      ChAct              =&gt; $ChAct,
      Optional           =&gt; undef,
OUT : None</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>IN  :     AMRCodec    =&gt; $AMRCodec,
          ChRate      =&gt; undef,
          TG          =&gt; $TG,
          TRXC        =&gt; $TRXC,
          TS          =&gt; $TS,
          ChType      =&gt; undef,
          TypeOfCh    =&gt; undef,
          AlgOrRate   =&gt; undef,
          Bypass      =&gt; 0,
          Cell        =&gt; $Cell,
          Ref         =&gt; 0,
          AllSacchSI  =&gt; 0,
          MsId        =&gt; $MsId,
          Timeout     =&gt; $Timeout,
          PDCHMode    =&gt; '',
          TSC         =&gt; -1,
          RxAcchOn    =&gt; 1,
          RToutOff    =&gt; 0,
          RxTrfcOn    =&gt; 0,
          UndecFrm    =&gt; 0,
          TrxNum      =&gt; 0,
          Data        =&gt; \@gMeas,
          L2hdr       =&gt; 2,
OUT :     $CcId</pre>
<a name='ChRelBTS'></a><h2>ChRelBTS</h2>

<pre> ChRelBTS();

</pre>
<pre>SUBROUTINE  : ChRelBTS
DESCRIPTION : To release radio traffic channels or control channels in the BTS</pre>
<pre>IN  : BTS           =&gt; $BTS,
      TG            =&gt; $TG,
      TRXC          =&gt; $TRXC,
      TS            =&gt; $TS,
      ChType        =&gt; undef,
      SupressError  =&gt; 0,
OUT : None</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>IN  : CcId         - CcId of channel to close</pre>
<pre>OUT : None</pre>
<a name='CheckCellSettings'></a><h2>CheckCellSettings</h2>

<pre> CheckCellSettings();

</pre>
<pre>SUBROUTINE  : CheckCellSettings
DESCRIPTION : If the 'Expected' input hash doesnt match the current cell settings
              from InfoCell then update cell with 'Expected's keys and restart BTS.
              The 'Expected' input hash is merged with a default settings hash if
              'UseDefaults' is set to 1. The default settings hash has
              the settings a cell has when New TG is used in Abisco.
              NOTE: the cell must be configured once before this function is used
              since it doesnt update HW specific settings in UpdateCell (such as
              ARFCN number).</pre>
<pre>IN  : BTS         =&gt; $BTS,
      TG          =&gt; $TG,
      Cell        =&gt; 0,
      UseDefaults =&gt; 0
      Expected =&gt; {
         BCCHType        =&gt; $BCCHType,
         SDCCHList       =&gt; [$TRXC, $TS],
         BS_AG_BLKS_RES  =&gt; $BSAG,
         CBCHIndicator   =&gt; $CBCH_Ind,
            ..(above are just examples, all parameters in iwd updatecell valid)},
OUT : None</pre>
<a name='CompareArrays'></a><h2>CompareArrays</h2>

<pre> CompareArrays();

</pre>
<pre>IN  : $lArray1    ONE dimensional array
      $lArray2    ONE dimensional array
      Debug       Enables debug trace 1 = On, 0 = Off</pre>
<pre>OUT : 0 - tables DOES NOT match
      1 - tables match
==</pre>
<a name='CompareHash'></a><h2>CompareHash</h2>

<pre> CompareHash();

</pre>
<pre>SUBROUTINE  : CompareHash
DESCRIPTION : Compares two hashes by using recursion</pre>
<pre>IN  : Expected    Expected hash table
      Received    Hash table to compare Expected to
      Debug       Set to 1 to get debug printouts</pre>
<pre>OUT : 0 - tables DOESNT match
      1 - tables match</pre>
<a name='EstReqBTS'></a><h2>EstReqBTS</h2>

<pre> EstReqBTS();

</pre>
<pre>SUBROUTINE  : EstReqBTS
DESCRIPTION : To send Establish Request from BTS and receive
            the expected response from BTS on a SAPI channel</pre>
<pre>IN  : BTS       =&gt; $BTS,
      Expected  =&gt; 'EstablishConfirm',
      TG        =&gt; $TG,
      TRXC      =&gt; $TRXC,
      SAPI      =&gt; 0,
      TS        =&gt; $TS,
      ChType    =&gt; undef,
      NABit     =&gt; 0,
      Chan      =&gt; $Chan,
OUT : None</pre>
<a name='EstablishReqMSSIM'></a><h2>EstablishReqMSSIM</h2>

<pre> EstablishReqMSSIM();

</pre>
<pre>SUBROUTINE  : EstablishReqMSSIM
DESCRIPTION : To send Establish Request to MSSIM and receive EstablishIndication from Abisco</pre>
<pre>IN  : BTS     =&gt; $BTS,
      SAPI    =&gt; 0,
      Chan    =&gt; $Chan,
      L3Data  =&gt; undef,
      Timeout =&gt; $Timeout,
      Mode    =&gt; 'EST_NORM',
      MsId    =&gt; $MsId,
      EaId    =&gt; 0,
OUT : None</pre>
<a name='ReceiveAbiscoMsg'></a><h2>ReceiveAbiscoMsg</h2>

<pre> ReceiveAbiscoMsg();

</pre>
<pre>SUBROUTINE  : ReceiveAbiscoMsg
DESCRIPTION : Receive msgs on Abisco until one is found that matches the
              in Expected hash or timeout occurs</pre>
<pre>IN  : BTS           - Abisco connection parameter
      Timeout       - 0.., time to look for msg in seconds
      SupressError  - 1/0, supress croak On/Off
      ErrorMsg      - if this string is defined it will be printed if an
                      error occurs
      Expected      - Hash containing keys to look for in received msg</pre>
<pre>OUT : 0 - Message matching Expected's keys NOT found
      1 - Message matching Expected's keys found</pre>
<a name='ReceiveMSSimMsg'></a><h2>ReceiveMSSimMsg</h2>

<pre> ReceiveMSSimMsg();

</pre>
<pre>SUBROUTINE  : ReceiveMSSimMsg
DESCRIPTION : Receive msgs on the MSSim until one is found that matches the
              in Expected hash or timeout occurs</pre>
<pre>IN  : Timeout       - 0.., time to look for msg in seconds
      SupressError  - 1/0, supress croak On/Off
      ErrorMsg      - if this string is defined it will be printed if an
                      error occurs
      Expected      - Hash containing keys to look for in received msg</pre>
<pre>OUT : 0 - Message matching Expected's keys NOT found
      1 - Message matching Expected's keys found</pre>
<a name='RelReqBTS'></a><h2>RelReqBTS</h2>

<pre> RelReqBTS();

</pre>
<pre>SUBROUTINE  : RelReqBTS
DESCRIPTION : To send a ReleaseRequest from Abisco (SAPI3)
              and receive a ReleaseConfirm from BTS</pre>
<pre>IN  : BTS     =&gt; $BTS,
      SAPI    =&gt; 0,
      Mode    =&gt; 'Normal',
      LinkId  =&gt; 'FACCH/SDCCH',
      TG      =&gt; $TG,
      TRXC    =&gt; $TRXC,
      TS      =&gt; $TS,
      ChType  =&gt; undef,
      NABit   =&gt; 0 ,
      SupressError - 1/0 continue even if error is received On/Off
      Timeout =&gt; $Timeout
OUT : None</pre>
<a name='RelReqMSSim'></a><h2>RelReqMSSim</h2>

<pre> RelReqMSSim();

</pre>
<pre>SUBROUTINE  : RelReqMSSIM
DESCRIPTION : To send Release Request to MSSIM and receive Release Comfirmation
              from Abisco. This is used to release a SAPI link.</pre>
<pre>IN  : BTS     =&gt; $BTS,
      SAPI    =&gt; 0,
      Chan    =&gt; $Chan,
      SupressError - 1/0 continue even if error is received On/Off
      L3Data  =&gt; undef,
      Timeout =&gt; 3,
      Mode    =&gt; 'EST_NORM', # Contention Resolution / Default Mode = Normal
      MsId    =&gt; $MsId,
      EaId    =&gt; 0,
OUT : None</pre>
<a name='RestartBTS'></a><h2>RestartBTS</h2>

<pre> RestartBTS();

</pre>
<pre>SUBROUTINE  : RestartBTS
DESCRIPTION : Restarting the BTS, make sure that the parameters set during restart
            complies with your specific TC</pre>
<pre>IN  : BTS           =&gt; $BTS,
      TGId          =&gt; $TG,
      TRXList       =&gt; $TRXList,
      SiList        =&gt; [ 'SI1', 'SI2', 'SI3', 'SI4', 'SI5', 'SI6', 'MI' ],
      Responses     =&gt; 'Int',
      StartingMode  =&gt; 'TDM',
Output:</pre>
<a name='SendMultiPurposeReqBTS'></a><h2>SendMultiPurposeReqBTS</h2>

<pre> SendMultiPurposeReqBTS();

</pre>
<pre>SUBROUTINE  : SendMultiPurposeReqBTS
DESCRIPTION : To send a downlink message.</pre>
<pre>IN  :     BTS           =&gt; $BTS,
          SAPI          =&gt; 3,
          TG            =&gt; $TG,
          TRXC          =&gt; $TRXC,
          TS            =&gt; undef,
          ChType        =&gt; $ChType,
          NABit         =&gt; 0,
          Chan          =&gt; $Chan,
          L3DataRef     =&gt; undef,
OUT : None</pre>
<a name='SendSMSBTS'></a><h2>SendSMSBTS</h2>

<pre> SendSMSBTS();

</pre>
<pre>SUBROUTINE  : SendSMSBTS
DESCRIPTION : Send SMS over SAPI 3 from Network side and check that SMS is received
              on the MS side</pre>
<pre>IN  : BTS         - BTS reference
      TG          - TG Number
      TRXC        - TRXC Number
      TS          - Timeslot Number
      ChType      - Channel Type
      NABit       - NABit 0/1
      SMS_CPDATA  - Reference to array containing SMS CP-DATA
      Chan        - Used to determine Link Id, SDCCH FACCH or SACCH
      Timeout     - Timeout,
      SAPI        - 3,
      MsId        - MsId,
      ChanSapi3   - ChanSapi3,
OUT : None</pre>
<a name='SendSMSMSSim'></a><h2>SendSMSMSSim</h2>

<pre> SendSMSMSSim();

</pre>
<pre>SUBROUTINE  : SendSMSMSSim
DESCRIPTION : Send SMS over SAPI 3 from MSSIM and check that SMS is received
            on abisco</pre>
<pre>IN  : BTS         =&gt; $BTS,
      Chan        =&gt; $Chan
      SMS_CPDATA  =&gt; \@CP_DATA_SAPI3,
      Timeout     =&gt; $Timeout,
      MsId        =&gt; $MsId,
      Sapi        =&gt; 3,
      ChType      =&gt; ChType,
      TS          =&gt; TS,
      ChanSapi3   =&gt; ChanSapi3,
OUT : None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_Speech</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>
      Copyright (C) 2006 by 
      ERICSSON AB 
      S-164 80 STOCKHOLM 
      Phone +46 8 719 0000     
      Company Registration number: 556056-6258 
      The program may be used and/or copied only with the written 
      permission from Ericsson AB, or in accordance with 
      the terms and conditions stipulated in the agreement/contract 
      under which the program has been supplied. 
      All rights reserved

			Module: 
		  subs_speech.pm

      Author: 
       Stefan Mohlin

      Description: 
		Sub-routines for speech.abi.
       
      File Revision: 
	P1A 090827 ERATZIS Created based on speech.pl
	P1B 100611 ESTEMOH Special TimeToRun for GUI
	P1C 100909 ESTEMOH Updated for VAMOS
	P1C 100929 ESTEMOH Updated for VAMOS again




</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Tk::Table'>Tk::Table</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Tk::HList'>Tk::HList</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Tk::LabFrame'>Tk::LabFrame</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Tk'>Tk</a></i></pre>
<pre><i>speechfunc(SendSpeech)</i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Exporter'>Exporter</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ButtonNext'></a><h2>ButtonNext</h2>

<pre> ButtonNext();

</pre>
<pre>Subroutine: ButtonNext
Purpose:    To dispaly "nexT" statistics
Input:	  	"Previous" button
            "Next" button
Output:     None</pre>
<a name='ButtonPrev'></a><h2>ButtonPrev</h2>

<pre> ButtonPrev();

</pre>
<pre>Subroutine: ButtonPrev
Purpose:    To dispaly "Previous" statistics
Input:	  	"Previous" button
            "Next" button
Output:     None</pre>
<a name='ChangePatternFile'></a><h2>ChangePatternFile</h2>

<pre> ChangePatternFile();

</pre>
<pre>Subroutine: ChangePatternFile
Purpose:    To change path and filename for pattern file
            Update codec settings for AMR
Input:	  	Index to actual speech type
Output:     None</pre>
<a name='ChangeStateAMRFR_NB'></a><h2>ChangeStateAMRFR_NB</h2>

<pre> ChangeStateAMRFR_NB();

</pre>
<pre>Subroutine: ChangeStateAMRFR_NB
Purpose:    To change state (normal/disable)for codec check buttons AMR FR NB
Input:	  	Widget
Output:     None</pre>
<a name='ChangeStateAMRFR_WB'></a><h2>ChangeStateAMRFR_WB</h2>

<pre> ChangeStateAMRFR_WB();

</pre>
<pre>Subroutine: ChangeStateAMRFR_WB
Purpose:    To change state for codec check buttons AMR FR WB
Input:	  	Widget
Output:     None</pre>
<a name='ChangeStateAMRHR'></a><h2>ChangeStateAMRHR</h2>

<pre> ChangeStateAMRHR();

</pre>
<pre>Subroutine: ChangeStateAMRHR
Purpose:    To change state for codec check buttons AMR HR
            To change state for for the sub channel entry
Input:	  	Sub Channel widget
            AMR HR Codec widget
Output:     None</pre>
<a name='ChangeStateHR'></a><h2>ChangeStateHR</h2>

<pre> ChangeStateHR();

</pre>
<pre>Subroutine: ChangeStateHR
Purpose:    To change state for for the sub channel entry when halfrate is selected.
Input:	  	Widget
Output:     None</pre>
<a name='ChangeStateVAMOS'></a><h2>ChangeStateVAMOS</h2>

<pre> ChangeStateVAMOS();

</pre>
<pre>Subroutine: ChangeStatVAMOS
Purpose:    To change state (normal/disable) of the VAMOS parameter fields
Input:	  	Widget
Output:     None</pre>
<a name='ClearStatistics'></a><h2>ClearStatistics</h2>

<pre> ClearStatistics();

</pre>
<pre>Subroutine: ClearStatistics
Purpose:    To clear statistics. This routine is called when the "Clear statistics"
            butten is slected.
Input:	  	Previous button
            Next button
Output:     None</pre>
<a name='CreateGUI'></a><h2>CreateGUI</h2>

<pre> CreateGUI();

</pre>
<pre>Subroutine: CreateGUI
Purpose:    To create the GUI for Speech</pre>
<pre>Input:	  	None
Output:     None</pre>
<a name='CreateParamHash'></a><h2>CreateParamHash</h2>

<pre> CreateParamHash();

</pre>
<pre>Subroutine: CreateParamHash
Purpose:    To create parameter hash to be sent to subroutine SendSpeech
            in module speechfunc.pm.
            See speechfunc.pm for parameter layout
Input:	  	Speech Type
Output:     Parameter hash</pre>
<a name='DisplayStatistics'></a><h2>DisplayStatistics</h2>

<pre> DisplayStatistics();

</pre>
<pre>Subroutine: DisplayStatistics
Purpose:    To dispaly statistics on the GUI
Input:	  	Result number
Output:     None</pre>
<a name='GetAMRParam'></a><h2>GetAMRParam</h2>

<pre> GetAMRParam();

</pre>
<pre>Subroutine: GetAMRParam
Purpose:    To prepare AMR parameters for BTS Channel Activation
Input:	  	Action number
	  	  		Param Hash
Output 	  	Param hash updated with AMR parameters</pre>
<a name='GetCodec'></a><h2>GetCodec</h2>

<pre> GetCodec();

</pre>
<pre>Subroutine: GetCodec
Purpose:    Get get select codecs for AMRFR, AMRWB OR AMRHR
Input:	  	Speech Type
Output:     Global hash %SpeechHash updated with updated with codec bitmap</pre>
<a name='GetStatistics'></a><h2>GetStatistics</h2>

<pre> GetStatistics();

</pre>
<pre>Subroutine: GetStatistics
Purpose:    To get statitics from the received results and save it
            in an internal result hash
Input:	  	Result Text
            Result hash (received from speechfunc.pm)
Output:     Global %ResultHash updated</pre>
<a name='PopUp'></a><h2>PopUp</h2>

<pre> PopUp();

</pre>
<pre>Subroutine: PopUp
Purpose:    To present a pop-up window with OK and Cancel buttons
Input:	  	Text to display
            Button (OK or OKCancel)
Output:     Pressed button (OK or Cancel)</pre>
<a name='ReadPatternConfigFile'></a><h2>ReadPatternConfigFile</h2>

<pre> ReadPatternConfigFile();

</pre>
<pre>Subroutine: ReadPatternConfigFile
Purpose:    To read the configuration file for pattern files
Input:	  	None
Output:     None</pre>
<a name='ReadPatternFile'></a><h2>ReadPatternFile</h2>

<pre> ReadPatternFile();

</pre>
<pre>Subroutine: ReadPatternFile
Purpose:    To update the codec settings based on the pattern file
Input:	  	Index to actual speech type
            AMR Type
            Reference to Codec array
Output:     None</pre>
<a name='SaveStatistics'></a><h2>SaveStatistics</h2>

<pre> SaveStatistics();

</pre>
<pre>Subroutine: SaveStatistics
Purpose:    To save statistics. This routine is called when the "Save statistics"
            butten is slected.
            Loop through %ResultHash and call SaveStatisticsToFile to save on file
Input:	  	None
Output:     None</pre>
<a name='SaveStatisticsLog'></a><h2>SaveStatisticsLog</h2>

<pre> SaveStatisticsLog();

</pre>
<pre>Subroutine: SaveStatistics
Purpose:    To save statistics. This routine is called when no GUI is used</pre>
<pre>            Loop through %ResultHash and call "SaveStatisticsToFileNoGUI"
Input:	  	None
Output:     None


</pre>
<a name='SaveStatisticsToFile'></a><h2>SaveStatisticsToFile</h2>

<pre> SaveStatisticsToFile();

</pre>
<pre>Subroutine: SaveStatisticsToFile
Purpose:    To save statistics to file
Input:	  	Result number
Output:     None</pre>
<a name='StartTest'></a><h2>StartTest</h2>

<pre> StartTest();

</pre>
<pre>Subroutine: StartTest
Purpose:    This routine is called when the "Start Test"  button is 	selected.
            It creates a parameter hash and calls subroutine SendSpeech
            in speechfunc.pm to generate the speech frames. Finally it
            presents the result
Input:	  	"Previous" button
		  			"Next" button
Output:     None</pre>
<a name='StartTestNoGUI'></a><h2>StartTestNoGUI</h2>

<pre> StartTestNoGUI();

</pre>
<pre>Subroutine: StartTest
Purpose:    This routine is called when no GUI is used.
            It creates a parameter hash and calls subroutine SendSpeech
            in speechfunc.pm to generate the speech frames. Finally it
            presents the result
Input:	  None</pre>
<pre>Output:     None</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_startrestart</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 205/190 55-CAH 161 1607/1
MODULE:          subs_startrestart
DESCRIPTION:     Contains subroutins for Scenario StartRestart.</pre>
<pre>COPYRIGHT &copy; : ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV DATE      NAME      REVIEW    COMMENT
PA1 20060508  ERABAHG   XTOBSEM   Work started
PA2 20110307  XTOBSEM   XMABENT   Added sub: ConnectResetStartConfig, SetNumberOfTRX
PA3 20120912  ETORWIL   EDAMELI   General Cleanup and quality improvement
                                   Removed SetNumberOfTRX
PA4 20120924  XHENRMA   XNAVNAS   Added sub: TRXCConnectResetStartConfig and
                                    modified ConnectResetStartConfig</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?SubInit_startrestart'>SubInit_startrestart</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ConnectResetStartConfig'></a><h2>ConnectResetStartConfig</h2>

<pre> ConnectResetStartConfig();

</pre>
<pre>Subroutine: ConnectResetStartConfig</pre>
<pre>Input:      MO, InstanceNumber, TRXC</pre>
<pre>Added:      20110201  Syntronic AB,
                      Tobias Semberg</pre>
<a name='TRXCConnectResetStartConfig'></a><h2>TRXCConnectResetStartConfig</h2>

<pre> TRXCConnectResetStartConfig();

</pre>
<pre>Subroutine: TRXCConnectResetStartConfig</pre>
<pre>Input:      MO, InstanceNumber, TRXC</pre>
<pre>Added:      20120921  Syntronic AB,
                      Henrik M&aring;rtensson</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>Subs_TimeReq</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number : 231/190 55-CAH 161 1607/1
MODULE          : Subs_TimeReq
DESCRIPTION     : Contains subroutines that will be used in calendarTimeRequest tests</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE      NAME            REVIEW      COMMENT
PA1   20120820  XYNSTAN         XDANHEN     File created
PA2   20121116  XANSBEM         XMAREDV     Added subroutine ButtonLocal, minor changes</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Storable'>Storable</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?SubInit_TimeReq'>SubInit_TimeReq</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i> Produce verbose warning diagnostics</pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='AbisLoggingBTS'></a><h2>AbisLoggingBTS</h2>

<pre> AbisLoggingBTS();

</pre>
<pre>Subroutine: AbisLoggingBTS
Purpose:    Turn Abis logging off or on
Input:      State =&gt; 'OFF',
            TG    =&gt;  $TG,
            BTS    =&gt;  $BTS,
Output:</pre>
<a name='ButtonLocal'></a><h2>ButtonLocal</h2>

<pre> ButtonLocal();

</pre>
<pre>SUBROUTINE  : ButtonLocal
DESCRIPTION : Syntax: Send ButtonLocal Command via DVT</pre>
<pre>IN  : Unit
OUT :</pre>
<a name='GetCalendarTimeRequest'></a><h2>GetCalendarTimeRequest</h2>

<pre> GetCalendarTimeRequest();

</pre>
<pre>SUBROUTINE  : GetCalendarTimeRequest
DESCRIPTION : Finds GetCalendarTimeRequest on Abis and returns the timestamp
               recieved message.</pre>
<pre>IN  : BTSConn
      Timeout
OUT : $MsgTimeStamp</pre>
<a name='GetCalendarTimeResponseTime'></a><h2>GetCalendarTimeResponseTime</h2>

<pre> GetCalendarTimeResponseTime();

</pre>
<pre>SUBROUTINE  : GetCalendarTimeResponseTime
DESCRIPTION : Finds CalendarTimeResponse and returns the time difference
               from where the CF link has been established</pre>
<pre>IN  : BTSConn
      Timeout
OUT : $TimeDifference</pre>
<a name='NAME'></a><h1>NAME</h1>

<pre>subs_vgcs</pre>
<a name='DESCRIPTION'></a><h1>DESCRIPTION</h1>

<pre>Document number: 29/190 55-CAH 161 1607/1 Uen
MODULE      :    subs_vgcs.pm
DESCRIPTION :    This program specifies subroutines for VGCS tests
                 in accordance with 335/102 64-HRB 105 15</pre>
<pre>COPYRIGHT &copy;: ERICSSON AB, S-164 80 STOCKHOLM
Company Registration number: 556056-6258
The program may be used and/or copied only with the written
permission from Ericsson AB, or in accordance with
the terms and conditions stipulated in the agreement/contract
under which the program has been supplied.
All rights reserved.</pre>
<pre>REV   DATE       NAME             REVIEW      COMMENT
PA1   20091029   Syntronic AB/    ERAKOSI
                 Erik Jonsson
PA2   20110103   Syntronic AB/    XDAVMEL     Added sub Restart &amp; UpdateCell
                 Tobias Semberg
PA3   20110425   XAMMELY          EERICSV     Perlcritic, removed unused functions,
                                              Dynamic TG, BTS Utilities.</pre>
<a name='REQUIRES'></a><h1>REQUIRES</h1>

<pre><i><a href='http://search.cpan.org/perldoc?Carp'>Carp</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Hash::Util'>Hash::Util</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?English'>English</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?lib'>lib</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?DBI'>DBI</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_def'>mssim_def</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?dbLog'>dbLog</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?PerlFunc'>PerlFunc</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim_sub'>mssim_sub</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?mssim'>mssim</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?Abisco_Connection'>Abisco_Connection</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?subInit_vgcs'>subInit_vgcs</a></i></pre>
<pre><i><a href='http://search.cpan.org/perldoc?diagnostics'>diagnostics</a></i></pre>
<a name='METHODS'></a><h1>METHODS</h1>

<a name='ChActBTS'></a><h2>ChActBTS</h2>

<pre> ChActBTS();

</pre>
<pre>SUBROUTINE  : ChActBTS
DESCRIPTION : To activate a VGCS channel in the BTS</pre>
<pre>IN  : TRXC
      VGCSREL
      AlgOrRate
      ChAct
      ChRate
      ChType
      TypeOfCh
      TS
      T3115
      Ny2
OUT : None</pre>
<a name='ChActMSSIM'></a><h2>ChActMSSIM</h2>

<pre> ChActMSSIM();

</pre>
<pre>SUBROUTINE  : ChActMSSIM
DESCRIPTION : To activate a channel in the MSSIM</pre>
<pre>IN  : Bypass  (set to '1' to bypass MSSIM automatic LAPDm handling)
      AMRCodec
      AlgOrRate
      ChAct
      ChRate
      ChType
      TypeOfCh
      TS
OUT : $CcId</pre>
<a name='ChActNormalAssignBTSTalker'></a><h2>ChActNormalAssignBTSTalker</h2>

<pre> ChActNormalAssignBTSTalker();

</pre>
<pre>SUBROUTINE  : ChActNormalAssignBTSTalker
DESCRIPTION : To activate the talker channel in the BTS for a VGCS call with Normal Assignment</pre>
<pre>IN  : TRXC - TRXC on which talker channel is activated
      AlgOrRate
      ChRate
      ChType
      TypeOfCh
      TS
OUT : None</pre>
<a name='ChActTalkerMSSIM'></a><h2>ChActTalkerMSSIM</h2>

<pre> ChActTalkerMSSIM();

</pre>
<pre>SUBROUTINE  : ChActMSSIM
DESCRIPTION : To activate a talker channel in the MSSIM</pre>
<pre>IN  : TRXC
      Bypass  (set to '1' to bypass MSSIM automatic LAPDm handling)
      AlgOrRate
      ChRate
      ChType
      TypeOfCh
      TS
      AMRCodec
OUT : $CcId</pre>
<a name='ChRelBTS'></a><h2>ChRelBTS</h2>

<pre> ChRelBTS();

</pre>
<pre>SUBROUTINE  : ChRelBTS
DESCRIPTION : To release a channel in the BTS</pre>
<pre>IN  : ChType
      TS
OUT : None</pre>
<a name='ChRelBTSTalker'></a><h2>ChRelBTSTalker</h2>

<pre> ChRelBTSTalker();

</pre>
<pre>SUBROUTINE  : ChRelBTSTalker
DESCRIPTION : To release a talker channel in the BTS</pre>
<pre>IN  :  TRXC
       TS
       ChType
OUT :  None</pre>
<a name='ChRelMSSIM'></a><h2>ChRelMSSIM</h2>

<pre> ChRelMSSIM();

</pre>
<pre>SUBROUTINE  : ChRelMSSIM
DESCRIPTION : To release a channel in the MSSIM</pre>
<pre>IN  : None
OUT : None</pre>
<a name='CheckL3Data'></a><h2>CheckL3Data</h2>

<pre> CheckL3Data();

</pre>
<pre>SUBROUTINE  :  CheckL3Data
DESCRIPTION : To compare received L3Data to expected L3Data</pre>
<pre>IN  :  Expected L3Data
       Received L3Data
OUT :  Returns 1 if data differs, else 0</pre>
<a name='DoNotReceiveVGCSUplinkGrant'></a><h2>DoNotReceiveVGCSUplinkGrant</h2>

<pre> DoNotReceiveVGCSUplinkGrant();

</pre>
<pre>SUBROUTINE: DoNotReceiveVGCSUplinkGrant
DESCRIPTION : To be sure that no more lapdmDL_UNITDATA_IND with VGCS_UPLINK_GRANT messages are received in the MSSIM</pre>
<pre>IN  :  None
OUT :  Return 0 if no message have been received, otherwise 1</pre>
<a name='EstablishReqMSSIM'></a><h2>EstablishReqMSSIM</h2>

<pre> EstablishReqMSSIM();

</pre>
<pre>SUBROUTINE  : EstablishReqMSSIM
DESCRIPTION : To send Establish Request to MSSIM and receive EstablishIndication from Abisco</pre>
<pre>IN  :  $Sapi, $Chan, @L3Data
OUT :  None</pre>
<a name='ReceiveAbisco'></a><h2>ReceiveAbisco</h2>

<pre> ReceiveAbisco();

</pre>
<pre>SUBROUTINE  : ReceiveAbisco
DESCRIPTION : To receive a spontanious message from Abisco</pre>
<pre>IN  :  Timeout value
       Expected message
       Supress, "SupressError" if HandleError should not be called
       L3Data of expected message
OUT :  CauseValue</pre>
<a name='ReceiveAbiscoData'></a><h2>ReceiveAbiscoData</h2>

<pre> ReceiveAbiscoData();

</pre>
<pre>SUBROUTINE  : ReceiveAbiscoData
DESCRIPTION : To receive a spontanious message from Abisco</pre>
<pre>IN  :  Timeout value
       Expected message
       Supress, "SupressError" if HandleError should not be called
       L3Data of expected message
OUT :  Data</pre>
<a name='ReceiveMSSIM'></a><h2>ReceiveMSSIM</h2>

<pre> ReceiveMSSIM();

</pre>
<pre>SUBROUTINE  : ReceiveMSSIM
DESCRIPTION : To receive a spontanious message from MSSIM</pre>
<pre>IN  :  Timeout value
       Expected Message
       L3Data of expected message
OUT :  None</pre>
<a name='ReceiveVGCSUplinkGrant'></a><h2>ReceiveVGCSUplinkGrant</h2>

<pre> ReceiveVGCSUplinkGrant();

</pre>
<pre>SUBROUTINE: ReceiveVGCSUplinkGrant
DESCRIPTION : To receive a lapdmDL_UNITDATA_IND with VGCS_UPLINK_GRANT message in the MSSIM</pre>
<pre>IN  :  $AccessDelay   Access delay value received in Abisco to be compared to the TA value of the VGCS_UPLINK_GRANT message
OUT :  Return 1 if succeeded, otherwise 0</pre>
<a name='RelReqMSSIM'></a><h2>RelReqMSSIM</h2>

<pre> RelReqMSSIM();

</pre>
<pre>SUBROUTINE  : RelReqMSSIM
DESCRIPTION : To send Release Request to MSSIM and receive ReleaseIndication from Abisco</pre>
<pre>IN  :  $BTS  AbiscoConnection object
       $Sapi  SAPI 0 or 3
       $Chan  Channel
       $Mode Release mode
OUT :  None</pre>
<a name='Restart'></a><h2>Restart</h2>

<pre> Restart();

</pre>
<pre>SUBROUTINE  : Restart
DESCRIPTION : Restarting the BTS, make sure that the parameters set during restart
              complies with your specific TC</pre>
<pre>IN  :  BTS (Abisco connection parameter)
       TGId
       TRXList (array)
       TypeOfStart
OUT :</pre>
<a name='SendAssignmentCommandAbisco'></a><h2>SendAssignmentCommandAbisco</h2>

<pre> SendAssignmentCommandAbisco();

</pre>
<pre>SUBROUTINE  : SendAssignmentCommandAbisco
DESCRIPTION : To send DATA_REQUEST Assignment Command from Abisco</pre>
<pre>IN  :  ChType
       TS
OUT :  None</pre>
<a name='SendDataMSSIM'></a><h2>SendDataMSSIM</h2>

<pre> SendDataMSSIM();

</pre>
<pre>SUBROUTINE  : SendData MSSIM
DESCRIPTION : To send Data Indication to MSSIM and receive DataInd from Abisco.</pre>
<pre>IN  :   Sapi, Chan, Data
OUT :   None</pre>
<a name='SendReleaseReqTalker'></a><h2>SendReleaseReqTalker</h2>

<pre> SendReleaseReqTalker();

</pre>
<pre>SUBROUTINE  : SendReleaseReq
DESCRIPTION : To send a ReleaseRequest from Abisco regarding a Talker channel
              and receive a ReleaseConfirm from BTS</pre>
<pre>IN  :  TRXC
       TS
       ChType
OUT :  None</pre>
<a name='SendUnitDataReqUplinkBusy'></a><h2>SendUnitDataReqUplinkBusy</h2>

<pre> SendUnitDataReqUplinkBusy();

</pre>
<pre>SUBROUTINE  : SendUnitDataReqUplinkBusy
DESCRIPTION : To send UNIT_DATA_REQUEST with Uplink Busy message from Abisco</pre>
<pre>IN  :  ChType
       TS
OUT :  None</pre>
<a name='SendUnitDataReqUplinkFree'></a><h2>SendUnitDataReqUplinkFree</h2>

<pre> SendUnitDataReqUplinkFree();

</pre>
<pre>SUBROUTINE  : SendUnitDataReqAbisco
DESCRIPTION : To send UNIT_DATA_REQUEST with Uplink Free message from Abisco</pre>
<pre>IN  :  ChType
       TS
OUT :  None</pre>
<a name='SendUplinkAccess'></a><h2>SendUplinkAccess</h2>

<pre> SendUplinkAccess();

</pre>
<pre>SUBROUTINE  : SendUplinkAccess
DESCRIPTION : Send UPLINK_ACCESS message from MSSIM</pre>
<pre>IN  :  Establishment cause (one octet)
OUT :   None</pre>
<a name='UpdateCell'></a><h2>UpdateCell</h2>

<pre> UpdateCell();

</pre>
<pre>SUBROUTINE  : UpdateCell
DESCRIPTION : UpdateCell( TGId =&gt; $TG, CellNr =&gt; 0, BSAG =&gt; $BSAG, BSPA =&gt; $BSPA
              BCCHType =&gt; 'NCOMB');</pre>
<pre>IN  : BSAG
      BSPA
      BCCHType
      CCCHList
OUT :</pre>


<div></div></body></html>
